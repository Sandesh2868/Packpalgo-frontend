var Lse=Object.defineProperty;var Fse=(t,e,n)=>e in t?Lse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var NM=(t,e,n)=>Fse(t,typeof e!="symbol"?e+"":e,n);function Rse(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var BVe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Of(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nj={exports:{}},qn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M_=Symbol.for("react.element"),Use=Symbol.for("react.portal"),Dse=Symbol.for("react.fragment"),Ose=Symbol.for("react.strict_mode"),kse=Symbol.for("react.profiler"),Qse=Symbol.for("react.provider"),Hse=Symbol.for("react.context"),Vse=Symbol.for("react.forward_ref"),zse=Symbol.for("react.suspense"),jse=Symbol.for("react.memo"),Gse=Symbol.for("react.lazy"),VO=Symbol.iterator;function Wse(t){return t===null||typeof t!="object"?null:(t=VO&&t[VO]||t["@@iterator"],typeof t=="function"?t:null)}var Lj={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Fj=Object.assign,Rj={};function Gv(t,e,n){this.props=t,this.context=e,this.refs=Rj,this.updater=n||Lj}Gv.prototype.isReactComponent={};Gv.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Gv.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Uj(){}Uj.prototype=Gv.prototype;function vF(t,e,n){this.props=t,this.context=e,this.refs=Rj,this.updater=n||Lj}var yF=vF.prototype=new Uj;yF.constructor=vF;Fj(yF,Gv.prototype);yF.isPureReactComponent=!0;var zO=Array.isArray,Dj=Object.prototype.hasOwnProperty,wF={current:null},Oj={key:!0,ref:!0,__self:!0,__source:!0};function kj(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Dj.call(e,r)&&!Oj.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:M_,type:t,key:s,ref:a,props:i,_owner:wF.current}}function Kse(t,e){return{$$typeof:M_,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function _F(t){return typeof t=="object"&&t!==null&&t.$$typeof===M_}function qse(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var jO=/\/+/g;function LM(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qse(""+t.key):e.toString(36)}function YE(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case M_:case Use:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+LM(a,0):r,zO(i)?(n="",t!=null&&(n=t.replace(jO,"$&/")+"/"),YE(i,e,n,"",function(c){return c})):i!=null&&(_F(i)&&(i=Kse(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(jO,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",zO(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+LM(s,o);a+=YE(s,e,n,l,i)}else if(l=Wse(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+LM(s,o++),a+=YE(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Vx(t,e,n){if(t==null)return t;var r=[],i=0;return YE(t,r,"","",function(s){return e.call(n,s,i++)}),r}function $se(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var zo={current:null},JE={transition:null},Xse={ReactCurrentDispatcher:zo,ReactCurrentBatchConfig:JE,ReactCurrentOwner:wF};function Qj(){throw Error("act(...) is not supported in production builds of React.")}qn.Children={map:Vx,forEach:function(t,e,n){Vx(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Vx(t,function(){e++}),e},toArray:function(t){return Vx(t,function(e){return e})||[]},only:function(t){if(!_F(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};qn.Component=Gv;qn.Fragment=Dse;qn.Profiler=kse;qn.PureComponent=vF;qn.StrictMode=Ose;qn.Suspense=zse;qn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Xse;qn.act=Qj;qn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Fj({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=wF.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Dj.call(e,l)&&!Oj.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:M_,type:t.type,key:i,ref:s,props:r,_owner:a}};qn.createContext=function(t){return t={$$typeof:Hse,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Qse,_context:t},t.Consumer=t};qn.createElement=kj;qn.createFactory=function(t){var e=kj.bind(null,t);return e.type=t,e};qn.createRef=function(){return{current:null}};qn.forwardRef=function(t){return{$$typeof:Vse,render:t}};qn.isValidElement=_F;qn.lazy=function(t){return{$$typeof:Gse,_payload:{_status:-1,_result:t},_init:$se}};qn.memo=function(t,e){return{$$typeof:jse,type:t,compare:e===void 0?null:e}};qn.startTransition=function(t){var e=JE.transition;JE.transition={};try{t()}finally{JE.transition=e}};qn.unstable_act=Qj;qn.useCallback=function(t,e){return zo.current.useCallback(t,e)};qn.useContext=function(t){return zo.current.useContext(t)};qn.useDebugValue=function(){};qn.useDeferredValue=function(t){return zo.current.useDeferredValue(t)};qn.useEffect=function(t,e){return zo.current.useEffect(t,e)};qn.useId=function(){return zo.current.useId()};qn.useImperativeHandle=function(t,e,n){return zo.current.useImperativeHandle(t,e,n)};qn.useInsertionEffect=function(t,e){return zo.current.useInsertionEffect(t,e)};qn.useLayoutEffect=function(t,e){return zo.current.useLayoutEffect(t,e)};qn.useMemo=function(t,e){return zo.current.useMemo(t,e)};qn.useReducer=function(t,e,n){return zo.current.useReducer(t,e,n)};qn.useRef=function(t){return zo.current.useRef(t)};qn.useState=function(t){return zo.current.useState(t)};qn.useSyncExternalStore=function(t,e,n){return zo.current.useSyncExternalStore(t,e,n)};qn.useTransition=function(){return zo.current.useTransition()};qn.version="18.3.1";Nj.exports=qn;var Y=Nj.exports;const I=Of(Y),Yse=Rse({__proto__:null,default:I},[Y]);var _P={},Hj={exports:{}},Yl={},Vj={exports:{}},zj={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,le){var ee=J.length;J.push(le);e:for(;0<ee;){var re=ee-1>>>1,k=J[re];if(0<i(k,le))J[re]=le,J[ee]=k,ee=re;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var le=J[0],ee=J.pop();if(ee!==le){J[0]=ee;e:for(var re=0,k=J.length,$=k>>>1;re<$;){var j=2*(re+1)-1,G=J[j],q=j+1,W=J[q];if(0>i(G,ee))q<k&&0>i(W,G)?(J[re]=W,J[q]=ee,re=q):(J[re]=G,J[j]=ee,re=j);else if(q<k&&0>i(W,ee))J[re]=W,J[q]=ee,re=q;else break e}}return le}function i(J,le){var ee=J.sortIndex-le.sortIndex;return ee!==0?ee:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,A=null,f=3,h=!1,p=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(J){for(var le=n(c);le!==null;){if(le.callback===null)r(c);else if(le.startTime<=J)r(c),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(c)}}function B(J){if(y=!1,_(J),!p)if(n(l)!==null)p=!0,ue(R);else{var le=n(c);le!==null&&me(B,le.startTime-J)}}function R(J,le){p=!1,y&&(y=!1,m(M),M=-1),h=!0;var ee=f;try{for(_(le),A=n(l);A!==null&&(!(A.expirationTime>le)||J&&!P());){var re=A.callback;if(typeof re=="function"){A.callback=null,f=A.priorityLevel;var k=re(A.expirationTime<=le);le=t.unstable_now(),typeof k=="function"?A.callback=k:A===n(l)&&r(l),_(le)}else r(l);A=n(l)}if(A!==null)var $=!0;else{var j=n(c);j!==null&&me(B,j.startTime-le),$=!1}return $}finally{A=null,f=ee,h=!1}}var L=!1,S=null,M=-1,T=5,F=-1;function P(){return!(t.unstable_now()-F<T)}function D(){if(S!==null){var J=t.unstable_now();F=J;var le=!0;try{le=S(!0,J)}finally{le?H():(L=!1,S=null)}}else L=!1}var H;if(typeof w=="function")H=function(){w(D)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,fe=X.port2;X.port1.onmessage=D,H=function(){fe.postMessage(null)}}else H=function(){v(D,0)};function ue(J){S=J,L||(L=!0,H())}function me(J,le){M=v(function(){J(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,ue(R))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(J){switch(f){case 1:case 2:case 3:var le=3;break;default:le=f}var ee=f;f=le;try{return J()}finally{f=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ee=f;f=J;try{return le()}finally{f=ee}},t.unstable_scheduleCallback=function(J,le,ee){var re=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?re+ee:re):ee=re,J){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ee+k,J={id:u++,callback:le,priorityLevel:J,startTime:ee,expirationTime:k,sortIndex:-1},ee>re?(J.sortIndex=ee,e(c,J),n(l)===null&&J===n(c)&&(y?(m(M),M=-1):y=!0,me(B,ee-re))):(J.sortIndex=k,e(l,J),p||h||(p=!0,ue(R))),J},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(J){var le=f;return function(){var ee=f;f=le;try{return J.apply(this,arguments)}finally{f=ee}}}})(zj);Vj.exports=zj;var Jse=Vj.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zse=Y,Kl=Jse;function It(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var jj=new Set,mw={};function Vm(t,e){uv(t,e),uv(t+"Capture",e)}function uv(t,e){for(mw[t]=e,t=0;t<e.length;t++)jj.add(e[t])}var xf=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xP=Object.prototype.hasOwnProperty,eae=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,GO={},WO={};function tae(t){return xP.call(WO,t)?!0:xP.call(GO,t)?!1:eae.test(t)?WO[t]=!0:(GO[t]=!0,!1)}function nae(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rae(t,e,n,r){if(e===null||typeof e>"u"||nae(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function jo(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Qa={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Qa[t]=new jo(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Qa[e]=new jo(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Qa[t]=new jo(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Qa[t]=new jo(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Qa[t]=new jo(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Qa[t]=new jo(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Qa[t]=new jo(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Qa[t]=new jo(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Qa[t]=new jo(t,5,!1,t.toLowerCase(),null,!1,!1)});var xF=/[\-:]([a-z])/g;function bF(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(xF,bF);Qa[e]=new jo(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(xF,bF);Qa[e]=new jo(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(xF,bF);Qa[e]=new jo(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Qa[t]=new jo(t,1,!1,t.toLowerCase(),null,!1,!1)});Qa.xlinkHref=new jo("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Qa[t]=new jo(t,1,!1,t.toLowerCase(),null,!0,!0)});function EF(t,e,n,r){var i=Qa.hasOwnProperty(e)?Qa[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rae(e,n,i,r)&&(n=null),r||i===null?tae(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var kf=Zse.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zx=Symbol.for("react.element"),w0=Symbol.for("react.portal"),_0=Symbol.for("react.fragment"),SF=Symbol.for("react.strict_mode"),bP=Symbol.for("react.profiler"),Gj=Symbol.for("react.provider"),Wj=Symbol.for("react.context"),CF=Symbol.for("react.forward_ref"),EP=Symbol.for("react.suspense"),SP=Symbol.for("react.suspense_list"),BF=Symbol.for("react.memo"),Mh=Symbol.for("react.lazy"),Kj=Symbol.for("react.offscreen"),KO=Symbol.iterator;function Ry(t){return t===null||typeof t!="object"?null:(t=KO&&t[KO]||t["@@iterator"],typeof t=="function"?t:null)}var Fi=Object.assign,FM;function v1(t){if(FM===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);FM=e&&e[1]||""}return`
`+FM+t}var RM=!1;function UM(t,e){if(!t||RM)return"";RM=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{RM=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?v1(t):""}function iae(t){switch(t.tag){case 5:return v1(t.type);case 16:return v1("Lazy");case 13:return v1("Suspense");case 19:return v1("SuspenseList");case 0:case 2:case 15:return t=UM(t.type,!1),t;case 11:return t=UM(t.type.render,!1),t;case 1:return t=UM(t.type,!0),t;default:return""}}function CP(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _0:return"Fragment";case w0:return"Portal";case bP:return"Profiler";case SF:return"StrictMode";case EP:return"Suspense";case SP:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Wj:return(t.displayName||"Context")+".Consumer";case Gj:return(t._context.displayName||"Context")+".Provider";case CF:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case BF:return e=t.displayName||null,e!==null?e:CP(t.type)||"Memo";case Mh:e=t._payload,t=t._init;try{return CP(t(e))}catch{}}return null}function sae(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return CP(e);case 8:return e===SF?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function vd(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qj(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function aae(t){var e=qj(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function jx(t){t._valueTracker||(t._valueTracker=aae(t))}function $j(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qj(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function k2(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function BP(t,e){var n=e.checked;return Fi({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function qO(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=vd(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Xj(t,e){e=e.checked,e!=null&&EF(t,"checked",e,!1)}function TP(t,e){Xj(t,e);var n=vd(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?MP(t,e.type,n):e.hasOwnProperty("defaultValue")&&MP(t,e.type,vd(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $O(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function MP(t,e,n){(e!=="number"||k2(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var y1=Array.isArray;function W0(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+vd(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function IP(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(It(91));return Fi({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function XO(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(It(92));if(y1(n)){if(1<n.length)throw Error(It(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:vd(n)}}function Yj(t,e){var n=vd(e.value),r=vd(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function YO(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Jj(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function PP(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Jj(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Gx,Zj=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Gx=Gx||document.createElement("div"),Gx.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Gx.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function gw(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var D1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},oae=["Webkit","ms","Moz","O"];Object.keys(D1).forEach(function(t){oae.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),D1[e]=D1[t]})});function eG(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||D1.hasOwnProperty(t)&&D1[t]?(""+e).trim():e+"px"}function tG(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=eG(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var lae=Fi({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function NP(t,e){if(e){if(lae[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(It(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(It(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(It(61))}if(e.style!=null&&typeof e.style!="object")throw Error(It(62))}}function LP(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var FP=null;function TF(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var RP=null,K0=null,q0=null;function JO(t){if(t=N_(t)){if(typeof RP!="function")throw Error(It(280));var e=t.stateNode;e&&(e=jC(e),RP(t.stateNode,t.type,e))}}function nG(t){K0?q0?q0.push(t):q0=[t]:K0=t}function rG(){if(K0){var t=K0,e=q0;if(q0=K0=null,JO(t),e)for(t=0;t<e.length;t++)JO(e[t])}}function iG(t,e){return t(e)}function sG(){}var DM=!1;function aG(t,e,n){if(DM)return t(e,n);DM=!0;try{return iG(t,e,n)}finally{DM=!1,(K0!==null||q0!==null)&&(sG(),rG())}}function vw(t,e){var n=t.stateNode;if(n===null)return null;var r=jC(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(It(231,e,typeof n));return n}var UP=!1;if(xf)try{var Uy={};Object.defineProperty(Uy,"passive",{get:function(){UP=!0}}),window.addEventListener("test",Uy,Uy),window.removeEventListener("test",Uy,Uy)}catch{UP=!1}function cae(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var O1=!1,Q2=null,H2=!1,DP=null,uae={onError:function(t){O1=!0,Q2=t}};function Aae(t,e,n,r,i,s,a,o,l){O1=!1,Q2=null,cae.apply(uae,arguments)}function fae(t,e,n,r,i,s,a,o,l){if(Aae.apply(this,arguments),O1){if(O1){var c=Q2;O1=!1,Q2=null}else throw Error(It(198));H2||(H2=!0,DP=c)}}function zm(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function oG(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function ZO(t){if(zm(t)!==t)throw Error(It(188))}function hae(t){var e=t.alternate;if(!e){if(e=zm(t),e===null)throw Error(It(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return ZO(i),t;if(s===r)return ZO(i),e;s=s.sibling}throw Error(It(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(It(189))}}if(n.alternate!==r)throw Error(It(190))}if(n.tag!==3)throw Error(It(188));return n.stateNode.current===n?t:e}function lG(t){return t=hae(t),t!==null?cG(t):null}function cG(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cG(t);if(e!==null)return e;t=t.sibling}return null}var uG=Kl.unstable_scheduleCallback,ek=Kl.unstable_cancelCallback,dae=Kl.unstable_shouldYield,pae=Kl.unstable_requestPaint,ss=Kl.unstable_now,mae=Kl.unstable_getCurrentPriorityLevel,MF=Kl.unstable_ImmediatePriority,AG=Kl.unstable_UserBlockingPriority,V2=Kl.unstable_NormalPriority,gae=Kl.unstable_LowPriority,fG=Kl.unstable_IdlePriority,QC=null,tA=null;function vae(t){if(tA&&typeof tA.onCommitFiberRoot=="function")try{tA.onCommitFiberRoot(QC,t,void 0,(t.current.flags&128)===128)}catch{}}var vu=Math.clz32?Math.clz32:_ae,yae=Math.log,wae=Math.LN2;function _ae(t){return t>>>=0,t===0?32:31-(yae(t)/wae|0)|0}var Wx=64,Kx=4194304;function w1(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function z2(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=w1(o):(s&=a,s!==0&&(r=w1(s)))}else a=n&~i,a!==0?r=w1(a):s!==0&&(r=w1(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vu(e),i=1<<n,r|=t[n],e&=~i;return r}function xae(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bae(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-vu(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=xae(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function OP(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function hG(){var t=Wx;return Wx<<=1,!(Wx&4194240)&&(Wx=64),t}function OM(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function I_(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vu(e),t[e]=n}function Eae(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vu(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function IF(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vu(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Lr=0;function dG(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var pG,PF,mG,gG,vG,kP=!1,qx=[],$h=null,Xh=null,Yh=null,yw=new Map,ww=new Map,Fh=[],Sae="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function tk(t,e){switch(t){case"focusin":case"focusout":$h=null;break;case"dragenter":case"dragleave":Xh=null;break;case"mouseover":case"mouseout":Yh=null;break;case"pointerover":case"pointerout":yw.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ww.delete(e.pointerId)}}function Dy(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=N_(e),e!==null&&PF(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Cae(t,e,n,r,i){switch(e){case"focusin":return $h=Dy($h,t,e,n,r,i),!0;case"dragenter":return Xh=Dy(Xh,t,e,n,r,i),!0;case"mouseover":return Yh=Dy(Yh,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return yw.set(s,Dy(yw.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,ww.set(s,Dy(ww.get(s)||null,t,e,n,r,i)),!0}return!1}function yG(t){var e=jp(t.target);if(e!==null){var n=zm(e);if(n!==null){if(e=n.tag,e===13){if(e=oG(n),e!==null){t.blockedOn=e,vG(t.priority,function(){mG(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ZE(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=QP(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);FP=r,n.target.dispatchEvent(r),FP=null}else return e=N_(n),e!==null&&PF(e),t.blockedOn=n,!1;e.shift()}return!0}function nk(t,e,n){ZE(t)&&n.delete(e)}function Bae(){kP=!1,$h!==null&&ZE($h)&&($h=null),Xh!==null&&ZE(Xh)&&(Xh=null),Yh!==null&&ZE(Yh)&&(Yh=null),yw.forEach(nk),ww.forEach(nk)}function Oy(t,e){t.blockedOn===e&&(t.blockedOn=null,kP||(kP=!0,Kl.unstable_scheduleCallback(Kl.unstable_NormalPriority,Bae)))}function _w(t){function e(i){return Oy(i,t)}if(0<qx.length){Oy(qx[0],t);for(var n=1;n<qx.length;n++){var r=qx[n];r.blockedOn===t&&(r.blockedOn=null)}}for($h!==null&&Oy($h,t),Xh!==null&&Oy(Xh,t),Yh!==null&&Oy(Yh,t),yw.forEach(e),ww.forEach(e),n=0;n<Fh.length;n++)r=Fh[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Fh.length&&(n=Fh[0],n.blockedOn===null);)yG(n),n.blockedOn===null&&Fh.shift()}var $0=kf.ReactCurrentBatchConfig,j2=!0;function Tae(t,e,n,r){var i=Lr,s=$0.transition;$0.transition=null;try{Lr=1,NF(t,e,n,r)}finally{Lr=i,$0.transition=s}}function Mae(t,e,n,r){var i=Lr,s=$0.transition;$0.transition=null;try{Lr=4,NF(t,e,n,r)}finally{Lr=i,$0.transition=s}}function NF(t,e,n,r){if(j2){var i=QP(t,e,n,r);if(i===null)qM(t,e,r,G2,n),tk(t,r);else if(Cae(i,t,e,n,r))r.stopPropagation();else if(tk(t,r),e&4&&-1<Sae.indexOf(t)){for(;i!==null;){var s=N_(i);if(s!==null&&pG(s),s=QP(t,e,n,r),s===null&&qM(t,e,r,G2,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else qM(t,e,r,null,n)}}var G2=null;function QP(t,e,n,r){if(G2=null,t=TF(r),t=jp(t),t!==null)if(e=zm(t),e===null)t=null;else if(n=e.tag,n===13){if(t=oG(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return G2=t,null}function wG(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(mae()){case MF:return 1;case AG:return 4;case V2:case gae:return 16;case fG:return 536870912;default:return 16}default:return 16}}var Hh=null,LF=null,e2=null;function _G(){if(e2)return e2;var t,e=LF,n=e.length,r,i="value"in Hh?Hh.value:Hh.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return e2=i.slice(t,1<r?1-r:void 0)}function t2(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $x(){return!0}function rk(){return!1}function Jl(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$x:rk,this.isPropagationStopped=rk,this}return Fi(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=$x)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=$x)},persist:function(){},isPersistent:$x}),e}var Wv={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},FF=Jl(Wv),P_=Fi({},Wv,{view:0,detail:0}),Iae=Jl(P_),kM,QM,ky,HC=Fi({},P_,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:RF,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ky&&(ky&&t.type==="mousemove"?(kM=t.screenX-ky.screenX,QM=t.screenY-ky.screenY):QM=kM=0,ky=t),kM)},movementY:function(t){return"movementY"in t?t.movementY:QM}}),ik=Jl(HC),Pae=Fi({},HC,{dataTransfer:0}),Nae=Jl(Pae),Lae=Fi({},P_,{relatedTarget:0}),HM=Jl(Lae),Fae=Fi({},Wv,{animationName:0,elapsedTime:0,pseudoElement:0}),Rae=Jl(Fae),Uae=Fi({},Wv,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Dae=Jl(Uae),Oae=Fi({},Wv,{data:0}),sk=Jl(Oae),kae={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Qae={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hae={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Vae(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Hae[t])?!!e[t]:!1}function RF(){return Vae}var zae=Fi({},P_,{key:function(t){if(t.key){var e=kae[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=t2(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Qae[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:RF,charCode:function(t){return t.type==="keypress"?t2(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?t2(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jae=Jl(zae),Gae=Fi({},HC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ak=Jl(Gae),Wae=Fi({},P_,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:RF}),Kae=Jl(Wae),qae=Fi({},Wv,{propertyName:0,elapsedTime:0,pseudoElement:0}),$ae=Jl(qae),Xae=Fi({},HC,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Yae=Jl(Xae),Jae=[9,13,27,32],UF=xf&&"CompositionEvent"in window,k1=null;xf&&"documentMode"in document&&(k1=document.documentMode);var Zae=xf&&"TextEvent"in window&&!k1,xG=xf&&(!UF||k1&&8<k1&&11>=k1),ok=" ",lk=!1;function bG(t,e){switch(t){case"keyup":return Jae.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EG(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var x0=!1;function eoe(t,e){switch(t){case"compositionend":return EG(e);case"keypress":return e.which!==32?null:(lk=!0,ok);case"textInput":return t=e.data,t===ok&&lk?null:t;default:return null}}function toe(t,e){if(x0)return t==="compositionend"||!UF&&bG(t,e)?(t=_G(),e2=LF=Hh=null,x0=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return xG&&e.locale!=="ko"?null:e.data;default:return null}}var noe={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function ck(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!noe[t.type]:e==="textarea"}function SG(t,e,n,r){nG(r),e=W2(e,"onChange"),0<e.length&&(n=new FF("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Q1=null,xw=null;function roe(t){UG(t,0)}function VC(t){var e=S0(t);if($j(e))return t}function ioe(t,e){if(t==="change")return e}var CG=!1;if(xf){var VM;if(xf){var zM="oninput"in document;if(!zM){var uk=document.createElement("div");uk.setAttribute("oninput","return;"),zM=typeof uk.oninput=="function"}VM=zM}else VM=!1;CG=VM&&(!document.documentMode||9<document.documentMode)}function Ak(){Q1&&(Q1.detachEvent("onpropertychange",BG),xw=Q1=null)}function BG(t){if(t.propertyName==="value"&&VC(xw)){var e=[];SG(e,xw,t,TF(t)),aG(roe,e)}}function soe(t,e,n){t==="focusin"?(Ak(),Q1=e,xw=n,Q1.attachEvent("onpropertychange",BG)):t==="focusout"&&Ak()}function aoe(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return VC(xw)}function ooe(t,e){if(t==="click")return VC(e)}function loe(t,e){if(t==="input"||t==="change")return VC(e)}function coe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var xu=typeof Object.is=="function"?Object.is:coe;function bw(t,e){if(xu(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!xP.call(e,i)||!xu(t[i],e[i]))return!1}return!0}function fk(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hk(t,e){var n=fk(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fk(n)}}function TG(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?TG(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MG(){for(var t=window,e=k2();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=k2(t.document)}return e}function DF(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uoe(t){var e=MG(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&TG(n.ownerDocument.documentElement,n)){if(r!==null&&DF(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=hk(n,s);var a=hk(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Aoe=xf&&"documentMode"in document&&11>=document.documentMode,b0=null,HP=null,H1=null,VP=!1;function dk(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;VP||b0==null||b0!==k2(r)||(r=b0,"selectionStart"in r&&DF(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),H1&&bw(H1,r)||(H1=r,r=W2(HP,"onSelect"),0<r.length&&(e=new FF("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=b0)))}function Xx(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var E0={animationend:Xx("Animation","AnimationEnd"),animationiteration:Xx("Animation","AnimationIteration"),animationstart:Xx("Animation","AnimationStart"),transitionend:Xx("Transition","TransitionEnd")},jM={},IG={};xf&&(IG=document.createElement("div").style,"AnimationEvent"in window||(delete E0.animationend.animation,delete E0.animationiteration.animation,delete E0.animationstart.animation),"TransitionEvent"in window||delete E0.transitionend.transition);function zC(t){if(jM[t])return jM[t];if(!E0[t])return t;var e=E0[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in IG)return jM[t]=e[n];return t}var PG=zC("animationend"),NG=zC("animationiteration"),LG=zC("animationstart"),FG=zC("transitionend"),RG=new Map,pk="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ud(t,e){RG.set(t,e),Vm(e,[t])}for(var GM=0;GM<pk.length;GM++){var WM=pk[GM],foe=WM.toLowerCase(),hoe=WM[0].toUpperCase()+WM.slice(1);Ud(foe,"on"+hoe)}Ud(PG,"onAnimationEnd");Ud(NG,"onAnimationIteration");Ud(LG,"onAnimationStart");Ud("dblclick","onDoubleClick");Ud("focusin","onFocus");Ud("focusout","onBlur");Ud(FG,"onTransitionEnd");uv("onMouseEnter",["mouseout","mouseover"]);uv("onMouseLeave",["mouseout","mouseover"]);uv("onPointerEnter",["pointerout","pointerover"]);uv("onPointerLeave",["pointerout","pointerover"]);Vm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Vm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Vm("onBeforeInput",["compositionend","keypress","textInput","paste"]);Vm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Vm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Vm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var _1="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),doe=new Set("cancel close invalid load scroll toggle".split(" ").concat(_1));function mk(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,fae(r,e,void 0,t),t.currentTarget=null}function UG(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;mk(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;mk(i,o,c),s=l}}}if(H2)throw t=DP,H2=!1,DP=null,t}function fi(t,e){var n=e[KP];n===void 0&&(n=e[KP]=new Set);var r=t+"__bubble";n.has(r)||(DG(e,t,2,!1),n.add(r))}function KM(t,e,n){var r=0;e&&(r|=4),DG(n,t,r,e)}var Yx="_reactListening"+Math.random().toString(36).slice(2);function Ew(t){if(!t[Yx]){t[Yx]=!0,jj.forEach(function(n){n!=="selectionchange"&&(doe.has(n)||KM(n,!1,t),KM(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yx]||(e[Yx]=!0,KM("selectionchange",!1,e))}}function DG(t,e,n,r){switch(wG(e)){case 1:var i=Tae;break;case 4:i=Mae;break;default:i=NF}n=i.bind(null,e,n,t),i=void 0,!UP||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function qM(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=jp(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}aG(function(){var c=s,u=TF(n),A=[];e:{var f=RG.get(t);if(f!==void 0){var h=FF,p=t;switch(t){case"keypress":if(t2(n)===0)break e;case"keydown":case"keyup":h=jae;break;case"focusin":p="focus",h=HM;break;case"focusout":p="blur",h=HM;break;case"beforeblur":case"afterblur":h=HM;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=ik;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=Nae;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Kae;break;case PG:case NG:case LG:h=Rae;break;case FG:h=$ae;break;case"scroll":h=Iae;break;case"wheel":h=Yae;break;case"copy":case"cut":case"paste":h=Dae;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=ak}var y=(e&4)!==0,v=!y&&t==="scroll",m=y?f!==null?f+"Capture":null:f;y=[];for(var w=c,_;w!==null;){_=w;var B=_.stateNode;if(_.tag===5&&B!==null&&(_=B,m!==null&&(B=vw(w,m),B!=null&&y.push(Sw(w,B,_)))),v)break;w=w.return}0<y.length&&(f=new h(f,p,null,n,u),A.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==FP&&(p=n.relatedTarget||n.fromElement)&&(jp(p)||p[bf]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(p=n.relatedTarget||n.toElement,h=c,p=p?jp(p):null,p!==null&&(v=zm(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(h=null,p=c),h!==p)){if(y=ik,B="onMouseLeave",m="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(y=ak,B="onPointerLeave",m="onPointerEnter",w="pointer"),v=h==null?f:S0(h),_=p==null?f:S0(p),f=new y(B,w+"leave",h,n,u),f.target=v,f.relatedTarget=_,B=null,jp(u)===c&&(y=new y(m,w+"enter",p,n,u),y.target=_,y.relatedTarget=v,B=y),v=B,h&&p)t:{for(y=h,m=p,w=0,_=y;_;_=Tg(_))w++;for(_=0,B=m;B;B=Tg(B))_++;for(;0<w-_;)y=Tg(y),w--;for(;0<_-w;)m=Tg(m),_--;for(;w--;){if(y===m||m!==null&&y===m.alternate)break t;y=Tg(y),m=Tg(m)}y=null}else y=null;h!==null&&gk(A,f,h,y,!1),p!==null&&v!==null&&gk(A,v,p,y,!0)}}e:{if(f=c?S0(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var R=ioe;else if(ck(f))if(CG)R=loe;else{R=aoe;var L=soe}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(R=ooe);if(R&&(R=R(t,c))){SG(A,R,n,u);break e}L&&L(t,f,c),t==="focusout"&&(L=f._wrapperState)&&L.controlled&&f.type==="number"&&MP(f,"number",f.value)}switch(L=c?S0(c):window,t){case"focusin":(ck(L)||L.contentEditable==="true")&&(b0=L,HP=c,H1=null);break;case"focusout":H1=HP=b0=null;break;case"mousedown":VP=!0;break;case"contextmenu":case"mouseup":case"dragend":VP=!1,dk(A,n,u);break;case"selectionchange":if(Aoe)break;case"keydown":case"keyup":dk(A,n,u)}var S;if(UF)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else x0?bG(t,n)&&(M="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(M="onCompositionStart");M&&(xG&&n.locale!=="ko"&&(x0||M!=="onCompositionStart"?M==="onCompositionEnd"&&x0&&(S=_G()):(Hh=u,LF="value"in Hh?Hh.value:Hh.textContent,x0=!0)),L=W2(c,M),0<L.length&&(M=new sk(M,t,null,n,u),A.push({event:M,listeners:L}),S?M.data=S:(S=EG(n),S!==null&&(M.data=S)))),(S=Zae?eoe(t,n):toe(t,n))&&(c=W2(c,"onBeforeInput"),0<c.length&&(u=new sk("onBeforeInput","beforeinput",null,n,u),A.push({event:u,listeners:c}),u.data=S))}UG(A,e)})}function Sw(t,e,n){return{instance:t,listener:e,currentTarget:n}}function W2(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=vw(t,n),s!=null&&r.unshift(Sw(t,s,i)),s=vw(t,e),s!=null&&r.push(Sw(t,s,i))),t=t.return}return r}function Tg(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gk(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=vw(n,s),l!=null&&a.unshift(Sw(n,l,o))):i||(l=vw(n,s),l!=null&&a.push(Sw(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var poe=/\r\n?/g,moe=/\u0000|\uFFFD/g;function vk(t){return(typeof t=="string"?t:""+t).replace(poe,`
`).replace(moe,"")}function Jx(t,e,n){if(e=vk(e),vk(t)!==e&&n)throw Error(It(425))}function K2(){}var zP=null,jP=null;function GP(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var WP=typeof setTimeout=="function"?setTimeout:void 0,goe=typeof clearTimeout=="function"?clearTimeout:void 0,yk=typeof Promise=="function"?Promise:void 0,voe=typeof queueMicrotask=="function"?queueMicrotask:typeof yk<"u"?function(t){return yk.resolve(null).then(t).catch(yoe)}:WP;function yoe(t){setTimeout(function(){throw t})}function $M(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),_w(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);_w(e)}function Jh(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wk(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Kv=Math.random().toString(36).slice(2),Yu="__reactFiber$"+Kv,Cw="__reactProps$"+Kv,bf="__reactContainer$"+Kv,KP="__reactEvents$"+Kv,woe="__reactListeners$"+Kv,_oe="__reactHandles$"+Kv;function jp(t){var e=t[Yu];if(e)return e;for(var n=t.parentNode;n;){if(e=n[bf]||n[Yu]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=wk(t);t!==null;){if(n=t[Yu])return n;t=wk(t)}return e}t=n,n=t.parentNode}return null}function N_(t){return t=t[Yu]||t[bf],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function S0(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(It(33))}function jC(t){return t[Cw]||null}var qP=[],C0=-1;function Dd(t){return{current:t}}function mi(t){0>C0||(t.current=qP[C0],qP[C0]=null,C0--)}function ri(t,e){C0++,qP[C0]=t.current,t.current=e}var yd={},yo=Dd(yd),gl=Dd(!1),Em=yd;function Av(t,e){var n=t.type.contextTypes;if(!n)return yd;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function vl(t){return t=t.childContextTypes,t!=null}function q2(){mi(gl),mi(yo)}function _k(t,e,n){if(yo.current!==yd)throw Error(It(168));ri(yo,e),ri(gl,n)}function OG(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(It(108,sae(t)||"Unknown",i));return Fi({},n,r)}function $2(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yd,Em=yo.current,ri(yo,t),ri(gl,gl.current),!0}function xk(t,e,n){var r=t.stateNode;if(!r)throw Error(It(169));n?(t=OG(t,e,Em),r.__reactInternalMemoizedMergedChildContext=t,mi(gl),mi(yo),ri(yo,t)):mi(gl),ri(gl,n)}var ZA=null,GC=!1,XM=!1;function kG(t){ZA===null?ZA=[t]:ZA.push(t)}function xoe(t){GC=!0,kG(t)}function Od(){if(!XM&&ZA!==null){XM=!0;var t=0,e=Lr;try{var n=ZA;for(Lr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ZA=null,GC=!1}catch(i){throw ZA!==null&&(ZA=ZA.slice(t+1)),uG(MF,Od),i}finally{Lr=e,XM=!1}}return null}var B0=[],T0=0,X2=null,Y2=0,Sc=[],Cc=0,Sm=null,sf=1,af="";function Bp(t,e){B0[T0++]=Y2,B0[T0++]=X2,X2=t,Y2=e}function QG(t,e,n){Sc[Cc++]=sf,Sc[Cc++]=af,Sc[Cc++]=Sm,Sm=t;var r=sf;t=af;var i=32-vu(r)-1;r&=~(1<<i),n+=1;var s=32-vu(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,sf=1<<32-vu(e)+i|n<<i|r,af=s+t}else sf=1<<s|n<<i|r,af=t}function OF(t){t.return!==null&&(Bp(t,1),QG(t,1,0))}function kF(t){for(;t===X2;)X2=B0[--T0],B0[T0]=null,Y2=B0[--T0],B0[T0]=null;for(;t===Sm;)Sm=Sc[--Cc],Sc[Cc]=null,af=Sc[--Cc],Sc[Cc]=null,sf=Sc[--Cc],Sc[Cc]=null}var jl=null,Ql=null,_i=!1,uu=null;function HG(t,e){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function bk(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,jl=t,Ql=Jh(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,jl=t,Ql=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Sm!==null?{id:sf,overflow:af}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Pc(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,jl=t,Ql=null,!0):!1;default:return!1}}function $P(t){return(t.mode&1)!==0&&(t.flags&128)===0}function XP(t){if(_i){var e=Ql;if(e){var n=e;if(!bk(t,e)){if($P(t))throw Error(It(418));e=Jh(n.nextSibling);var r=jl;e&&bk(t,e)?HG(r,n):(t.flags=t.flags&-4097|2,_i=!1,jl=t)}}else{if($P(t))throw Error(It(418));t.flags=t.flags&-4097|2,_i=!1,jl=t}}}function Ek(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;jl=t}function Zx(t){if(t!==jl)return!1;if(!_i)return Ek(t),_i=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!GP(t.type,t.memoizedProps)),e&&(e=Ql)){if($P(t))throw VG(),Error(It(418));for(;e;)HG(t,e),e=Jh(e.nextSibling)}if(Ek(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(It(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ql=Jh(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ql=null}}else Ql=jl?Jh(t.stateNode.nextSibling):null;return!0}function VG(){for(var t=Ql;t;)t=Jh(t.nextSibling)}function fv(){Ql=jl=null,_i=!1}function QF(t){uu===null?uu=[t]:uu.push(t)}var boe=kf.ReactCurrentBatchConfig;function Qy(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(It(309));var r=n.stateNode}if(!r)throw Error(It(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(It(284));if(!n._owner)throw Error(It(290,t))}return t}function eb(t,e){throw t=Object.prototype.toString.call(e),Error(It(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Sk(t){var e=t._init;return e(t._payload)}function zG(t){function e(m,w){if(t){var _=m.deletions;_===null?(m.deletions=[w],m.flags|=16):_.push(w)}}function n(m,w){if(!t)return null;for(;w!==null;)e(m,w),w=w.sibling;return null}function r(m,w){for(m=new Map;w!==null;)w.key!==null?m.set(w.key,w):m.set(w.index,w),w=w.sibling;return m}function i(m,w){return m=nd(m,w),m.index=0,m.sibling=null,m}function s(m,w,_){return m.index=_,t?(_=m.alternate,_!==null?(_=_.index,_<w?(m.flags|=2,w):_):(m.flags|=2,w)):(m.flags|=1048576,w)}function a(m){return t&&m.alternate===null&&(m.flags|=2),m}function o(m,w,_,B){return w===null||w.tag!==6?(w=rI(_,m.mode,B),w.return=m,w):(w=i(w,_),w.return=m,w)}function l(m,w,_,B){var R=_.type;return R===_0?u(m,w,_.props.children,B,_.key):w!==null&&(w.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Mh&&Sk(R)===w.type)?(B=i(w,_.props),B.ref=Qy(m,w,_),B.return=m,B):(B=l2(_.type,_.key,_.props,null,m.mode,B),B.ref=Qy(m,w,_),B.return=m,B)}function c(m,w,_,B){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=iI(_,m.mode,B),w.return=m,w):(w=i(w,_.children||[]),w.return=m,w)}function u(m,w,_,B,R){return w===null||w.tag!==7?(w=am(_,m.mode,B,R),w.return=m,w):(w=i(w,_),w.return=m,w)}function A(m,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=rI(""+w,m.mode,_),w.return=m,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zx:return _=l2(w.type,w.key,w.props,null,m.mode,_),_.ref=Qy(m,null,w),_.return=m,_;case w0:return w=iI(w,m.mode,_),w.return=m,w;case Mh:var B=w._init;return A(m,B(w._payload),_)}if(y1(w)||Ry(w))return w=am(w,m.mode,_,null),w.return=m,w;eb(m,w)}return null}function f(m,w,_,B){var R=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return R!==null?null:o(m,w,""+_,B);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case zx:return _.key===R?l(m,w,_,B):null;case w0:return _.key===R?c(m,w,_,B):null;case Mh:return R=_._init,f(m,w,R(_._payload),B)}if(y1(_)||Ry(_))return R!==null?null:u(m,w,_,B,null);eb(m,_)}return null}function h(m,w,_,B,R){if(typeof B=="string"&&B!==""||typeof B=="number")return m=m.get(_)||null,o(w,m,""+B,R);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case zx:return m=m.get(B.key===null?_:B.key)||null,l(w,m,B,R);case w0:return m=m.get(B.key===null?_:B.key)||null,c(w,m,B,R);case Mh:var L=B._init;return h(m,w,_,L(B._payload),R)}if(y1(B)||Ry(B))return m=m.get(_)||null,u(w,m,B,R,null);eb(w,B)}return null}function p(m,w,_,B){for(var R=null,L=null,S=w,M=w=0,T=null;S!==null&&M<_.length;M++){S.index>M?(T=S,S=null):T=S.sibling;var F=f(m,S,_[M],B);if(F===null){S===null&&(S=T);break}t&&S&&F.alternate===null&&e(m,S),w=s(F,w,M),L===null?R=F:L.sibling=F,L=F,S=T}if(M===_.length)return n(m,S),_i&&Bp(m,M),R;if(S===null){for(;M<_.length;M++)S=A(m,_[M],B),S!==null&&(w=s(S,w,M),L===null?R=S:L.sibling=S,L=S);return _i&&Bp(m,M),R}for(S=r(m,S);M<_.length;M++)T=h(S,m,M,_[M],B),T!==null&&(t&&T.alternate!==null&&S.delete(T.key===null?M:T.key),w=s(T,w,M),L===null?R=T:L.sibling=T,L=T);return t&&S.forEach(function(P){return e(m,P)}),_i&&Bp(m,M),R}function y(m,w,_,B){var R=Ry(_);if(typeof R!="function")throw Error(It(150));if(_=R.call(_),_==null)throw Error(It(151));for(var L=R=null,S=w,M=w=0,T=null,F=_.next();S!==null&&!F.done;M++,F=_.next()){S.index>M?(T=S,S=null):T=S.sibling;var P=f(m,S,F.value,B);if(P===null){S===null&&(S=T);break}t&&S&&P.alternate===null&&e(m,S),w=s(P,w,M),L===null?R=P:L.sibling=P,L=P,S=T}if(F.done)return n(m,S),_i&&Bp(m,M),R;if(S===null){for(;!F.done;M++,F=_.next())F=A(m,F.value,B),F!==null&&(w=s(F,w,M),L===null?R=F:L.sibling=F,L=F);return _i&&Bp(m,M),R}for(S=r(m,S);!F.done;M++,F=_.next())F=h(S,m,M,F.value,B),F!==null&&(t&&F.alternate!==null&&S.delete(F.key===null?M:F.key),w=s(F,w,M),L===null?R=F:L.sibling=F,L=F);return t&&S.forEach(function(D){return e(m,D)}),_i&&Bp(m,M),R}function v(m,w,_,B){if(typeof _=="object"&&_!==null&&_.type===_0&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case zx:e:{for(var R=_.key,L=w;L!==null;){if(L.key===R){if(R=_.type,R===_0){if(L.tag===7){n(m,L.sibling),w=i(L,_.props.children),w.return=m,m=w;break e}}else if(L.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Mh&&Sk(R)===L.type){n(m,L.sibling),w=i(L,_.props),w.ref=Qy(m,L,_),w.return=m,m=w;break e}n(m,L);break}else e(m,L);L=L.sibling}_.type===_0?(w=am(_.props.children,m.mode,B,_.key),w.return=m,m=w):(B=l2(_.type,_.key,_.props,null,m.mode,B),B.ref=Qy(m,w,_),B.return=m,m=B)}return a(m);case w0:e:{for(L=_.key;w!==null;){if(w.key===L)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(m,w.sibling),w=i(w,_.children||[]),w.return=m,m=w;break e}else{n(m,w);break}else e(m,w);w=w.sibling}w=iI(_,m.mode,B),w.return=m,m=w}return a(m);case Mh:return L=_._init,v(m,w,L(_._payload),B)}if(y1(_))return p(m,w,_,B);if(Ry(_))return y(m,w,_,B);eb(m,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(m,w.sibling),w=i(w,_),w.return=m,m=w):(n(m,w),w=rI(_,m.mode,B),w.return=m,m=w),a(m)):n(m,w)}return v}var hv=zG(!0),jG=zG(!1),J2=Dd(null),Z2=null,M0=null,HF=null;function VF(){HF=M0=Z2=null}function zF(t){var e=J2.current;mi(J2),t._currentValue=e}function YP(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function X0(t,e){Z2=t,HF=M0=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(pl=!0),t.firstContext=null)}function Uc(t){var e=t._currentValue;if(HF!==t)if(t={context:t,memoizedValue:e,next:null},M0===null){if(Z2===null)throw Error(It(308));M0=t,Z2.dependencies={lanes:0,firstContext:t}}else M0=M0.next=t;return e}var Gp=null;function jF(t){Gp===null?Gp=[t]:Gp.push(t)}function GG(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,jF(e)):(n.next=i.next,i.next=n),e.interleaved=n,Ef(t,r)}function Ef(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ih=!1;function GF(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WG(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function df(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Zh(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ur&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Ef(t,n)}return i=r.interleaved,i===null?(e.next=e,jF(r)):(e.next=i.next,i.next=e),r.interleaved=e,Ef(t,n)}function n2(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,IF(t,n)}}function Ck(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function eS(t,e,n,r){var i=t.updateQueue;Ih=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var A=i.baseState;a=0,u=c=l=null,o=s;do{var f=o.lane,h=o.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=t,y=o;switch(f=e,h=n,y.tag){case 1:if(p=y.payload,typeof p=="function"){A=p.call(h,A,f);break e}A=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=y.payload,f=typeof p=="function"?p.call(h,A,f):p,f==null)break e;A=Fi({},A,f);break e;case 2:Ih=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=A):u=u.next=h,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=A),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Bm|=a,t.lanes=a,t.memoizedState=A}}function Bk(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(It(191,i));i.call(r)}}}var L_={},nA=Dd(L_),Bw=Dd(L_),Tw=Dd(L_);function Wp(t){if(t===L_)throw Error(It(174));return t}function WF(t,e){switch(ri(Tw,e),ri(Bw,t),ri(nA,L_),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:PP(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=PP(e,t)}mi(nA),ri(nA,e)}function dv(){mi(nA),mi(Bw),mi(Tw)}function KG(t){Wp(Tw.current);var e=Wp(nA.current),n=PP(e,t.type);e!==n&&(ri(Bw,t),ri(nA,n))}function KF(t){Bw.current===t&&(mi(nA),mi(Bw))}var Ii=Dd(0);function tS(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var YM=[];function qF(){for(var t=0;t<YM.length;t++)YM[t]._workInProgressVersionPrimary=null;YM.length=0}var r2=kf.ReactCurrentDispatcher,JM=kf.ReactCurrentBatchConfig,Cm=0,Li=null,Ds=null,ha=null,nS=!1,V1=!1,Mw=0,Eoe=0;function Ya(){throw Error(It(321))}function $F(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!xu(t[n],e[n]))return!1;return!0}function XF(t,e,n,r,i,s){if(Cm=s,Li=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,r2.current=t===null||t.memoizedState===null?Toe:Moe,t=n(r,i),V1){s=0;do{if(V1=!1,Mw=0,25<=s)throw Error(It(301));s+=1,ha=Ds=null,e.updateQueue=null,r2.current=Ioe,t=n(r,i)}while(V1)}if(r2.current=rS,e=Ds!==null&&Ds.next!==null,Cm=0,ha=Ds=Li=null,nS=!1,e)throw Error(It(300));return t}function YF(){var t=Mw!==0;return Mw=0,t}function $u(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ha===null?Li.memoizedState=ha=t:ha=ha.next=t,ha}function Dc(){if(Ds===null){var t=Li.alternate;t=t!==null?t.memoizedState:null}else t=Ds.next;var e=ha===null?Li.memoizedState:ha.next;if(e!==null)ha=e,Ds=t;else{if(t===null)throw Error(It(310));Ds=t,t={memoizedState:Ds.memoizedState,baseState:Ds.baseState,baseQueue:Ds.baseQueue,queue:Ds.queue,next:null},ha===null?Li.memoizedState=ha=t:ha=ha.next=t}return ha}function Iw(t,e){return typeof e=="function"?e(t):e}function ZM(t){var e=Dc(),n=e.queue;if(n===null)throw Error(It(311));n.lastRenderedReducer=t;var r=Ds,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((Cm&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var A={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=A,a=r):l=l.next=A,Li.lanes|=u,Bm|=u}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,xu(r,e.memoizedState)||(pl=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Li.lanes|=s,Bm|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function eI(t){var e=Dc(),n=e.queue;if(n===null)throw Error(It(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);xu(s,e.memoizedState)||(pl=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function qG(){}function $G(t,e){var n=Li,r=Dc(),i=e(),s=!xu(r.memoizedState,i);if(s&&(r.memoizedState=i,pl=!0),r=r.queue,JF(JG.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||ha!==null&&ha.memoizedState.tag&1){if(n.flags|=2048,Pw(9,YG.bind(null,n,r,i,e),void 0,null),ma===null)throw Error(It(349));Cm&30||XG(n,e,i)}return i}function XG(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Li.updateQueue,e===null?(e={lastEffect:null,stores:null},Li.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function YG(t,e,n,r){e.value=n,e.getSnapshot=r,ZG(e)&&eW(t)}function JG(t,e,n){return n(function(){ZG(e)&&eW(t)})}function ZG(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!xu(t,n)}catch{return!0}}function eW(t){var e=Ef(t,1);e!==null&&yu(e,t,1,-1)}function Tk(t){var e=$u();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Iw,lastRenderedState:t},e.queue=t,t=t.dispatch=Boe.bind(null,Li,t),[e.memoizedState,t]}function Pw(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Li.updateQueue,e===null?(e={lastEffect:null,stores:null},Li.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function tW(){return Dc().memoizedState}function i2(t,e,n,r){var i=$u();Li.flags|=t,i.memoizedState=Pw(1|e,n,void 0,r===void 0?null:r)}function WC(t,e,n,r){var i=Dc();r=r===void 0?null:r;var s=void 0;if(Ds!==null){var a=Ds.memoizedState;if(s=a.destroy,r!==null&&$F(r,a.deps)){i.memoizedState=Pw(e,n,s,r);return}}Li.flags|=t,i.memoizedState=Pw(1|e,n,s,r)}function Mk(t,e){return i2(8390656,8,t,e)}function JF(t,e){return WC(2048,8,t,e)}function nW(t,e){return WC(4,2,t,e)}function rW(t,e){return WC(4,4,t,e)}function iW(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function sW(t,e,n){return n=n!=null?n.concat([t]):null,WC(4,4,iW.bind(null,e,t),n)}function ZF(){}function aW(t,e){var n=Dc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$F(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function oW(t,e){var n=Dc();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&$F(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function lW(t,e,n){return Cm&21?(xu(n,e)||(n=hG(),Li.lanes|=n,Bm|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,pl=!0),t.memoizedState=n)}function Soe(t,e){var n=Lr;Lr=n!==0&&4>n?n:4,t(!0);var r=JM.transition;JM.transition={};try{t(!1),e()}finally{Lr=n,JM.transition=r}}function cW(){return Dc().memoizedState}function Coe(t,e,n){var r=td(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},uW(t))AW(e,n);else if(n=GG(t,e,n,r),n!==null){var i=ko();yu(n,t,r,i),fW(n,e,r)}}function Boe(t,e,n){var r=td(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(uW(t))AW(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,xu(o,a)){var l=e.interleaved;l===null?(i.next=i,jF(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=GG(t,e,i,r),n!==null&&(i=ko(),yu(n,t,r,i),fW(n,e,r))}}function uW(t){var e=t.alternate;return t===Li||e!==null&&e===Li}function AW(t,e){V1=nS=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function fW(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,IF(t,n)}}var rS={readContext:Uc,useCallback:Ya,useContext:Ya,useEffect:Ya,useImperativeHandle:Ya,useInsertionEffect:Ya,useLayoutEffect:Ya,useMemo:Ya,useReducer:Ya,useRef:Ya,useState:Ya,useDebugValue:Ya,useDeferredValue:Ya,useTransition:Ya,useMutableSource:Ya,useSyncExternalStore:Ya,useId:Ya,unstable_isNewReconciler:!1},Toe={readContext:Uc,useCallback:function(t,e){return $u().memoizedState=[t,e===void 0?null:e],t},useContext:Uc,useEffect:Mk,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,i2(4194308,4,iW.bind(null,e,t),n)},useLayoutEffect:function(t,e){return i2(4194308,4,t,e)},useInsertionEffect:function(t,e){return i2(4,2,t,e)},useMemo:function(t,e){var n=$u();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=$u();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Coe.bind(null,Li,t),[r.memoizedState,t]},useRef:function(t){var e=$u();return t={current:t},e.memoizedState=t},useState:Tk,useDebugValue:ZF,useDeferredValue:function(t){return $u().memoizedState=t},useTransition:function(){var t=Tk(!1),e=t[0];return t=Soe.bind(null,t[1]),$u().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Li,i=$u();if(_i){if(n===void 0)throw Error(It(407));n=n()}else{if(n=e(),ma===null)throw Error(It(349));Cm&30||XG(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Mk(JG.bind(null,r,s,t),[t]),r.flags|=2048,Pw(9,YG.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=$u(),e=ma.identifierPrefix;if(_i){var n=af,r=sf;n=(r&~(1<<32-vu(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Mw++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Eoe++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Moe={readContext:Uc,useCallback:aW,useContext:Uc,useEffect:JF,useImperativeHandle:sW,useInsertionEffect:nW,useLayoutEffect:rW,useMemo:oW,useReducer:ZM,useRef:tW,useState:function(){return ZM(Iw)},useDebugValue:ZF,useDeferredValue:function(t){var e=Dc();return lW(e,Ds.memoizedState,t)},useTransition:function(){var t=ZM(Iw)[0],e=Dc().memoizedState;return[t,e]},useMutableSource:qG,useSyncExternalStore:$G,useId:cW,unstable_isNewReconciler:!1},Ioe={readContext:Uc,useCallback:aW,useContext:Uc,useEffect:JF,useImperativeHandle:sW,useInsertionEffect:nW,useLayoutEffect:rW,useMemo:oW,useReducer:eI,useRef:tW,useState:function(){return eI(Iw)},useDebugValue:ZF,useDeferredValue:function(t){var e=Dc();return Ds===null?e.memoizedState=t:lW(e,Ds.memoizedState,t)},useTransition:function(){var t=eI(Iw)[0],e=Dc().memoizedState;return[t,e]},useMutableSource:qG,useSyncExternalStore:$G,useId:cW,unstable_isNewReconciler:!1};function su(t,e){if(t&&t.defaultProps){e=Fi({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function JP(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Fi({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var KC={isMounted:function(t){return(t=t._reactInternals)?zm(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ko(),i=td(t),s=df(r,i);s.payload=e,n!=null&&(s.callback=n),e=Zh(t,s,i),e!==null&&(yu(e,t,i,r),n2(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ko(),i=td(t),s=df(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Zh(t,s,i),e!==null&&(yu(e,t,i,r),n2(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ko(),r=td(t),i=df(n,r);i.tag=2,e!=null&&(i.callback=e),e=Zh(t,i,r),e!==null&&(yu(e,t,r,n),n2(e,t,r))}};function Ik(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!bw(n,r)||!bw(i,s):!0}function hW(t,e,n){var r=!1,i=yd,s=e.contextType;return typeof s=="object"&&s!==null?s=Uc(s):(i=vl(e)?Em:yo.current,r=e.contextTypes,s=(r=r!=null)?Av(t,i):yd),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=KC,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Pk(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&KC.enqueueReplaceState(e,e.state,null)}function ZP(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},GF(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Uc(s):(s=vl(e)?Em:yo.current,i.context=Av(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(JP(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&KC.enqueueReplaceState(i,i.state,null),eS(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pv(t,e){try{var n="",r=e;do n+=iae(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function tI(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function e3(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Poe=typeof WeakMap=="function"?WeakMap:Map;function dW(t,e,n){n=df(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){sS||(sS=!0,u3=r),e3(t,e)},n}function pW(t,e,n){n=df(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){e3(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){e3(t,e),typeof r!="function"&&(ed===null?ed=new Set([this]):ed.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function Nk(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Poe;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=Goe.bind(null,t,e,n),e.then(t,t))}function Lk(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Fk(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=df(-1,1),e.tag=2,Zh(n,e,1))),n.lanes|=1),t)}var Noe=kf.ReactCurrentOwner,pl=!1;function Uo(t,e,n,r){e.child=t===null?jG(e,null,n,r):hv(e,t.child,n,r)}function Rk(t,e,n,r,i){n=n.render;var s=e.ref;return X0(e,i),r=XF(t,e,n,r,s,i),n=YF(),t!==null&&!pl?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sf(t,e,i)):(_i&&n&&OF(e),e.flags|=1,Uo(t,e,r,i),e.child)}function Uk(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!oR(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,mW(t,e,s,r,i)):(t=l2(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:bw,n(a,r)&&t.ref===e.ref)return Sf(t,e,i)}return e.flags|=1,t=nd(s,r),t.ref=e.ref,t.return=e,e.child=t}function mW(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(bw(s,r)&&t.ref===e.ref)if(pl=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(pl=!0);else return e.lanes=t.lanes,Sf(t,e,i)}return t3(t,e,n,r,i)}function gW(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ri(P0,Ul),Ul|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ri(P0,Ul),Ul|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,ri(P0,Ul),Ul|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,ri(P0,Ul),Ul|=r;return Uo(t,e,i,n),e.child}function vW(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function t3(t,e,n,r,i){var s=vl(n)?Em:yo.current;return s=Av(e,s),X0(e,i),n=XF(t,e,n,r,s,i),r=YF(),t!==null&&!pl?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Sf(t,e,i)):(_i&&r&&OF(e),e.flags|=1,Uo(t,e,n,i),e.child)}function Dk(t,e,n,r,i){if(vl(n)){var s=!0;$2(e)}else s=!1;if(X0(e,i),e.stateNode===null)s2(t,e),hW(e,n,r),ZP(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Uc(c):(c=vl(n)?Em:yo.current,c=Av(e,c));var u=n.getDerivedStateFromProps,A=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";A||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&Pk(e,a,r,c),Ih=!1;var f=e.memoizedState;a.state=f,eS(e,r,a,i),l=e.memoizedState,o!==r||f!==l||gl.current||Ih?(typeof u=="function"&&(JP(e,n,u,r),l=e.memoizedState),(o=Ih||Ik(e,n,o,r,f,l,c))?(A||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,WG(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:su(e.type,o),a.props=c,A=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Uc(l):(l=vl(n)?Em:yo.current,l=Av(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==A||f!==l)&&Pk(e,a,r,l),Ih=!1,f=e.memoizedState,a.state=f,eS(e,r,a,i);var p=e.memoizedState;o!==A||f!==p||gl.current||Ih?(typeof h=="function"&&(JP(e,n,h,r),p=e.memoizedState),(c=Ih||Ik(e,n,c,r,f,p,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,p,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,p,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return n3(t,e,n,r,s,i)}function n3(t,e,n,r,i,s){vW(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&xk(e,n,!1),Sf(t,e,s);r=e.stateNode,Noe.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=hv(e,t.child,null,s),e.child=hv(e,null,o,s)):Uo(t,e,o,s),e.memoizedState=r.state,i&&xk(e,n,!0),e.child}function yW(t){var e=t.stateNode;e.pendingContext?_k(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_k(t,e.context,!1),WF(t,e.containerInfo)}function Ok(t,e,n,r,i){return fv(),QF(i),e.flags|=256,Uo(t,e,n,r),e.child}var r3={dehydrated:null,treeContext:null,retryLane:0};function i3(t){return{baseLanes:t,cachePool:null,transitions:null}}function wW(t,e,n){var r=e.pendingProps,i=Ii.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ri(Ii,i&1),t===null)return XP(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=XC(a,r,0,null),t=am(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=i3(n),e.memoizedState=r3,t):eR(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Loe(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=nd(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=nd(o,s):(s=am(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?i3(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=r3,r}return s=t.child,t=s.sibling,r=nd(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function eR(t,e){return e=XC({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function tb(t,e,n,r){return r!==null&&QF(r),hv(e,t.child,null,n),t=eR(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Loe(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=tI(Error(It(422))),tb(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=XC({mode:"visible",children:r.children},i,0,null),s=am(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&hv(e,t.child,null,a),e.child.memoizedState=i3(a),e.memoizedState=r3,s);if(!(e.mode&1))return tb(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(It(419)),r=tI(s,r,void 0),tb(t,e,a,r)}if(o=(a&t.childLanes)!==0,pl||o){if(r=ma,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ef(t,i),yu(r,t,i,-1))}return aR(),r=tI(Error(It(421))),tb(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=Woe.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ql=Jh(i.nextSibling),jl=e,_i=!0,uu=null,t!==null&&(Sc[Cc++]=sf,Sc[Cc++]=af,Sc[Cc++]=Sm,sf=t.id,af=t.overflow,Sm=e),e=eR(e,r.children),e.flags|=4096,e)}function kk(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),YP(t.return,e,n)}function nI(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function _W(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Uo(t,e,r.children,n),r=Ii.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&kk(t,n,e);else if(t.tag===19)kk(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ri(Ii,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&tS(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),nI(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tS(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}nI(e,!0,n,null,s);break;case"together":nI(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function s2(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Sf(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Bm|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(It(153));if(e.child!==null){for(t=e.child,n=nd(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=nd(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Foe(t,e,n){switch(e.tag){case 3:yW(e),fv();break;case 5:KG(e);break;case 1:vl(e.type)&&$2(e);break;case 4:WF(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;ri(J2,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ri(Ii,Ii.current&1),e.flags|=128,null):n&e.child.childLanes?wW(t,e,n):(ri(Ii,Ii.current&1),t=Sf(t,e,n),t!==null?t.sibling:null);ri(Ii,Ii.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return _W(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ri(Ii,Ii.current),r)break;return null;case 22:case 23:return e.lanes=0,gW(t,e,n)}return Sf(t,e,n)}var xW,s3,bW,EW;xW=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};s3=function(){};bW=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Wp(nA.current);var s=null;switch(n){case"input":i=BP(t,i),r=BP(t,r),s=[];break;case"select":i=Fi({},i,{value:void 0}),r=Fi({},r,{value:void 0}),s=[];break;case"textarea":i=IP(t,i),r=IP(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=K2)}NP(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(mw.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(mw.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&fi("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};EW=function(t,e,n,r){n!==r&&(e.flags|=4)};function Hy(t,e){if(!_i)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ja(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Roe(t,e,n){var r=e.pendingProps;switch(kF(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ja(e),null;case 1:return vl(e.type)&&q2(),Ja(e),null;case 3:return r=e.stateNode,dv(),mi(gl),mi(yo),qF(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Zx(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,uu!==null&&(h3(uu),uu=null))),s3(t,e),Ja(e),null;case 5:KF(e);var i=Wp(Tw.current);if(n=e.type,t!==null&&e.stateNode!=null)bW(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(It(166));return Ja(e),null}if(t=Wp(nA.current),Zx(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Yu]=e,r[Cw]=s,t=(e.mode&1)!==0,n){case"dialog":fi("cancel",r),fi("close",r);break;case"iframe":case"object":case"embed":fi("load",r);break;case"video":case"audio":for(i=0;i<_1.length;i++)fi(_1[i],r);break;case"source":fi("error",r);break;case"img":case"image":case"link":fi("error",r),fi("load",r);break;case"details":fi("toggle",r);break;case"input":qO(r,s),fi("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},fi("invalid",r);break;case"textarea":XO(r,s),fi("invalid",r)}NP(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Jx(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Jx(r.textContent,o,t),i=["children",""+o]):mw.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&fi("scroll",r)}switch(n){case"input":jx(r),$O(r,s,!0);break;case"textarea":jx(r),YO(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=K2)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Jj(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Yu]=e,t[Cw]=r,xW(t,e,!1,!1),e.stateNode=t;e:{switch(a=LP(n,r),n){case"dialog":fi("cancel",t),fi("close",t),i=r;break;case"iframe":case"object":case"embed":fi("load",t),i=r;break;case"video":case"audio":for(i=0;i<_1.length;i++)fi(_1[i],t);i=r;break;case"source":fi("error",t),i=r;break;case"img":case"image":case"link":fi("error",t),fi("load",t),i=r;break;case"details":fi("toggle",t),i=r;break;case"input":qO(t,r),i=BP(t,r),fi("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Fi({},r,{value:void 0}),fi("invalid",t);break;case"textarea":XO(t,r),i=IP(t,r),fi("invalid",t);break;default:i=r}NP(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?tG(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Zj(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&gw(t,l):typeof l=="number"&&gw(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(mw.hasOwnProperty(s)?l!=null&&s==="onScroll"&&fi("scroll",t):l!=null&&EF(t,s,l,a))}switch(n){case"input":jx(t),$O(t,r,!1);break;case"textarea":jx(t),YO(t);break;case"option":r.value!=null&&t.setAttribute("value",""+vd(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?W0(t,!!r.multiple,s,!1):r.defaultValue!=null&&W0(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=K2)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ja(e),null;case 6:if(t&&e.stateNode!=null)EW(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(It(166));if(n=Wp(Tw.current),Wp(nA.current),Zx(e)){if(r=e.stateNode,n=e.memoizedProps,r[Yu]=e,(s=r.nodeValue!==n)&&(t=jl,t!==null))switch(t.tag){case 3:Jx(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Jx(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Yu]=e,e.stateNode=r}return Ja(e),null;case 13:if(mi(Ii),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(_i&&Ql!==null&&e.mode&1&&!(e.flags&128))VG(),fv(),e.flags|=98560,s=!1;else if(s=Zx(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(It(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(It(317));s[Yu]=e}else fv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ja(e),s=!1}else uu!==null&&(h3(uu),uu=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ii.current&1?ks===0&&(ks=3):aR())),e.updateQueue!==null&&(e.flags|=4),Ja(e),null);case 4:return dv(),s3(t,e),t===null&&Ew(e.stateNode.containerInfo),Ja(e),null;case 10:return zF(e.type._context),Ja(e),null;case 17:return vl(e.type)&&q2(),Ja(e),null;case 19:if(mi(Ii),s=e.memoizedState,s===null)return Ja(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Hy(s,!1);else{if(ks!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=tS(t),a!==null){for(e.flags|=128,Hy(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ri(Ii,Ii.current&1|2),e.child}t=t.sibling}s.tail!==null&&ss()>mv&&(e.flags|=128,r=!0,Hy(s,!1),e.lanes=4194304)}else{if(!r)if(t=tS(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Hy(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!_i)return Ja(e),null}else 2*ss()-s.renderingStartTime>mv&&n!==1073741824&&(e.flags|=128,r=!0,Hy(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ss(),e.sibling=null,n=Ii.current,ri(Ii,r?n&1|2:n&1),e):(Ja(e),null);case 22:case 23:return sR(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ul&1073741824&&(Ja(e),e.subtreeFlags&6&&(e.flags|=8192)):Ja(e),null;case 24:return null;case 25:return null}throw Error(It(156,e.tag))}function Uoe(t,e){switch(kF(e),e.tag){case 1:return vl(e.type)&&q2(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return dv(),mi(gl),mi(yo),qF(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return KF(e),null;case 13:if(mi(Ii),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(It(340));fv()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return mi(Ii),null;case 4:return dv(),null;case 10:return zF(e.type._context),null;case 22:case 23:return sR(),null;case 24:return null;default:return null}}var nb=!1,Ao=!1,Doe=typeof WeakSet=="function"?WeakSet:Set,Xt=null;function I0(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Wi(t,e,r)}else n.current=null}function a3(t,e,n){try{n()}catch(r){Wi(t,e,r)}}var Qk=!1;function Ooe(t,e){if(zP=j2,t=MG(),DF(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,A=t,f=null;t:for(;;){for(var h;A!==n||i!==0&&A.nodeType!==3||(o=a+i),A!==s||r!==0&&A.nodeType!==3||(l=a+r),A.nodeType===3&&(a+=A.nodeValue.length),(h=A.firstChild)!==null;)f=A,A=h;for(;;){if(A===t)break t;if(f===n&&++c===i&&(o=a),f===s&&++u===r&&(l=a),(h=A.nextSibling)!==null)break;A=f,f=A.parentNode}A=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jP={focusedElem:t,selectionRange:n},j2=!1,Xt=e;Xt!==null;)if(e=Xt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Xt=t;else for(;Xt!==null;){e=Xt;try{var p=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var y=p.memoizedProps,v=p.memoizedState,m=e.stateNode,w=m.getSnapshotBeforeUpdate(e.elementType===e.type?y:su(e.type,y),v);m.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(It(163))}}catch(B){Wi(e,e.return,B)}if(t=e.sibling,t!==null){t.return=e.return,Xt=t;break}Xt=e.return}return p=Qk,Qk=!1,p}function z1(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&a3(e,n,s)}i=i.next}while(i!==r)}}function qC(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function o3(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function SW(t){var e=t.alternate;e!==null&&(t.alternate=null,SW(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Yu],delete e[Cw],delete e[KP],delete e[woe],delete e[_oe])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function CW(t){return t.tag===5||t.tag===3||t.tag===4}function Hk(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||CW(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function l3(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=K2));else if(r!==4&&(t=t.child,t!==null))for(l3(t,e,n),t=t.sibling;t!==null;)l3(t,e,n),t=t.sibling}function c3(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(c3(t,e,n),t=t.sibling;t!==null;)c3(t,e,n),t=t.sibling}var La=null,lu=!1;function uh(t,e,n){for(n=n.child;n!==null;)BW(t,e,n),n=n.sibling}function BW(t,e,n){if(tA&&typeof tA.onCommitFiberUnmount=="function")try{tA.onCommitFiberUnmount(QC,n)}catch{}switch(n.tag){case 5:Ao||I0(n,e);case 6:var r=La,i=lu;La=null,uh(t,e,n),La=r,lu=i,La!==null&&(lu?(t=La,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):La.removeChild(n.stateNode));break;case 18:La!==null&&(lu?(t=La,n=n.stateNode,t.nodeType===8?$M(t.parentNode,n):t.nodeType===1&&$M(t,n),_w(t)):$M(La,n.stateNode));break;case 4:r=La,i=lu,La=n.stateNode.containerInfo,lu=!0,uh(t,e,n),La=r,lu=i;break;case 0:case 11:case 14:case 15:if(!Ao&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&a3(n,e,a),i=i.next}while(i!==r)}uh(t,e,n);break;case 1:if(!Ao&&(I0(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Wi(n,e,o)}uh(t,e,n);break;case 21:uh(t,e,n);break;case 22:n.mode&1?(Ao=(r=Ao)||n.memoizedState!==null,uh(t,e,n),Ao=r):uh(t,e,n);break;default:uh(t,e,n)}}function Vk(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Doe),e.forEach(function(r){var i=Koe.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Jc(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:La=o.stateNode,lu=!1;break e;case 3:La=o.stateNode.containerInfo,lu=!0;break e;case 4:La=o.stateNode.containerInfo,lu=!0;break e}o=o.return}if(La===null)throw Error(It(160));BW(s,a,i),La=null,lu=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Wi(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)TW(e,t),e=e.sibling}function TW(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jc(e,t),Wu(t),r&4){try{z1(3,t,t.return),qC(3,t)}catch(y){Wi(t,t.return,y)}try{z1(5,t,t.return)}catch(y){Wi(t,t.return,y)}}break;case 1:Jc(e,t),Wu(t),r&512&&n!==null&&I0(n,n.return);break;case 5:if(Jc(e,t),Wu(t),r&512&&n!==null&&I0(n,n.return),t.flags&32){var i=t.stateNode;try{gw(i,"")}catch(y){Wi(t,t.return,y)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Xj(i,s),LP(o,a);var c=LP(o,s);for(a=0;a<l.length;a+=2){var u=l[a],A=l[a+1];u==="style"?tG(i,A):u==="dangerouslySetInnerHTML"?Zj(i,A):u==="children"?gw(i,A):EF(i,u,A,c)}switch(o){case"input":TP(i,s);break;case"textarea":Yj(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?W0(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?W0(i,!!s.multiple,s.defaultValue,!0):W0(i,!!s.multiple,s.multiple?[]:"",!1))}i[Cw]=s}catch(y){Wi(t,t.return,y)}}break;case 6:if(Jc(e,t),Wu(t),r&4){if(t.stateNode===null)throw Error(It(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Wi(t,t.return,y)}}break;case 3:if(Jc(e,t),Wu(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{_w(e.containerInfo)}catch(y){Wi(t,t.return,y)}break;case 4:Jc(e,t),Wu(t);break;case 13:Jc(e,t),Wu(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rR=ss())),r&4&&Vk(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Ao=(c=Ao)||u,Jc(e,t),Ao=c):Jc(e,t),Wu(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Xt=t,u=t.child;u!==null;){for(A=Xt=u;Xt!==null;){switch(f=Xt,h=f.child,f.tag){case 0:case 11:case 14:case 15:z1(4,f,f.return);break;case 1:I0(f,f.return);var p=f.stateNode;if(typeof p.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,p.props=e.memoizedProps,p.state=e.memoizedState,p.componentWillUnmount()}catch(y){Wi(r,n,y)}}break;case 5:I0(f,f.return);break;case 22:if(f.memoizedState!==null){jk(A);continue}}h!==null?(h.return=f,Xt=h):jk(A)}u=u.sibling}e:for(u=null,A=t;;){if(A.tag===5){if(u===null){u=A;try{i=A.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=A.stateNode,l=A.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=eG("display",a))}catch(y){Wi(t,t.return,y)}}}else if(A.tag===6){if(u===null)try{A.stateNode.nodeValue=c?"":A.memoizedProps}catch(y){Wi(t,t.return,y)}}else if((A.tag!==22&&A.tag!==23||A.memoizedState===null||A===t)&&A.child!==null){A.child.return=A,A=A.child;continue}if(A===t)break e;for(;A.sibling===null;){if(A.return===null||A.return===t)break e;u===A&&(u=null),A=A.return}u===A&&(u=null),A.sibling.return=A.return,A=A.sibling}}break;case 19:Jc(e,t),Wu(t),r&4&&Vk(t);break;case 21:break;default:Jc(e,t),Wu(t)}}function Wu(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(CW(n)){var r=n;break e}n=n.return}throw Error(It(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(gw(i,""),r.flags&=-33);var s=Hk(t);c3(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=Hk(t);l3(t,o,a);break;default:throw Error(It(161))}}catch(l){Wi(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function koe(t,e,n){Xt=t,MW(t)}function MW(t,e,n){for(var r=(t.mode&1)!==0;Xt!==null;){var i=Xt,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||nb;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Ao;o=nb;var c=Ao;if(nb=a,(Ao=l)&&!c)for(Xt=i;Xt!==null;)a=Xt,l=a.child,a.tag===22&&a.memoizedState!==null?Gk(i):l!==null?(l.return=a,Xt=l):Gk(i);for(;s!==null;)Xt=s,MW(s),s=s.sibling;Xt=i,nb=o,Ao=c}zk(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Xt=s):zk(t)}}function zk(t){for(;Xt!==null;){var e=Xt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ao||qC(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ao)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:su(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Bk(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Bk(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var A=u.dehydrated;A!==null&&_w(A)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(It(163))}Ao||e.flags&512&&o3(e)}catch(f){Wi(e,e.return,f)}}if(e===t){Xt=null;break}if(n=e.sibling,n!==null){n.return=e.return,Xt=n;break}Xt=e.return}}function jk(t){for(;Xt!==null;){var e=Xt;if(e===t){Xt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Xt=n;break}Xt=e.return}}function Gk(t){for(;Xt!==null;){var e=Xt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qC(4,e)}catch(l){Wi(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Wi(e,i,l)}}var s=e.return;try{o3(e)}catch(l){Wi(e,s,l)}break;case 5:var a=e.return;try{o3(e)}catch(l){Wi(e,a,l)}}}catch(l){Wi(e,e.return,l)}if(e===t){Xt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Xt=o;break}Xt=e.return}}var Qoe=Math.ceil,iS=kf.ReactCurrentDispatcher,tR=kf.ReactCurrentOwner,Rc=kf.ReactCurrentBatchConfig,ur=0,ma=null,Ss=null,ka=0,Ul=0,P0=Dd(0),ks=0,Nw=null,Bm=0,$C=0,nR=0,j1=null,Al=null,rR=0,mv=1/0,JA=null,sS=!1,u3=null,ed=null,rb=!1,Vh=null,aS=0,G1=0,A3=null,a2=-1,o2=0;function ko(){return ur&6?ss():a2!==-1?a2:a2=ss()}function td(t){return t.mode&1?ur&2&&ka!==0?ka&-ka:boe.transition!==null?(o2===0&&(o2=hG()),o2):(t=Lr,t!==0||(t=window.event,t=t===void 0?16:wG(t.type)),t):1}function yu(t,e,n,r){if(50<G1)throw G1=0,A3=null,Error(It(185));I_(t,n,r),(!(ur&2)||t!==ma)&&(t===ma&&(!(ur&2)&&($C|=n),ks===4&&Rh(t,ka)),yl(t,r),n===1&&ur===0&&!(e.mode&1)&&(mv=ss()+500,GC&&Od()))}function yl(t,e){var n=t.callbackNode;bae(t,e);var r=z2(t,t===ma?ka:0);if(r===0)n!==null&&ek(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ek(n),e===1)t.tag===0?xoe(Wk.bind(null,t)):kG(Wk.bind(null,t)),voe(function(){!(ur&6)&&Od()}),n=null;else{switch(dG(r)){case 1:n=MF;break;case 4:n=AG;break;case 16:n=V2;break;case 536870912:n=fG;break;default:n=V2}n=DW(n,IW.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function IW(t,e){if(a2=-1,o2=0,ur&6)throw Error(It(327));var n=t.callbackNode;if(Y0()&&t.callbackNode!==n)return null;var r=z2(t,t===ma?ka:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=oS(t,r);else{e=r;var i=ur;ur|=2;var s=NW();(ma!==t||ka!==e)&&(JA=null,mv=ss()+500,sm(t,e));do try{zoe();break}catch(o){PW(t,o)}while(!0);VF(),iS.current=s,ur=i,Ss!==null?e=0:(ma=null,ka=0,e=ks)}if(e!==0){if(e===2&&(i=OP(t),i!==0&&(r=i,e=f3(t,i))),e===1)throw n=Nw,sm(t,0),Rh(t,r),yl(t,ss()),n;if(e===6)Rh(t,r);else{if(i=t.current.alternate,!(r&30)&&!Hoe(i)&&(e=oS(t,r),e===2&&(s=OP(t),s!==0&&(r=s,e=f3(t,s))),e===1))throw n=Nw,sm(t,0),Rh(t,r),yl(t,ss()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(It(345));case 2:Tp(t,Al,JA);break;case 3:if(Rh(t,r),(r&130023424)===r&&(e=rR+500-ss(),10<e)){if(z2(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ko(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=WP(Tp.bind(null,t,Al,JA),e);break}Tp(t,Al,JA);break;case 4:if(Rh(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-vu(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=ss()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Qoe(r/1960))-r,10<r){t.timeoutHandle=WP(Tp.bind(null,t,Al,JA),r);break}Tp(t,Al,JA);break;case 5:Tp(t,Al,JA);break;default:throw Error(It(329))}}}return yl(t,ss()),t.callbackNode===n?IW.bind(null,t):null}function f3(t,e){var n=j1;return t.current.memoizedState.isDehydrated&&(sm(t,e).flags|=256),t=oS(t,e),t!==2&&(e=Al,Al=n,e!==null&&h3(e)),t}function h3(t){Al===null?Al=t:Al.push.apply(Al,t)}function Hoe(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!xu(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Rh(t,e){for(e&=~nR,e&=~$C,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vu(e),r=1<<n;t[n]=-1,e&=~r}}function Wk(t){if(ur&6)throw Error(It(327));Y0();var e=z2(t,0);if(!(e&1))return yl(t,ss()),null;var n=oS(t,e);if(t.tag!==0&&n===2){var r=OP(t);r!==0&&(e=r,n=f3(t,r))}if(n===1)throw n=Nw,sm(t,0),Rh(t,e),yl(t,ss()),n;if(n===6)throw Error(It(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Tp(t,Al,JA),yl(t,ss()),null}function iR(t,e){var n=ur;ur|=1;try{return t(e)}finally{ur=n,ur===0&&(mv=ss()+500,GC&&Od())}}function Tm(t){Vh!==null&&Vh.tag===0&&!(ur&6)&&Y0();var e=ur;ur|=1;var n=Rc.transition,r=Lr;try{if(Rc.transition=null,Lr=1,t)return t()}finally{Lr=r,Rc.transition=n,ur=e,!(ur&6)&&Od()}}function sR(){Ul=P0.current,mi(P0)}function sm(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,goe(n)),Ss!==null)for(n=Ss.return;n!==null;){var r=n;switch(kF(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&q2();break;case 3:dv(),mi(gl),mi(yo),qF();break;case 5:KF(r);break;case 4:dv();break;case 13:mi(Ii);break;case 19:mi(Ii);break;case 10:zF(r.type._context);break;case 22:case 23:sR()}n=n.return}if(ma=t,Ss=t=nd(t.current,null),ka=Ul=e,ks=0,Nw=null,nR=$C=Bm=0,Al=j1=null,Gp!==null){for(e=0;e<Gp.length;e++)if(n=Gp[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}Gp=null}return t}function PW(t,e){do{var n=Ss;try{if(VF(),r2.current=rS,nS){for(var r=Li.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}nS=!1}if(Cm=0,ha=Ds=Li=null,V1=!1,Mw=0,tR.current=null,n===null||n.return===null){ks=1,Nw=e,Ss=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=ka,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,A=u.tag;if(!(u.mode&1)&&(A===0||A===11||A===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=Lk(a);if(h!==null){h.flags&=-257,Fk(h,a,o,s,e),h.mode&1&&Nk(s,c,e),e=h,l=c;var p=e.updateQueue;if(p===null){var y=new Set;y.add(l),e.updateQueue=y}else p.add(l);break e}else{if(!(e&1)){Nk(s,c,e),aR();break e}l=Error(It(426))}}else if(_i&&o.mode&1){var v=Lk(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),Fk(v,a,o,s,e),QF(pv(l,o));break e}}s=l=pv(l,o),ks!==4&&(ks=2),j1===null?j1=[s]:j1.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var m=dW(s,l,e);Ck(s,m);break e;case 1:o=l;var w=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ed===null||!ed.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var B=pW(s,o,e);Ck(s,B);break e}}s=s.return}while(s!==null)}FW(n)}catch(R){e=R,Ss===n&&n!==null&&(Ss=n=n.return);continue}break}while(!0)}function NW(){var t=iS.current;return iS.current=rS,t===null?rS:t}function aR(){(ks===0||ks===3||ks===2)&&(ks=4),ma===null||!(Bm&268435455)&&!($C&268435455)||Rh(ma,ka)}function oS(t,e){var n=ur;ur|=2;var r=NW();(ma!==t||ka!==e)&&(JA=null,sm(t,e));do try{Voe();break}catch(i){PW(t,i)}while(!0);if(VF(),ur=n,iS.current=r,Ss!==null)throw Error(It(261));return ma=null,ka=0,ks}function Voe(){for(;Ss!==null;)LW(Ss)}function zoe(){for(;Ss!==null&&!dae();)LW(Ss)}function LW(t){var e=UW(t.alternate,t,Ul);t.memoizedProps=t.pendingProps,e===null?FW(t):Ss=e,tR.current=null}function FW(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Uoe(n,e),n!==null){n.flags&=32767,Ss=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ks=6,Ss=null;return}}else if(n=Roe(n,e,Ul),n!==null){Ss=n;return}if(e=e.sibling,e!==null){Ss=e;return}Ss=e=t}while(e!==null);ks===0&&(ks=5)}function Tp(t,e,n){var r=Lr,i=Rc.transition;try{Rc.transition=null,Lr=1,joe(t,e,n,r)}finally{Rc.transition=i,Lr=r}return null}function joe(t,e,n,r){do Y0();while(Vh!==null);if(ur&6)throw Error(It(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(It(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Eae(t,s),t===ma&&(Ss=ma=null,ka=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||rb||(rb=!0,DW(V2,function(){return Y0(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Rc.transition,Rc.transition=null;var a=Lr;Lr=1;var o=ur;ur|=4,tR.current=null,Ooe(t,n),TW(n,t),uoe(jP),j2=!!zP,jP=zP=null,t.current=n,koe(n),pae(),ur=o,Lr=a,Rc.transition=s}else t.current=n;if(rb&&(rb=!1,Vh=t,aS=i),s=t.pendingLanes,s===0&&(ed=null),vae(n.stateNode),yl(t,ss()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(sS)throw sS=!1,t=u3,u3=null,t;return aS&1&&t.tag!==0&&Y0(),s=t.pendingLanes,s&1?t===A3?G1++:(G1=0,A3=t):G1=0,Od(),null}function Y0(){if(Vh!==null){var t=dG(aS),e=Rc.transition,n=Lr;try{if(Rc.transition=null,Lr=16>t?16:t,Vh===null)var r=!1;else{if(t=Vh,Vh=null,aS=0,ur&6)throw Error(It(331));var i=ur;for(ur|=4,Xt=t.current;Xt!==null;){var s=Xt,a=s.child;if(Xt.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Xt=c;Xt!==null;){var u=Xt;switch(u.tag){case 0:case 11:case 15:z1(8,u,s)}var A=u.child;if(A!==null)A.return=u,Xt=A;else for(;Xt!==null;){u=Xt;var f=u.sibling,h=u.return;if(SW(u),u===c){Xt=null;break}if(f!==null){f.return=h,Xt=f;break}Xt=h}}}var p=s.alternate;if(p!==null){var y=p.child;if(y!==null){p.child=null;do{var v=y.sibling;y.sibling=null,y=v}while(y!==null)}}Xt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Xt=a;else e:for(;Xt!==null;){if(s=Xt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:z1(9,s,s.return)}var m=s.sibling;if(m!==null){m.return=s.return,Xt=m;break e}Xt=s.return}}var w=t.current;for(Xt=w;Xt!==null;){a=Xt;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Xt=_;else e:for(a=w;Xt!==null;){if(o=Xt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:qC(9,o)}}catch(R){Wi(o,o.return,R)}if(o===a){Xt=null;break e}var B=o.sibling;if(B!==null){B.return=o.return,Xt=B;break e}Xt=o.return}}if(ur=i,Od(),tA&&typeof tA.onPostCommitFiberRoot=="function")try{tA.onPostCommitFiberRoot(QC,t)}catch{}r=!0}return r}finally{Lr=n,Rc.transition=e}}return!1}function Kk(t,e,n){e=pv(n,e),e=dW(t,e,1),t=Zh(t,e,1),e=ko(),t!==null&&(I_(t,1,e),yl(t,e))}function Wi(t,e,n){if(t.tag===3)Kk(t,t,n);else for(;e!==null;){if(e.tag===3){Kk(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ed===null||!ed.has(r))){t=pv(n,t),t=pW(e,t,1),e=Zh(e,t,1),t=ko(),e!==null&&(I_(e,1,t),yl(e,t));break}}e=e.return}}function Goe(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ko(),t.pingedLanes|=t.suspendedLanes&n,ma===t&&(ka&n)===n&&(ks===4||ks===3&&(ka&130023424)===ka&&500>ss()-rR?sm(t,0):nR|=n),yl(t,e)}function RW(t,e){e===0&&(t.mode&1?(e=Kx,Kx<<=1,!(Kx&130023424)&&(Kx=4194304)):e=1);var n=ko();t=Ef(t,e),t!==null&&(I_(t,e,n),yl(t,n))}function Woe(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),RW(t,n)}function Koe(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(It(314))}r!==null&&r.delete(e),RW(t,n)}var UW;UW=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||gl.current)pl=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return pl=!1,Foe(t,e,n);pl=!!(t.flags&131072)}else pl=!1,_i&&e.flags&1048576&&QG(e,Y2,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;s2(t,e),t=e.pendingProps;var i=Av(e,yo.current);X0(e,n),i=XF(null,e,r,t,i,n);var s=YF();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,vl(r)?(s=!0,$2(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,GF(e),i.updater=KC,e.stateNode=i,i._reactInternals=e,ZP(e,r,t,n),e=n3(null,e,r,!0,s,n)):(e.tag=0,_i&&s&&OF(e),Uo(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(s2(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=$oe(r),t=su(r,t),i){case 0:e=t3(null,e,r,t,n);break e;case 1:e=Dk(null,e,r,t,n);break e;case 11:e=Rk(null,e,r,t,n);break e;case 14:e=Uk(null,e,r,su(r.type,t),n);break e}throw Error(It(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:su(r,i),t3(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:su(r,i),Dk(t,e,r,i,n);case 3:e:{if(yW(e),t===null)throw Error(It(387));r=e.pendingProps,s=e.memoizedState,i=s.element,WG(t,e),eS(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=pv(Error(It(423)),e),e=Ok(t,e,r,n,i);break e}else if(r!==i){i=pv(Error(It(424)),e),e=Ok(t,e,r,n,i);break e}else for(Ql=Jh(e.stateNode.containerInfo.firstChild),jl=e,_i=!0,uu=null,n=jG(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fv(),r===i){e=Sf(t,e,n);break e}Uo(t,e,r,n)}e=e.child}return e;case 5:return KG(e),t===null&&XP(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,GP(r,i)?a=null:s!==null&&GP(r,s)&&(e.flags|=32),vW(t,e),Uo(t,e,a,n),e.child;case 6:return t===null&&XP(e),null;case 13:return wW(t,e,n);case 4:return WF(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hv(e,null,r,n):Uo(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:su(r,i),Rk(t,e,r,i,n);case 7:return Uo(t,e,e.pendingProps,n),e.child;case 8:return Uo(t,e,e.pendingProps.children,n),e.child;case 12:return Uo(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ri(J2,r._currentValue),r._currentValue=a,s!==null)if(xu(s.value,a)){if(s.children===i.children&&!gl.current){e=Sf(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=df(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),YP(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(It(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),YP(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Uo(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,X0(e,n),i=Uc(i),r=r(i),e.flags|=1,Uo(t,e,r,n),e.child;case 14:return r=e.type,i=su(r,e.pendingProps),i=su(r.type,i),Uk(t,e,r,i,n);case 15:return mW(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:su(r,i),s2(t,e),e.tag=1,vl(r)?(t=!0,$2(e)):t=!1,X0(e,n),hW(e,r,i),ZP(e,r,i,n),n3(null,e,r,!0,t,n);case 19:return _W(t,e,n);case 22:return gW(t,e,n)}throw Error(It(156,e.tag))};function DW(t,e){return uG(t,e)}function qoe(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(t,e,n,r){return new qoe(t,e,n,r)}function oR(t){return t=t.prototype,!(!t||!t.isReactComponent)}function $oe(t){if(typeof t=="function")return oR(t)?1:0;if(t!=null){if(t=t.$$typeof,t===CF)return 11;if(t===BF)return 14}return 2}function nd(t,e){var n=t.alternate;return n===null?(n=Pc(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function l2(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")oR(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case _0:return am(n.children,i,s,e);case SF:a=8,i|=8;break;case bP:return t=Pc(12,n,e,i|2),t.elementType=bP,t.lanes=s,t;case EP:return t=Pc(13,n,e,i),t.elementType=EP,t.lanes=s,t;case SP:return t=Pc(19,n,e,i),t.elementType=SP,t.lanes=s,t;case Kj:return XC(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Gj:a=10;break e;case Wj:a=9;break e;case CF:a=11;break e;case BF:a=14;break e;case Mh:a=16,r=null;break e}throw Error(It(130,t==null?t:typeof t,""))}return e=Pc(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function am(t,e,n,r){return t=Pc(7,t,r,e),t.lanes=n,t}function XC(t,e,n,r){return t=Pc(22,t,r,e),t.elementType=Kj,t.lanes=n,t.stateNode={isHidden:!1},t}function rI(t,e,n){return t=Pc(6,t,null,e),t.lanes=n,t}function iI(t,e,n){return e=Pc(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Xoe(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=OM(0),this.expirationTimes=OM(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=OM(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lR(t,e,n,r,i,s,a,o,l){return t=new Xoe(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pc(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},GF(s),t}function Yoe(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:w0,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function OW(t){if(!t)return yd;t=t._reactInternals;e:{if(zm(t)!==t||t.tag!==1)throw Error(It(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(vl(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(It(171))}if(t.tag===1){var n=t.type;if(vl(n))return OG(t,n,e)}return e}function kW(t,e,n,r,i,s,a,o,l){return t=lR(n,r,!0,t,i,s,a,o,l),t.context=OW(null),n=t.current,r=ko(),i=td(n),s=df(r,i),s.callback=e??null,Zh(n,s,i),t.current.lanes=i,I_(t,i,r),yl(t,r),t}function YC(t,e,n,r){var i=e.current,s=ko(),a=td(i);return n=OW(n),e.context===null?e.context=n:e.pendingContext=n,e=df(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Zh(i,e,a),t!==null&&(yu(t,i,a,s),n2(t,i,a)),a}function lS(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function qk(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function cR(t,e){qk(t,e),(t=t.alternate)&&qk(t,e)}function Joe(){return null}var QW=typeof reportError=="function"?reportError:function(t){console.error(t)};function uR(t){this._internalRoot=t}JC.prototype.render=uR.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(It(409));YC(t,e,null,null)};JC.prototype.unmount=uR.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Tm(function(){YC(null,t,null,null)}),e[bf]=null}};function JC(t){this._internalRoot=t}JC.prototype.unstable_scheduleHydration=function(t){if(t){var e=gG();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Fh.length&&e!==0&&e<Fh[n].priority;n++);Fh.splice(n,0,t),n===0&&yG(t)}};function AR(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function ZC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $k(){}function Zoe(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=lS(a);s.call(c)}}var a=kW(e,r,t,0,null,!1,!1,"",$k);return t._reactRootContainer=a,t[bf]=a.current,Ew(t.nodeType===8?t.parentNode:t),Tm(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=lS(l);o.call(c)}}var l=lR(t,0,!1,null,null,!1,!1,"",$k);return t._reactRootContainer=l,t[bf]=l.current,Ew(t.nodeType===8?t.parentNode:t),Tm(function(){YC(e,l,n,r)}),l}function eB(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=lS(a);o.call(l)}}YC(e,a,t,i)}else a=Zoe(n,e,t,i,r);return lS(a)}pG=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=w1(e.pendingLanes);n!==0&&(IF(e,n|1),yl(e,ss()),!(ur&6)&&(mv=ss()+500,Od()))}break;case 13:Tm(function(){var r=Ef(t,1);if(r!==null){var i=ko();yu(r,t,1,i)}}),cR(t,1)}};PF=function(t){if(t.tag===13){var e=Ef(t,134217728);if(e!==null){var n=ko();yu(e,t,134217728,n)}cR(t,134217728)}};mG=function(t){if(t.tag===13){var e=td(t),n=Ef(t,e);if(n!==null){var r=ko();yu(n,t,e,r)}cR(t,e)}};gG=function(){return Lr};vG=function(t,e){var n=Lr;try{return Lr=t,e()}finally{Lr=n}};RP=function(t,e,n){switch(e){case"input":if(TP(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=jC(r);if(!i)throw Error(It(90));$j(r),TP(r,i)}}}break;case"textarea":Yj(t,n);break;case"select":e=n.value,e!=null&&W0(t,!!n.multiple,e,!1)}};iG=iR;sG=Tm;var ele={usingClientEntryPoint:!1,Events:[N_,S0,jC,nG,rG,iR]},Vy={findFiberByHostInstance:jp,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tle={bundleType:Vy.bundleType,version:Vy.version,rendererPackageName:Vy.rendererPackageName,rendererConfig:Vy.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kf.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=lG(t),t===null?null:t.stateNode},findFiberByHostInstance:Vy.findFiberByHostInstance||Joe,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ib=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ib.isDisabled&&ib.supportsFiber)try{QC=ib.inject(tle),tA=ib}catch{}}Yl.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ele;Yl.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AR(e))throw Error(It(200));return Yoe(t,e,null,n)};Yl.createRoot=function(t,e){if(!AR(t))throw Error(It(299));var n=!1,r="",i=QW;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=lR(t,1,!1,null,null,n,!1,r,i),t[bf]=e.current,Ew(t.nodeType===8?t.parentNode:t),new uR(e)};Yl.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(It(188)):(t=Object.keys(t).join(","),Error(It(268,t)));return t=lG(e),t=t===null?null:t.stateNode,t};Yl.flushSync=function(t){return Tm(t)};Yl.hydrate=function(t,e,n){if(!ZC(e))throw Error(It(200));return eB(null,t,e,!0,n)};Yl.hydrateRoot=function(t,e,n){if(!AR(t))throw Error(It(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=QW;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=kW(e,null,t,1,n??null,i,!1,s,a),t[bf]=e.current,Ew(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new JC(e)};Yl.render=function(t,e,n){if(!ZC(e))throw Error(It(200));return eB(null,t,e,!1,n)};Yl.unmountComponentAtNode=function(t){if(!ZC(t))throw Error(It(40));return t._reactRootContainer?(Tm(function(){eB(null,null,t,!1,function(){t._reactRootContainer=null,t[bf]=null})}),!0):!1};Yl.unstable_batchedUpdates=iR;Yl.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!ZC(n))throw Error(It(200));if(t==null||t._reactInternals===void 0)throw Error(It(38));return eB(t,e,n,!1,r)};Yl.version="18.3.1-next-f1338f8080-20240426";function HW(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HW)}catch(t){console.error(t)}}HW(),Hj.exports=Yl;var fR=Hj.exports,Xk=fR;_P.createRoot=Xk.createRoot,_P.hydrateRoot=Xk.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lw(){return Lw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lw.apply(this,arguments)}var zh;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zh||(zh={}));const Yk="popstate";function nle(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return d3("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:zW(i)}return ile(e,n,null,t)}function Hs(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function VW(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rle(){return Math.random().toString(36).substr(2,8)}function Jk(t,e){return{usr:t.state,key:t.key,idx:e}}function d3(t,e,n,r){return n===void 0&&(n=null),Lw({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?qv(e):e,{state:n,key:e&&e.key||r||rle()})}function zW(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function qv(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function ile(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=zh.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(Lw({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function A(){o=zh.Pop;let v=u(),m=v==null?null:v-c;c=v,l&&l({action:o,location:y.location,delta:m})}function f(v,m){o=zh.Push;let w=d3(y.location,v,m);c=u()+1;let _=Jk(w,c),B=y.createHref(w);try{a.pushState(_,"",B)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(B)}s&&l&&l({action:o,location:y.location,delta:1})}function h(v,m){o=zh.Replace;let w=d3(y.location,v,m);c=u();let _=Jk(w,c),B=y.createHref(w);a.replaceState(_,"",B),s&&l&&l({action:o,location:y.location,delta:0})}function p(v){let m=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:zW(v);return w=w.replace(/ $/,"%20"),Hs(m,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,m)}let y={get action(){return o},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Yk,A),l=v,()=>{i.removeEventListener(Yk,A),l=null}},createHref(v){return e(i,v)},createURL:p,encodeLocation(v){let m=p(v);return{pathname:m.pathname,search:m.search,hash:m.hash}},push:f,replace:h,go(v){return a.go(v)}};return y}var Zk;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Zk||(Zk={}));function sle(t,e,n){return n===void 0&&(n="/"),ale(t,e,n)}function ale(t,e,n,r){let i=typeof e=="string"?qv(e):e,s=WW(i.pathname||"/",n);if(s==null)return null;let a=jW(t);ole(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=yle(s);o=mle(a[l],c)}return o}function jW(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Hs(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=om([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(Hs(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),jW(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:dle(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of GW(s.path))i(s,a,l)}),e}function GW(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=GW(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function ole(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:ple(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lle=/^:[\w-]+$/,cle=3,ule=2,Ale=1,fle=10,hle=-2,e6=t=>t==="*";function dle(t,e){let n=t.split("/"),r=n.length;return n.some(e6)&&(r+=hle),e&&(r+=ule),n.filter(i=>!e6(i)).reduce((i,s)=>i+(lle.test(s)?cle:s===""?Ale:fle),r)}function ple(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function mle(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",A=gle({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!A)return null;Object.assign(i,A.params),a.push({params:i,pathname:om([s,A.pathname]),pathnameBase:Sle(om([s,A.pathnameBase])),route:f}),A.pathnameBase!=="/"&&(s=om([s,A.pathnameBase]))}return a}function gle(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=vle(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,A)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let y=o[A]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const p=o[A];return h&&!p?c[f]=void 0:c[f]=(p||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function vle(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),VW(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function yle(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return VW(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function WW(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function wle(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?qv(t):t;return{pathname:n?n.startsWith("/")?n:_le(n,e):e,search:Cle(r),hash:Ble(i)}}function _le(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function sI(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xle(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function ble(t,e){let n=xle(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Ele(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=qv(t):(i=Lw({},t),Hs(!i.pathname||!i.pathname.includes("?"),sI("?","pathname","search",i)),Hs(!i.pathname||!i.pathname.includes("#"),sI("#","pathname","hash",i)),Hs(!i.search||!i.search.includes("#"),sI("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let A=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),A-=1;i.pathname=f.join("/")}o=A>=0?e[A]:"/"}let l=wle(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const om=t=>t.join("/").replace(/\/\/+/g,"/"),Sle=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Cle=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ble=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Tle(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const KW=["post","put","patch","delete"];new Set(KW);const Mle=["get",...KW];new Set(Mle);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Fw(){return Fw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fw.apply(this,arguments)}const hR=Y.createContext(null),Ile=Y.createContext(null),tB=Y.createContext(null),nB=Y.createContext(null),jm=Y.createContext({outlet:null,matches:[],isDataRoute:!1}),qW=Y.createContext(null);function rB(){return Y.useContext(nB)!=null}function dR(){return rB()||Hs(!1),Y.useContext(nB).location}function $W(t){Y.useContext(tB).static||Y.useLayoutEffect(t)}function Gm(){let{isDataRoute:t}=Y.useContext(jm);return t?jle():Ple()}function Ple(){rB()||Hs(!1);let t=Y.useContext(hR),{basename:e,future:n,navigator:r}=Y.useContext(tB),{matches:i}=Y.useContext(jm),{pathname:s}=dR(),a=JSON.stringify(ble(i,n.v7_relativeSplatPath)),o=Y.useRef(!1);return $W(()=>{o.current=!0}),Y.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let A=Ele(c,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(A.pathname=A.pathname==="/"?e:om([e,A.pathname])),(u.replace?r.replace:r.push)(A,u.state,u)},[e,r,a,s,t])}function Nle(){let{matches:t}=Y.useContext(jm),e=t[t.length-1];return e?e.params:{}}function Lle(t,e){return Fle(t,e)}function Fle(t,e,n,r){rB()||Hs(!1);let{navigator:i}=Y.useContext(tB),{matches:s}=Y.useContext(jm),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=dR(),u;if(e){var A;let v=typeof e=="string"?qv(e):e;l==="/"||(A=v.pathname)!=null&&A.startsWith(l)||Hs(!1),u=v}else u=c;let f=u.pathname||"/",h=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let p=sle(t,{pathname:h}),y=kle(p&&p.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:om([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:om([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&y?Y.createElement(nB.Provider,{value:{location:Fw({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:zh.Pop}},y):y}function Rle(){let t=zle(),e=Tle(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Y.createElement(Y.Fragment,null,Y.createElement("h2",null,"Unexpected Application Error!"),Y.createElement("h3",{style:{fontStyle:"italic"}},e),n?Y.createElement("pre",{style:i},n):null,null)}const Ule=Y.createElement(Rle,null);class Dle extends Y.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Y.createElement(jm.Provider,{value:this.props.routeContext},Y.createElement(qW.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ole(t){let{routeContext:e,match:n,children:r}=t,i=Y.useContext(hR);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Y.createElement(jm.Provider,{value:e},r)}function kle(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(A=>A.route.id&&(o==null?void 0:o[A.route.id])!==void 0);u>=0||Hs(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let A=a[u];if((A.route.HydrateFallback||A.route.hydrateFallbackElement)&&(c=u),A.route.id){let{loaderData:f,errors:h}=n,p=A.route.loader&&f[A.route.id]===void 0&&(!h||h[A.route.id]===void 0);if(A.route.lazy||p){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,A,f)=>{let h,p=!1,y=null,v=null;n&&(h=o&&A.route.id?o[A.route.id]:void 0,y=A.route.errorElement||Ule,l&&(c<0&&f===0?(Gle("route-fallback"),p=!0,v=null):c===f&&(p=!0,v=A.route.hydrateFallbackElement||null)));let m=e.concat(a.slice(0,f+1)),w=()=>{let _;return h?_=y:p?_=v:A.route.Component?_=Y.createElement(A.route.Component,null):A.route.element?_=A.route.element:_=u,Y.createElement(Ole,{match:A,routeContext:{outlet:u,matches:m,isDataRoute:n!=null},children:_})};return n&&(A.route.ErrorBoundary||A.route.errorElement||f===0)?Y.createElement(Dle,{location:n.location,revalidation:n.revalidation,component:y,error:h,children:w(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):w()},null)}var XW=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(XW||{}),YW=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(YW||{});function Qle(t){let e=Y.useContext(hR);return e||Hs(!1),e}function Hle(t){let e=Y.useContext(Ile);return e||Hs(!1),e}function Vle(t){let e=Y.useContext(jm);return e||Hs(!1),e}function JW(t){let e=Vle(),n=e.matches[e.matches.length-1];return n.route.id||Hs(!1),n.route.id}function zle(){var t;let e=Y.useContext(qW),n=Hle(),r=JW();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function jle(){let{router:t}=Qle(XW.UseNavigateStable),e=JW(YW.UseNavigateStable),n=Y.useRef(!1);return $W(()=>{n.current=!0}),Y.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Fw({fromRouteId:e},s)))},[t,e])}const t6={};function Gle(t,e,n){t6[t]||(t6[t]=!0)}function Wle(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Eh(t){Hs(!1)}function Kle(t){let{basename:e="/",children:n=null,location:r,navigationType:i=zh.Pop,navigator:s,static:a=!1,future:o}=t;rB()&&Hs(!1);let l=e.replace(/^\/*/,"/"),c=Y.useMemo(()=>({basename:l,navigator:s,static:a,future:Fw({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=qv(r));let{pathname:u="/",search:A="",hash:f="",state:h=null,key:p="default"}=r,y=Y.useMemo(()=>{let v=WW(u,l);return v==null?null:{location:{pathname:v,search:A,hash:f,state:h,key:p},navigationType:i}},[l,u,A,f,h,p,i]);return y==null?null:Y.createElement(tB.Provider,{value:c},Y.createElement(nB.Provider,{children:n,value:y}))}function qle(t){let{children:e,location:n}=t;return Lle(p3(e),n)}new Promise(()=>{});function p3(t,e){e===void 0&&(e=[]);let n=[];return Y.Children.forEach(t,(r,i)=>{if(!Y.isValidElement(r))return;let s=[...e,i];if(r.type===Y.Fragment){n.push.apply(n,p3(r.props.children,s));return}r.type!==Eh&&Hs(!1),!r.props.index||!r.props.children||Hs(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=p3(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const $le="6";try{window.__reactRouterVersion=$le}catch{}const Xle="startTransition",n6=Yse[Xle];function Yle(t){let{basename:e,children:n,future:r,window:i}=t,s=Y.useRef();s.current==null&&(s.current=nle({window:i,v5Compat:!0}));let a=s.current,[o,l]=Y.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=Y.useCallback(A=>{c&&n6?n6(()=>l(A)):l(A)},[l,c]);return Y.useLayoutEffect(()=>a.listen(u),[a,u]),Y.useEffect(()=>Wle(r),[r]),Y.createElement(Kle,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}var r6;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(r6||(r6={}));var i6;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(i6||(i6={}));const pR=Y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),iB=Y.createContext({}),sB=Y.createContext(null),aB=typeof document<"u",oB=aB?Y.useLayoutEffect:Y.useEffect,ZW=Y.createContext({strict:!1}),mR=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Jle="framerAppearId",eK="data-"+mR(Jle);function Zle(t,e,n,r){const{visualElement:i}=Y.useContext(iB),s=Y.useContext(ZW),a=Y.useContext(sB),o=Y.useContext(pR).reducedMotion,l=Y.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;Y.useInsertionEffect(()=>{c&&c.update(n,a)});const u=Y.useRef(!!(n[eK]&&!window.HandoffComplete));return oB(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),Y.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function N0(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ece(t,e,n){return Y.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):N0(n)&&(n.current=r))},[e])}function Rw(t){return typeof t=="string"||Array.isArray(t)}function lB(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const gR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],vR=["initial",...gR];function cB(t){return lB(t.animate)||vR.some(e=>Rw(t[e]))}function tK(t){return!!(cB(t)||t.variants)}function tce(t,e){if(cB(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Rw(n)?n:void 0,animate:Rw(r)?r:void 0}}return t.inherit!==!1?e:{}}function nce(t){const{initial:e,animate:n}=tce(t,Y.useContext(iB));return Y.useMemo(()=>({initial:e,animate:n}),[s6(e),s6(n)])}function s6(t){return Array.isArray(t)?t.join(" "):t}const a6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Uw={};for(const t in a6)Uw[t]={isEnabled:e=>a6[t].some(n=>!!e[n])};function rce(t){for(const e in t)Uw[e]={...Uw[e],...t[e]}}const yR=Y.createContext({}),nK=Y.createContext({}),ice=Symbol.for("motionComponentSymbol");function sce({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&rce(t);function s(o,l){let c;const u={...Y.useContext(pR),...o,layoutId:ace(o)},{isStatic:A}=u,f=nce(o),h=r(o,A);if(!A&&aB){f.visualElement=Zle(i,h,u,e);const p=Y.useContext(nK),y=Y.useContext(ZW).strict;f.visualElement&&(c=f.visualElement.loadFeatures(u,y,t,p))}return Y.createElement(iB.Provider,{value:f},c&&f.visualElement?Y.createElement(c,{visualElement:f.visualElement,...u}):null,n(i,o,ece(h,f.visualElement,l),h,A,f.visualElement))}const a=Y.forwardRef(s);return a[ice]=i,a}function ace({layoutId:t}){const e=Y.useContext(yR).id;return e&&t!==void 0?e+"-"+t:t}function oce(t){function e(r,i={}){return sce(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const lce=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function wR(t){return typeof t!="string"||t.includes("-")?!1:!!(lce.indexOf(t)>-1||/[A-Z]/.test(t))}const cS={};function cce(t){Object.assign(cS,t)}const F_=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Wm=new Set(F_);function rK(t,{layout:e,layoutId:n}){return Wm.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!cS[t]||t==="opacity")}const Vo=t=>!!(t&&t.getVelocity),uce={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Ace=F_.length;function fce(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let a=0;a<Ace;a++){const o=F_[a];if(t[o]!==void 0){const l=uce[o]||o;s+=`${l}(${t[o]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const iK=t=>e=>typeof e=="string"&&e.startsWith(t),sK=iK("--"),m3=iK("var(--"),hce=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,dce=(t,e)=>e&&typeof t=="number"?e.transform(t):t,wd=(t,e,n)=>Math.min(Math.max(n,t),e),Km={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},W1={...Km,transform:t=>wd(0,1,t)},sb={...Km,default:1},K1=t=>Math.round(t*1e5)/1e5,uB=/(-)?([\d]*\.?[\d])+/g,aK=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,pce=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function R_(t){return typeof t=="string"}const U_=t=>({test:e=>R_(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Sh=U_("deg"),rA=U_("%"),wn=U_("px"),mce=U_("vh"),gce=U_("vw"),o6={...rA,parse:t=>rA.parse(t)/100,transform:t=>rA.transform(t*100)},l6={...Km,transform:Math.round},oK={borderWidth:wn,borderTopWidth:wn,borderRightWidth:wn,borderBottomWidth:wn,borderLeftWidth:wn,borderRadius:wn,radius:wn,borderTopLeftRadius:wn,borderTopRightRadius:wn,borderBottomRightRadius:wn,borderBottomLeftRadius:wn,width:wn,maxWidth:wn,height:wn,maxHeight:wn,size:wn,top:wn,right:wn,bottom:wn,left:wn,padding:wn,paddingTop:wn,paddingRight:wn,paddingBottom:wn,paddingLeft:wn,margin:wn,marginTop:wn,marginRight:wn,marginBottom:wn,marginLeft:wn,rotate:Sh,rotateX:Sh,rotateY:Sh,rotateZ:Sh,scale:sb,scaleX:sb,scaleY:sb,scaleZ:sb,skew:Sh,skewX:Sh,skewY:Sh,distance:wn,translateX:wn,translateY:wn,translateZ:wn,x:wn,y:wn,z:wn,perspective:wn,transformPerspective:wn,opacity:W1,originX:o6,originY:o6,originZ:wn,zIndex:l6,fillOpacity:W1,strokeOpacity:W1,numOctaves:l6};function _R(t,e,n,r){const{style:i,vars:s,transform:a,transformOrigin:o}=t;let l=!1,c=!1,u=!0;for(const A in e){const f=e[A];if(sK(A)){s[A]=f;continue}const h=oK[A],p=dce(f,h);if(Wm.has(A)){if(l=!0,a[A]=p,!u)continue;f!==(h.default||0)&&(u=!1)}else A.startsWith("origin")?(c=!0,o[A]=p):i[A]=p}if(e.transform||(l||r?i.transform=fce(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:A="50%",originY:f="50%",originZ:h=0}=o;i.transformOrigin=`${A} ${f} ${h}`}}const xR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function lK(t,e,n){for(const r in e)!Vo(e[r])&&!rK(r,n)&&(t[r]=e[r])}function vce({transformTemplate:t},e,n){return Y.useMemo(()=>{const r=xR();return _R(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function yce(t,e,n){const r=t.style||{},i={};return lK(i,r,t),Object.assign(i,vce(t,e,n)),t.transformValues?t.transformValues(i):i}function wce(t,e,n){const r={},i=yce(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const _ce=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function uS(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||_ce.has(t)}let cK=t=>!uS(t);function xce(t){t&&(cK=e=>e.startsWith("on")?!uS(e):t(e))}try{xce(require("@emotion/is-prop-valid").default)}catch{}function bce(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(cK(i)||n===!0&&uS(i)||!e&&!uS(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function c6(t,e,n){return typeof t=="string"?t:wn.transform(e+n*t)}function Ece(t,e,n){const r=c6(e,t.x,t.width),i=c6(n,t.y,t.height);return`${r} ${i}`}const Sce={offset:"stroke-dashoffset",array:"stroke-dasharray"},Cce={offset:"strokeDashoffset",array:"strokeDasharray"};function Bce(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?Sce:Cce;t[s.offset]=wn.transform(-r);const a=wn.transform(e),o=wn.transform(n);t[s.array]=`${a} ${o}`}function bR(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},u,A,f){if(_R(t,c,u,f),A){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:p,dimensions:y}=t;h.transform&&(y&&(p.transform=h.transform),delete h.transform),y&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=Ece(y,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),a!==void 0&&Bce(h,a,o,l,!1)}const uK=()=>({...xR(),attrs:{}}),ER=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Tce(t,e,n,r){const i=Y.useMemo(()=>{const s=uK();return bR(s,e,{enableHardwareAcceleration:!1},ER(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};lK(s,t.style,t),i.style={...s,...i.style}}return i}function Mce(t=!1){return(n,r,i,{latestValues:s},a)=>{const l=(wR(n)?Tce:wce)(r,s,a,n),u={...bce(r,typeof n=="string",t),...l,ref:i},{children:A}=r,f=Y.useMemo(()=>Vo(A)?A.get():A,[A]);return Y.createElement(n,{...u,children:f})}}function AK(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const fK=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function hK(t,e,n,r){AK(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(fK.has(i)?i:mR(i),e.attrs[i])}function SR(t,e){const{style:n}=t,r={};for(const i in n)(Vo(n[i])||e.style&&Vo(e.style[i])||rK(i,t))&&(r[i]=n[i]);return r}function dK(t,e){const n=SR(t,e);for(const r in t)if(Vo(t[r])||Vo(e[r])){const i=F_.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function CR(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function $v(t){const e=Y.useRef(null);return e.current===null&&(e.current=t()),e.current}const AS=t=>Array.isArray(t),Ice=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),Pce=t=>AS(t)?t[t.length-1]||0:t;function c2(t){const e=Vo(t)?t.get():t;return Ice(e)?e.toValue():e}function Nce({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const a={latestValues:Lce(r,i,s,t),renderState:e()};return n&&(a.mount=o=>n(r,o,a)),a}const pK=t=>(e,n)=>{const r=Y.useContext(iB),i=Y.useContext(sB),s=()=>Nce(t,e,r,i);return n?s():$v(s)};function Lce(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=c2(s[f]);let{initial:a,animate:o}=t;const l=cB(t),c=tK(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=n?n.initial===!1:!1;u=u||a===!1;const A=u?o:a;return A&&typeof A!="boolean"&&!lB(A)&&(Array.isArray(A)?A:[A]).forEach(h=>{const p=CR(t,h);if(!p)return;const{transitionEnd:y,transition:v,...m}=p;for(const w in m){let _=m[w];if(Array.isArray(_)){const B=u?_.length-1:0;_=_[B]}_!==null&&(i[w]=_)}for(const w in y)i[w]=y[w]}),i}const As=t=>t;class u6{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function Fce(t){let e=new u6,n=new u6,r=0,i=!1,s=!1;const a=new WeakSet,o={schedule:(l,c=!1,u=!1)=>{const A=u&&i,f=A?e:n;return c&&a.add(l),f.add(l)&&A&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),a.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),a.has(u)&&(o.schedule(u),t())}i=!1,s&&(s=!1,o.process(l))}};return o}const ab=["prepare","read","update","preRender","render","postRender"],Rce=40;function Uce(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=ab.reduce((A,f)=>(A[f]=Fce(()=>n=!0),A),{}),a=A=>s[A].process(i),o=()=>{const A=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(A-i.timestamp,Rce),1),i.timestamp=A,i.isProcessing=!0,ab.forEach(a),i.isProcessing=!1,n&&e&&(r=!1,t(o))},l=()=>{n=!0,r=!0,i.isProcessing||t(o)};return{schedule:ab.reduce((A,f)=>{const h=s[f];return A[f]=(p,y=!1,v=!1)=>(n||l(),h.schedule(p,y,v)),A},{}),cancel:A=>ab.forEach(f=>s[f].cancel(A)),state:i,steps:s}}const{schedule:Vr,cancel:mA,state:lo,steps:aI}=Uce(typeof requestAnimationFrame<"u"?requestAnimationFrame:As,!0),Dce={useVisualState:pK({scrapeMotionValuesFromProps:dK,createRenderState:uK,onMount:(t,e,{renderState:n,latestValues:r})=>{Vr.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Vr.render(()=>{bR(n,r,{enableHardwareAcceleration:!1},ER(e.tagName),t.transformTemplate),hK(e,n)})}})},Oce={useVisualState:pK({scrapeMotionValuesFromProps:SR,createRenderState:xR})};function kce(t,{forwardMotionProps:e=!1},n,r){return{...wR(t)?Dce:Oce,preloadedFeatures:n,useRender:Mce(e),createVisualElement:r,Component:t}}function of(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const mK=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function AB(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const Qce=t=>e=>mK(e)&&t(e,AB(e));function pf(t,e,n,r){return of(t,e,Qce(n),r)}const Hce=(t,e)=>n=>e(t(n)),rd=(...t)=>t.reduce(Hce);function gK(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const A6=gK("dragHorizontal"),f6=gK("dragVertical");function vK(t){let e=!1;if(t==="y")e=f6();else if(t==="x")e=A6();else{const n=A6(),r=f6();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function yK(){const t=vK(!0);return t?(t(),!1):!0}class kd{constructor(e){this.isMounted=!1,this.node=e}update(){}}function h6(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,a)=>{if(s.pointerType==="touch"||yK())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[r]&&Vr.update(()=>o[r](s,a))};return pf(t.current,n,i,{passive:!t.getProps()[r]})}class Vce extends kd{mount(){this.unmount=rd(h6(this.node,!0),h6(this.node,!1))}unmount(){}}class zce extends kd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=rd(of(this.node.current,"focus",()=>this.onFocus()),of(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const wK=(t,e)=>e?t===e?!0:wK(t,e.parentElement):!1;function oI(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,AB(n))}class jce extends kd{constructor(){super(...arguments),this.removeStartListeners=As,this.removeEndListeners=As,this.removeAccessibleListeners=As,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=pf(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:A}=this.node.getProps();Vr.update(()=>{!A&&!wK(this.node.current,o.target)?u&&u(o,l):c&&c(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),a=pf(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=rd(s,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||oI("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Vr.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=of(this.node.current,"keyup",a),oI("down",(o,l)=>{this.startPress(o,l)})},n=of(this.node.current,"keydown",e),r=()=>{this.isPressing&&oI("cancel",(s,a)=>this.cancelPress(s,a))},i=of(this.node.current,"blur",r);this.removeAccessibleListeners=rd(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Vr.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!yK()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Vr.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=pf(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=of(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=rd(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const g3=new WeakMap,lI=new WeakMap,Gce=t=>{const e=g3.get(t.target);e&&e(t)},Wce=t=>{t.forEach(Gce)};function Kce({root:t,...e}){const n=t||document;lI.has(n)||lI.set(n,{});const r=lI.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(Wce,{root:t,...e})),r[i]}function qce(t,e,n){const r=Kce(e);return g3.set(t,n),r.observe(t),()=>{g3.delete(t),r.unobserve(t)}}const $ce={some:0,all:1};class Xce extends kd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:$ce[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:A}=this.node.getProps(),f=c?u:A;f&&f(l)};return qce(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Yce(e,n))&&this.startObserver()}unmount(){}}function Yce({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Jce={inView:{Feature:Xce},tap:{Feature:jce},focus:{Feature:zce},hover:{Feature:Vce}};function _K(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Zce(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function eue(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function fB(t,e,n){const r=t.getProps();return CR(r,e,n!==void 0?n:r.custom,Zce(t),eue(t))}let BR=As;const lm=t=>t*1e3,mf=t=>t/1e3,tue={current:!1},xK=t=>Array.isArray(t)&&typeof t[0]=="number";function bK(t){return!!(!t||typeof t=="string"&&EK[t]||xK(t)||Array.isArray(t)&&t.every(bK))}const x1=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,EK={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:x1([0,.65,.55,1]),circOut:x1([.55,0,1,.45]),backIn:x1([.31,.01,.66,-.59]),backOut:x1([.33,1.53,.69,.99])};function SK(t){if(t)return xK(t)?x1(t):Array.isArray(t)?t.map(SK):EK[t]}function nue(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=SK(o);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function rue(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const CK=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,iue=1e-7,sue=12;function aue(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=CK(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>iue&&++o<sue);return a}function D_(t,e,n,r){if(t===e&&n===r)return As;const i=s=>aue(s,0,1,t,n);return s=>s===0||s===1?s:CK(i(s),e,r)}const oue=D_(.42,0,1,1),lue=D_(0,0,.58,1),BK=D_(.42,0,.58,1),cue=t=>Array.isArray(t)&&typeof t[0]!="number",TK=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,MK=t=>e=>1-t(1-e),TR=t=>1-Math.sin(Math.acos(t)),IK=MK(TR),uue=TK(TR),PK=D_(.33,1.53,.69,.99),MR=MK(PK),Aue=TK(MR),fue=t=>(t*=2)<1?.5*MR(t):.5*(2-Math.pow(2,-10*(t-1))),hue={linear:As,easeIn:oue,easeInOut:BK,easeOut:lue,circIn:TR,circInOut:uue,circOut:IK,backIn:MR,backInOut:Aue,backOut:PK,anticipate:fue},d6=t=>{if(Array.isArray(t)){BR(t.length===4);const[e,n,r,i]=t;return D_(e,n,r,i)}else if(typeof t=="string")return hue[t];return t},IR=(t,e)=>n=>!!(R_(n)&&pce.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),NK=(t,e,n)=>r=>{if(!R_(r))return r;const[i,s,a,o]=r.match(uB);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},due=t=>wd(0,255,t),cI={...Km,transform:t=>Math.round(due(t))},Kp={test:IR("rgb","red"),parse:NK("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+cI.transform(t)+", "+cI.transform(e)+", "+cI.transform(n)+", "+K1(W1.transform(r))+")"};function pue(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const v3={test:IR("#"),parse:pue,transform:Kp.transform},L0={test:IR("hsl","hue"),parse:NK("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+rA.transform(K1(e))+", "+rA.transform(K1(n))+", "+K1(W1.transform(r))+")"},Ro={test:t=>Kp.test(t)||v3.test(t)||L0.test(t),parse:t=>Kp.test(t)?Kp.parse(t):L0.test(t)?L0.parse(t):v3.parse(t),transform:t=>R_(t)?t:t.hasOwnProperty("red")?Kp.transform(t):L0.transform(t)},xi=(t,e,n)=>-n*t+n*e+t;function uI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function mue({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=uI(l,o,t+1/3),s=uI(l,o,t),a=uI(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}const AI=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},gue=[v3,Kp,L0],vue=t=>gue.find(e=>e.test(t));function p6(t){const e=vue(t);let n=e.parse(t);return e===L0&&(n=mue(n)),n}const LK=(t,e)=>{const n=p6(t),r=p6(e),i={...n};return s=>(i.red=AI(n.red,r.red,s),i.green=AI(n.green,r.green,s),i.blue=AI(n.blue,r.blue,s),i.alpha=xi(n.alpha,r.alpha,s),Kp.transform(i))};function yue(t){var e,n;return isNaN(t)&&R_(t)&&(((e=t.match(uB))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(aK))===null||n===void 0?void 0:n.length)||0)>0}const FK={regex:hce,countKey:"Vars",token:"${v}",parse:As},RK={regex:aK,countKey:"Colors",token:"${c}",parse:Ro.parse},UK={regex:uB,countKey:"Numbers",token:"${n}",parse:Km.parse};function fI(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function fS(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&fI(n,FK),fI(n,RK),fI(n,UK),n}function DK(t){return fS(t).values}function OK(t){const{values:e,numColors:n,numVars:r,tokenised:i}=fS(t),s=e.length;return a=>{let o=i;for(let l=0;l<s;l++)l<r?o=o.replace(FK.token,a[l]):l<r+n?o=o.replace(RK.token,Ro.transform(a[l])):o=o.replace(UK.token,K1(a[l]));return o}}const wue=t=>typeof t=="number"?0:t;function _ue(t){const e=DK(t);return OK(t)(e.map(wue))}const _d={test:yue,parse:DK,createTransformer:OK,getAnimatableNone:_ue},kK=(t,e)=>n=>`${n>0?e:t}`;function QK(t,e){return typeof t=="number"?n=>xi(t,e,n):Ro.test(t)?LK(t,e):t.startsWith("var(")?kK(t,e):VK(t,e)}const HK=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,a)=>QK(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}},xue=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=QK(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},VK=(t,e)=>{const n=_d.createTransformer(e),r=fS(t),i=fS(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?rd(HK(r.values,i.values),n):kK(t,e)},Dw=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},m6=(t,e)=>n=>xi(t,e,n);function bue(t){return typeof t=="number"?m6:typeof t=="string"?Ro.test(t)?LK:VK:Array.isArray(t)?HK:typeof t=="object"?xue:m6}function Eue(t,e,n){const r=[],i=n||bue(t[0]),s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||As:e;o=rd(l,o)}r.push(o)}return r}function PR(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(BR(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=Eue(e,r,i),o=a.length,l=c=>{let u=0;if(o>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const A=Dw(t[u],t[u+1],c);return a[u](A)};return n?c=>l(wd(t[0],t[s-1],c)):l}function Sue(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Dw(0,e,r);t.push(xi(n,1,i))}}function Cue(t){const e=[0];return Sue(e,t.length-1),e}function Bue(t,e){return t.map(n=>n*e)}function Tue(t,e){return t.map(()=>e||BK).splice(0,t.length-1)}function hS({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=cue(r)?r.map(d6):d6(r),s={done:!1,value:e[0]},a=Bue(n&&n.length===e.length?n:Cue(e),t),o=PR(a,e,{ease:Array.isArray(i)?i:Tue(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}function zK(t,e){return e?t*(1e3/e):0}const Mue=5;function jK(t,e,n){const r=Math.max(e-Mue,0);return zK(n-t(r),e-r)}const hI=.001,Iue=.01,Pue=10,Nue=.05,Lue=1;function Fue({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s,a=1-e;a=wd(Nue,Lue,a),t=wd(Iue,Pue,mf(t)),a<1?(i=c=>{const u=c*a,A=u*t,f=u-n,h=y3(c,a),p=Math.exp(-A);return hI-f/h*p},s=c=>{const A=c*a*t,f=A*n+n,h=Math.pow(a,2)*Math.pow(c,2)*t,p=Math.exp(-A),y=y3(Math.pow(c,2),a);return(-i(c)+hI>0?-1:1)*((f-h)*p)/y}):(i=c=>{const u=Math.exp(-c*t),A=(c-n)*t+1;return-hI+u*A},s=c=>{const u=Math.exp(-c*t),A=(n-c)*(t*t);return u*A});const o=5/t,l=Uue(i,s,o);if(t=lm(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const Rue=12;function Uue(t,e,n){let r=n;for(let i=1;i<Rue;i++)r=r-t(r)/e(r);return r}function y3(t,e){return t*Math.sqrt(1-e*e)}const Due=["duration","bounce"],Oue=["stiffness","damping","mass"];function g6(t,e){return e.some(n=>t[n]!==void 0)}function kue(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!g6(t,Oue)&&g6(t,Due)){const n=Fue(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function GK({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],a={done:!1,value:i},{stiffness:o,damping:l,mass:c,duration:u,velocity:A,isResolvedFromDuration:f}=kue({...r,velocity:-mf(r.velocity||0)}),h=A||0,p=l/(2*Math.sqrt(o*c)),y=s-i,v=mf(Math.sqrt(o/c)),m=Math.abs(y)<5;n||(n=m?.01:2),e||(e=m?.005:.5);let w;if(p<1){const _=y3(v,p);w=B=>{const R=Math.exp(-p*v*B);return s-R*((h+p*v*y)/_*Math.sin(_*B)+y*Math.cos(_*B))}}else if(p===1)w=_=>s-Math.exp(-v*_)*(y+(h+v*y)*_);else{const _=v*Math.sqrt(p*p-1);w=B=>{const R=Math.exp(-p*v*B),L=Math.min(_*B,300);return s-R*((h+p*v*y)*Math.sinh(L)+_*y*Math.cosh(L))/_}}return{calculatedDuration:f&&u||null,next:_=>{const B=w(_);if(f)a.done=_>=u;else{let R=h;_!==0&&(p<1?R=jK(w,_,B):R=0);const L=Math.abs(R)<=n,S=Math.abs(s-B)<=e;a.done=L&&S}return a.value=a.done?s:B,a}}}function v6({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const A=t[0],f={done:!1,value:A},h=M=>o!==void 0&&M<o||l!==void 0&&M>l,p=M=>o===void 0?l:l===void 0||Math.abs(o-M)<Math.abs(l-M)?o:l;let y=n*e;const v=A+y,m=a===void 0?v:a(v);m!==v&&(y=m-A);const w=M=>-y*Math.exp(-M/r),_=M=>m+w(M),B=M=>{const T=w(M),F=_(M);f.done=Math.abs(T)<=c,f.value=f.done?m:F};let R,L;const S=M=>{h(f.value)&&(R=M,L=GK({keyframes:[f.value,p(f.value)],velocity:jK(_,M,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return S(0),{calculatedDuration:null,next:M=>{let T=!1;return!L&&R===void 0&&(T=!0,B(M),S(M)),R!==void 0&&M>R?L.next(M-R):(!T&&B(M),f)}}}const Que=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Vr.update(e,!0),stop:()=>mA(e),now:()=>lo.isProcessing?lo.timestamp:performance.now()}},y6=2e4;function w6(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<y6;)e+=n,r=t.next(e);return e>=y6?1/0:e}const Hue={decay:v6,inertia:v6,tween:hS,keyframes:hS,spring:GK};function dS({autoplay:t=!0,delay:e=0,driver:n=Que,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:A,...f}){let h=1,p=!1,y,v;const m=()=>{v=new Promise(re=>{y=re})};m();let w;const _=Hue[i]||hS;let B;_!==hS&&typeof r[0]!="number"&&(B=PR([0,100],r,{clamp:!1}),r=[0,100]);const R=_({...f,keyframes:r});let L;o==="mirror"&&(L=_({...f,keyframes:[...r].reverse(),velocity:-(f.velocity||0)}));let S="idle",M=null,T=null,F=null;R.calculatedDuration===null&&s&&(R.calculatedDuration=w6(R));const{calculatedDuration:P}=R;let D=1/0,H=1/0;P!==null&&(D=P+a,H=D*(s+1)-a);let X=0;const fe=re=>{if(T===null)return;h>0&&(T=Math.min(T,re)),h<0&&(T=Math.min(re-H/h,T)),M!==null?X=M:X=Math.round(re-T)*h;const k=X-e*(h>=0?1:-1),$=h>=0?k<0:k>H;X=Math.max(k,0),S==="finished"&&M===null&&(X=H);let j=X,G=R;if(s){const he=Math.min(X,H)/D;let ve=Math.floor(he),Ee=he%1;!Ee&&he>=1&&(Ee=1),Ee===1&&ve--,ve=Math.min(ve,s+1),!!(ve%2)&&(o==="reverse"?(Ee=1-Ee,a&&(Ee-=a/D)):o==="mirror"&&(G=L)),j=wd(0,1,Ee)*D}const q=$?{done:!1,value:r[0]}:G.next(j);B&&(q.value=B(q.value));let{done:W}=q;!$&&P!==null&&(W=h>=0?X>=H:X<=0);const ge=M===null&&(S==="finished"||S==="running"&&W);return A&&A(q.value),ge&&J(),q},ue=()=>{w&&w.stop(),w=void 0},me=()=>{S="idle",ue(),y(),m(),T=F=null},J=()=>{S="finished",u&&u(),ue(),y()},le=()=>{if(p)return;w||(w=n(fe));const re=w.now();l&&l(),M!==null?T=re-M:(!T||S==="finished")&&(T=re),S==="finished"&&m(),F=T,M=null,S="running",w.start()};t&&le();const ee={then(re,k){return v.then(re,k)},get time(){return mf(X)},set time(re){re=lm(re),X=re,M!==null||!w||h===0?M=re:T=w.now()-re/h},get duration(){const re=R.calculatedDuration===null?w6(R):R.calculatedDuration;return mf(re)},get speed(){return h},set speed(re){re===h||!w||(h=re,ee.time=mf(X))},get state(){return S},play:le,pause:()=>{S="paused",M=X},stop:()=>{p=!0,S!=="idle"&&(S="idle",c&&c(),me())},cancel:()=>{F!==null&&fe(F),me()},complete:()=>{S="finished"},sample:re=>(T=0,fe(re))};return ee}function Vue(t){let e;return()=>(e===void 0&&(e=t()),e)}const zue=Vue(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),jue=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ob=10,Gue=2e4,Wue=(t,e)=>e.type==="spring"||t==="backgroundColor"||!bK(e.ease);function Kue(t,e,{onUpdate:n,onComplete:r,...i}){if(!(zue()&&jue.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,o,l,c=!1;const u=()=>{l=new Promise(_=>{o=_})};u();let{keyframes:A,duration:f=300,ease:h,times:p}=i;if(Wue(e,i)){const _=dS({...i,repeat:0,delay:0});let B={done:!1,value:A[0]};const R=[];let L=0;for(;!B.done&&L<Gue;)B=_.sample(L),R.push(B.value),L+=ob;p=void 0,A=R,f=L-ob,h="linear"}const y=nue(t.owner.current,e,A,{...i,duration:f,ease:h,times:p}),v=()=>{c=!1,y.cancel()},m=()=>{c=!0,Vr.update(v),o(),u()};return y.onfinish=()=>{c||(t.set(rue(A,i)),r&&r(),m())},{then(_,B){return l.then(_,B)},attachTimeline(_){return y.timeline=_,y.onfinish=null,As},get time(){return mf(y.currentTime||0)},set time(_){y.currentTime=lm(_)},get speed(){return y.playbackRate},set speed(_){y.playbackRate=_},get duration(){return mf(f)},play:()=>{a||(y.play(),mA(v))},pause:()=>y.pause(),stop:()=>{if(a=!0,y.playState==="idle")return;const{currentTime:_}=y;if(_){const B=dS({...i,autoplay:!1});t.setWithVelocity(B.sample(_-ob).value,B.sample(_).value,ob)}m()},complete:()=>{c||y.finish()},cancel:m}}function que({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:As,pause:As,stop:As,then:s=>(s(),Promise.resolve()),cancel:As,complete:As});return e?dS({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const $ue={type:"spring",stiffness:500,damping:25,restSpeed:10},Xue=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Yue={type:"keyframes",duration:.8},Jue={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Zue=(t,{keyframes:e})=>e.length>2?Yue:Wm.has(t)?t.startsWith("scale")?Xue(e[1]):$ue:Jue,w3=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(_d.test(e)||e==="0")&&!e.startsWith("url(")),eAe=new Set(["brightness","contrast","saturate","opacity"]);function tAe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(uB)||[];if(!r)return t;const i=n.replace(r,"");let s=eAe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const nAe=/([a-z-]*)\(.*?\)/g,_3={..._d,getAnimatableNone:t=>{const e=t.match(nAe);return e?e.map(tAe).join(" "):t}},rAe={...oK,color:Ro,backgroundColor:Ro,outlineColor:Ro,fill:Ro,stroke:Ro,borderColor:Ro,borderTopColor:Ro,borderRightColor:Ro,borderBottomColor:Ro,borderLeftColor:Ro,filter:_3,WebkitFilter:_3},NR=t=>rAe[t];function WK(t,e){let n=NR(t);return n!==_3&&(n=_d),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const KK=t=>/^0[^.\s]+$/.test(t);function iAe(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||KK(t)}function sAe(t,e,n,r){const i=w3(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const a=r.from!==void 0?r.from:t.get();let o;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?a:s[c-1]),iAe(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(o=s[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++){const u=l[c];s[u]=WK(e,o)}return s}function aAe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function LR(t,e){return t[e]||t.default||t}const oAe={skipAnimations:!1},FR=(t,e,n,r={})=>i=>{const s=LR(r,t)||{},a=s.delay||r.delay||0;let{elapsed:o=0}=r;o=o-lm(a);const l=sAe(e,t,n,s),c=l[0],u=l[l.length-1],A=w3(t,c),f=w3(t,u);let h={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-o,onUpdate:p=>{e.set(p),s.onUpdate&&s.onUpdate(p)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(aAe(s)||(h={...h,...Zue(t,h)}),h.duration&&(h.duration=lm(h.duration)),h.repeatDelay&&(h.repeatDelay=lm(h.repeatDelay)),!A||!f||tue.current||s.type===!1||oAe.skipAnimations)return que(h);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const p=Kue(e,t,h);if(p)return p}return dS(h)};function pS(t){return!!(Vo(t)&&t.add)}const qK=t=>/^\-?\d*\.?\d+$/.test(t);function RR(t,e){t.indexOf(e)===-1&&t.push(e)}function UR(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function lAe([...t],e,n){const r=e<0?t.length+e:e;if(r>=0&&r<t.length){const i=n<0?t.length+n:n,[s]=t.splice(e,1);t.splice(i,0,s)}return t}class DR{constructor(){this.subscriptions=[]}add(e){return RR(this.subscriptions,e),()=>UR(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const cAe=t=>!isNaN(parseFloat(t)),q1={current:void 0};class uAe{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:a}=lo;this.lastUpdated!==a&&(this.timeDelta=s,this.lastUpdated=a,Vr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Vr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=cAe(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new DR);const r=this.events[e].add(n);return e==="change"?()=>{r(),Vr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return q1.current&&q1.current.push(this),this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?zK(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Mm(t,e){return new uAe(t,e)}const $K=t=>e=>e.test(t),AAe={test:t=>t==="auto",parse:t=>t},XK=[Km,wn,rA,Sh,gce,mce,AAe],zy=t=>XK.find($K(t)),fAe=[...XK,Ro,_d],hAe=t=>fAe.find($K(t));function dAe(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Mm(n))}function pAe(t,e){const n=fB(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const a in s){const o=Pce(s[a]);dAe(t,a,o)}}function mAe(t,e,n){var r,i;const s=Object.keys(e).filter(o=>!t.hasValue(o)),a=s.length;if(a)for(let o=0;o<a;o++){const l=s[o],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(qK(u)||KK(u))?u=parseFloat(u):!hAe(u)&&_d.test(c)&&(u=WK(l,c)),t.addValue(l,Mm(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function gAe(t,e){return e?(e[t]||e.default||e).from:void 0}function vAe(t,e,n){const r={};for(const i in t){const s=gAe(i,e);if(s!==void 0)r[i]=s;else{const a=n.getValue(i);a&&(r[i]=a.get())}}return r}function yAe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function wAe(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function YK(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const A in o){const f=t.getValue(A),h=o[A];if(!f||h===void 0||u&&yAe(u,A))continue;const p={delay:n,elapsed:0,...LR(s||{},A)};if(window.HandoffAppearAnimations){const m=t.getProps()[eK];if(m){const w=window.HandoffAppearAnimations(m,A,f,Vr);w!==null&&(p.elapsed=w,p.isHandoff=!0)}}let y=!p.isHandoff&&!wAe(f,h);if(p.type==="spring"&&(f.getVelocity()||p.velocity)&&(y=!1),f.animation&&(y=!1),y)continue;f.start(FR(A,f,h,t.shouldReduceMotion&&Wm.has(A)?{type:!1}:p));const v=f.animation;pS(l)&&(l.add(A),v.then(()=>l.remove(A))),c.push(v)}return a&&Promise.all(c).then(()=>{a&&pAe(t,a)}),c}function x3(t,e,n={}){const r=fB(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(YK(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:A}=i;return _Ae(t,e,c+l,u,A,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[s,a]:[a,s];return l().then(()=>c())}else return Promise.all([s(),a(n.delay)])}function _Ae(t,e,n=0,r=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(t.variantChildren).sort(xAe).forEach((c,u)=>{c.notify("AnimationStart",e),a.push(x3(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function xAe(t,e){return t.sortNodePosition(e)}function bAe(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>x3(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=x3(t,e,n);else{const i=typeof e=="function"?fB(t,e,n.custom):e;r=Promise.all(YK(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const EAe=[...gR].reverse(),SAe=gR.length;function CAe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>bAe(t,n,r)))}function BAe(t){let e=CAe(t);const n=MAe();let r=!0;const i=(l,c)=>{const u=fB(t,c);if(u){const{transition:A,transitionEnd:f,...h}=u;l={...l,...h,...f}}return l};function s(l){e=l(t)}function a(l,c){const u=t.getProps(),A=t.getVariantContext(!0)||{},f=[],h=new Set;let p={},y=1/0;for(let m=0;m<SAe;m++){const w=EAe[m],_=n[w],B=u[w]!==void 0?u[w]:A[w],R=Rw(B),L=w===c?_.isActive:null;L===!1&&(y=m);let S=B===A[w]&&B!==u[w]&&R;if(S&&r&&t.manuallyAnimateOnMount&&(S=!1),_.protectedKeys={...p},!_.isActive&&L===null||!B&&!_.prevProp||lB(B)||typeof B=="boolean")continue;let T=TAe(_.prevProp,B)||w===c&&_.isActive&&!S&&R||m>y&&R,F=!1;const P=Array.isArray(B)?B:[B];let D=P.reduce(i,{});L===!1&&(D={});const{prevResolvedValues:H={}}=_,X={...H,...D},fe=ue=>{T=!0,h.has(ue)&&(F=!0,h.delete(ue)),_.needsAnimating[ue]=!0};for(const ue in X){const me=D[ue],J=H[ue];if(p.hasOwnProperty(ue))continue;let le=!1;AS(me)&&AS(J)?le=!_K(me,J):le=me!==J,le?me!==void 0?fe(ue):h.add(ue):me!==void 0&&h.has(ue)?fe(ue):_.protectedKeys[ue]=!0}_.prevProp=B,_.prevResolvedValues=D,_.isActive&&(p={...p,...D}),r&&t.blockInitialAnimation&&(T=!1),T&&(!S||F)&&f.push(...P.map(ue=>({animation:ue,options:{type:w,...l}})))}if(h.size){const m={};h.forEach(w=>{const _=t.getBaseTarget(w);_!==void 0&&(m[w]=_)}),f.push({animation:m})}let v=!!f.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(v=!1),r=!1,v?e(f):Promise.resolve()}function o(l,c,u){var A;if(n[l].isActive===c)return Promise.resolve();(A=t.variantChildren)===null||A===void 0||A.forEach(h=>{var p;return(p=h.animationState)===null||p===void 0?void 0:p.setActive(l,c)}),n[l].isActive=c;const f=a(u,l);for(const h in n)n[h].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n}}function TAe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!_K(e,t):!1}function pp(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function MAe(){return{animate:pp(!0),whileInView:pp(),whileHover:pp(),whileTap:pp(),whileDrag:pp(),whileFocus:pp(),exit:pp()}}class IAe extends kd{constructor(e){super(e),e.animationState||(e.animationState=BAe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),lB(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let PAe=0;class NAe extends kd{constructor(){super(...arguments),this.id=PAe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const LAe={animation:{Feature:IAe},exit:{Feature:NAe}},_6=(t,e)=>Math.abs(t-e);function FAe(t,e){const n=_6(t.x,e.x),r=_6(t.y,e.y);return Math.sqrt(n**2+r**2)}class JK{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=pI(this.lastMoveEventInfo,this.history),f=this.startEvent!==null,h=FAe(A.offset,{x:0,y:0})>=3;if(!f&&!h)return;const{point:p}=A,{timestamp:y}=lo;this.history.push({...p,timestamp:y});const{onStart:v,onMove:m}=this.handlers;f||(v&&v(this.lastMoveEvent,A),this.startEvent=this.lastMoveEvent),m&&m(this.lastMoveEvent,A)},this.handlePointerMove=(A,f)=>{this.lastMoveEvent=A,this.lastMoveEventInfo=dI(f,this.transformPagePoint),Vr.update(this.updatePoint,!0)},this.handlePointerUp=(A,f)=>{this.end();const{onEnd:h,onSessionEnd:p,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=pI(A.type==="pointercancel"?this.lastMoveEventInfo:dI(f,this.transformPagePoint),this.history);this.startEvent&&h&&h(A,v),p&&p(A,v)},!mK(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=AB(e),o=dI(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=lo;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,pI(o,this.history)),this.removeListeners=rd(pf(this.contextWindow,"pointermove",this.handlePointerMove),pf(this.contextWindow,"pointerup",this.handlePointerUp),pf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),mA(this.updatePoint)}}function dI(t,e){return e?{point:e(t.point)}:t}function x6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pI({point:t},e){return{point:t,delta:x6(t,ZK(e)),offset:x6(t,RAe(e)),velocity:UAe(e,.1)}}function RAe(t){return t[0]}function ZK(t){return t[t.length-1]}function UAe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=ZK(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>lm(e)));)n--;if(!r)return{x:0,y:0};const s=mf(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function ql(t){return t.max-t.min}function b3(t,e=0,n=.01){return Math.abs(t-e)<=n}function b6(t,e,n,r=.5){t.origin=r,t.originPoint=xi(e.min,e.max,t.origin),t.scale=ql(n)/ql(e),(b3(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=xi(n.min,n.max,t.origin)-t.originPoint,(b3(t.translate)||isNaN(t.translate))&&(t.translate=0)}function $1(t,e,n,r){b6(t.x,e.x,n.x,r?r.originX:void 0),b6(t.y,e.y,n.y,r?r.originY:void 0)}function E6(t,e,n){t.min=n.min+e.min,t.max=t.min+ql(e)}function DAe(t,e,n){E6(t.x,e.x,n.x),E6(t.y,e.y,n.y)}function S6(t,e,n){t.min=e.min-n.min,t.max=t.min+ql(e)}function X1(t,e,n){S6(t.x,e.x,n.x),S6(t.y,e.y,n.y)}function OAe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?xi(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?xi(n,t,r.max):Math.min(t,n)),t}function C6(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function kAe(t,{top:e,left:n,bottom:r,right:i}){return{x:C6(t.x,n,i),y:C6(t.y,e,r)}}function B6(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function QAe(t,e){return{x:B6(t.x,e.x),y:B6(t.y,e.y)}}function HAe(t,e){let n=.5;const r=ql(t),i=ql(e);return i>r?n=Dw(e.min,e.max-r,t.min):r>i&&(n=Dw(t.min,t.max-i,e.min)),wd(0,1,n)}function VAe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const E3=.35;function zAe(t=E3){return t===!1?t=0:t===!0&&(t=E3),{x:T6(t,"left","right"),y:T6(t,"top","bottom")}}function T6(t,e,n){return{min:M6(t,e),max:M6(t,n)}}function M6(t,e){return typeof t=="number"?t:t[e]||0}const I6=()=>({translate:0,scale:1,origin:0,originPoint:0}),F0=()=>({x:I6(),y:I6()}),P6=()=>({min:0,max:0}),xs=()=>({x:P6(),y:P6()});function bc(t){return[t("x"),t("y")]}function eq({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function jAe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function GAe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function mI(t){return t===void 0||t===1}function S3({scale:t,scaleX:e,scaleY:n}){return!mI(t)||!mI(e)||!mI(n)}function Mp(t){return S3(t)||tq(t)||t.z||t.rotate||t.rotateX||t.rotateY}function tq(t){return N6(t.x)||N6(t.y)}function N6(t){return t&&t!=="0%"}function mS(t,e,n){const r=t-n,i=e*r;return n+i}function L6(t,e,n,r,i){return i!==void 0&&(t=mS(t,i,r)),mS(t,n,r)+e}function C3(t,e=0,n=1,r,i){t.min=L6(t.min,e,n,r,i),t.max=L6(t.max,e,n,r,i)}function nq(t,{x:e,y:n}){C3(t.x,e.translate,e.scale,e.originPoint),C3(t.y,n.translate,n.scale,n.originPoint)}function WAe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&R0(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,nq(t,a)),r&&Mp(s.latestValues)&&R0(t,s.latestValues))}e.x=F6(e.x),e.y=F6(e.y)}function F6(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Ph(t,e){t.min=t.min+e,t.max=t.max+e}function R6(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,a=xi(t.min,t.max,s);C3(t,e[n],e[r],a,e.scale)}const KAe=["x","scaleX","originX"],qAe=["y","scaleY","originY"];function R0(t,e){R6(t.x,e,KAe),R6(t.y,e,qAe)}function rq(t,e){return eq(GAe(t.getBoundingClientRect(),e))}function $Ae(t,e,n){const r=rq(t,n),{scroll:i}=e;return i&&(Ph(r.x,i.offset.x),Ph(r.y,i.offset.y)),r}const iq=({current:t})=>t?t.ownerDocument.defaultView:null,XAe=new WeakMap;class YAe{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=xs(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:A}=this.getProps();A?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(AB(u,"page").point)},s=(u,A)=>{const{drag:f,dragPropagation:h,onDragStart:p}=this.getProps();if(f&&!h&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=vK(f),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),bc(v=>{let m=this.getAxisMotionValue(v).get()||0;if(rA.test(m)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[v];_&&(m=ql(_)*(parseFloat(m)/100))}}this.originPoint[v]=m}),p&&Vr.update(()=>p(u,A),!1,!0);const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},a=(u,A)=>{const{dragPropagation:f,dragDirectionLock:h,onDirectionLock:p,onDrag:y}=this.getProps();if(!f&&!this.openGlobalLock)return;const{offset:v}=A;if(h&&this.currentDirection===null){this.currentDirection=JAe(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",A.point,v),this.updateAxis("y",A.point,v),this.visualElement.render(),y&&y(u,A)},o=(u,A)=>this.stop(u,A),l=()=>bc(u=>{var A;return this.getAnimationState(u)==="paused"&&((A=this.getAxisMotionValue(u).animation)===null||A===void 0?void 0:A.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new JK(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:iq(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Vr.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!lb(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=OAe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&N0(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=kAe(i.layoutBox,n):this.constraints=!1,this.elastic=zAe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&bc(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=VAe(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!N0(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=$Ae(r,i.root,this.visualElement.getTransformPagePoint());let a=QAe(i.layout.layoutBox,s);if(n){const o=n(jAe(a));this.hasMutatedConstraints=!!o,o&&(a=eq(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=bc(u=>{if(!lb(u,n,this.currentDirection))return;let A=l&&l[u]||{};a&&(A={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,p={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...A};return this.startAxisValueAnimation(u,p)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(FR(e,r,0,n))}stopAnimation(){bc(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){bc(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){bc(n=>{const{drag:r}=this.getProps();if(!lb(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-xi(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!N0(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};bc(a=>{const o=this.getAxisMotionValue(a);if(o){const l=o.get();i[a]=HAe({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),bc(a=>{if(!lb(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(xi(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;XAe.set(this.visualElement,this);const e=this.visualElement.current,n=pf(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();N0(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const a=of(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(bc(u=>{const A=this.getAxisMotionValue(u);A&&(this.originPoint[u]+=l[u].translate,A.set(A.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=E3,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function lb(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function JAe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class ZAe extends kd{constructor(e){super(e),this.removeGroupControls=As,this.removeListeners=As,this.controls=new YAe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||As}unmount(){this.removeGroupControls(),this.removeListeners()}}const U6=t=>(e,n)=>{t&&Vr.update(()=>t(e,n))};class efe extends kd{constructor(){super(...arguments),this.removePointerDownListener=As}onPointerDown(e){this.session=new JK(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:U6(e),onStart:U6(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Vr.update(()=>i(s,a))}}}mount(){this.removePointerDownListener=pf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function tfe(){const t=Y.useContext(sB);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=Y.useId();return Y.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const u2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function D6(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const jy={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(wn.test(t))t=parseFloat(t);else return t;const n=D6(t,e.target.x),r=D6(t,e.target.y);return`${n}% ${r}%`}},nfe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=_d.parse(t);if(i.length>5)return r;const s=_d.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=xi(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};class rfe extends I.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;cce(ife),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),u2.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Vr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function sq(t){const[e,n]=tfe(),r=Y.useContext(yR);return I.createElement(rfe,{...t,layoutGroup:r,switchLayoutGroup:Y.useContext(nK),isPresent:e,safeToRemove:n})}const ife={borderRadius:{...jy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:jy,borderTopRightRadius:jy,borderBottomLeftRadius:jy,borderBottomRightRadius:jy,boxShadow:nfe},aq=["TopLeft","TopRight","BottomLeft","BottomRight"],sfe=aq.length,O6=t=>typeof t=="string"?parseFloat(t):t,k6=t=>typeof t=="number"||wn.test(t);function afe(t,e,n,r,i,s){i?(t.opacity=xi(0,n.opacity!==void 0?n.opacity:1,ofe(r)),t.opacityExit=xi(e.opacity!==void 0?e.opacity:1,0,lfe(r))):s&&(t.opacity=xi(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<sfe;a++){const o=`border${aq[a]}Radius`;let l=Q6(e,o),c=Q6(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||k6(l)===k6(c)?(t[o]=Math.max(xi(O6(l),O6(c),r),0),(rA.test(c)||rA.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=xi(e.rotate||0,n.rotate||0,r))}function Q6(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const ofe=oq(0,.5,IK),lfe=oq(.5,.95,As);function oq(t,e,n){return r=>r<t?0:r>e?1:n(Dw(t,e,r))}function H6(t,e){t.min=e.min,t.max=e.max}function gc(t,e){H6(t.x,e.x),H6(t.y,e.y)}function V6(t,e,n,r,i){return t-=e,t=mS(t,1/n,r),i!==void 0&&(t=mS(t,1/i,r)),t}function cfe(t,e=0,n=1,r=.5,i,s=t,a=t){if(rA.test(e)&&(e=parseFloat(e),e=xi(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=xi(s.min,s.max,r);t===s&&(o-=e),t.min=V6(t.min,e,n,o,i),t.max=V6(t.max,e,n,o,i)}function z6(t,e,[n,r,i],s,a){cfe(t,e[n],e[r],e[i],e.scale,s,a)}const ufe=["x","scaleX","originX"],Afe=["y","scaleY","originY"];function j6(t,e,n,r){z6(t.x,e,ufe,n?n.x:void 0,r?r.x:void 0),z6(t.y,e,Afe,n?n.y:void 0,r?r.y:void 0)}function G6(t){return t.translate===0&&t.scale===1}function lq(t){return G6(t.x)&&G6(t.y)}function ffe(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function cq(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function W6(t){return ql(t.x)/ql(t.y)}class hfe{constructor(){this.members=[]}add(e){RR(this.members,e),e.scheduleRender()}remove(e){if(UR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function K6(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const a=t.x.scale*e.x,o=t.y.scale*e.y;return(a!==1||o!==1)&&(r+=`scale(${a}, ${o})`),r||"none"}const dfe=(t,e)=>t.depth-e.depth;class pfe{constructor(){this.children=[],this.isDirty=!1}add(e){RR(this.children,e),this.isDirty=!0}remove(e){UR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(dfe),this.isDirty=!1,this.children.forEach(e)}}function mfe(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(mA(r),t(s-e))};return Vr.read(r,!0),()=>mA(r)}function gfe(t){window.MotionDebug&&window.MotionDebug.record(t)}function vfe(t){return t instanceof SVGElement&&t.tagName!=="svg"}function yfe(t,e,n){const r=Vo(t)?t:Mm(t);return r.start(FR("",r,e,n)),r.animation}const q6=["","X","Y","Z"],wfe={visibility:"hidden"},$6=1e3;let _fe=0;const Ip={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function uq({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=_fe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Ip.totalNodes=Ip.resolvedTargetDeltas=Ip.recalculatedProjection=0,this.nodes.forEach(Efe),this.nodes.forEach(Mfe),this.nodes.forEach(Ife),this.nodes.forEach(Sfe),gfe(Ip)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new pfe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new DR),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=vfe(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let A;const f=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,A&&A(),A=mfe(f,250),u2.hasAnimatedSinceResize&&(u2.hasAnimatedSinceResize=!1,this.nodes.forEach(Y6))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:A,hasLayoutChanged:f,hasRelativeTargetChanged:h,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const y=this.options.transition||u.getDefaultTransition()||Rfe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:m}=u.getProps(),w=!this.targetLayout||!cq(this.targetLayout,p)||h,_=!f&&h;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||f&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(A,_);const B={...LR(y,"layout"),onPlay:v,onComplete:m};(u.shouldReduceMotion||this.options.layoutRoot)&&(B.delay=0,B.type=!1),this.startAnimation(B)}else f||Y6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,mA(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Pfe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const A=this.path[u];A.shouldResetTransform=!0,A.updateScroll("snapshot"),A.options.layoutRoot&&A.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(X6);return}this.isUpdating||this.nodes.forEach(Bfe),this.isUpdating=!1,this.nodes.forEach(Tfe),this.nodes.forEach(xfe),this.nodes.forEach(bfe),this.clearAllSnapshots();const o=performance.now();lo.delta=wd(0,1e3/60,o-lo.timestamp),lo.timestamp=o,lo.isProcessing=!0,aI.update.process(lo),aI.preRender.process(lo),aI.render.process(lo),lo.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(Cfe),this.sharedNodes.forEach(Nfe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Vr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Vr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=xs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!lq(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&(o||Mp(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Ufe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return xs();const o=a.measureViewportBox(),{scroll:l}=this.root;return l&&(Ph(o.x,l.offset.x),Ph(o.y,l.offset.y)),o}removeElementScroll(a){const o=xs();gc(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:A}=c;if(c!==this.root&&u&&A.layoutScroll){if(u.isRoot){gc(o,a);const{scroll:f}=this.root;f&&(Ph(o.x,-f.offset.x),Ph(o.y,-f.offset.y))}Ph(o.x,u.offset.x),Ph(o.y,u.offset.y)}}return o}applyTransform(a,o=!1){const l=xs();gc(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&R0(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Mp(u.latestValues)&&R0(l,u.latestValues)}return Mp(this.latestValues)&&R0(l,this.latestValues),l}removeTransform(a){const o=xs();gc(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Mp(c.latestValues))continue;S3(c.latestValues)&&c.updateSnapshot();const u=xs(),A=c.measurePageBox();gc(u,A),j6(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Mp(this.latestValues)&&j6(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==lo.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:A,layoutId:f}=this.options;if(!(!this.layout||!(A||f))){if(this.resolvedRelativeTargetAt=lo.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xs(),this.relativeTargetOrigin=xs(),X1(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),gc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=xs(),this.targetWithTransforms=xs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),DAe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):gc(this.target,this.layout.layoutBox),nq(this.target,this.targetDelta)):gc(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=xs(),this.relativeTargetOrigin=xs(),X1(this.relativeTargetOrigin,this.target,h.target),gc(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Ip.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||S3(this.parent.latestValues)||tq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===lo.timestamp&&(c=!1),c)return;const{layout:u,layoutId:A}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||A))return;gc(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,h=this.treeScale.y;WAe(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=F0(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=F0(),this.projectionDeltaWithTransform=F0());const y=this.projectionTransform;$1(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=K6(this.projectionDelta,this.treeScale),(this.projectionTransform!==y||this.treeScale.x!==f||this.treeScale.y!==h)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),Ip.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},A=F0();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=xs(),h=l?l.source:void 0,p=this.layout?this.layout.source:void 0,y=h!==p,v=this.getStack(),m=!v||v.members.length<=1,w=!!(y&&!m&&this.options.crossfade===!0&&!this.path.some(Ffe));this.animationProgress=0;let _;this.mixTargetDelta=B=>{const R=B/1e3;J6(A.x,a.x,R),J6(A.y,a.y,R),this.setTargetDelta(A),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(X1(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Lfe(this.relativeTarget,this.relativeTargetOrigin,f,R),_&&ffe(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=xs()),gc(_,this.relativeTarget)),y&&(this.animationValues=u,afe(u,c,this.latestValues,R,w,m)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=R},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(mA(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Vr.update(()=>{u2.hasAnimatedSinceResize=!0,this.currentAnimation=yfe(0,$6,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta($6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&Aq(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||xs();const A=ql(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+A;const f=ql(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}gc(o,l),R0(o,u),$1(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new hfe),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let u=0;u<q6.length;u++){const A="rotate"+q6[u];l[A]&&(c[A]=l[A],a.setStaticValue(A,0))}a.render();for(const u in c)a.setStaticValue(u,c[u]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return wfe;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=c2(a==null?void 0:a.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const A=this.getLead();if(!this.projectionDelta||!this.layout||!A.target){const y={};return this.options.layoutId&&(y.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,y.pointerEvents=c2(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Mp(this.latestValues)&&(y.transform=u?u({},""):"none",this.hasProjected=!1),y}const f=A.animationValues||A.latestValues;this.applyTransformsToTarget(),c.transform=K6(this.projectionDeltaWithTransform,this.treeScale,f),u&&(c.transform=u(f,c.transform));const{x:h,y:p}=this.projectionDelta;c.transformOrigin=`${h.origin*100}% ${p.origin*100}% 0`,A.animationValues?c.opacity=A===this?(l=(o=f.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:c.opacity=A===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const y in cS){if(f[y]===void 0)continue;const{correct:v,applyTo:m}=cS[y],w=c.transform==="none"?f[y]:v(f[y],A);if(m){const _=m.length;for(let B=0;B<_;B++)c[m[B]]=w}else c[y]=w}return this.options.layoutId&&(c.pointerEvents=A===this?c2(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(X6),this.root.sharedNodes.clear()}}}function xfe(t){t.updateLayout()}function bfe(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?bc(A=>{const f=a?n.measuredBox[A]:n.layoutBox[A],h=ql(f);f.min=r[A].min,f.max=f.min+h}):Aq(s,n.layoutBox,r)&&bc(A=>{const f=a?n.measuredBox[A]:n.layoutBox[A],h=ql(r[A]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[A].max=t.relativeTarget[A].min+h)});const o=F0();$1(o,r,n.layoutBox);const l=F0();a?$1(l,t.applyTransform(i,!0),n.measuredBox):$1(l,r,n.layoutBox);const c=!lq(o);let u=!1;if(!t.resumeFrom){const A=t.getClosestProjectingParent();if(A&&!A.resumeFrom){const{snapshot:f,layout:h}=A;if(f&&h){const p=xs();X1(p,n.layoutBox,f.layoutBox);const y=xs();X1(y,r,h.layoutBox),cq(p,y)||(u=!0),A.options.layoutRoot&&(t.relativeTarget=y,t.relativeTargetOrigin=p,t.relativeParent=A)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Efe(t){Ip.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Sfe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Cfe(t){t.clearSnapshot()}function X6(t){t.clearMeasurements()}function Bfe(t){t.isLayoutDirty=!1}function Tfe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Y6(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Mfe(t){t.resolveTargetDelta()}function Ife(t){t.calcProjection()}function Pfe(t){t.resetRotation()}function Nfe(t){t.removeLeadSnapshot()}function J6(t,e,n){t.translate=xi(e.translate,0,n),t.scale=xi(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Z6(t,e,n,r){t.min=xi(e.min,n.min,r),t.max=xi(e.max,n.max,r)}function Lfe(t,e,n,r){Z6(t.x,e.x,n.x,r),Z6(t.y,e.y,n.y,r)}function Ffe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Rfe={duration:.45,ease:[.4,0,.1,1]},eQ=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),tQ=eQ("applewebkit/")&&!eQ("chrome/")?Math.round:As;function nQ(t){t.min=tQ(t.min),t.max=tQ(t.max)}function Ufe(t){nQ(t.x),nQ(t.y)}function Aq(t,e,n){return t==="position"||t==="preserve-aspect"&&!b3(W6(e),W6(n),.2)}const Dfe=uq({attachResizeListener:(t,e)=>of(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gI={current:void 0},fq=uq({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gI.current){const t=new Dfe({});t.mount(window),t.setOptions({layoutScroll:!0}),gI.current=t}return gI.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Ofe={pan:{Feature:efe},drag:{Feature:ZAe,ProjectionNode:fq,MeasureLayout:sq}},kfe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Qfe(t){const e=kfe.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function B3(t,e,n=1){const[r,i]=Qfe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return qK(a)?parseFloat(a):a}else return m3(i)?B3(i,e,n+1):i}function Hfe(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!m3(s))return;const a=B3(s,r);a&&i.set(a)});for(const i in e){const s=e[i];if(!m3(s))continue;const a=B3(s,r);a&&(e[i]=a,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const Vfe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),hq=t=>Vfe.has(t),zfe=t=>Object.keys(t).some(hq),rQ=t=>t===Km||t===wn,iQ=(t,e)=>parseFloat(t.split(", ")[e]),sQ=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return iQ(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?iQ(s[1],t):0}},jfe=new Set(["x","y","z"]),Gfe=F_.filter(t=>!jfe.has(t));function Wfe(t){const e=[];return Gfe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const gv={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:sQ(4,13),y:sQ(5,14)};gv.translateX=gv.x;gv.translateY=gv.y;const Kfe=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:a}=s,o={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{o[c]=gv[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(o[c]),t[c]=gv[c](l,s)}),t},qfe=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(hq);let s=[],a=!1;const o=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],A=zy(u);const f=e[l];let h;if(AS(f)){const p=f.length,y=f[0]===null?1:0;u=f[y],A=zy(u);for(let v=y;v<p&&f[v]!==null;v++)h?BR(zy(f[v])===h):h=zy(f[v])}else h=zy(f);if(A!==h)if(rQ(A)&&rQ(h)){const p=c.get();typeof p=="string"&&c.set(parseFloat(p)),typeof f=="string"?e[l]=parseFloat(f):Array.isArray(f)&&h===wn&&(e[l]=f.map(parseFloat))}else A!=null&&A.transform&&(h!=null&&h.transform)&&(u===0||f===0)?u===0?c.set(h.transform(u)):e[l]=A.transform(f):(a||(s=Wfe(t),a=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(f))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=Kfe(e,t,o);return s.length&&s.forEach(([u,A])=>{t.getValue(u).set(A)}),t.render(),aB&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function $fe(t,e,n,r){return zfe(e)?qfe(t,e,n,r):{target:e,transitionEnd:r}}const Xfe=(t,e,n,r)=>{const i=Hfe(t,e,r);return e=i.target,r=i.transitionEnd,$fe(t,e,n,r)},T3={current:null},dq={current:!1};function Yfe(){if(dq.current=!0,!!aB)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>T3.current=t.matches;t.addListener(e),e()}else T3.current=!1}function Jfe(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],a=n[i];if(Vo(s))t.addValue(i,s),pS(r)&&r.add(i);else if(Vo(a))t.addValue(i,Mm(s,{owner:t})),pS(r)&&r.remove(i);else if(a!==s)if(t.hasValue(i)){const o=t.getValue(i);!o.hasAnimated&&o.set(s)}else{const o=t.getStaticValue(i);t.addValue(i,Mm(o!==void 0?o:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const aQ=new WeakMap,pq=Object.keys(Uw),Zfe=pq.length,oQ=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],ehe=vR.length;class the{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Vr.render(this.render,!1,!0);const{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=cB(n),this.isVariantNode=tK(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const A in u){const f=u[A];o[A]!==void 0&&Vo(f)&&(f.set(o[A],!1),pS(c)&&c.add(A))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,aQ.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),dq.current||Yfe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:T3.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){aQ.delete(this.current),this.projection&&this.projection.unmount(),mA(this.notifyUpdate),mA(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Wm.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Vr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let a,o;for(let l=0;l<Zfe;l++){const c=pq[l],{isEnabled:u,Feature:A,ProjectionNode:f,MeasureLayout:h}=Uw[c];f&&(a=f),u(n)&&(!this.features[c]&&A&&(this.features[c]=new A(this)),h&&(o=h))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:A,layoutScroll:f,layoutRoot:h}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||A&&N0(A),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:f,layoutRoot:h})}return o}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):xs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<oQ.length;r++){const i=oQ[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=Jfe(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<ehe;r++){const i=vR[r],s=this.props[i];(Rw(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Mm(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=CR(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Vo(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new DR),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class mq extends the{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let a=vAe(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),a&&(a=i(a))),s){mAe(this,r,a);const o=Xfe(this,r,a,n);n=o.transitionEnd,r=o.target}return{transition:e,transitionEnd:n,...r}}}function nhe(t){return window.getComputedStyle(t)}class rhe extends mq{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(Wm.has(n)){const r=NR(n);return r&&r.default||0}else{const r=nhe(e),i=(sK(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return rq(e,n)}build(e,n,r,i){_R(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return SR(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vo(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){AK(e,n,r,i)}}class ihe extends mq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Wm.has(n)){const r=NR(n);return r&&r.default||0}return n=fK.has(n)?n:mR(n),e.getAttribute(n)}measureInstanceViewportBox(){return xs()}scrapeMotionValuesFromProps(e,n){return dK(e,n)}build(e,n,r,i){bR(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){hK(e,n,r,i)}mount(e){this.isSVGTag=ER(e.tagName),super.mount(e)}}const she=(t,e)=>wR(t)?new ihe(e,{enableHardwareAcceleration:!1}):new rhe(e,{enableHardwareAcceleration:!0}),ahe={layout:{ProjectionNode:fq,MeasureLayout:sq}},ohe={...LAe,...Jce,...Ofe,...ahe},Pi=oce((t,e)=>kce(t,e,ohe,she));function gq(){const t=Y.useRef(!1);return oB(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function lhe(){const t=gq(),[e,n]=Y.useState(0),r=Y.useCallback(()=>{t.current&&n(e+1)},[e]);return[Y.useCallback(()=>Vr.postRender(r),[r]),e]}class che extends Y.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function uhe({children:t,isPresent:e}){const n=Y.useId(),r=Y.useRef(null),i=Y.useRef({width:0,height:0,top:0,left:0});return Y.useInsertionEffect(()=>{const{width:s,height:a,top:o,left:l}=i.current;if(e||!r.current||!s||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),Y.createElement(che,{isPresent:e,childRef:r,sizeRef:i},Y.cloneElement(t,{ref:r}))}const vI=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a})=>{const o=$v(Ahe),l=Y.useId(),c=Y.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{o.set(u,!0);for(const A of o.values())if(!A)return;r&&r()},register:u=>(o.set(u,!1),()=>o.delete(u))}),s?void 0:[n]);return Y.useMemo(()=>{o.forEach((u,A)=>o.set(A,!1))},[n]),Y.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),a==="popLayout"&&(t=Y.createElement(uhe,{isPresent:n},t)),Y.createElement(sB.Provider,{value:c},t)};function Ahe(){return new Map}function fhe(t){return Y.useEffect(()=>()=>t(),[])}const Pp=t=>t.key||"";function hhe(t,e){t.forEach(n=>{const r=Pp(n);e.set(r,n)})}function dhe(t){const e=[];return Y.Children.forEach(t,n=>{Y.isValidElement(n)&&e.push(n)}),e}const c0=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:a="sync"})=>{const o=Y.useContext(yR).forceRender||lhe()[0],l=gq(),c=dhe(t);let u=c;const A=Y.useRef(new Map).current,f=Y.useRef(u),h=Y.useRef(new Map).current,p=Y.useRef(!0);if(oB(()=>{p.current=!1,hhe(c,h),f.current=u}),fhe(()=>{p.current=!0,h.clear(),A.clear()}),p.current)return Y.createElement(Y.Fragment,null,u.map(w=>Y.createElement(vI,{key:Pp(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:a},w)));u=[...u];const y=f.current.map(Pp),v=c.map(Pp),m=y.length;for(let w=0;w<m;w++){const _=y[w];v.indexOf(_)===-1&&!A.has(_)&&A.set(_,void 0)}return a==="wait"&&A.size&&(u=[]),A.forEach((w,_)=>{if(v.indexOf(_)!==-1)return;const B=h.get(_);if(!B)return;const R=y.indexOf(_);let L=w;if(!L){const S=()=>{A.delete(_);const M=Array.from(h.keys()).filter(T=>!v.includes(T));if(M.forEach(T=>h.delete(T)),f.current=c.filter(T=>{const F=Pp(T);return F===_||M.includes(F)}),!A.size){if(l.current===!1)return;o(),r&&r()}};L=Y.createElement(vI,{key:Pp(B),isPresent:!1,onExitComplete:S,custom:e,presenceAffectsLayout:s,mode:a},B),A.set(_,L)}u.splice(R,0,L)}),u=u.map(w=>{const _=w.key;return A.has(_)?w:Y.createElement(vI,{key:Pp(w),isPresent:!0,presenceAffectsLayout:s,mode:a},w)}),Y.createElement(Y.Fragment,null,A.size?u:u.map(w=>Y.cloneElement(w)))},vq=Y.createContext(null);function phe(t,e,n,r){if(!r)return t;const i=t.findIndex(u=>u.value===e);if(i===-1)return t;const s=r>0?1:-1,a=t[i+s];if(!a)return t;const o=t[i],l=a.layout,c=xi(l.min,l.max,.5);return s===1&&o.layout.max+n>c||s===-1&&o.layout.min+n<c?lAe(t,i,i+s):t}function mhe({children:t,as:e="ul",axis:n="y",onReorder:r,values:i,...s},a){const o=$v(()=>Pi(e)),l=[],c=Y.useRef(!1),u={axis:n,registerItem:(A,f)=>{const h=l.findIndex(p=>A===p.value);h!==-1?l[h].layout=f[n]:l.push({value:A,layout:f[n]}),l.sort(yhe)},updateOrder:(A,f,h)=>{if(c.current)return;const p=phe(l,A,f,h);l!==p&&(c.current=!0,r(p.map(vhe).filter(y=>i.indexOf(y)!==-1)))}};return Y.useEffect(()=>{c.current=!1}),Y.createElement(o,{...s,ref:a,ignoreStrict:!0},Y.createElement(vq.Provider,{value:u},t))}const ghe=Y.forwardRef(mhe);function vhe(t){return t.value}function yhe(t,e){return t.layout.min-e.layout.min}function yq(t){const e=$v(()=>Mm(t)),{isStatic:n}=Y.useContext(pR);if(n){const[,r]=Y.useState(t);Y.useEffect(()=>e.on("change",r),[])}return e}const whe=t=>t&&typeof t=="object"&&t.mix,_he=t=>whe(t)?t.mix:void 0;function xhe(...t){const e=!Array.isArray(t[0]),n=e?0:-1,r=t[0+n],i=t[1+n],s=t[2+n],a=t[3+n],o=PR(i,s,{mixer:_he(s[0]),...a});return e?o(r):o}function wq(t,e){const n=yq(e()),r=()=>n.set(e());return r(),oB(()=>{const i=()=>Vr.update(r,!1,!0),s=t.map(a=>a.on("change",i));return()=>{s.forEach(a=>a()),mA(r)}}),n}function bhe(t){q1.current=[],t();const e=wq(q1.current,t);return q1.current=void 0,e}function Ehe(t,e,n,r){if(typeof t=="function")return bhe(t);const i=typeof e=="function"?e:xhe(e,n,r);return Array.isArray(t)?lQ(t,i):lQ([t],([s])=>i(s))}function lQ(t,e){const n=$v(()=>[]);return wq(t,()=>{n.length=0;const r=t.length;for(let i=0;i<r;i++)n[i]=t[i].get();return e(n)})}function cQ(t,e=0){return Vo(t)?t:yq(e)}function She({children:t,style:e={},value:n,as:r="li",onDrag:i,layout:s=!0,...a},o){const l=$v(()=>Pi(r)),c=Y.useContext(vq),u={x:cQ(e.x),y:cQ(e.y)},A=Ehe([u.x,u.y],([y,v])=>y||v?1:"unset"),{axis:f,registerItem:h,updateOrder:p}=c;return Y.createElement(l,{drag:f,...a,dragSnapToOrigin:!0,style:{...e,x:u.x,y:u.y,zIndex:A},layout:s,onDrag:(y,v)=>{const{velocity:m}=v;m[f]&&p(n,u[f].get(),m[f]),i&&i(y,v)},onLayoutMeasure:y=>h(n,y),ref:o,ignoreStrict:!0},t)}const Che=Y.forwardRef(She),uQ={Group:ghe,Item:Che},_q=Y.createContext(),OR=()=>Y.useContext(_q),Bhe=localStorage.getItem("theme")||"dark",The=({children:t})=>{const[e,n]=Y.useState(Bhe),r=i=>{n(i),localStorage.setItem("theme",i)};return Y.useEffect(()=>{document.documentElement.setAttribute("data-theme",e)},[e]),I.createElement(_q.Provider,{value:{theme:e,toggleTheme:r}},t)};/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const O_="160",Np={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Lp={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},xq=0,M3=1,bq=2,Mhe=3,Eq=0,hB=1,Y1=2,au=3,Cf=0,Qo=1,Ju=2,Ihe=2,gf=0,cm=1,gS=2,I3=3,P3=4,Sq=5,Uh=100,Cq=101,Bq=102,N3=103,L3=104,Tq=200,Mq=201,Iq=202,Pq=203,vS=204,yS=205,Nq=206,Lq=207,Fq=208,Rq=209,Uq=210,Dq=211,Oq=212,kq=213,Qq=214,Hq=0,Vq=1,zq=2,Ow=3,jq=4,Gq=5,Wq=6,Kq=7,k_=0,qq=1,$q=2,iA=0,Xq=1,Yq=2,Jq=3,kR=4,Zq=5,e$=6,F3="attached",t$="detached",dB=300,Bf=301,xd=302,kw=303,Qw=304,Xv=306,Hw=1e3,ho=1001,Vw=1002,is=1003,wS=1004,Phe=1004,J1=1005,Nhe=1005,as=1006,QR=1007,Lhe=1007,bd=1008,Fhe=1008,sA=1009,n$=1010,r$=1011,pB=1012,HR=1013,lf=1014,du=1015,vv=1016,VR=1017,zR=1018,id=1020,i$=1021,Do=1023,s$=1024,a$=1025,sd=1026,Im=1027,o$=1028,jR=1029,l$=1030,GR=1031,WR=1033,A2=33776,f2=33777,h2=33778,d2=33779,R3=35840,U3=35841,D3=35842,O3=35843,KR=36196,k3=37492,Q3=37496,H3=37808,V3=37809,z3=37810,j3=37811,G3=37812,W3=37813,K3=37814,q3=37815,$3=37816,X3=37817,Y3=37818,J3=37819,Z3=37820,eN=37821,p2=36492,tN=36494,nN=36495,c$=36283,rN=36284,iN=36285,sN=36286,u$=2200,A$=2201,f$=2202,zw=2300,jw=2301,m2=2302,qp=2400,$p=2401,Gw=2402,mB=2500,qR=2501,Rhe=0,Uhe=1,Dhe=2,$R=3e3,ad=3001,h$=3200,d$=3201,Qd=0,p$=1,Ol="",bs="srgb",gA="srgb-linear",gB="display-p3",Q_="display-p3-linear",Ww="linear",Jr="srgb",Kw="rec709",qw="p3",Ohe=0,Fp=7680,khe=7681,Qhe=7682,Hhe=7683,Vhe=34055,zhe=34056,jhe=5386,Ghe=512,Whe=513,Khe=514,qhe=515,$he=516,Xhe=517,Yhe=518,aN=519,m$=512,g$=513,v$=514,XR=515,y$=516,w$=517,_$=518,x$=519,$w=35044,Jhe=35048,Zhe=35040,ede=35045,tde=35049,nde=35041,rde=35046,ide=35050,sde=35042,ade="100",oN="300 es",_S=1035,pu=2e3,yv=2001;let Qf=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}};const Za=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let AQ=1234567;const um=Math.PI/180,wv=180/Math.PI;function Gl(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Za[t&255]+Za[t>>8&255]+Za[t>>16&255]+Za[t>>24&255]+"-"+Za[e&255]+Za[e>>8&255]+"-"+Za[e>>16&15|64]+Za[e>>24&255]+"-"+Za[n&63|128]+Za[n>>8&255]+"-"+Za[n>>16&255]+Za[n>>24&255]+Za[r&255]+Za[r>>8&255]+Za[r>>16&255]+Za[r>>24&255]).toLowerCase()}function qi(t,e,n){return Math.max(e,Math.min(n,t))}function YR(t,e){return(t%e+e)%e}function ode(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function lde(t,e,n){return t!==e?(n-t)/(e-t):0}function Z1(t,e,n){return(1-n)*t+n*e}function cde(t,e,n,r){return Z1(t,e,1-Math.exp(-n*r))}function ude(t,e=1){return e-Math.abs(YR(t,e*2)-e)}function Ade(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function fde(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function hde(t,e){return t+Math.floor(Math.random()*(e-t+1))}function dde(t,e){return t+Math.random()*(e-t)}function pde(t){return t*(.5-Math.random())}function mde(t){t!==void 0&&(AQ=t);let e=AQ+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function gde(t){return t*um}function vde(t){return t*wv}function lN(t){return(t&t-1)===0&&t!==0}function yde(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function xS(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function wde(t,e,n,r,i){const s=Math.cos,a=Math.sin,o=s(n/2),l=a(n/2),c=s((e+r)/2),u=a((e+r)/2),A=s((e-r)/2),f=a((e-r)/2),h=s((r-e)/2),p=a((r-e)/2);switch(i){case"XYX":t.set(o*u,l*A,l*f,o*c);break;case"YZY":t.set(l*f,o*u,l*A,o*c);break;case"ZXZ":t.set(l*A,l*f,o*u,o*c);break;case"XZX":t.set(o*u,l*p,l*h,o*c);break;case"YXY":t.set(l*h,o*u,l*p,o*c);break;case"ZYZ":t.set(l*p,l*h,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function hl(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function On(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const _de={DEG2RAD:um,RAD2DEG:wv,generateUUID:Gl,clamp:qi,euclideanModulo:YR,mapLinear:ode,inverseLerp:lde,lerp:Z1,damp:cde,pingpong:ude,smoothstep:Ade,smootherstep:fde,randInt:hde,randFloat:dde,randFloatSpread:pde,seededRandom:mde,degToRad:gde,radToDeg:vde,isPowerOfTwo:lN,ceilPowerOfTwo:yde,floorPowerOfTwo:xS,setQuaternionFromProperEuler:wde,normalize:On,denormalize:hl};class tt{constructor(e=0,n=0){tt.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(qi(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Cn{constructor(e,n,r,i,s,a,o,l,c){Cn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,c)}set(e,n,r,i,s,a,o,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=n,u[4]=s,u[5]=l,u[6]=r,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[3],l=r[6],c=r[1],u=r[4],A=r[7],f=r[2],h=r[5],p=r[8],y=i[0],v=i[3],m=i[6],w=i[1],_=i[4],B=i[7],R=i[2],L=i[5],S=i[8];return s[0]=a*y+o*w+l*R,s[3]=a*v+o*_+l*L,s[6]=a*m+o*B+l*S,s[1]=c*y+u*w+A*R,s[4]=c*v+u*_+A*L,s[7]=c*m+u*B+A*S,s[2]=f*y+h*w+p*R,s[5]=f*v+h*_+p*L,s[8]=f*m+h*B+p*S,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return n*a*u-n*o*c-r*s*u+r*o*l+i*s*c-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],A=u*a-o*c,f=o*l-u*s,h=c*s-a*l,p=n*A+r*f+i*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const y=1/p;return e[0]=A*y,e[1]=(i*c-u*r)*y,e[2]=(o*r-i*a)*y,e[3]=f*y,e[4]=(u*n-i*l)*y,e[5]=(i*s-o*n)*y,e[6]=h*y,e[7]=(r*l-c*n)*y,e[8]=(a*n-r*s)*y,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*a+c*o)+a+e,-i*c,i*l,-i*(-c*a+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(yI.makeScale(e,n)),this}rotate(e){return this.premultiply(yI.makeRotation(-e)),this}translate(e,n){return this.premultiply(yI.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const yI=new Cn;function b$(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const xde={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function U0(t,e){return new xde[t](e)}function Xw(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function E$(){const t=Xw("canvas");return t.style.display="block",t}const fQ={};function ew(t){t in fQ||(fQ[t]=!0,console.warn(t))}const hQ=new Cn().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),dQ=new Cn().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),cb={[gA]:{transfer:Ww,primaries:Kw,toReference:t=>t,fromReference:t=>t},[bs]:{transfer:Jr,primaries:Kw,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[Q_]:{transfer:Ww,primaries:qw,toReference:t=>t.applyMatrix3(dQ),fromReference:t=>t.applyMatrix3(hQ)},[gB]:{transfer:Jr,primaries:qw,toReference:t=>t.convertSRGBToLinear().applyMatrix3(dQ),fromReference:t=>t.applyMatrix3(hQ).convertLinearToSRGB()}},bde=new Set([gA,Q_]),Mr={enabled:!0,_workingColorSpace:gA,get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!bde.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=cb[e].toReference,i=cb[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return cb[t].primaries},getTransfer:function(t){return t===Ol?Ww:cb[t].transfer}};function J0(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function wI(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Mg;class JR{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Mg===void 0&&(Mg=Xw("canvas")),Mg.width=e.width,Mg.height=e.height;const r=Mg.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Mg}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Xw("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=J0(s[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(J0(n[r]/255)*255):n[r]=J0(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Ede=0;class Xp{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Ede++}),this.uuid=Gl(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(_I(i[a].image)):s.push(_I(i[a]))}else s=_I(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function _I(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?JR.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Sde=0;class fs extends Qf{constructor(e=fs.DEFAULT_IMAGE,n=fs.DEFAULT_MAPPING,r=ho,i=ho,s=as,a=bd,o=Do,l=sA,c=fs.DEFAULT_ANISOTROPY,u=Ol){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Sde++}),this.uuid=Gl(),this.name="",this.source=new Xp(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new tt(0,0),this.repeat=new tt(1,1),this.center=new tt(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Cn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(ew("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===ad?bs:Ol),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==dB)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Hw:e.x=e.x-Math.floor(e.x);break;case ho:e.x=e.x<0?0:1;break;case Vw:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Hw:e.y=e.y-Math.floor(e.y);break;case ho:e.y=e.y<0?0:1;break;case Vw:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return ew("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===bs?ad:$R}set encoding(e){ew("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===ad?bs:Ol}}fs.DEFAULT_IMAGE=null;fs.DEFAULT_MAPPING=dB;fs.DEFAULT_ANISOTROPY=1;class Pr{constructor(e=0,n=0,r=0,i=1){Pr.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],u=l[4],A=l[8],f=l[1],h=l[5],p=l[9],y=l[2],v=l[6],m=l[10];if(Math.abs(u-f)<.01&&Math.abs(A-y)<.01&&Math.abs(p-v)<.01){if(Math.abs(u+f)<.1&&Math.abs(A+y)<.1&&Math.abs(p+v)<.1&&Math.abs(c+h+m-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,B=(h+1)/2,R=(m+1)/2,L=(u+f)/4,S=(A+y)/4,M=(p+v)/4;return _>B&&_>R?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=L/r,s=S/r):B>R?B<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(B),r=L/i,s=M/i):R<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(R),r=S/s,i=M/s),this.set(r,i,s,n),this}let w=Math.sqrt((v-p)*(v-p)+(A-y)*(A-y)+(f-u)*(f-u));return Math.abs(w)<.001&&(w=1),this.x=(v-p)/w,this.y=(A-y)/w,this.z=(f-u)/w,this.w=Math.acos((c+h+m-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class S$ extends Qf{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new Pr(0,0,e,n),this.scissorTest=!1,this.viewport=new Pr(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(ew("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===ad?bs:Ol),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:as,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new fs(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Xp(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class bu extends S${constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class vB extends fs{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=is,this.minFilter=is,this.wrapR=ho,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Cde extends bu{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new vB(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class ZR extends fs{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=is,this.minFilter=is,this.wrapR=ho,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Bde extends bu{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new ZR(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Tde extends bu{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let a=0;a<r;a++)this.texture[a]=s.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class go{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,a,o){let l=r[i+0],c=r[i+1],u=r[i+2],A=r[i+3];const f=s[a+0],h=s[a+1],p=s[a+2],y=s[a+3];if(o===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=A;return}if(o===1){e[n+0]=f,e[n+1]=h,e[n+2]=p,e[n+3]=y;return}if(A!==y||l!==f||c!==h||u!==p){let v=1-o;const m=l*f+c*h+u*p+A*y,w=m>=0?1:-1,_=1-m*m;if(_>Number.EPSILON){const R=Math.sqrt(_),L=Math.atan2(R,m*w);v=Math.sin(v*L)/R,o=Math.sin(o*L)/R}const B=o*w;if(l=l*v+f*B,c=c*v+h*B,u=u*v+p*B,A=A*v+y*B,v===1-o){const R=1/Math.sqrt(l*l+c*c+u*u+A*A);l*=R,c*=R,u*=R,A*=R}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=A}static multiplyQuaternionsFlat(e,n,r,i,s,a){const o=r[i],l=r[i+1],c=r[i+2],u=r[i+3],A=s[a],f=s[a+1],h=s[a+2],p=s[a+3];return e[n]=o*p+u*A+l*h-c*f,e[n+1]=l*p+u*f+c*A-o*h,e[n+2]=c*p+u*h+o*f-l*A,e[n+3]=u*p-o*A-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(r/2),u=o(i/2),A=o(s/2),f=l(r/2),h=l(i/2),p=l(s/2);switch(a){case"XYZ":this._x=f*u*A+c*h*p,this._y=c*h*A-f*u*p,this._z=c*u*p+f*h*A,this._w=c*u*A-f*h*p;break;case"YXZ":this._x=f*u*A+c*h*p,this._y=c*h*A-f*u*p,this._z=c*u*p-f*h*A,this._w=c*u*A+f*h*p;break;case"ZXY":this._x=f*u*A-c*h*p,this._y=c*h*A+f*u*p,this._z=c*u*p+f*h*A,this._w=c*u*A-f*h*p;break;case"ZYX":this._x=f*u*A-c*h*p,this._y=c*h*A+f*u*p,this._z=c*u*p-f*h*A,this._w=c*u*A+f*h*p;break;case"YZX":this._x=f*u*A+c*h*p,this._y=c*h*A+f*u*p,this._z=c*u*p-f*h*A,this._w=c*u*A-f*h*p;break;case"XZY":this._x=f*u*A-c*h*p,this._y=c*h*A-f*u*p,this._z=c*u*p+f*h*A,this._w=c*u*A+f*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],a=n[1],o=n[5],l=n[9],c=n[2],u=n[6],A=n[10],f=r+o+A;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(s-c)*h,this._z=(a-i)*h}else if(r>o&&r>A){const h=2*Math.sqrt(1+r-o-A);this._w=(u-l)/h,this._x=.25*h,this._y=(i+a)/h,this._z=(s+c)/h}else if(o>A){const h=2*Math.sqrt(1+o-r-A);this._w=(s-c)/h,this._x=(i+a)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+A-r-o);this._w=(a-i)/h,this._x=(s+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(qi(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,a=e._w,o=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+a*o+i*c-s*l,this._y=i*u+a*l+s*o-r*c,this._z=s*u+a*c+r*l-i*o,this._w=a*u-r*o-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,a=this._w;let o=a*e._w+r*e._x+i*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=i,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const h=1-n;return this._w=h*a+n*this._w,this._x=h*r+n*this._x,this._y=h*i+n*this._y,this._z=h*s+n*this._z,this.normalize(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),A=Math.sin((1-n)*u)/c,f=Math.sin(n*u)/c;return this._w=a*A+this._w*f,this._x=r*A+this._x*f,this._y=i*A+this._y*f,this._z=s*A+this._z*f,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Ce{constructor(e=0,n=0,r=0){Ce.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(pQ.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(pQ.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*i-o*r),u=2*(o*n-s*i),A=2*(s*r-a*n);return this.x=n+l*c+a*A-o*u,this.y=r+l*u+o*c-s*A,this.z=i+l*A+s*u-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,a=n.x,o=n.y,l=n.z;return this.x=i*l-s*o,this.y=s*a-r*l,this.z=r*o-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return xI.copy(this).projectOnVector(e),this.sub(xI)}reflect(e){return this.sub(xI.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(qi(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const xI=new Ce,pQ=new go;class Ho{constructor(e=new Ce(1/0,1/0,1/0),n=new Ce(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(Zc.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(Zc.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Zc.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,Zc):Zc.fromBufferAttribute(s,a),Zc.applyMatrix4(e.matrixWorld),this.expandByPoint(Zc);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),ub.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),ub.copy(r.boundingBox)),ub.applyMatrix4(e.matrixWorld),this.union(ub)}const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Zc),Zc.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Gy),Ab.subVectors(this.max,Gy),Ig.subVectors(e.a,Gy),Pg.subVectors(e.b,Gy),Ng.subVectors(e.c,Gy),Ah.subVectors(Pg,Ig),fh.subVectors(Ng,Pg),mp.subVectors(Ig,Ng);let n=[0,-Ah.z,Ah.y,0,-fh.z,fh.y,0,-mp.z,mp.y,Ah.z,0,-Ah.x,fh.z,0,-fh.x,mp.z,0,-mp.x,-Ah.y,Ah.x,0,-fh.y,fh.x,0,-mp.y,mp.x,0];return!bI(n,Ig,Pg,Ng,Ab)||(n=[1,0,0,0,1,0,0,0,1],!bI(n,Ig,Pg,Ng,Ab))?!1:(fb.crossVectors(Ah,fh),n=[fb.x,fb.y,fb.z],bI(n,Ig,Pg,Ng,Ab))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Zc).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Zc).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(zA[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),zA[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),zA[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),zA[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),zA[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),zA[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),zA[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),zA[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(zA),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const zA=[new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce,new Ce],Zc=new Ce,ub=new Ho,Ig=new Ce,Pg=new Ce,Ng=new Ce,Ah=new Ce,fh=new Ce,mp=new Ce,Gy=new Ce,Ab=new Ce,fb=new Ce,gp=new Ce;function bI(t,e,n,r,i){for(let s=0,a=t.length-3;s<=a;s+=3){gp.fromArray(t,s);const o=i.x*Math.abs(gp.x)+i.y*Math.abs(gp.y)+i.z*Math.abs(gp.z),l=e.dot(gp),c=n.dot(gp),u=r.dot(gp);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const Mde=new Ho,Wy=new Ce,EI=new Ce;let vo=class{constructor(e=new Ce,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Mde.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Wy.subVectors(e,this.center);const n=Wy.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(Wy,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(EI.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Wy.copy(e.center).add(EI)),this.expandByPoint(Wy.copy(e.center).sub(EI))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}};const jA=new Ce,SI=new Ce,hb=new Ce,hh=new Ce,CI=new Ce,db=new Ce,BI=new Ce;class qm{constructor(e=new Ce,n=new Ce(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,jA)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=jA.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(jA.copy(this.origin).addScaledVector(this.direction,n),jA.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){SI.copy(e).add(n).multiplyScalar(.5),hb.copy(n).sub(e).normalize(),hh.copy(this.origin).sub(SI);const s=e.distanceTo(n)*.5,a=-this.direction.dot(hb),o=hh.dot(this.direction),l=-hh.dot(hb),c=hh.lengthSq(),u=Math.abs(1-a*a);let A,f,h,p;if(u>0)if(A=a*l-o,f=a*o-l,p=s*u,A>=0)if(f>=-p)if(f<=p){const y=1/u;A*=y,f*=y,h=A*(A+a*f+2*o)+f*(a*A+f+2*l)+c}else f=s,A=Math.max(0,-(a*f+o)),h=-A*A+f*(f+2*l)+c;else f=-s,A=Math.max(0,-(a*f+o)),h=-A*A+f*(f+2*l)+c;else f<=-p?(A=Math.max(0,-(-a*s+o)),f=A>0?-s:Math.min(Math.max(-s,-l),s),h=-A*A+f*(f+2*l)+c):f<=p?(A=0,f=Math.min(Math.max(-s,-l),s),h=f*(f+2*l)+c):(A=Math.max(0,-(a*s+o)),f=A>0?s:Math.min(Math.max(-s,-l),s),h=-A*A+f*(f+2*l)+c);else f=a>0?-s:s,A=Math.max(0,-(a*f+o)),h=-A*A+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,A),i&&i.copy(SI).addScaledVector(hb,f),h}intersectSphere(e,n){jA.subVectors(e.center,this.origin);const r=jA.dot(this.direction),i=jA.dot(jA)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,l=r+a;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,a,o,l;const c=1/this.direction.x,u=1/this.direction.y,A=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,a=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,a=(e.min.y-f.y)*u),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),A>=0?(o=(e.min.z-f.z)*A,l=(e.max.z-f.z)*A):(o=(e.max.z-f.z)*A,l=(e.min.z-f.z)*A),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,jA)!==null}intersectTriangle(e,n,r,i,s){CI.subVectors(n,e),db.subVectors(r,e),BI.crossVectors(CI,db);let a=this.direction.dot(BI),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;hh.subVectors(this.origin,e);const l=o*this.direction.dot(db.crossVectors(hh,db));if(l<0)return null;const c=o*this.direction.dot(CI.cross(hh));if(c<0||l+c>a)return null;const u=-o*hh.dot(BI);return u<0?null:this.at(u/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Sn{constructor(e,n,r,i,s,a,o,l,c,u,A,f,h,p,y,v){Sn.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,c,u,A,f,h,p,y,v)}set(e,n,r,i,s,a,o,l,c,u,A,f,h,p,y,v){const m=this.elements;return m[0]=e,m[4]=n,m[8]=r,m[12]=i,m[1]=s,m[5]=a,m[9]=o,m[13]=l,m[2]=c,m[6]=u,m[10]=A,m[14]=f,m[3]=h,m[7]=p,m[11]=y,m[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Sn().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Lg.setFromMatrixColumn(e,0).length(),s=1/Lg.setFromMatrixColumn(e,1).length(),a=1/Lg.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),A=Math.sin(s);if(e.order==="XYZ"){const f=a*u,h=a*A,p=o*u,y=o*A;n[0]=l*u,n[4]=-l*A,n[8]=c,n[1]=h+p*c,n[5]=f-y*c,n[9]=-o*l,n[2]=y-f*c,n[6]=p+h*c,n[10]=a*l}else if(e.order==="YXZ"){const f=l*u,h=l*A,p=c*u,y=c*A;n[0]=f+y*o,n[4]=p*o-h,n[8]=a*c,n[1]=a*A,n[5]=a*u,n[9]=-o,n[2]=h*o-p,n[6]=y+f*o,n[10]=a*l}else if(e.order==="ZXY"){const f=l*u,h=l*A,p=c*u,y=c*A;n[0]=f-y*o,n[4]=-a*A,n[8]=p+h*o,n[1]=h+p*o,n[5]=a*u,n[9]=y-f*o,n[2]=-a*c,n[6]=o,n[10]=a*l}else if(e.order==="ZYX"){const f=a*u,h=a*A,p=o*u,y=o*A;n[0]=l*u,n[4]=p*c-h,n[8]=f*c+y,n[1]=l*A,n[5]=y*c+f,n[9]=h*c-p,n[2]=-c,n[6]=o*l,n[10]=a*l}else if(e.order==="YZX"){const f=a*l,h=a*c,p=o*l,y=o*c;n[0]=l*u,n[4]=y-f*A,n[8]=p*A+h,n[1]=A,n[5]=a*u,n[9]=-o*u,n[2]=-c*u,n[6]=h*A+p,n[10]=f-y*A}else if(e.order==="XZY"){const f=a*l,h=a*c,p=o*l,y=o*c;n[0]=l*u,n[4]=-A,n[8]=c*u,n[1]=f*A+y,n[5]=a*u,n[9]=h*A-p,n[2]=p*A-h,n[6]=o*u,n[10]=y*A+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Ide,e,Pde)}lookAt(e,n,r){const i=this.elements;return Ll.subVectors(e,n),Ll.lengthSq()===0&&(Ll.z=1),Ll.normalize(),dh.crossVectors(r,Ll),dh.lengthSq()===0&&(Math.abs(r.z)===1?Ll.x+=1e-4:Ll.z+=1e-4,Ll.normalize(),dh.crossVectors(r,Ll)),dh.normalize(),pb.crossVectors(Ll,dh),i[0]=dh.x,i[4]=pb.x,i[8]=Ll.x,i[1]=dh.y,i[5]=pb.y,i[9]=Ll.y,i[2]=dh.z,i[6]=pb.z,i[10]=Ll.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[4],l=r[8],c=r[12],u=r[1],A=r[5],f=r[9],h=r[13],p=r[2],y=r[6],v=r[10],m=r[14],w=r[3],_=r[7],B=r[11],R=r[15],L=i[0],S=i[4],M=i[8],T=i[12],F=i[1],P=i[5],D=i[9],H=i[13],X=i[2],fe=i[6],ue=i[10],me=i[14],J=i[3],le=i[7],ee=i[11],re=i[15];return s[0]=a*L+o*F+l*X+c*J,s[4]=a*S+o*P+l*fe+c*le,s[8]=a*M+o*D+l*ue+c*ee,s[12]=a*T+o*H+l*me+c*re,s[1]=u*L+A*F+f*X+h*J,s[5]=u*S+A*P+f*fe+h*le,s[9]=u*M+A*D+f*ue+h*ee,s[13]=u*T+A*H+f*me+h*re,s[2]=p*L+y*F+v*X+m*J,s[6]=p*S+y*P+v*fe+m*le,s[10]=p*M+y*D+v*ue+m*ee,s[14]=p*T+y*H+v*me+m*re,s[3]=w*L+_*F+B*X+R*J,s[7]=w*S+_*P+B*fe+R*le,s[11]=w*M+_*D+B*ue+R*ee,s[15]=w*T+_*H+B*me+R*re,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],u=e[2],A=e[6],f=e[10],h=e[14],p=e[3],y=e[7],v=e[11],m=e[15];return p*(+s*l*A-i*c*A-s*o*f+r*c*f+i*o*h-r*l*h)+y*(+n*l*h-n*c*f+s*a*f-i*a*h+i*c*u-s*l*u)+v*(+n*c*A-n*o*h-s*a*A+r*a*h+s*o*u-r*c*u)+m*(-i*o*u-n*l*A+n*o*f+i*a*A-r*a*f+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],A=e[9],f=e[10],h=e[11],p=e[12],y=e[13],v=e[14],m=e[15],w=A*v*c-y*f*c+y*l*h-o*v*h-A*l*m+o*f*m,_=p*f*c-u*v*c-p*l*h+a*v*h+u*l*m-a*f*m,B=u*y*c-p*A*c+p*o*h-a*y*h-u*o*m+a*A*m,R=p*A*l-u*y*l-p*o*f+a*y*f+u*o*v-a*A*v,L=n*w+r*_+i*B+s*R;if(L===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const S=1/L;return e[0]=w*S,e[1]=(y*f*s-A*v*s-y*i*h+r*v*h+A*i*m-r*f*m)*S,e[2]=(o*v*s-y*l*s+y*i*c-r*v*c-o*i*m+r*l*m)*S,e[3]=(A*l*s-o*f*s-A*i*c+r*f*c+o*i*h-r*l*h)*S,e[4]=_*S,e[5]=(u*v*s-p*f*s+p*i*h-n*v*h-u*i*m+n*f*m)*S,e[6]=(p*l*s-a*v*s-p*i*c+n*v*c+a*i*m-n*l*m)*S,e[7]=(a*f*s-u*l*s+u*i*c-n*f*c-a*i*h+n*l*h)*S,e[8]=B*S,e[9]=(p*A*s-u*y*s-p*r*h+n*y*h+u*r*m-n*A*m)*S,e[10]=(a*y*s-p*o*s+p*r*c-n*y*c-a*r*m+n*o*m)*S,e[11]=(u*o*s-a*A*s-u*r*c+n*A*c+a*r*h-n*o*h)*S,e[12]=R*S,e[13]=(u*y*i-p*A*i+p*r*f-n*y*f-u*r*v+n*A*v)*S,e[14]=(p*o*i-a*y*i-p*r*l+n*y*l+a*r*v-n*o*v)*S,e[15]=(a*A*i-u*o*i+u*r*l-n*A*l-a*r*f+n*o*f)*S,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,a=e.x,o=e.y,l=e.z,c=s*a,u=s*o;return this.set(c*a+r,c*o-i*l,c*l+i*o,0,c*o+i*l,u*o+r,u*l-i*a,0,c*l-i*o,u*l+i*a,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,a=n._y,o=n._z,l=n._w,c=s+s,u=a+a,A=o+o,f=s*c,h=s*u,p=s*A,y=a*u,v=a*A,m=o*A,w=l*c,_=l*u,B=l*A,R=r.x,L=r.y,S=r.z;return i[0]=(1-(y+m))*R,i[1]=(h+B)*R,i[2]=(p-_)*R,i[3]=0,i[4]=(h-B)*L,i[5]=(1-(f+m))*L,i[6]=(v+w)*L,i[7]=0,i[8]=(p+_)*S,i[9]=(v-w)*S,i[10]=(1-(f+y))*S,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Lg.set(i[0],i[1],i[2]).length();const a=Lg.set(i[4],i[5],i[6]).length(),o=Lg.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],eu.copy(this);const c=1/s,u=1/a,A=1/o;return eu.elements[0]*=c,eu.elements[1]*=c,eu.elements[2]*=c,eu.elements[4]*=u,eu.elements[5]*=u,eu.elements[6]*=u,eu.elements[8]*=A,eu.elements[9]*=A,eu.elements[10]*=A,n.setFromRotationMatrix(eu),r.x=s,r.y=a,r.z=o,this}makePerspective(e,n,r,i,s,a,o=pu){const l=this.elements,c=2*s/(n-e),u=2*s/(r-i),A=(n+e)/(n-e),f=(r+i)/(r-i);let h,p;if(o===pu)h=-(a+s)/(a-s),p=-2*a*s/(a-s);else if(o===yv)h=-a/(a-s),p=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=A,l[12]=0,l[1]=0,l[5]=u,l[9]=f,l[13]=0,l[2]=0,l[6]=0,l[10]=h,l[14]=p,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,a,o=pu){const l=this.elements,c=1/(n-e),u=1/(r-i),A=1/(a-s),f=(n+e)*c,h=(r+i)*u;let p,y;if(o===pu)p=(a+s)*A,y=-2*A;else if(o===yv)p=s*A,y=-1*A;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-f,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-h,l[2]=0,l[6]=0,l[10]=y,l[14]=-p,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Lg=new Ce,eu=new Sn,Ide=new Ce(0,0,0),Pde=new Ce(1,1,1),dh=new Ce,pb=new Ce,Ll=new Ce,mQ=new Sn,gQ=new go;class H_{constructor(e=0,n=0,r=0,i=H_.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],l=i[1],c=i[5],u=i[9],A=i[2],f=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(qi(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-qi(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-A,s),this._z=0);break;case"ZXY":this._x=Math.asin(qi(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-A,h),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-qi(A,-1,1)),Math.abs(A)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(qi(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-A,s)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-qi(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-u,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return mQ.makeRotationFromQuaternion(e),this.setFromRotationMatrix(mQ,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return gQ.setFromEuler(this),this.setFromQuaternion(gQ,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}H_.DEFAULT_ORDER="XYZ";class Am{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let Nde=0;const vQ=new Ce,Fg=new go,GA=new Sn,mb=new Ce,Ky=new Ce,Lde=new Ce,Fde=new go,yQ=new Ce(1,0,0),wQ=new Ce(0,1,0),_Q=new Ce(0,0,1),Rde={type:"added"},Ude={type:"removed"};class pr extends Qf{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:Nde++}),this.uuid=Gl(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=pr.DEFAULT_UP.clone();const e=new Ce,n=new H_,r=new go,i=new Ce(1,1,1);function s(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Sn},normalMatrix:{value:new Cn}}),this.matrix=new Sn,this.matrixWorld=new Sn,this.matrixAutoUpdate=pr.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=pr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Am,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Fg.setFromAxisAngle(e,n),this.quaternion.multiply(Fg),this}rotateOnWorldAxis(e,n){return Fg.setFromAxisAngle(e,n),this.quaternion.premultiply(Fg),this}rotateX(e){return this.rotateOnAxis(yQ,e)}rotateY(e){return this.rotateOnAxis(wQ,e)}rotateZ(e){return this.rotateOnAxis(_Q,e)}translateOnAxis(e,n){return vQ.copy(e).applyQuaternion(this.quaternion),this.position.add(vQ.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(yQ,e)}translateY(e){return this.translateOnAxis(wQ,e)}translateZ(e){return this.translateOnAxis(_Q,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(GA.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?mb.copy(e):mb.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Ky.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?GA.lookAt(Ky,mb,this.up):GA.lookAt(mb,Ky,this.up),this.quaternion.setFromRotationMatrix(GA),i&&(GA.extractRotation(i.matrixWorld),Fg.setFromRotationMatrix(GA),this.quaternion.premultiply(Fg.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Rde)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Ude)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),GA.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),GA.multiply(e.parent.matrixWorld)),e.applyMatrix4(GA),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ky,e,Lde),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Ky,Fde,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++){const o=i[s];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.visibility=this._visibility,i.active=this._active,i.bounds=this._bounds.map(o=>({boxInitialized:o.boxInitialized,boxMin:o.box.min.toArray(),boxMax:o.box.max.toArray(),sphereInitialized:o.sphereInitialized,sphereRadius:o.sphere.radius,sphereCenter:o.sphere.center.toArray()})),i.maxGeometryCount=this._maxGeometryCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.geometryCount=this._geometryCount,i.matricesTexture=this._matricesTexture.toJSON(e),this.boundingSphere!==null&&(i.boundingSphere={center:i.boundingSphere.center.toArray(),radius:i.boundingSphere.radius}),this.boundingBox!==null&&(i.boundingBox={min:i.boundingBox.min.toArray(),max:i.boundingBox.max.toArray()}));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const A=l[c];s(e.shapes,A)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(s(e.animations,l))}}if(n){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),A=a(e.shapes),f=a(e.skeletons),h=a(e.animations),p=a(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),A.length>0&&(r.shapes=A),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),p.length>0&&(r.nodes=p)}return r.object=i,r;function a(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}pr.DEFAULT_UP=new Ce(0,1,0);pr.DEFAULT_MATRIX_AUTO_UPDATE=!0;pr.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const tu=new Ce,WA=new Ce,TI=new Ce,KA=new Ce,Rg=new Ce,Ug=new Ce,xQ=new Ce,MI=new Ce,II=new Ce,PI=new Ce;let gb=!1;class fl{constructor(e=new Ce,n=new Ce,r=new Ce){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),tu.subVectors(e,n),i.cross(tu);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){tu.subVectors(i,n),WA.subVectors(r,n),TI.subVectors(e,n);const a=tu.dot(tu),o=tu.dot(WA),l=tu.dot(TI),c=WA.dot(WA),u=WA.dot(TI),A=a*c-o*o;if(A===0)return s.set(0,0,0),null;const f=1/A,h=(c*l-o*u)*f,p=(a*u-o*l)*f;return s.set(1-h-p,p,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,KA)===null?!1:KA.x>=0&&KA.y>=0&&KA.x+KA.y<=1}static getUV(e,n,r,i,s,a,o,l){return gb===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),gb=!0),this.getInterpolation(e,n,r,i,s,a,o,l)}static getInterpolation(e,n,r,i,s,a,o,l){return this.getBarycoord(e,n,r,i,KA)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,KA.x),l.addScaledVector(a,KA.y),l.addScaledVector(o,KA.z),l)}static isFrontFacing(e,n,r,i){return tu.subVectors(r,n),WA.subVectors(e,n),tu.cross(WA).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return tu.subVectors(this.c,this.b),WA.subVectors(this.a,this.b),tu.cross(WA).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return fl.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return fl.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return gb===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),gb=!0),fl.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return fl.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return fl.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return fl.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let a,o;Rg.subVectors(i,r),Ug.subVectors(s,r),MI.subVectors(e,r);const l=Rg.dot(MI),c=Ug.dot(MI);if(l<=0&&c<=0)return n.copy(r);II.subVectors(e,i);const u=Rg.dot(II),A=Ug.dot(II);if(u>=0&&A<=u)return n.copy(i);const f=l*A-u*c;if(f<=0&&l>=0&&u<=0)return a=l/(l-u),n.copy(r).addScaledVector(Rg,a);PI.subVectors(e,s);const h=Rg.dot(PI),p=Ug.dot(PI);if(p>=0&&h<=p)return n.copy(s);const y=h*c-l*p;if(y<=0&&c>=0&&p<=0)return o=c/(c-p),n.copy(r).addScaledVector(Ug,o);const v=u*p-h*A;if(v<=0&&A-u>=0&&h-p>=0)return xQ.subVectors(s,i),o=(A-u)/(A-u+(h-p)),n.copy(i).addScaledVector(xQ,o);const m=1/(v+y+f);return a=y*m,o=f*m,n.copy(r).addScaledVector(Rg,a).addScaledVector(Ug,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const C$={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},ph={h:0,s:0,l:0},vb={h:0,s:0,l:0};function NI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Kt=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=bs){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Mr.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=Mr.workingColorSpace){return this.r=e,this.g=n,this.b=r,Mr.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=Mr.workingColorSpace){if(e=YR(e,1),n=qi(n,0,1),r=qi(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,a=2*r-s;this.r=NI(a,s,e+1/3),this.g=NI(a,s,e),this.b=NI(a,s,e-1/3)}return Mr.toWorkingColorSpace(this,i),this}setStyle(e,n=bs){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=bs){const r=C$[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=J0(e.r),this.g=J0(e.g),this.b=J0(e.b),this}copyLinearToSRGB(e){return this.r=wI(e.r),this.g=wI(e.g),this.b=wI(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=bs){return Mr.fromWorkingColorSpace(eo.copy(this),e),Math.round(qi(eo.r*255,0,255))*65536+Math.round(qi(eo.g*255,0,255))*256+Math.round(qi(eo.b*255,0,255))}getHexString(e=bs){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Mr.workingColorSpace){Mr.fromWorkingColorSpace(eo.copy(this),n);const r=eo.r,i=eo.g,s=eo.b,a=Math.max(r,i,s),o=Math.min(r,i,s);let l,c;const u=(o+a)/2;if(o===a)l=0,c=0;else{const A=a-o;switch(c=u<=.5?A/(a+o):A/(2-a-o),a){case r:l=(i-s)/A+(i<s?6:0);break;case i:l=(s-r)/A+2;break;case s:l=(r-i)/A+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Mr.workingColorSpace){return Mr.fromWorkingColorSpace(eo.copy(this),n),e.r=eo.r,e.g=eo.g,e.b=eo.b,e}getStyle(e=bs){Mr.fromWorkingColorSpace(eo.copy(this),e);const n=eo.r,r=eo.g,i=eo.b;return e!==bs?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(ph),this.setHSL(ph.h+e,ph.s+n,ph.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(ph),e.getHSL(vb);const r=Z1(ph.h,vb.h,n),i=Z1(ph.s,vb.s,n),s=Z1(ph.l,vb.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const eo=new Kt;Kt.NAMES=C$;let Dde=0;class _o extends Qf{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Dde++}),this.uuid=Gl(),this.name="",this.type="Material",this.blending=cm,this.side=Cf,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=vS,this.blendDst=yS,this.blendEquation=Uh,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Kt(0,0,0),this.blendAlpha=0,this.depthFunc=Ow,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=aN,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Fp,this.stencilZFail=Fp,this.stencilZPass=Fp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==cm&&(r.blending=this.blending),this.side!==Cf&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==vS&&(r.blendSrc=this.blendSrc),this.blendDst!==yS&&(r.blendDst=this.blendDst),this.blendEquation!==Uh&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==Ow&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==aN&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Fp&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Fp&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Fp&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(n){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Hd extends _o{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Kt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=k_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const tf=Ode();function Ode(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:o}}function ol(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=qi(t,-65504,65504),tf.floatView[0]=t;const e=tf.uint32View[0],n=e>>23&511;return tf.baseTable[n]+((e&8388607)>>tf.shiftTable[n])}function b1(t){const e=t>>10;return tf.uint32View[0]=tf.mantissaTable[tf.offsetTable[e]+(t&1023)]+tf.exponentTable[e],tf.floatView[0]}const kde={toHalfFloat:ol,fromHalfFloat:b1},ws=new Ce,yb=new tt;class Fr{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=$w,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.gpuType=du,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.BufferAttribute: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)yb.fromBufferAttribute(this,n),yb.applyMatrix3(e),this.setXY(n,yb.x,yb.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)ws.fromBufferAttribute(this,n),ws.applyMatrix3(e),this.setXYZ(n,ws.x,ws.y,ws.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)ws.fromBufferAttribute(this,n),ws.applyMatrix4(e),this.setXYZ(n,ws.x,ws.y,ws.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ws.fromBufferAttribute(this,n),ws.applyNormalMatrix(e),this.setXYZ(n,ws.x,ws.y,ws.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ws.fromBufferAttribute(this,n),ws.transformDirection(e),this.setXYZ(n,ws.x,ws.y,ws.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=hl(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=On(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=hl(n,this.array)),n}setX(e,n){return this.normalized&&(n=On(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=hl(n,this.array)),n}setY(e,n){return this.normalized&&(n=On(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=hl(n,this.array)),n}setZ(e,n){return this.normalized&&(n=On(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=hl(n,this.array)),n}setW(e,n){return this.normalized&&(n=On(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=On(n,this.array),r=On(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=On(n,this.array),r=On(r,this.array),i=On(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=On(n,this.array),r=On(r,this.array),i=On(i,this.array),s=On(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==$w&&(e.usage=this.usage),e}}class Qde extends Fr{constructor(e,n,r){super(new Int8Array(e),n,r)}}class Hde extends Fr{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Vde extends Fr{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class zde extends Fr{constructor(e,n,r){super(new Int16Array(e),n,r)}}class e4 extends Fr{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class jde extends Fr{constructor(e,n,r){super(new Int32Array(e),n,r)}}class t4 extends Fr{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class Gde extends Fr{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=b1(this.array[e*this.itemSize]);return this.normalized&&(n=hl(n,this.array)),n}setX(e,n){return this.normalized&&(n=On(n,this.array)),this.array[e*this.itemSize]=ol(n),this}getY(e){let n=b1(this.array[e*this.itemSize+1]);return this.normalized&&(n=hl(n,this.array)),n}setY(e,n){return this.normalized&&(n=On(n,this.array)),this.array[e*this.itemSize+1]=ol(n),this}getZ(e){let n=b1(this.array[e*this.itemSize+2]);return this.normalized&&(n=hl(n,this.array)),n}setZ(e,n){return this.normalized&&(n=On(n,this.array)),this.array[e*this.itemSize+2]=ol(n),this}getW(e){let n=b1(this.array[e*this.itemSize+3]);return this.normalized&&(n=hl(n,this.array)),n}setW(e,n){return this.normalized&&(n=On(n,this.array)),this.array[e*this.itemSize+3]=ol(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=On(n,this.array),r=On(r,this.array)),this.array[e+0]=ol(n),this.array[e+1]=ol(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=On(n,this.array),r=On(r,this.array),i=On(i,this.array)),this.array[e+0]=ol(n),this.array[e+1]=ol(r),this.array[e+2]=ol(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=On(n,this.array),r=On(r,this.array),i=On(i,this.array),s=On(s,this.array)),this.array[e+0]=ol(n),this.array[e+1]=ol(r),this.array[e+2]=ol(i),this.array[e+3]=ol(s),this}}class tn extends Fr{constructor(e,n,r){super(new Float32Array(e),n,r)}}class Wde extends Fr{constructor(e,n,r){super(new Float64Array(e),n,r)}}let Kde=0;const vc=new Sn,LI=new pr,Dg=new Ce,Fl=new Ho,qy=new Ho,ca=new Ce;class kn extends Qf{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Kde++}),this.uuid=Gl(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(b$(e)?t4:e4)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Cn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return vc.makeRotationFromQuaternion(e),this.applyMatrix4(vc),this}rotateX(e){return vc.makeRotationX(e),this.applyMatrix4(vc),this}rotateY(e){return vc.makeRotationY(e),this.applyMatrix4(vc),this}rotateZ(e){return vc.makeRotationZ(e),this.applyMatrix4(vc),this}translate(e,n,r){return vc.makeTranslation(e,n,r),this.applyMatrix4(vc),this}scale(e,n,r){return vc.makeScale(e,n,r),this.applyMatrix4(vc),this}lookAt(e){return LI.lookAt(e),LI.updateMatrix(),this.applyMatrix4(LI.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Dg).negate(),this.translate(Dg.x,Dg.y,Dg.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new tn(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ho);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Ce(-1/0,-1/0,-1/0),new Ce(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];Fl.setFromBufferAttribute(s),this.morphTargetsRelative?(ca.addVectors(this.boundingBox.min,Fl.min),this.boundingBox.expandByPoint(ca),ca.addVectors(this.boundingBox.max,Fl.max),this.boundingBox.expandByPoint(ca)):(this.boundingBox.expandByPoint(Fl.min),this.boundingBox.expandByPoint(Fl.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vo);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Ce,1/0);return}if(e){const r=this.boundingSphere.center;if(Fl.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const o=n[s];qy.setFromBufferAttribute(o),this.morphTargetsRelative?(ca.addVectors(Fl.min,qy.min),Fl.expandByPoint(ca),ca.addVectors(Fl.max,qy.max),Fl.expandByPoint(ca)):(Fl.expandByPoint(qy.min),Fl.expandByPoint(qy.max))}Fl.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)ca.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(ca));if(n)for(let s=0,a=n.length;s<a;s++){const o=n[s],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)ca.fromBufferAttribute(o,c),l&&(Dg.fromBufferAttribute(e,c),ca.add(Dg)),i=Math.max(i,r.distanceToSquared(ca))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,a=n.uv.array,o=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new Fr(new Float32Array(4*o),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let F=0;F<o;F++)c[F]=new Ce,u[F]=new Ce;const A=new Ce,f=new Ce,h=new Ce,p=new tt,y=new tt,v=new tt,m=new Ce,w=new Ce;function _(F,P,D){A.fromArray(i,F*3),f.fromArray(i,P*3),h.fromArray(i,D*3),p.fromArray(a,F*2),y.fromArray(a,P*2),v.fromArray(a,D*2),f.sub(A),h.sub(A),y.sub(p),v.sub(p);const H=1/(y.x*v.y-v.x*y.y);isFinite(H)&&(m.copy(f).multiplyScalar(v.y).addScaledVector(h,-y.y).multiplyScalar(H),w.copy(h).multiplyScalar(y.x).addScaledVector(f,-v.x).multiplyScalar(H),c[F].add(m),c[P].add(m),c[D].add(m),u[F].add(w),u[P].add(w),u[D].add(w))}let B=this.groups;B.length===0&&(B=[{start:0,count:r.length}]);for(let F=0,P=B.length;F<P;++F){const D=B[F],H=D.start,X=D.count;for(let fe=H,ue=H+X;fe<ue;fe+=3)_(r[fe+0],r[fe+1],r[fe+2])}const R=new Ce,L=new Ce,S=new Ce,M=new Ce;function T(F){S.fromArray(s,F*3),M.copy(S);const P=c[F];R.copy(P),R.sub(S.multiplyScalar(S.dot(P))).normalize(),L.crossVectors(M,P);const H=L.dot(u[F])<0?-1:1;l[F*4]=R.x,l[F*4+1]=R.y,l[F*4+2]=R.z,l[F*4+3]=H}for(let F=0,P=B.length;F<P;++F){const D=B[F],H=D.start,X=D.count;for(let fe=H,ue=H+X;fe<ue;fe+=3)T(r[fe+0]),T(r[fe+1]),T(r[fe+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new Fr(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new Ce,s=new Ce,a=new Ce,o=new Ce,l=new Ce,c=new Ce,u=new Ce,A=new Ce;if(e)for(let f=0,h=e.count;f<h;f+=3){const p=e.getX(f+0),y=e.getX(f+1),v=e.getX(f+2);i.fromBufferAttribute(n,p),s.fromBufferAttribute(n,y),a.fromBufferAttribute(n,v),u.subVectors(a,s),A.subVectors(i,s),u.cross(A),o.fromBufferAttribute(r,p),l.fromBufferAttribute(r,y),c.fromBufferAttribute(r,v),o.add(u),l.add(u),c.add(u),r.setXYZ(p,o.x,o.y,o.z),r.setXYZ(y,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let f=0,h=n.count;f<h;f+=3)i.fromBufferAttribute(n,f+0),s.fromBufferAttribute(n,f+1),a.fromBufferAttribute(n,f+2),u.subVectors(a,s),A.subVectors(i,s),u.cross(A),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ca.fromBufferAttribute(e,n),ca.normalize(),e.setXYZ(n,ca.x,ca.y,ca.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,A=o.normalized,f=new c.constructor(l.length*u);let h=0,p=0;for(let y=0,v=l.length;y<v;y++){o.isInterleavedBufferAttribute?h=l[y]*o.data.stride+o.offset:h=l[y]*u;for(let m=0;m<u;m++)f[p++]=c[h++]}return new Fr(f,u,A)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new kn,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,r);n.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let u=0,A=c.length;u<A;u++){const f=c[u],h=e(f,r);l.push(h)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let A=0,f=c.length;A<f;A++){const h=c[A];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],A=s[c];for(let f=0,h=A.length;f<h;f++)u.push(A[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const A=a[c];this.addGroup(A.start,A.count,A.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const bQ=new Sn,vp=new qm,wb=new vo,EQ=new Ce,Og=new Ce,kg=new Ce,Qg=new Ce,FI=new Ce,_b=new Ce,xb=new tt,bb=new tt,Eb=new tt,SQ=new Ce,CQ=new Ce,BQ=new Ce,Sb=new Ce,Cb=new Ce;class Qs extends pr{constructor(e=new kn,n=new Hd){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){_b.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=o[l],A=s[l];u!==0&&(FI.fromBufferAttribute(A,e),a?_b.addScaledVector(FI,u):_b.addScaledVector(FI.sub(n),u))}n.add(_b)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),wb.copy(r.boundingSphere),wb.applyMatrix4(s),vp.copy(e.ray).recast(e.near),!(wb.containsPoint(vp.origin)===!1&&(vp.intersectSphere(wb,EQ)===null||vp.origin.distanceToSquared(EQ)>(e.far-e.near)**2))&&(bQ.copy(s).invert(),vp.copy(e.ray).applyMatrix4(bQ),!(r.boundingBox!==null&&vp.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,vp)))}_computeIntersections(e,n,r){let i;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,A=s.attributes.normal,f=s.groups,h=s.drawRange;if(o!==null)if(Array.isArray(a))for(let p=0,y=f.length;p<y;p++){const v=f[p],m=a[v.materialIndex],w=Math.max(v.start,h.start),_=Math.min(o.count,Math.min(v.start+v.count,h.start+h.count));for(let B=w,R=_;B<R;B+=3){const L=o.getX(B),S=o.getX(B+1),M=o.getX(B+2);i=Bb(this,m,e,r,c,u,A,L,S,M),i&&(i.faceIndex=Math.floor(B/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),y=Math.min(o.count,h.start+h.count);for(let v=p,m=y;v<m;v+=3){const w=o.getX(v),_=o.getX(v+1),B=o.getX(v+2);i=Bb(this,a,e,r,c,u,A,w,_,B),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let p=0,y=f.length;p<y;p++){const v=f[p],m=a[v.materialIndex],w=Math.max(v.start,h.start),_=Math.min(l.count,Math.min(v.start+v.count,h.start+h.count));for(let B=w,R=_;B<R;B+=3){const L=B,S=B+1,M=B+2;i=Bb(this,m,e,r,c,u,A,L,S,M),i&&(i.faceIndex=Math.floor(B/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const p=Math.max(0,h.start),y=Math.min(l.count,h.start+h.count);for(let v=p,m=y;v<m;v+=3){const w=v,_=v+1,B=v+2;i=Bb(this,a,e,r,c,u,A,w,_,B),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}}}function qde(t,e,n,r,i,s,a,o){let l;if(e.side===Qo?l=r.intersectTriangle(a,s,i,!0,o):l=r.intersectTriangle(i,s,a,e.side===Cf,o),l===null)return null;Cb.copy(o),Cb.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Cb);return c<n.near||c>n.far?null:{distance:c,point:Cb.clone(),object:t}}function Bb(t,e,n,r,i,s,a,o,l,c){t.getVertexPosition(o,Og),t.getVertexPosition(l,kg),t.getVertexPosition(c,Qg);const u=qde(t,e,n,r,Og,kg,Qg,Sb);if(u){i&&(xb.fromBufferAttribute(i,o),bb.fromBufferAttribute(i,l),Eb.fromBufferAttribute(i,c),u.uv=fl.getInterpolation(Sb,Og,kg,Qg,xb,bb,Eb,new tt)),s&&(xb.fromBufferAttribute(s,o),bb.fromBufferAttribute(s,l),Eb.fromBufferAttribute(s,c),u.uv1=fl.getInterpolation(Sb,Og,kg,Qg,xb,bb,Eb,new tt),u.uv2=u.uv1),a&&(SQ.fromBufferAttribute(a,o),CQ.fromBufferAttribute(a,l),BQ.fromBufferAttribute(a,c),u.normal=fl.getInterpolation(Sb,Og,kg,Qg,SQ,CQ,BQ,new Ce),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const A={a:o,b:l,c,normal:new Ce,materialIndex:0};fl.getNormal(Og,kg,Qg,A.normal),u.face=A}return u}class $m extends kn{constructor(e=1,n=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],u=[],A=[];let f=0,h=0;p("z","y","x",-1,-1,r,n,e,a,s,0),p("z","y","x",1,-1,r,n,-e,a,s,1),p("x","z","y",1,1,e,r,n,i,a,2),p("x","z","y",1,-1,e,r,-n,i,a,3),p("x","y","z",1,-1,e,n,r,i,s,4),p("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new tn(c,3)),this.setAttribute("normal",new tn(u,3)),this.setAttribute("uv",new tn(A,2));function p(y,v,m,w,_,B,R,L,S,M,T){const F=B/S,P=R/M,D=B/2,H=R/2,X=L/2,fe=S+1,ue=M+1;let me=0,J=0;const le=new Ce;for(let ee=0;ee<ue;ee++){const re=ee*P-H;for(let k=0;k<fe;k++){const $=k*F-D;le[y]=$*w,le[v]=re*_,le[m]=X,c.push(le.x,le.y,le.z),le[y]=0,le[v]=0,le[m]=L>0?1:-1,u.push(le.x,le.y,le.z),A.push(k/S),A.push(1-ee/M),me+=1}}for(let ee=0;ee<M;ee++)for(let re=0;re<S;re++){const k=f+re+fe*ee,$=f+re+fe*(ee+1),j=f+(re+1)+fe*(ee+1),G=f+(re+1)+fe*ee;l.push(k,$,G),l.push($,j,G),J+=6}o.addGroup(h,J,T),h+=J,f+=me}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $m(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function _v(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Lo(t){const e={};for(let n=0;n<t.length;n++){const r=_v(t[n]);for(const i in r)e[i]=r[i]}return e}function $de(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function B$(t){return t.getRenderTarget()===null?t.outputColorSpace:Mr.workingColorSpace}const T$={clone:_v,merge:Lo};var Xde=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Yde=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Eu extends _o{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Xde,this.fragmentShader=Yde,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1,clipCullDistance:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=_v(e.uniforms),this.uniformsGroups=$de(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class V_ extends pr{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Sn,this.projectionMatrix=new Sn,this.projectionMatrixInverse=new Sn,this.coordinateSystem=pu}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class os extends V_{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=wv*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(um*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return wv*2*Math.atan(Math.tan(um*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(um*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*i/l,n-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Hg=-90,Vg=1;class M$ extends pr{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new os(Hg,Vg,e,n);i.layers=this.layers,this.add(i);const s=new os(Hg,Vg,e,n);s.layers=this.layers,this.add(s);const a=new os(Hg,Vg,e,n);a.layers=this.layers,this.add(a);const o=new os(Hg,Vg,e,n);o.layers=this.layers,this.add(o);const l=new os(Hg,Vg,e,n);l.layers=this.layers,this.add(l);const c=new os(Hg,Vg,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,a,o,l]=n;for(const c of n)this.remove(c);if(e===pu)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===yv)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,u]=this.children,A=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),p=e.xr.enabled;e.xr.enabled=!1;const y=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,o),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=y,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(A,f,h),e.xr.enabled=p,r.texture.needsPMREMUpdate=!0}}class z_ extends fs{constructor(e,n,r,i,s,a,o,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:Bf,super(e,n,r,i,s,a,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class I$ extends bu{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(ew("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===ad?bs:Ol),this.texture=new z_(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:as}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new $m(5,5,5),s=new Eu({name:"CubemapFromEquirect",uniforms:_v(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Qo,blending:gf});s.uniforms.tEquirect.value=n;const a=new Qs(i,s),o=n.minFilter;return n.minFilter===bd&&(n.minFilter=as),new M$(1,10,this).update(e,a),n.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(s)}}const RI=new Ce,Jde=new Ce,Zde=new Cn;class ef{constructor(e=new Ce(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=RI.subVectors(r,n).cross(Jde.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(RI),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Zde.getNormalMatrix(e),i=this.coplanarPoint(RI).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const yp=new vo,Tb=new Ce;class j_{constructor(e=new ef,n=new ef,r=new ef,i=new ef,s=new ef,a=new ef){this.planes=[e,n,r,i,s,a]}set(e,n,r,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=pu){const r=this.planes,i=e.elements,s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],A=i[6],f=i[7],h=i[8],p=i[9],y=i[10],v=i[11],m=i[12],w=i[13],_=i[14],B=i[15];if(r[0].setComponents(l-s,f-c,v-h,B-m).normalize(),r[1].setComponents(l+s,f+c,v+h,B+m).normalize(),r[2].setComponents(l+a,f+u,v+p,B+w).normalize(),r[3].setComponents(l-a,f-u,v-p,B-w).normalize(),r[4].setComponents(l-o,f-A,v-y,B-_).normalize(),n===pu)r[5].setComponents(l+o,f+A,v+y,B+_).normalize();else if(n===yv)r[5].setComponents(o,A,y,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),yp.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),yp.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(yp)}intersectsSprite(e){return yp.center.set(0,0,0),yp.radius=.7071067811865476,yp.applyMatrix4(e.matrixWorld),this.intersectsSphere(yp)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Tb.x=i.normal.x>0?e.max.x:e.min.x,Tb.y=i.normal.y>0?e.max.y:e.min.y,Tb.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Tb)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function P$(){let t=null,e=!1,n=null,r=null;function i(s,a){n(s,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function epe(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const A=c.array,f=c.usage,h=A.byteLength,p=t.createBuffer();t.bindBuffer(u,p),t.bufferData(u,A,f),c.onUploadCallback();let y;if(A instanceof Float32Array)y=t.FLOAT;else if(A instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)y=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else y=t.UNSIGNED_SHORT;else if(A instanceof Int16Array)y=t.SHORT;else if(A instanceof Uint32Array)y=t.UNSIGNED_INT;else if(A instanceof Int32Array)y=t.INT;else if(A instanceof Int8Array)y=t.BYTE;else if(A instanceof Uint8Array)y=t.UNSIGNED_BYTE;else if(A instanceof Uint8ClampedArray)y=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+A);return{buffer:p,type:y,bytesPerElement:A.BYTES_PER_ELEMENT,version:c.version,size:h}}function s(c,u,A){const f=u.array,h=u._updateRange,p=u.updateRanges;if(t.bindBuffer(A,c),h.count===-1&&p.length===0&&t.bufferSubData(A,0,f),p.length!==0){for(let y=0,v=p.length;y<v;y++){const m=p[y];n?t.bufferSubData(A,m.start*f.BYTES_PER_ELEMENT,f,m.start,m.count):t.bufferSubData(A,m.start*f.BYTES_PER_ELEMENT,f.subarray(m.start,m.start+m.count))}u.clearUpdateRanges()}h.count!==-1&&(n?t.bufferSubData(A,h.offset*f.BYTES_PER_ELEMENT,f,h.offset,h.count):t.bufferSubData(A,h.offset*f.BYTES_PER_ELEMENT,f.subarray(h.offset,h.offset+h.count)),h.count=-1),u.onUploadCallback()}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function o(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const f=r.get(c);(!f||f.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const A=r.get(c);if(A===void 0)r.set(c,i(c,u));else if(A.version<c.version){if(A.size!==c.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");s(A.buffer,c,u),A.version=c.version}}return{get:a,remove:o,update:l}}class G_ extends kn{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,a=n/2,o=Math.floor(r),l=Math.floor(i),c=o+1,u=l+1,A=e/o,f=n/l,h=[],p=[],y=[],v=[];for(let m=0;m<u;m++){const w=m*f-a;for(let _=0;_<c;_++){const B=_*A-s;p.push(B,-w,0),y.push(0,0,1),v.push(_/o),v.push(1-m/l)}}for(let m=0;m<l;m++)for(let w=0;w<o;w++){const _=w+c*m,B=w+c*(m+1),R=w+1+c*(m+1),L=w+1+c*m;h.push(_,B,L),h.push(B,R,L)}this.setIndex(h),this.setAttribute("position",new tn(p,3)),this.setAttribute("normal",new tn(y,3)),this.setAttribute("uv",new tn(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new G_(e.width,e.height,e.widthSegments,e.heightSegments)}}var tpe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,npe=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,rpe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,ipe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,spe=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,ape=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,ope=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,lpe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,cpe=`#ifdef USE_BATCHING
	attribute float batchId;
	uniform highp sampler2D batchingTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,upe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( batchId );
#endif`,Ape=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,fpe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,hpe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,dpe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,ppe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,mpe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,gpe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,vpe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ype=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,wpe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,_pe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,xpe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,bpe=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Epe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Spe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Cpe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Bpe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Tpe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Mpe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Ipe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Ppe="gl_FragColor = linearToOutputTexel( gl_FragColor );",Npe=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Lpe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,Fpe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,Rpe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Upe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Dpe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Ope=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,kpe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,Qpe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Hpe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Vpe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,zpe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,jpe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Gpe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Wpe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,Kpe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,qpe=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,$pe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Xpe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Ype=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Jpe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Zpe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,eme=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,tme=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,nme=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,rme=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,ime=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,sme=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ame=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,ome=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,lme=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,cme=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,ume=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Ame=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,fme=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,hme=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,dme=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,pme=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,mme=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,gme=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,vme=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,yme=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,wme=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,_me=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,xme=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,bme=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Eme=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Sme=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Cme=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Bme=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Tme=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Mme=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Ime=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Pme=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Nme=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Lme=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,Fme=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,Rme=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Ume=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Dme=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Ome=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,kme=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,Qme=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Hme=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,Vme=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,zme=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,jme=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Gme=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Wme=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,Kme=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color *= toneMappingExposure;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	return color;
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,qme=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,$me=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Xme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Yme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Jme=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Zme=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const ege=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,tge=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,nge=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,rge=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,ige=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,sge=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,age=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,oge=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,lge=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,cge=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,uge=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Age=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,fge=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,hge=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,dge=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,pge=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,mge=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,gge=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vge=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,yge=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,wge=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,_ge=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,xge=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,bge=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Ege=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Sge=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cge=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Bge=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Tge=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Mge=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Ige=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pge=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Nge=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Lge=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Dn={alphahash_fragment:tpe,alphahash_pars_fragment:npe,alphamap_fragment:rpe,alphamap_pars_fragment:ipe,alphatest_fragment:spe,alphatest_pars_fragment:ape,aomap_fragment:ope,aomap_pars_fragment:lpe,batching_pars_vertex:cpe,batching_vertex:upe,begin_vertex:Ape,beginnormal_vertex:fpe,bsdfs:hpe,iridescence_fragment:dpe,bumpmap_pars_fragment:ppe,clipping_planes_fragment:mpe,clipping_planes_pars_fragment:gpe,clipping_planes_pars_vertex:vpe,clipping_planes_vertex:ype,color_fragment:wpe,color_pars_fragment:_pe,color_pars_vertex:xpe,color_vertex:bpe,common:Epe,cube_uv_reflection_fragment:Spe,defaultnormal_vertex:Cpe,displacementmap_pars_vertex:Bpe,displacementmap_vertex:Tpe,emissivemap_fragment:Mpe,emissivemap_pars_fragment:Ipe,colorspace_fragment:Ppe,colorspace_pars_fragment:Npe,envmap_fragment:Lpe,envmap_common_pars_fragment:Fpe,envmap_pars_fragment:Rpe,envmap_pars_vertex:Upe,envmap_physical_pars_fragment:qpe,envmap_vertex:Dpe,fog_vertex:Ope,fog_pars_vertex:kpe,fog_fragment:Qpe,fog_pars_fragment:Hpe,gradientmap_pars_fragment:Vpe,lightmap_fragment:zpe,lightmap_pars_fragment:jpe,lights_lambert_fragment:Gpe,lights_lambert_pars_fragment:Wpe,lights_pars_begin:Kpe,lights_toon_fragment:$pe,lights_toon_pars_fragment:Xpe,lights_phong_fragment:Ype,lights_phong_pars_fragment:Jpe,lights_physical_fragment:Zpe,lights_physical_pars_fragment:eme,lights_fragment_begin:tme,lights_fragment_maps:nme,lights_fragment_end:rme,logdepthbuf_fragment:ime,logdepthbuf_pars_fragment:sme,logdepthbuf_pars_vertex:ame,logdepthbuf_vertex:ome,map_fragment:lme,map_pars_fragment:cme,map_particle_fragment:ume,map_particle_pars_fragment:Ame,metalnessmap_fragment:fme,metalnessmap_pars_fragment:hme,morphcolor_vertex:dme,morphnormal_vertex:pme,morphtarget_pars_vertex:mme,morphtarget_vertex:gme,normal_fragment_begin:vme,normal_fragment_maps:yme,normal_pars_fragment:wme,normal_pars_vertex:_me,normal_vertex:xme,normalmap_pars_fragment:bme,clearcoat_normal_fragment_begin:Eme,clearcoat_normal_fragment_maps:Sme,clearcoat_pars_fragment:Cme,iridescence_pars_fragment:Bme,opaque_fragment:Tme,packing:Mme,premultiplied_alpha_fragment:Ime,project_vertex:Pme,dithering_fragment:Nme,dithering_pars_fragment:Lme,roughnessmap_fragment:Fme,roughnessmap_pars_fragment:Rme,shadowmap_pars_fragment:Ume,shadowmap_pars_vertex:Dme,shadowmap_vertex:Ome,shadowmask_pars_fragment:kme,skinbase_vertex:Qme,skinning_pars_vertex:Hme,skinning_vertex:Vme,skinnormal_vertex:zme,specularmap_fragment:jme,specularmap_pars_fragment:Gme,tonemapping_fragment:Wme,tonemapping_pars_fragment:Kme,transmission_fragment:qme,transmission_pars_fragment:$me,uv_pars_fragment:Xme,uv_pars_vertex:Yme,uv_vertex:Jme,worldpos_vertex:Zme,background_vert:ege,background_frag:tge,backgroundCube_vert:nge,backgroundCube_frag:rge,cube_vert:ige,cube_frag:sge,depth_vert:age,depth_frag:oge,distanceRGBA_vert:lge,distanceRGBA_frag:cge,equirect_vert:uge,equirect_frag:Age,linedashed_vert:fge,linedashed_frag:hge,meshbasic_vert:dge,meshbasic_frag:pge,meshlambert_vert:mge,meshlambert_frag:gge,meshmatcap_vert:vge,meshmatcap_frag:yge,meshnormal_vert:wge,meshnormal_frag:_ge,meshphong_vert:xge,meshphong_frag:bge,meshphysical_vert:Ege,meshphysical_frag:Sge,meshtoon_vert:Cge,meshtoon_frag:Bge,points_vert:Tge,points_frag:Mge,shadow_vert:Ige,shadow_frag:Pge,sprite_vert:Nge,sprite_frag:Lge},Ut={common:{diffuse:{value:new Kt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Cn},alphaMap:{value:null},alphaMapTransform:{value:new Cn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Cn}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Cn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Cn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Cn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Cn},normalScale:{value:new tt(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Cn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Cn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Cn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Cn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Kt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Kt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Cn},alphaTest:{value:0},uvTransform:{value:new Cn}},sprite:{diffuse:{value:new Kt(16777215)},opacity:{value:1},center:{value:new tt(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Cn},alphaMap:{value:null},alphaMapTransform:{value:new Cn},alphaTest:{value:0}}},Au={basic:{uniforms:Lo([Ut.common,Ut.specularmap,Ut.envmap,Ut.aomap,Ut.lightmap,Ut.fog]),vertexShader:Dn.meshbasic_vert,fragmentShader:Dn.meshbasic_frag},lambert:{uniforms:Lo([Ut.common,Ut.specularmap,Ut.envmap,Ut.aomap,Ut.lightmap,Ut.emissivemap,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,Ut.fog,Ut.lights,{emissive:{value:new Kt(0)}}]),vertexShader:Dn.meshlambert_vert,fragmentShader:Dn.meshlambert_frag},phong:{uniforms:Lo([Ut.common,Ut.specularmap,Ut.envmap,Ut.aomap,Ut.lightmap,Ut.emissivemap,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,Ut.fog,Ut.lights,{emissive:{value:new Kt(0)},specular:{value:new Kt(1118481)},shininess:{value:30}}]),vertexShader:Dn.meshphong_vert,fragmentShader:Dn.meshphong_frag},standard:{uniforms:Lo([Ut.common,Ut.envmap,Ut.aomap,Ut.lightmap,Ut.emissivemap,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,Ut.roughnessmap,Ut.metalnessmap,Ut.fog,Ut.lights,{emissive:{value:new Kt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Dn.meshphysical_vert,fragmentShader:Dn.meshphysical_frag},toon:{uniforms:Lo([Ut.common,Ut.aomap,Ut.lightmap,Ut.emissivemap,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,Ut.gradientmap,Ut.fog,Ut.lights,{emissive:{value:new Kt(0)}}]),vertexShader:Dn.meshtoon_vert,fragmentShader:Dn.meshtoon_frag},matcap:{uniforms:Lo([Ut.common,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,Ut.fog,{matcap:{value:null}}]),vertexShader:Dn.meshmatcap_vert,fragmentShader:Dn.meshmatcap_frag},points:{uniforms:Lo([Ut.points,Ut.fog]),vertexShader:Dn.points_vert,fragmentShader:Dn.points_frag},dashed:{uniforms:Lo([Ut.common,Ut.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Dn.linedashed_vert,fragmentShader:Dn.linedashed_frag},depth:{uniforms:Lo([Ut.common,Ut.displacementmap]),vertexShader:Dn.depth_vert,fragmentShader:Dn.depth_frag},normal:{uniforms:Lo([Ut.common,Ut.bumpmap,Ut.normalmap,Ut.displacementmap,{opacity:{value:1}}]),vertexShader:Dn.meshnormal_vert,fragmentShader:Dn.meshnormal_frag},sprite:{uniforms:Lo([Ut.sprite,Ut.fog]),vertexShader:Dn.sprite_vert,fragmentShader:Dn.sprite_frag},background:{uniforms:{uvTransform:{value:new Cn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Dn.background_vert,fragmentShader:Dn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Dn.backgroundCube_vert,fragmentShader:Dn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Dn.cube_vert,fragmentShader:Dn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Dn.equirect_vert,fragmentShader:Dn.equirect_frag},distanceRGBA:{uniforms:Lo([Ut.common,Ut.displacementmap,{referencePosition:{value:new Ce},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Dn.distanceRGBA_vert,fragmentShader:Dn.distanceRGBA_frag},shadow:{uniforms:Lo([Ut.lights,Ut.fog,{color:{value:new Kt(0)},opacity:{value:1}}]),vertexShader:Dn.shadow_vert,fragmentShader:Dn.shadow_frag}};Au.physical={uniforms:Lo([Au.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Cn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Cn},clearcoatNormalScale:{value:new tt(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Cn},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Cn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Cn},sheen:{value:0},sheenColor:{value:new Kt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Cn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Cn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Cn},transmissionSamplerSize:{value:new tt},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Cn},attenuationDistance:{value:0},attenuationColor:{value:new Kt(0)},specularColor:{value:new Kt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Cn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Cn},anisotropyVector:{value:new tt},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Cn}}]),vertexShader:Dn.meshphysical_vert,fragmentShader:Dn.meshphysical_frag};const Mb={r:0,b:0,g:0};function Fge(t,e,n,r,i,s,a){const o=new Kt(0);let l=s===!0?0:1,c,u,A=null,f=0,h=null;function p(v,m){let w=!1,_=m.isScene===!0?m.background:null;_&&_.isTexture&&(_=(m.backgroundBlurriness>0?n:e).get(_)),_===null?y(o,l):_&&_.isColor&&(y(_,1),w=!0);const B=t.xr.getEnvironmentBlendMode();B==="additive"?r.buffers.color.setClear(0,0,0,1,a):B==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||w)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),_&&(_.isCubeTexture||_.mapping===Xv)?(u===void 0&&(u=new Qs(new $m(1,1,1),new Eu({name:"BackgroundCubeMaterial",uniforms:_v(Au.backgroundCube.uniforms),vertexShader:Au.backgroundCube.vertexShader,fragmentShader:Au.backgroundCube.fragmentShader,side:Qo,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(R,L,S){this.matrixWorld.copyPosition(S.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=_,u.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=m.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,u.material.toneMapped=Mr.getTransfer(_.colorSpace)!==Jr,(A!==_||f!==_.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,A=_,f=_.version,h=t.toneMapping),u.layers.enableAll(),v.unshift(u,u.geometry,u.material,0,0,null)):_&&_.isTexture&&(c===void 0&&(c=new Qs(new G_(2,2),new Eu({name:"BackgroundMaterial",uniforms:_v(Au.background.uniforms),vertexShader:Au.background.vertexShader,fragmentShader:Au.background.fragmentShader,side:Cf,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=_,c.material.uniforms.backgroundIntensity.value=m.backgroundIntensity,c.material.toneMapped=Mr.getTransfer(_.colorSpace)!==Jr,_.matrixAutoUpdate===!0&&_.updateMatrix(),c.material.uniforms.uvTransform.value.copy(_.matrix),(A!==_||f!==_.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,A=_,f=_.version,h=t.toneMapping),c.layers.enableAll(),v.unshift(c,c.geometry,c.material,0,0,null))}function y(v,m){v.getRGB(Mb,B$(t)),r.buffers.color.setClear(Mb.r,Mb.g,Mb.b,m,a)}return{getClearColor:function(){return o},setClearColor:function(v,m=1){o.set(v),l=m,y(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(v){l=v,y(o,l)},render:p}}function Rge(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||s!==null,o={},l=v(null);let c=l,u=!1;function A(X,fe,ue,me,J){let le=!1;if(a){const ee=y(me,ue,fe);c!==ee&&(c=ee,h(c.object)),le=m(X,me,ue,J),le&&w(X,me,ue,J)}else{const ee=fe.wireframe===!0;(c.geometry!==me.id||c.program!==ue.id||c.wireframe!==ee)&&(c.geometry=me.id,c.program=ue.id,c.wireframe=ee,le=!0)}J!==null&&n.update(J,t.ELEMENT_ARRAY_BUFFER),(le||u)&&(u=!1,M(X,fe,ue,me),J!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(J).buffer))}function f(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function h(X){return r.isWebGL2?t.bindVertexArray(X):s.bindVertexArrayOES(X)}function p(X){return r.isWebGL2?t.deleteVertexArray(X):s.deleteVertexArrayOES(X)}function y(X,fe,ue){const me=ue.wireframe===!0;let J=o[X.id];J===void 0&&(J={},o[X.id]=J);let le=J[fe.id];le===void 0&&(le={},J[fe.id]=le);let ee=le[me];return ee===void 0&&(ee=v(f()),le[me]=ee),ee}function v(X){const fe=[],ue=[],me=[];for(let J=0;J<i;J++)fe[J]=0,ue[J]=0,me[J]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:fe,enabledAttributes:ue,attributeDivisors:me,object:X,attributes:{},index:null}}function m(X,fe,ue,me){const J=c.attributes,le=fe.attributes;let ee=0;const re=ue.getAttributes();for(const k in re)if(re[k].location>=0){const j=J[k];let G=le[k];if(G===void 0&&(k==="instanceMatrix"&&X.instanceMatrix&&(G=X.instanceMatrix),k==="instanceColor"&&X.instanceColor&&(G=X.instanceColor)),j===void 0||j.attribute!==G||G&&j.data!==G.data)return!0;ee++}return c.attributesNum!==ee||c.index!==me}function w(X,fe,ue,me){const J={},le=fe.attributes;let ee=0;const re=ue.getAttributes();for(const k in re)if(re[k].location>=0){let j=le[k];j===void 0&&(k==="instanceMatrix"&&X.instanceMatrix&&(j=X.instanceMatrix),k==="instanceColor"&&X.instanceColor&&(j=X.instanceColor));const G={};G.attribute=j,j&&j.data&&(G.data=j.data),J[k]=G,ee++}c.attributes=J,c.attributesNum=ee,c.index=me}function _(){const X=c.newAttributes;for(let fe=0,ue=X.length;fe<ue;fe++)X[fe]=0}function B(X){R(X,0)}function R(X,fe){const ue=c.newAttributes,me=c.enabledAttributes,J=c.attributeDivisors;ue[X]=1,me[X]===0&&(t.enableVertexAttribArray(X),me[X]=1),J[X]!==fe&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](X,fe),J[X]=fe)}function L(){const X=c.newAttributes,fe=c.enabledAttributes;for(let ue=0,me=fe.length;ue<me;ue++)fe[ue]!==X[ue]&&(t.disableVertexAttribArray(ue),fe[ue]=0)}function S(X,fe,ue,me,J,le,ee){ee===!0?t.vertexAttribIPointer(X,fe,ue,J,le):t.vertexAttribPointer(X,fe,ue,me,J,le)}function M(X,fe,ue,me){if(r.isWebGL2===!1&&(X.isInstancedMesh||me.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const J=me.attributes,le=ue.getAttributes(),ee=fe.defaultAttributeValues;for(const re in le){const k=le[re];if(k.location>=0){let $=J[re];if($===void 0&&(re==="instanceMatrix"&&X.instanceMatrix&&($=X.instanceMatrix),re==="instanceColor"&&X.instanceColor&&($=X.instanceColor)),$!==void 0){const j=$.normalized,G=$.itemSize,q=n.get($);if(q===void 0)continue;const W=q.buffer,ge=q.type,he=q.bytesPerElement,ve=r.isWebGL2===!0&&(ge===t.INT||ge===t.UNSIGNED_INT||$.gpuType===HR);if($.isInterleavedBufferAttribute){const Ee=$.data,ie=Ee.stride,Te=$.offset;if(Ee.isInstancedInterleavedBuffer){for(let ye=0;ye<k.locationSize;ye++)R(k.location+ye,Ee.meshPerAttribute);X.isInstancedMesh!==!0&&me._maxInstanceCount===void 0&&(me._maxInstanceCount=Ee.meshPerAttribute*Ee.count)}else for(let ye=0;ye<k.locationSize;ye++)B(k.location+ye);t.bindBuffer(t.ARRAY_BUFFER,W);for(let ye=0;ye<k.locationSize;ye++)S(k.location+ye,G/k.locationSize,ge,j,ie*he,(Te+G/k.locationSize*ye)*he,ve)}else{if($.isInstancedBufferAttribute){for(let Ee=0;Ee<k.locationSize;Ee++)R(k.location+Ee,$.meshPerAttribute);X.isInstancedMesh!==!0&&me._maxInstanceCount===void 0&&(me._maxInstanceCount=$.meshPerAttribute*$.count)}else for(let Ee=0;Ee<k.locationSize;Ee++)B(k.location+Ee);t.bindBuffer(t.ARRAY_BUFFER,W);for(let Ee=0;Ee<k.locationSize;Ee++)S(k.location+Ee,G/k.locationSize,ge,j,G*he,G/k.locationSize*Ee*he,ve)}}else if(ee!==void 0){const j=ee[re];if(j!==void 0)switch(j.length){case 2:t.vertexAttrib2fv(k.location,j);break;case 3:t.vertexAttrib3fv(k.location,j);break;case 4:t.vertexAttrib4fv(k.location,j);break;default:t.vertexAttrib1fv(k.location,j)}}}}L()}function T(){D();for(const X in o){const fe=o[X];for(const ue in fe){const me=fe[ue];for(const J in me)p(me[J].object),delete me[J];delete fe[ue]}delete o[X]}}function F(X){if(o[X.id]===void 0)return;const fe=o[X.id];for(const ue in fe){const me=fe[ue];for(const J in me)p(me[J].object),delete me[J];delete fe[ue]}delete o[X.id]}function P(X){for(const fe in o){const ue=o[fe];if(ue[X.id]===void 0)continue;const me=ue[X.id];for(const J in me)p(me[J].object),delete me[J];delete ue[X.id]}}function D(){H(),u=!0,c!==l&&(c=l,h(c.object))}function H(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:A,reset:D,resetDefaultState:H,dispose:T,releaseStatesOfGeometry:F,releaseStatesOfProgram:P,initAttributes:_,enableAttribute:B,disableUnusedAttributes:L}}function Uge(t,e,n,r){const i=r.isWebGL2;let s;function a(u){s=u}function o(u,A){t.drawArrays(s,u,A),n.update(A,s,1)}function l(u,A,f){if(f===0)return;let h,p;if(i)h=t,p="drawArraysInstanced";else if(h=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",h===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}h[p](s,u,A,f),n.update(A,s,f)}function c(u,A,f){if(f===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let p=0;p<f;p++)this.render(u[p],A[p]);else{h.multiDrawArraysWEBGL(s,u,0,A,0,f);let p=0;for(let y=0;y<f;y++)p+=A[y];n.update(p,s,1)}}this.setMode=a,this.render=o,this.renderInstances=l,this.renderMultiDraw=c}function Dge(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const S=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(S.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(S){if(S==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";S="mediump"}return S==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let o=n.precision!==void 0?n.precision:"highp";const l=s(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const c=a||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,A=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),f=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),p=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),y=t.getParameter(t.MAX_VERTEX_ATTRIBS),v=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),m=t.getParameter(t.MAX_VARYING_VECTORS),w=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),_=f>0,B=a||e.has("OES_texture_float"),R=_&&B,L=a?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:o,logarithmicDepthBuffer:u,maxTextures:A,maxVertexTextures:f,maxTextureSize:h,maxCubemapSize:p,maxAttributes:y,maxVertexUniforms:v,maxVaryings:m,maxFragmentUniforms:w,vertexTextures:_,floatFragmentTextures:B,floatVertexTextures:R,maxSamples:L}}function Oge(t){const e=this;let n=null,r=0,i=!1,s=!1;const a=new ef,o=new Cn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(A,f){const h=A.length!==0||f||r!==0||i;return i=f,r=A.length,h},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(A,f){n=u(A,f,0)},this.setState=function(A,f,h){const p=A.clippingPlanes,y=A.clipIntersection,v=A.clipShadows,m=t.get(A);if(!i||p===null||p.length===0||s&&!v)s?u(null):c();else{const w=s?0:r,_=w*4;let B=m.clippingState||null;l.value=B,B=u(p,f,_,h);for(let R=0;R!==_;++R)B[R]=n[R];m.clippingState=B,this.numIntersection=y?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(A,f,h,p){const y=A!==null?A.length:0;let v=null;if(y!==0){if(v=l.value,p!==!0||v===null){const m=h+y*4,w=f.matrixWorldInverse;o.getNormalMatrix(w),(v===null||v.length<m)&&(v=new Float32Array(m));for(let _=0,B=h;_!==y;++_,B+=4)a.copy(A[_]).applyMatrix4(w,o),a.normal.toArray(v,B),v[B+3]=a.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=y,e.numIntersection=0,v}}function kge(t){let e=new WeakMap;function n(a,o){return o===kw?a.mapping=Bf:o===Qw&&(a.mapping=xd),a}function r(a){if(a&&a.isTexture){const o=a.mapping;if(o===kw||o===Qw)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new I$(l.height/2);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",i),n(c.texture,a.mapping)}else return null}}return a}function i(a){const o=a.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class od extends V_{constructor(e=-1,n=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,o=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const D0=4,TQ=[.125,.215,.35,.446,.526,.582],Hp=20,UI=new od,MQ=new Kt;let DI=null,OI=0,kI=0;const Rp=(1+Math.sqrt(5))/2,zg=1/Rp,IQ=[new Ce(1,1,1),new Ce(-1,1,1),new Ce(1,1,-1),new Ce(-1,1,-1),new Ce(0,Rp,zg),new Ce(0,Rp,-zg),new Ce(zg,0,Rp),new Ce(-zg,0,Rp),new Ce(Rp,zg,0),new Ce(-Rp,zg,0)];class cN{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){DI=this._renderer.getRenderTarget(),OI=this._renderer.getActiveCubeFace(),kI=this._renderer.getActiveMipmapLevel(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=LQ(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=NQ(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(DI,OI,kI),e.scissorTest=!1,Ib(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Bf||e.mapping===xd?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),DI=this._renderer.getRenderTarget(),OI=this._renderer.getActiveCubeFace(),kI=this._renderer.getActiveMipmapLevel();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:as,minFilter:as,generateMipmaps:!1,type:vv,format:Do,colorSpace:gA,depthBuffer:!1},i=PQ(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=PQ(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=Qge(s)),this._blurMaterial=Hge(s,e,n)}return i}_compileMaterial(e){const n=new Qs(this._lodPlanes[0],e);this._renderer.compile(n,UI)}_sceneToCubeUV(e,n,r,i){const o=new os(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,A=u.autoClear,f=u.toneMapping;u.getClearColor(MQ),u.toneMapping=iA,u.autoClear=!1;const h=new Hd({name:"PMREM.Background",side:Qo,depthWrite:!1,depthTest:!1}),p=new Qs(new $m,h);let y=!1;const v=e.background;v?v.isColor&&(h.color.copy(v),e.background=null,y=!0):(h.color.copy(MQ),y=!0);for(let m=0;m<6;m++){const w=m%3;w===0?(o.up.set(0,l[m],0),o.lookAt(c[m],0,0)):w===1?(o.up.set(0,0,l[m]),o.lookAt(0,c[m],0)):(o.up.set(0,l[m],0),o.lookAt(0,0,c[m]));const _=this._cubeSize;Ib(i,w*_,m>2?_:0,_,_),u.setRenderTarget(i),y&&u.render(p,o),u.render(e,o)}p.geometry.dispose(),p.material.dispose(),u.toneMapping=f,u.autoClear=A,e.background=v}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===Bf||e.mapping===xd;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=LQ()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=NQ());const s=i?this._cubemapMaterial:this._equirectMaterial,a=new Qs(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;Ib(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,UI)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=IQ[(i-1)%IQ.length];this._blur(e,i-1,i,s,a)}n.autoClear=r}_blur(e,n,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,A=new Qs(this._lodPlanes[i],c),f=c.uniforms,h=this._sizeLods[r]-1,p=isFinite(s)?Math.PI/(2*h):2*Math.PI/(2*Hp-1),y=s/p,v=isFinite(s)?1+Math.floor(u*y):Hp;v>Hp&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Hp}`);const m=[];let w=0;for(let S=0;S<Hp;++S){const M=S/y,T=Math.exp(-M*M/2);m.push(T),S===0?w+=T:S<v&&(w+=2*T)}for(let S=0;S<m.length;S++)m[S]=m[S]/w;f.envMap.value=e.texture,f.samples.value=v,f.weights.value=m,f.latitudinal.value=a==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:_}=this;f.dTheta.value=p,f.mipInt.value=_-r;const B=this._sizeLods[i],R=3*B*(i>_-D0?i-_+D0:0),L=4*(this._cubeSize-B);Ib(n,R,L,3*B,2*B),l.setRenderTarget(n),l.render(A,UI)}}function Qge(t){const e=[],n=[],r=[];let i=t;const s=t-D0+1+TQ.length;for(let a=0;a<s;a++){const o=Math.pow(2,i);n.push(o);let l=1/o;a>t-D0?l=TQ[a-t+D0-1]:a===0&&(l=0),r.push(l);const c=1/(o-2),u=-c,A=1+c,f=[u,u,A,u,A,A,u,u,A,A,u,A],h=6,p=6,y=3,v=2,m=1,w=new Float32Array(y*p*h),_=new Float32Array(v*p*h),B=new Float32Array(m*p*h);for(let L=0;L<h;L++){const S=L%3*2/3-1,M=L>2?0:-1,T=[S,M,0,S+2/3,M,0,S+2/3,M+1,0,S,M,0,S+2/3,M+1,0,S,M+1,0];w.set(T,y*p*L),_.set(f,v*p*L);const F=[L,L,L,L,L,L];B.set(F,m*p*L)}const R=new kn;R.setAttribute("position",new Fr(w,y)),R.setAttribute("uv",new Fr(_,v)),R.setAttribute("faceIndex",new Fr(B,m)),e.push(R),i>D0&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function PQ(t,e,n){const r=new bu(t,e,n);return r.texture.mapping=Xv,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function Ib(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Hge(t,e,n){const r=new Float32Array(Hp),i=new Ce(0,1,0);return new Eu({name:"SphericalGaussianBlur",defines:{n:Hp,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:n4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:gf,depthTest:!1,depthWrite:!1})}function NQ(){return new Eu({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:n4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:gf,depthTest:!1,depthWrite:!1})}function LQ(){return new Eu({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:n4(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:gf,depthTest:!1,depthWrite:!1})}function n4(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Vge(t){let e=new WeakMap,n=null;function r(o){if(o&&o.isTexture){const l=o.mapping,c=l===kw||l===Qw,u=l===Bf||l===xd;if(c||u)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let A=e.get(o);return n===null&&(n=new cN(t)),A=c?n.fromEquirectangular(o,A):n.fromCubemap(o,A),e.set(o,A),A.texture}else{if(e.has(o))return e.get(o).texture;{const A=o.image;if(c&&A&&A.height>0||u&&A&&i(A)){n===null&&(n=new cN(t));const f=c?n.fromEquirectangular(o):n.fromCubemap(o);return e.set(o,f),o.addEventListener("dispose",s),f.texture}else return null}}}return o}function i(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function zge(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?(n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance")):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function jge(t,e,n,r){const i={},s=new WeakMap;function a(A){const f=A.target;f.index!==null&&e.remove(f.index);for(const p in f.attributes)e.remove(f.attributes[p]);for(const p in f.morphAttributes){const y=f.morphAttributes[p];for(let v=0,m=y.length;v<m;v++)e.remove(y[v])}f.removeEventListener("dispose",a),delete i[f.id];const h=s.get(f);h&&(e.remove(h),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function o(A,f){return i[f.id]===!0||(f.addEventListener("dispose",a),i[f.id]=!0,n.memory.geometries++),f}function l(A){const f=A.attributes;for(const p in f)e.update(f[p],t.ARRAY_BUFFER);const h=A.morphAttributes;for(const p in h){const y=h[p];for(let v=0,m=y.length;v<m;v++)e.update(y[v],t.ARRAY_BUFFER)}}function c(A){const f=[],h=A.index,p=A.attributes.position;let y=0;if(h!==null){const w=h.array;y=h.version;for(let _=0,B=w.length;_<B;_+=3){const R=w[_+0],L=w[_+1],S=w[_+2];f.push(R,L,L,S,S,R)}}else if(p!==void 0){const w=p.array;y=p.version;for(let _=0,B=w.length/3-1;_<B;_+=3){const R=_+0,L=_+1,S=_+2;f.push(R,L,L,S,S,R)}}else return;const v=new(b$(f)?t4:e4)(f,1);v.version=y;const m=s.get(A);m&&e.remove(m),s.set(A,v)}function u(A){const f=s.get(A);if(f){const h=A.index;h!==null&&f.version<h.version&&c(A)}else c(A);return s.get(A)}return{get:o,update:l,getWireframeAttribute:u}}function Gge(t,e,n,r){const i=r.isWebGL2;let s;function a(h){s=h}let o,l;function c(h){o=h.type,l=h.bytesPerElement}function u(h,p){t.drawElements(s,p,o,h*l),n.update(p,s,1)}function A(h,p,y){if(y===0)return;let v,m;if(i)v=t,m="drawElementsInstanced";else if(v=e.get("ANGLE_instanced_arrays"),m="drawElementsInstancedANGLE",v===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}v[m](s,p,o,h*l,y),n.update(p,s,y)}function f(h,p,y){if(y===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let m=0;m<y;m++)this.render(h[m]/l,p[m]);else{v.multiDrawElementsWEBGL(s,p,0,o,h,0,y);let m=0;for(let w=0;w<y;w++)m+=p[w];n.update(m,s,1)}}this.setMode=a,this.setIndex=c,this.render=u,this.renderInstances=A,this.renderMultiDraw=f}function Wge(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,o){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=o*(s/3);break;case t.LINES:n.lines+=o*(s/2);break;case t.LINE_STRIP:n.lines+=o*(s-1);break;case t.LINE_LOOP:n.lines+=o*s;break;case t.POINTS:n.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function Kge(t,e){return t[0]-e[0]}function qge(t,e){return Math.abs(e[1])-Math.abs(t[1])}function $ge(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,a=new Pr,o=[];for(let c=0;c<8;c++)o[c]=[c,0];function l(c,u,A){const f=c.morphTargetInfluences;if(e.isWebGL2===!0){const h=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,p=h!==void 0?h.length:0;let y=s.get(u);if(y===void 0||y.count!==p){let X=function(){D.dispose(),s.delete(u),u.removeEventListener("dispose",X)};y!==void 0&&y.texture.dispose();const w=u.morphAttributes.position!==void 0,_=u.morphAttributes.normal!==void 0,B=u.morphAttributes.color!==void 0,R=u.morphAttributes.position||[],L=u.morphAttributes.normal||[],S=u.morphAttributes.color||[];let M=0;w===!0&&(M=1),_===!0&&(M=2),B===!0&&(M=3);let T=u.attributes.position.count*M,F=1;T>e.maxTextureSize&&(F=Math.ceil(T/e.maxTextureSize),T=e.maxTextureSize);const P=new Float32Array(T*F*4*p),D=new vB(P,T,F,p);D.type=du,D.needsUpdate=!0;const H=M*4;for(let fe=0;fe<p;fe++){const ue=R[fe],me=L[fe],J=S[fe],le=T*F*4*fe;for(let ee=0;ee<ue.count;ee++){const re=ee*H;w===!0&&(a.fromBufferAttribute(ue,ee),P[le+re+0]=a.x,P[le+re+1]=a.y,P[le+re+2]=a.z,P[le+re+3]=0),_===!0&&(a.fromBufferAttribute(me,ee),P[le+re+4]=a.x,P[le+re+5]=a.y,P[le+re+6]=a.z,P[le+re+7]=0),B===!0&&(a.fromBufferAttribute(J,ee),P[le+re+8]=a.x,P[le+re+9]=a.y,P[le+re+10]=a.z,P[le+re+11]=J.itemSize===4?a.w:1)}}y={count:p,texture:D,size:new tt(T,F)},s.set(u,y),u.addEventListener("dispose",X)}let v=0;for(let w=0;w<f.length;w++)v+=f[w];const m=u.morphTargetsRelative?1:1-v;A.getUniforms().setValue(t,"morphTargetBaseInfluence",m),A.getUniforms().setValue(t,"morphTargetInfluences",f),A.getUniforms().setValue(t,"morphTargetsTexture",y.texture,n),A.getUniforms().setValue(t,"morphTargetsTextureSize",y.size)}else{const h=f===void 0?0:f.length;let p=r[u.id];if(p===void 0||p.length!==h){p=[];for(let _=0;_<h;_++)p[_]=[_,0];r[u.id]=p}for(let _=0;_<h;_++){const B=p[_];B[0]=_,B[1]=f[_]}p.sort(qge);for(let _=0;_<8;_++)_<h&&p[_][1]?(o[_][0]=p[_][0],o[_][1]=p[_][1]):(o[_][0]=Number.MAX_SAFE_INTEGER,o[_][1]=0);o.sort(Kge);const y=u.morphAttributes.position,v=u.morphAttributes.normal;let m=0;for(let _=0;_<8;_++){const B=o[_],R=B[0],L=B[1];R!==Number.MAX_SAFE_INTEGER&&L?(y&&u.getAttribute("morphTarget"+_)!==y[R]&&u.setAttribute("morphTarget"+_,y[R]),v&&u.getAttribute("morphNormal"+_)!==v[R]&&u.setAttribute("morphNormal"+_,v[R]),i[_]=L,m+=L):(y&&u.hasAttribute("morphTarget"+_)===!0&&u.deleteAttribute("morphTarget"+_),v&&u.hasAttribute("morphNormal"+_)===!0&&u.deleteAttribute("morphNormal"+_),i[_]=0)}const w=u.morphTargetsRelative?1:1-m;A.getUniforms().setValue(t,"morphTargetBaseInfluence",w),A.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function Xge(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,A=e.get(l,u);if(i.get(A)!==c&&(e.update(A),i.set(A,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return A}function a(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:a}}class r4 extends fs{constructor(e,n,r,i,s,a,o,l,c,u){if(u=u!==void 0?u:sd,u!==sd&&u!==Im)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===sd&&(r=lf),r===void 0&&u===Im&&(r=id),super(null,i,s,a,o,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=o!==void 0?o:is,this.minFilter=l!==void 0?l:is,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}const N$=new fs,L$=new r4(1,1);L$.compareFunction=XR;const F$=new vB,R$=new ZR,U$=new z_,FQ=[],RQ=[],UQ=new Float32Array(16),DQ=new Float32Array(9),OQ=new Float32Array(4);function Yv(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=FQ[i];if(s===void 0&&(s=new Float32Array(i),FQ[i]=s),e!==0){r.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=n,t[a].toArray(s,o)}return s}function zs(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function js(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function yB(t,e){let n=RQ[e];n===void 0&&(n=new Int32Array(e),RQ[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Yge(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Jge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(zs(n,e))return;t.uniform2fv(this.addr,e),js(n,e)}}function Zge(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(zs(n,e))return;t.uniform3fv(this.addr,e),js(n,e)}}function e0e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(zs(n,e))return;t.uniform4fv(this.addr,e),js(n,e)}}function t0e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(zs(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),js(n,e)}else{if(zs(n,r))return;OQ.set(r),t.uniformMatrix2fv(this.addr,!1,OQ),js(n,r)}}function n0e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(zs(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),js(n,e)}else{if(zs(n,r))return;DQ.set(r),t.uniformMatrix3fv(this.addr,!1,DQ),js(n,r)}}function r0e(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(zs(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),js(n,e)}else{if(zs(n,r))return;UQ.set(r),t.uniformMatrix4fv(this.addr,!1,UQ),js(n,r)}}function i0e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function s0e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(zs(n,e))return;t.uniform2iv(this.addr,e),js(n,e)}}function a0e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(zs(n,e))return;t.uniform3iv(this.addr,e),js(n,e)}}function o0e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(zs(n,e))return;t.uniform4iv(this.addr,e),js(n,e)}}function l0e(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function c0e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(zs(n,e))return;t.uniform2uiv(this.addr,e),js(n,e)}}function u0e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(zs(n,e))return;t.uniform3uiv(this.addr,e),js(n,e)}}function A0e(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(zs(n,e))return;t.uniform4uiv(this.addr,e),js(n,e)}}function f0e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);const s=this.type===t.SAMPLER_2D_SHADOW?L$:N$;n.setTexture2D(e||s,i)}function h0e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||R$,i)}function d0e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||U$,i)}function p0e(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||F$,i)}function m0e(t){switch(t){case 5126:return Yge;case 35664:return Jge;case 35665:return Zge;case 35666:return e0e;case 35674:return t0e;case 35675:return n0e;case 35676:return r0e;case 5124:case 35670:return i0e;case 35667:case 35671:return s0e;case 35668:case 35672:return a0e;case 35669:case 35673:return o0e;case 5125:return l0e;case 36294:return c0e;case 36295:return u0e;case 36296:return A0e;case 35678:case 36198:case 36298:case 36306:case 35682:return f0e;case 35679:case 36299:case 36307:return h0e;case 35680:case 36300:case 36308:case 36293:return d0e;case 36289:case 36303:case 36311:case 36292:return p0e}}function g0e(t,e){t.uniform1fv(this.addr,e)}function v0e(t,e){const n=Yv(e,this.size,2);t.uniform2fv(this.addr,n)}function y0e(t,e){const n=Yv(e,this.size,3);t.uniform3fv(this.addr,n)}function w0e(t,e){const n=Yv(e,this.size,4);t.uniform4fv(this.addr,n)}function _0e(t,e){const n=Yv(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function x0e(t,e){const n=Yv(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function b0e(t,e){const n=Yv(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function E0e(t,e){t.uniform1iv(this.addr,e)}function S0e(t,e){t.uniform2iv(this.addr,e)}function C0e(t,e){t.uniform3iv(this.addr,e)}function B0e(t,e){t.uniform4iv(this.addr,e)}function T0e(t,e){t.uniform1uiv(this.addr,e)}function M0e(t,e){t.uniform2uiv(this.addr,e)}function I0e(t,e){t.uniform3uiv(this.addr,e)}function P0e(t,e){t.uniform4uiv(this.addr,e)}function N0e(t,e,n){const r=this.cache,i=e.length,s=yB(n,i);zs(r,s)||(t.uniform1iv(this.addr,s),js(r,s));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||N$,s[a])}function L0e(t,e,n){const r=this.cache,i=e.length,s=yB(n,i);zs(r,s)||(t.uniform1iv(this.addr,s),js(r,s));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||R$,s[a])}function F0e(t,e,n){const r=this.cache,i=e.length,s=yB(n,i);zs(r,s)||(t.uniform1iv(this.addr,s),js(r,s));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||U$,s[a])}function R0e(t,e,n){const r=this.cache,i=e.length,s=yB(n,i);zs(r,s)||(t.uniform1iv(this.addr,s),js(r,s));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||F$,s[a])}function U0e(t){switch(t){case 5126:return g0e;case 35664:return v0e;case 35665:return y0e;case 35666:return w0e;case 35674:return _0e;case 35675:return x0e;case 35676:return b0e;case 5124:case 35670:return E0e;case 35667:case 35671:return S0e;case 35668:case 35672:return C0e;case 35669:case 35673:return B0e;case 5125:return T0e;case 36294:return M0e;case 36295:return I0e;case 36296:return P0e;case 35678:case 36198:case 36298:case 36306:case 35682:return N0e;case 35679:case 36299:case 36307:return L0e;case 35680:case 36300:case 36308:case 36293:return F0e;case 36289:case 36303:case 36311:case 36292:return R0e}}class D0e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=m0e(n.type)}}class O0e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=U0e(n.type)}}class k0e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const o=i[s];o.setValue(e,n[o.id],r)}}}const QI=/(\w+)(\])?(\[|\.)?/g;function kQ(t,e){t.seq.push(e),t.map[e.id]=e}function Q0e(t,e,n){const r=t.name,i=r.length;for(QI.lastIndex=0;;){const s=QI.exec(r),a=QI.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===i){kQ(n,c===void 0?new D0e(o,t,e):new O0e(o,t,e));break}else{let A=n.map[o];A===void 0&&(A=new k0e(o),kQ(n,A)),n=A}}}class g2{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),a=e.getUniformLocation(n,s.name);Q0e(s,a,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,a=n.length;s!==a;++s){const o=n[s],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function QQ(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const H0e=37297;let V0e=0;function z0e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let a=i;a<s;a++){const o=a+1;r.push(`${o===e?">":" "} ${o}: ${n[a]}`)}return r.join(`
`)}function j0e(t){const e=Mr.getPrimaries(Mr.workingColorSpace),n=Mr.getPrimaries(t);let r;switch(e===n?r="":e===qw&&n===Kw?r="LinearDisplayP3ToLinearSRGB":e===Kw&&n===qw&&(r="LinearSRGBToLinearDisplayP3"),t){case gA:case Q_:return[r,"LinearTransferOETF"];case bs:case gB:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function HQ(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const a=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+z0e(t.getShaderSource(e),a)}else return i}function G0e(t,e){const n=j0e(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function W0e(t,e){let n;switch(e){case Xq:n="Linear";break;case Yq:n="Reinhard";break;case Jq:n="OptimizedCineon";break;case kR:n="ACESFilmic";break;case e$:n="AgX";break;case Zq:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function K0e(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(O0).join(`
`)}function q0e(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":""].filter(O0).join(`
`)}function $0e(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function X0e(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),a=s.name;let o=1;s.type===t.FLOAT_MAT2&&(o=2),s.type===t.FLOAT_MAT3&&(o=3),s.type===t.FLOAT_MAT4&&(o=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:o}}return n}function O0(t){return t!==""}function VQ(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function zQ(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Y0e=/^[ \t]*#include +<([\w\d./]+)>/gm;function uN(t){return t.replace(Y0e,Z0e)}const J0e=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Z0e(t,e){let n=Dn[e];if(n===void 0){const r=J0e.get(e);if(r!==void 0)n=Dn[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return uN(n)}const eve=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function jQ(t){return t.replace(eve,tve)}function tve(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function GQ(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function nve(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===hB?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Y1?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===au&&(e="SHADOWMAP_TYPE_VSM"),e}function rve(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Bf:case xd:e="ENVMAP_TYPE_CUBE";break;case Xv:e="ENVMAP_TYPE_CUBE_UV";break}return e}function ive(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case xd:e="ENVMAP_MODE_REFRACTION";break}return e}function sve(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case k_:e="ENVMAP_BLENDING_MULTIPLY";break;case qq:e="ENVMAP_BLENDING_MIX";break;case $q:e="ENVMAP_BLENDING_ADD";break}return e}function ave(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function ove(t,e,n,r){const i=t.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const l=nve(n),c=rve(n),u=ive(n),A=sve(n),f=ave(n),h=n.isWebGL2?"":K0e(n),p=q0e(n),y=$0e(s),v=i.createProgram();let m,w,_=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(m=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(O0).join(`
`),m.length>0&&(m+=`
`),w=[h,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y].filter(O0).join(`
`),w.length>0&&(w+=`
`)):(m=[GQ(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(O0).join(`
`),w=[h,GQ(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,y,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+A:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==iA?"#define TONE_MAPPING":"",n.toneMapping!==iA?Dn.tonemapping_pars_fragment:"",n.toneMapping!==iA?W0e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Dn.colorspace_pars_fragment,G0e("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(O0).join(`
`)),a=uN(a),a=VQ(a,n),a=zQ(a,n),o=uN(o),o=VQ(o,n),o=zQ(o,n),a=jQ(a),o=jQ(o),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(_=`#version 300 es
`,m=[p,"precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,w=["precision mediump sampler2DArray;","#define varying in",n.glslVersion===oN?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===oN?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+w);const B=_+m+a,R=_+w+o,L=QQ(i,i.VERTEX_SHADER,B),S=QQ(i,i.FRAGMENT_SHADER,R);i.attachShader(v,L),i.attachShader(v,S),n.index0AttributeName!==void 0?i.bindAttribLocation(v,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(v,0,"position"),i.linkProgram(v);function M(D){if(t.debug.checkShaderErrors){const H=i.getProgramInfoLog(v).trim(),X=i.getShaderInfoLog(L).trim(),fe=i.getShaderInfoLog(S).trim();let ue=!0,me=!0;if(i.getProgramParameter(v,i.LINK_STATUS)===!1)if(ue=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,v,L,S);else{const J=HQ(i,L,"vertex"),le=HQ(i,S,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(v,i.VALIDATE_STATUS)+`

Program Info Log: `+H+`
`+J+`
`+le)}else H!==""?console.warn("THREE.WebGLProgram: Program Info Log:",H):(X===""||fe==="")&&(me=!1);me&&(D.diagnostics={runnable:ue,programLog:H,vertexShader:{log:X,prefix:m},fragmentShader:{log:fe,prefix:w}})}i.deleteShader(L),i.deleteShader(S),T=new g2(i,v),F=X0e(i,v)}let T;this.getUniforms=function(){return T===void 0&&M(this),T};let F;this.getAttributes=function(){return F===void 0&&M(this),F};let P=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return P===!1&&(P=i.getProgramParameter(v,H0e)),P},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(v),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=V0e++,this.cacheKey=e,this.usedTimes=1,this.program=v,this.vertexShader=L,this.fragmentShader=S,this}let lve=0;class cve{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new uve(e),n.set(e,r)),r}}class uve{constructor(e){this.id=lve++,this.code=e,this.usedTimes=0}}function Ave(t,e,n,r,i,s,a){const o=new Am,l=new cve,c=[],u=i.isWebGL2,A=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function y(T){return T===0?"uv":`uv${T}`}function v(T,F,P,D,H){const X=D.fog,fe=H.geometry,ue=T.isMeshStandardMaterial?D.environment:null,me=(T.isMeshStandardMaterial?n:e).get(T.envMap||ue),J=me&&me.mapping===Xv?me.image.height:null,le=p[T.type];T.precision!==null&&(h=i.getMaxPrecision(T.precision),h!==T.precision&&console.warn("THREE.WebGLProgram.getParameters:",T.precision,"not supported, using",h,"instead."));const ee=fe.morphAttributes.position||fe.morphAttributes.normal||fe.morphAttributes.color,re=ee!==void 0?ee.length:0;let k=0;fe.morphAttributes.position!==void 0&&(k=1),fe.morphAttributes.normal!==void 0&&(k=2),fe.morphAttributes.color!==void 0&&(k=3);let $,j,G,q;if(le){const Gn=Au[le];$=Gn.vertexShader,j=Gn.fragmentShader}else $=T.vertexShader,j=T.fragmentShader,l.update(T),G=l.getVertexShaderID(T),q=l.getFragmentShaderID(T);const W=t.getRenderTarget(),ge=H.isInstancedMesh===!0,he=H.isBatchedMesh===!0,ve=!!T.map,Ee=!!T.matcap,ie=!!me,Te=!!T.aoMap,ye=!!T.lightMap,_e=!!T.bumpMap,se=!!T.normalMap,ze=!!T.displacementMap,be=!!T.emissiveMap,z=!!T.metalnessMap,te=!!T.roughnessMap,Be=T.anisotropy>0,ke=T.clearcoat>0,Ke=T.iridescence>0,je=T.sheen>0,ft=T.transmission>0,nt=Be&&!!T.anisotropyMap,ct=ke&&!!T.clearcoatMap,Tt=ke&&!!T.clearcoatNormalMap,bt=ke&&!!T.clearcoatRoughnessMap,Ze=Ke&&!!T.iridescenceMap,ht=Ke&&!!T.iridescenceThicknessMap,Gt=je&&!!T.sheenColorMap,Nt=je&&!!T.sheenRoughnessMap,Qt=!!T.specularMap,Ct=!!T.specularColorMap,Pe=!!T.specularIntensityMap,ut=ft&&!!T.transmissionMap,_t=ft&&!!T.thicknessMap,Ft=!!T.gradientMap,lt=!!T.alphaMap,Le=T.alphaTest>0,Bt=!!T.alphaHash,Et=!!T.extensions,xt=!!fe.attributes.uv1,Mt=!!fe.attributes.uv2,vn=!!fe.attributes.uv3;let ln=iA;return T.toneMapped&&(W===null||W.isXRRenderTarget===!0)&&(ln=t.toneMapping),{isWebGL2:u,shaderID:le,shaderType:T.type,shaderName:T.name,vertexShader:$,fragmentShader:j,defines:T.defines,customVertexShaderID:G,customFragmentShaderID:q,isRawShaderMaterial:T.isRawShaderMaterial===!0,glslVersion:T.glslVersion,precision:h,batching:he,instancing:ge,instancingColor:ge&&H.instanceColor!==null,supportsVertexTextures:f,outputColorSpace:W===null?t.outputColorSpace:W.isXRRenderTarget===!0?W.texture.colorSpace:gA,map:ve,matcap:Ee,envMap:ie,envMapMode:ie&&me.mapping,envMapCubeUVHeight:J,aoMap:Te,lightMap:ye,bumpMap:_e,normalMap:se,displacementMap:f&&ze,emissiveMap:be,normalMapObjectSpace:se&&T.normalMapType===p$,normalMapTangentSpace:se&&T.normalMapType===Qd,metalnessMap:z,roughnessMap:te,anisotropy:Be,anisotropyMap:nt,clearcoat:ke,clearcoatMap:ct,clearcoatNormalMap:Tt,clearcoatRoughnessMap:bt,iridescence:Ke,iridescenceMap:Ze,iridescenceThicknessMap:ht,sheen:je,sheenColorMap:Gt,sheenRoughnessMap:Nt,specularMap:Qt,specularColorMap:Ct,specularIntensityMap:Pe,transmission:ft,transmissionMap:ut,thicknessMap:_t,gradientMap:Ft,opaque:T.transparent===!1&&T.blending===cm,alphaMap:lt,alphaTest:Le,alphaHash:Bt,combine:T.combine,mapUv:ve&&y(T.map.channel),aoMapUv:Te&&y(T.aoMap.channel),lightMapUv:ye&&y(T.lightMap.channel),bumpMapUv:_e&&y(T.bumpMap.channel),normalMapUv:se&&y(T.normalMap.channel),displacementMapUv:ze&&y(T.displacementMap.channel),emissiveMapUv:be&&y(T.emissiveMap.channel),metalnessMapUv:z&&y(T.metalnessMap.channel),roughnessMapUv:te&&y(T.roughnessMap.channel),anisotropyMapUv:nt&&y(T.anisotropyMap.channel),clearcoatMapUv:ct&&y(T.clearcoatMap.channel),clearcoatNormalMapUv:Tt&&y(T.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:bt&&y(T.clearcoatRoughnessMap.channel),iridescenceMapUv:Ze&&y(T.iridescenceMap.channel),iridescenceThicknessMapUv:ht&&y(T.iridescenceThicknessMap.channel),sheenColorMapUv:Gt&&y(T.sheenColorMap.channel),sheenRoughnessMapUv:Nt&&y(T.sheenRoughnessMap.channel),specularMapUv:Qt&&y(T.specularMap.channel),specularColorMapUv:Ct&&y(T.specularColorMap.channel),specularIntensityMapUv:Pe&&y(T.specularIntensityMap.channel),transmissionMapUv:ut&&y(T.transmissionMap.channel),thicknessMapUv:_t&&y(T.thicknessMap.channel),alphaMapUv:lt&&y(T.alphaMap.channel),vertexTangents:!!fe.attributes.tangent&&(se||Be),vertexColors:T.vertexColors,vertexAlphas:T.vertexColors===!0&&!!fe.attributes.color&&fe.attributes.color.itemSize===4,vertexUv1s:xt,vertexUv2s:Mt,vertexUv3s:vn,pointsUvs:H.isPoints===!0&&!!fe.attributes.uv&&(ve||lt),fog:!!X,useFog:T.fog===!0,fogExp2:X&&X.isFogExp2,flatShading:T.flatShading===!0,sizeAttenuation:T.sizeAttenuation===!0,logarithmicDepthBuffer:A,skinning:H.isSkinnedMesh===!0,morphTargets:fe.morphAttributes.position!==void 0,morphNormals:fe.morphAttributes.normal!==void 0,morphColors:fe.morphAttributes.color!==void 0,morphTargetsCount:re,morphTextureStride:k,numDirLights:F.directional.length,numPointLights:F.point.length,numSpotLights:F.spot.length,numSpotLightMaps:F.spotLightMap.length,numRectAreaLights:F.rectArea.length,numHemiLights:F.hemi.length,numDirLightShadows:F.directionalShadowMap.length,numPointLightShadows:F.pointShadowMap.length,numSpotLightShadows:F.spotShadowMap.length,numSpotLightShadowsWithMaps:F.numSpotLightShadowsWithMaps,numLightProbes:F.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:T.dithering,shadowMapEnabled:t.shadowMap.enabled&&P.length>0,shadowMapType:t.shadowMap.type,toneMapping:ln,useLegacyLights:t._useLegacyLights,decodeVideoTexture:ve&&T.map.isVideoTexture===!0&&Mr.getTransfer(T.map.colorSpace)===Jr,premultipliedAlpha:T.premultipliedAlpha,doubleSided:T.side===Ju,flipSided:T.side===Qo,useDepthPacking:T.depthPacking>=0,depthPacking:T.depthPacking||0,index0AttributeName:T.index0AttributeName,extensionDerivatives:Et&&T.extensions.derivatives===!0,extensionFragDepth:Et&&T.extensions.fragDepth===!0,extensionDrawBuffers:Et&&T.extensions.drawBuffers===!0,extensionShaderTextureLOD:Et&&T.extensions.shaderTextureLOD===!0,extensionClipCullDistance:Et&&T.extensions.clipCullDistance&&r.has("WEBGL_clip_cull_distance"),rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:T.customProgramCacheKey()}}function m(T){const F=[];if(T.shaderID?F.push(T.shaderID):(F.push(T.customVertexShaderID),F.push(T.customFragmentShaderID)),T.defines!==void 0)for(const P in T.defines)F.push(P),F.push(T.defines[P]);return T.isRawShaderMaterial===!1&&(w(F,T),_(F,T),F.push(t.outputColorSpace)),F.push(T.customProgramCacheKey),F.join()}function w(T,F){T.push(F.precision),T.push(F.outputColorSpace),T.push(F.envMapMode),T.push(F.envMapCubeUVHeight),T.push(F.mapUv),T.push(F.alphaMapUv),T.push(F.lightMapUv),T.push(F.aoMapUv),T.push(F.bumpMapUv),T.push(F.normalMapUv),T.push(F.displacementMapUv),T.push(F.emissiveMapUv),T.push(F.metalnessMapUv),T.push(F.roughnessMapUv),T.push(F.anisotropyMapUv),T.push(F.clearcoatMapUv),T.push(F.clearcoatNormalMapUv),T.push(F.clearcoatRoughnessMapUv),T.push(F.iridescenceMapUv),T.push(F.iridescenceThicknessMapUv),T.push(F.sheenColorMapUv),T.push(F.sheenRoughnessMapUv),T.push(F.specularMapUv),T.push(F.specularColorMapUv),T.push(F.specularIntensityMapUv),T.push(F.transmissionMapUv),T.push(F.thicknessMapUv),T.push(F.combine),T.push(F.fogExp2),T.push(F.sizeAttenuation),T.push(F.morphTargetsCount),T.push(F.morphAttributeCount),T.push(F.numDirLights),T.push(F.numPointLights),T.push(F.numSpotLights),T.push(F.numSpotLightMaps),T.push(F.numHemiLights),T.push(F.numRectAreaLights),T.push(F.numDirLightShadows),T.push(F.numPointLightShadows),T.push(F.numSpotLightShadows),T.push(F.numSpotLightShadowsWithMaps),T.push(F.numLightProbes),T.push(F.shadowMapType),T.push(F.toneMapping),T.push(F.numClippingPlanes),T.push(F.numClipIntersection),T.push(F.depthPacking)}function _(T,F){o.disableAll(),F.isWebGL2&&o.enable(0),F.supportsVertexTextures&&o.enable(1),F.instancing&&o.enable(2),F.instancingColor&&o.enable(3),F.matcap&&o.enable(4),F.envMap&&o.enable(5),F.normalMapObjectSpace&&o.enable(6),F.normalMapTangentSpace&&o.enable(7),F.clearcoat&&o.enable(8),F.iridescence&&o.enable(9),F.alphaTest&&o.enable(10),F.vertexColors&&o.enable(11),F.vertexAlphas&&o.enable(12),F.vertexUv1s&&o.enable(13),F.vertexUv2s&&o.enable(14),F.vertexUv3s&&o.enable(15),F.vertexTangents&&o.enable(16),F.anisotropy&&o.enable(17),F.alphaHash&&o.enable(18),F.batching&&o.enable(19),T.push(o.mask),o.disableAll(),F.fog&&o.enable(0),F.useFog&&o.enable(1),F.flatShading&&o.enable(2),F.logarithmicDepthBuffer&&o.enable(3),F.skinning&&o.enable(4),F.morphTargets&&o.enable(5),F.morphNormals&&o.enable(6),F.morphColors&&o.enable(7),F.premultipliedAlpha&&o.enable(8),F.shadowMapEnabled&&o.enable(9),F.useLegacyLights&&o.enable(10),F.doubleSided&&o.enable(11),F.flipSided&&o.enable(12),F.useDepthPacking&&o.enable(13),F.dithering&&o.enable(14),F.transmission&&o.enable(15),F.sheen&&o.enable(16),F.opaque&&o.enable(17),F.pointsUvs&&o.enable(18),F.decodeVideoTexture&&o.enable(19),T.push(o.mask)}function B(T){const F=p[T.type];let P;if(F){const D=Au[F];P=T$.clone(D.uniforms)}else P=T.uniforms;return P}function R(T,F){let P;for(let D=0,H=c.length;D<H;D++){const X=c[D];if(X.cacheKey===F){P=X,++P.usedTimes;break}}return P===void 0&&(P=new ove(t,F,T,s),c.push(P)),P}function L(T){if(--T.usedTimes===0){const F=c.indexOf(T);c[F]=c[c.length-1],c.pop(),T.destroy()}}function S(T){l.remove(T)}function M(){l.dispose()}return{getParameters:v,getProgramCacheKey:m,getUniforms:B,acquireProgram:R,releaseProgram:L,releaseShaderCache:S,programs:c,dispose:M}}function fve(){let t=new WeakMap;function e(s){let a=t.get(s);return a===void 0&&(a={},t.set(s,a)),a}function n(s){t.delete(s)}function r(s,a,o){t.get(s)[a]=o}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function hve(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function WQ(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function KQ(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function a(A,f,h,p,y,v){let m=t[e];return m===void 0?(m={id:A.id,object:A,geometry:f,material:h,groupOrder:p,renderOrder:A.renderOrder,z:y,group:v},t[e]=m):(m.id=A.id,m.object=A,m.geometry=f,m.material=h,m.groupOrder=p,m.renderOrder=A.renderOrder,m.z=y,m.group=v),e++,m}function o(A,f,h,p,y,v){const m=a(A,f,h,p,y,v);h.transmission>0?r.push(m):h.transparent===!0?i.push(m):n.push(m)}function l(A,f,h,p,y,v){const m=a(A,f,h,p,y,v);h.transmission>0?r.unshift(m):h.transparent===!0?i.unshift(m):n.unshift(m)}function c(A,f){n.length>1&&n.sort(A||hve),r.length>1&&r.sort(f||WQ),i.length>1&&i.sort(f||WQ)}function u(){for(let A=e,f=t.length;A<f;A++){const h=t[A];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:o,unshift:l,finish:u,sort:c}}function dve(){let t=new WeakMap;function e(r,i){const s=t.get(r);let a;return s===void 0?(a=new KQ,t.set(r,[a])):i>=s.length?(a=new KQ,s.push(a)):a=s[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function pve(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Ce,color:new Kt};break;case"SpotLight":n={position:new Ce,direction:new Ce,color:new Kt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Ce,color:new Kt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Ce,skyColor:new Kt,groundColor:new Kt};break;case"RectAreaLight":n={color:new Kt,position:new Ce,halfWidth:new Ce,halfHeight:new Ce};break}return t[e.id]=n,n}}}function mve(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new tt,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let gve=0;function vve(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function yve(t,e){const n=new pve,r=mve(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new Ce);const s=new Ce,a=new Sn,o=new Sn;function l(u,A){let f=0,h=0,p=0;for(let D=0;D<9;D++)i.probe[D].set(0,0,0);let y=0,v=0,m=0,w=0,_=0,B=0,R=0,L=0,S=0,M=0,T=0;u.sort(vve);const F=A===!0?Math.PI:1;for(let D=0,H=u.length;D<H;D++){const X=u[D],fe=X.color,ue=X.intensity,me=X.distance,J=X.shadow&&X.shadow.map?X.shadow.map.texture:null;if(X.isAmbientLight)f+=fe.r*ue*F,h+=fe.g*ue*F,p+=fe.b*ue*F;else if(X.isLightProbe){for(let le=0;le<9;le++)i.probe[le].addScaledVector(X.sh.coefficients[le],ue);T++}else if(X.isDirectionalLight){const le=n.get(X);if(le.color.copy(X.color).multiplyScalar(X.intensity*F),X.castShadow){const ee=X.shadow,re=r.get(X);re.shadowBias=ee.bias,re.shadowNormalBias=ee.normalBias,re.shadowRadius=ee.radius,re.shadowMapSize=ee.mapSize,i.directionalShadow[y]=re,i.directionalShadowMap[y]=J,i.directionalShadowMatrix[y]=X.shadow.matrix,B++}i.directional[y]=le,y++}else if(X.isSpotLight){const le=n.get(X);le.position.setFromMatrixPosition(X.matrixWorld),le.color.copy(fe).multiplyScalar(ue*F),le.distance=me,le.coneCos=Math.cos(X.angle),le.penumbraCos=Math.cos(X.angle*(1-X.penumbra)),le.decay=X.decay,i.spot[m]=le;const ee=X.shadow;if(X.map&&(i.spotLightMap[S]=X.map,S++,ee.updateMatrices(X),X.castShadow&&M++),i.spotLightMatrix[m]=ee.matrix,X.castShadow){const re=r.get(X);re.shadowBias=ee.bias,re.shadowNormalBias=ee.normalBias,re.shadowRadius=ee.radius,re.shadowMapSize=ee.mapSize,i.spotShadow[m]=re,i.spotShadowMap[m]=J,L++}m++}else if(X.isRectAreaLight){const le=n.get(X);le.color.copy(fe).multiplyScalar(ue),le.halfWidth.set(X.width*.5,0,0),le.halfHeight.set(0,X.height*.5,0),i.rectArea[w]=le,w++}else if(X.isPointLight){const le=n.get(X);if(le.color.copy(X.color).multiplyScalar(X.intensity*F),le.distance=X.distance,le.decay=X.decay,X.castShadow){const ee=X.shadow,re=r.get(X);re.shadowBias=ee.bias,re.shadowNormalBias=ee.normalBias,re.shadowRadius=ee.radius,re.shadowMapSize=ee.mapSize,re.shadowCameraNear=ee.camera.near,re.shadowCameraFar=ee.camera.far,i.pointShadow[v]=re,i.pointShadowMap[v]=J,i.pointShadowMatrix[v]=X.shadow.matrix,R++}i.point[v]=le,v++}else if(X.isHemisphereLight){const le=n.get(X);le.skyColor.copy(X.color).multiplyScalar(ue*F),le.groundColor.copy(X.groundColor).multiplyScalar(ue*F),i.hemi[_]=le,_++}}w>0&&(e.isWebGL2?t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ut.LTC_FLOAT_1,i.rectAreaLTC2=Ut.LTC_FLOAT_2):(i.rectAreaLTC1=Ut.LTC_HALF_1,i.rectAreaLTC2=Ut.LTC_HALF_2):t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=Ut.LTC_FLOAT_1,i.rectAreaLTC2=Ut.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=Ut.LTC_HALF_1,i.rectAreaLTC2=Ut.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=f,i.ambient[1]=h,i.ambient[2]=p;const P=i.hash;(P.directionalLength!==y||P.pointLength!==v||P.spotLength!==m||P.rectAreaLength!==w||P.hemiLength!==_||P.numDirectionalShadows!==B||P.numPointShadows!==R||P.numSpotShadows!==L||P.numSpotMaps!==S||P.numLightProbes!==T)&&(i.directional.length=y,i.spot.length=m,i.rectArea.length=w,i.point.length=v,i.hemi.length=_,i.directionalShadow.length=B,i.directionalShadowMap.length=B,i.pointShadow.length=R,i.pointShadowMap.length=R,i.spotShadow.length=L,i.spotShadowMap.length=L,i.directionalShadowMatrix.length=B,i.pointShadowMatrix.length=R,i.spotLightMatrix.length=L+S-M,i.spotLightMap.length=S,i.numSpotLightShadowsWithMaps=M,i.numLightProbes=T,P.directionalLength=y,P.pointLength=v,P.spotLength=m,P.rectAreaLength=w,P.hemiLength=_,P.numDirectionalShadows=B,P.numPointShadows=R,P.numSpotShadows=L,P.numSpotMaps=S,P.numLightProbes=T,i.version=gve++)}function c(u,A){let f=0,h=0,p=0,y=0,v=0;const m=A.matrixWorldInverse;for(let w=0,_=u.length;w<_;w++){const B=u[w];if(B.isDirectionalLight){const R=i.directional[f];R.direction.setFromMatrixPosition(B.matrixWorld),s.setFromMatrixPosition(B.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(m),f++}else if(B.isSpotLight){const R=i.spot[p];R.position.setFromMatrixPosition(B.matrixWorld),R.position.applyMatrix4(m),R.direction.setFromMatrixPosition(B.matrixWorld),s.setFromMatrixPosition(B.target.matrixWorld),R.direction.sub(s),R.direction.transformDirection(m),p++}else if(B.isRectAreaLight){const R=i.rectArea[y];R.position.setFromMatrixPosition(B.matrixWorld),R.position.applyMatrix4(m),o.identity(),a.copy(B.matrixWorld),a.premultiply(m),o.extractRotation(a),R.halfWidth.set(B.width*.5,0,0),R.halfHeight.set(0,B.height*.5,0),R.halfWidth.applyMatrix4(o),R.halfHeight.applyMatrix4(o),y++}else if(B.isPointLight){const R=i.point[h];R.position.setFromMatrixPosition(B.matrixWorld),R.position.applyMatrix4(m),h++}else if(B.isHemisphereLight){const R=i.hemi[v];R.direction.setFromMatrixPosition(B.matrixWorld),R.direction.transformDirection(m),v++}}}return{setup:l,setupView:c,state:i}}function qQ(t,e){const n=new yve(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function a(A){r.push(A)}function o(A){i.push(A)}function l(A){n.setup(r,A)}function c(A){n.setupView(r,A)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:a,pushShadow:o}}function wve(t,e){let n=new WeakMap;function r(s,a=0){const o=n.get(s);let l;return o===void 0?(l=new qQ(t,e),n.set(s,[l])):a>=o.length?(l=new qQ(t,e),o.push(l)):l=o[a],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class i4 extends _o{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=h$,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class s4 extends _o{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const _ve=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,xve=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function bve(t,e,n){let r=new j_;const i=new tt,s=new tt,a=new Pr,o=new i4({depthPacking:d$}),l=new s4,c={},u=n.maxTextureSize,A={[Cf]:Qo,[Qo]:Cf,[Ju]:Ju},f=new Eu({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new tt},radius:{value:4}},vertexShader:_ve,fragmentShader:xve}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const p=new kn;p.setAttribute("position",new Fr(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const y=new Qs(p,f),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=hB;let m=this.type;this.render=function(L,S,M){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||L.length===0)return;const T=t.getRenderTarget(),F=t.getActiveCubeFace(),P=t.getActiveMipmapLevel(),D=t.state;D.setBlending(gf),D.buffers.color.setClear(1,1,1,1),D.buffers.depth.setTest(!0),D.setScissorTest(!1);const H=m!==au&&this.type===au,X=m===au&&this.type!==au;for(let fe=0,ue=L.length;fe<ue;fe++){const me=L[fe],J=me.shadow;if(J===void 0){console.warn("THREE.WebGLShadowMap:",me,"has no shadow.");continue}if(J.autoUpdate===!1&&J.needsUpdate===!1)continue;i.copy(J.mapSize);const le=J.getFrameExtents();if(i.multiply(le),s.copy(J.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/le.x),i.x=s.x*le.x,J.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/le.y),i.y=s.y*le.y,J.mapSize.y=s.y)),J.map===null||H===!0||X===!0){const re=this.type!==au?{minFilter:is,magFilter:is}:{};J.map!==null&&J.map.dispose(),J.map=new bu(i.x,i.y,re),J.map.texture.name=me.name+".shadowMap",J.camera.updateProjectionMatrix()}t.setRenderTarget(J.map),t.clear();const ee=J.getViewportCount();for(let re=0;re<ee;re++){const k=J.getViewport(re);a.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),D.viewport(a),J.updateMatrices(me,re),r=J.getFrustum(),B(S,M,J.camera,me,this.type)}J.isPointLightShadow!==!0&&this.type===au&&w(J,M),J.needsUpdate=!1}m=this.type,v.needsUpdate=!1,t.setRenderTarget(T,F,P)};function w(L,S){const M=e.update(y);f.defines.VSM_SAMPLES!==L.blurSamples&&(f.defines.VSM_SAMPLES=L.blurSamples,h.defines.VSM_SAMPLES=L.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),L.mapPass===null&&(L.mapPass=new bu(i.x,i.y)),f.uniforms.shadow_pass.value=L.map.texture,f.uniforms.resolution.value=L.mapSize,f.uniforms.radius.value=L.radius,t.setRenderTarget(L.mapPass),t.clear(),t.renderBufferDirect(S,null,M,f,y,null),h.uniforms.shadow_pass.value=L.mapPass.texture,h.uniforms.resolution.value=L.mapSize,h.uniforms.radius.value=L.radius,t.setRenderTarget(L.map),t.clear(),t.renderBufferDirect(S,null,M,h,y,null)}function _(L,S,M,T){let F=null;const P=M.isPointLight===!0?L.customDistanceMaterial:L.customDepthMaterial;if(P!==void 0)F=P;else if(F=M.isPointLight===!0?l:o,t.localClippingEnabled&&S.clipShadows===!0&&Array.isArray(S.clippingPlanes)&&S.clippingPlanes.length!==0||S.displacementMap&&S.displacementScale!==0||S.alphaMap&&S.alphaTest>0||S.map&&S.alphaTest>0){const D=F.uuid,H=S.uuid;let X=c[D];X===void 0&&(X={},c[D]=X);let fe=X[H];fe===void 0&&(fe=F.clone(),X[H]=fe,S.addEventListener("dispose",R)),F=fe}if(F.visible=S.visible,F.wireframe=S.wireframe,T===au?F.side=S.shadowSide!==null?S.shadowSide:S.side:F.side=S.shadowSide!==null?S.shadowSide:A[S.side],F.alphaMap=S.alphaMap,F.alphaTest=S.alphaTest,F.map=S.map,F.clipShadows=S.clipShadows,F.clippingPlanes=S.clippingPlanes,F.clipIntersection=S.clipIntersection,F.displacementMap=S.displacementMap,F.displacementScale=S.displacementScale,F.displacementBias=S.displacementBias,F.wireframeLinewidth=S.wireframeLinewidth,F.linewidth=S.linewidth,M.isPointLight===!0&&F.isMeshDistanceMaterial===!0){const D=t.properties.get(F);D.light=M}return F}function B(L,S,M,T,F){if(L.visible===!1)return;if(L.layers.test(S.layers)&&(L.isMesh||L.isLine||L.isPoints)&&(L.castShadow||L.receiveShadow&&F===au)&&(!L.frustumCulled||r.intersectsObject(L))){L.modelViewMatrix.multiplyMatrices(M.matrixWorldInverse,L.matrixWorld);const H=e.update(L),X=L.material;if(Array.isArray(X)){const fe=H.groups;for(let ue=0,me=fe.length;ue<me;ue++){const J=fe[ue],le=X[J.materialIndex];if(le&&le.visible){const ee=_(L,le,T,F);L.onBeforeShadow(t,L,S,M,H,ee,J),t.renderBufferDirect(M,null,H,ee,L,J),L.onAfterShadow(t,L,S,M,H,ee,J)}}}else if(X.visible){const fe=_(L,X,T,F);L.onBeforeShadow(t,L,S,M,H,fe,null),t.renderBufferDirect(M,null,H,fe,L,null),L.onAfterShadow(t,L,S,M,H,fe,null)}}const D=L.children;for(let H=0,X=D.length;H<X;H++)B(D[H],S,M,T,F)}function R(L){L.target.removeEventListener("dispose",R);for(const M in c){const T=c[M],F=L.target.uuid;F in T&&(T[F].dispose(),delete T[F])}}}function Eve(t,e,n){const r=n.isWebGL2;function i(){let Le=!1;const Bt=new Pr;let Et=null;const xt=new Pr(0,0,0,0);return{setMask:function(Mt){Et!==Mt&&!Le&&(t.colorMask(Mt,Mt,Mt,Mt),Et=Mt)},setLocked:function(Mt){Le=Mt},setClear:function(Mt,vn,ln,Tn,Gn){Gn===!0&&(Mt*=Tn,vn*=Tn,ln*=Tn),Bt.set(Mt,vn,ln,Tn),xt.equals(Bt)===!1&&(t.clearColor(Mt,vn,ln,Tn),xt.copy(Bt))},reset:function(){Le=!1,Et=null,xt.set(-1,0,0,0)}}}function s(){let Le=!1,Bt=null,Et=null,xt=null;return{setTest:function(Mt){Mt?he(t.DEPTH_TEST):ve(t.DEPTH_TEST)},setMask:function(Mt){Bt!==Mt&&!Le&&(t.depthMask(Mt),Bt=Mt)},setFunc:function(Mt){if(Et!==Mt){switch(Mt){case Hq:t.depthFunc(t.NEVER);break;case Vq:t.depthFunc(t.ALWAYS);break;case zq:t.depthFunc(t.LESS);break;case Ow:t.depthFunc(t.LEQUAL);break;case jq:t.depthFunc(t.EQUAL);break;case Gq:t.depthFunc(t.GEQUAL);break;case Wq:t.depthFunc(t.GREATER);break;case Kq:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Et=Mt}},setLocked:function(Mt){Le=Mt},setClear:function(Mt){xt!==Mt&&(t.clearDepth(Mt),xt=Mt)},reset:function(){Le=!1,Bt=null,Et=null,xt=null}}}function a(){let Le=!1,Bt=null,Et=null,xt=null,Mt=null,vn=null,ln=null,Tn=null,Gn=null;return{setTest:function(St){Le||(St?he(t.STENCIL_TEST):ve(t.STENCIL_TEST))},setMask:function(St){Bt!==St&&!Le&&(t.stencilMask(St),Bt=St)},setFunc:function(St,Ar,Sr){(Et!==St||xt!==Ar||Mt!==Sr)&&(t.stencilFunc(St,Ar,Sr),Et=St,xt=Ar,Mt=Sr)},setOp:function(St,Ar,Sr){(vn!==St||ln!==Ar||Tn!==Sr)&&(t.stencilOp(St,Ar,Sr),vn=St,ln=Ar,Tn=Sr)},setLocked:function(St){Le=St},setClear:function(St){Gn!==St&&(t.clearStencil(St),Gn=St)},reset:function(){Le=!1,Bt=null,Et=null,xt=null,Mt=null,vn=null,ln=null,Tn=null,Gn=null}}}const o=new i,l=new s,c=new a,u=new WeakMap,A=new WeakMap;let f={},h={},p=new WeakMap,y=[],v=null,m=!1,w=null,_=null,B=null,R=null,L=null,S=null,M=null,T=new Kt(0,0,0),F=0,P=!1,D=null,H=null,X=null,fe=null,ue=null;const me=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let J=!1,le=0;const ee=t.getParameter(t.VERSION);ee.indexOf("WebGL")!==-1?(le=parseFloat(/^WebGL (\d)/.exec(ee)[1]),J=le>=1):ee.indexOf("OpenGL ES")!==-1&&(le=parseFloat(/^OpenGL ES (\d)/.exec(ee)[1]),J=le>=2);let re=null,k={};const $=t.getParameter(t.SCISSOR_BOX),j=t.getParameter(t.VIEWPORT),G=new Pr().fromArray($),q=new Pr().fromArray(j);function W(Le,Bt,Et,xt){const Mt=new Uint8Array(4),vn=t.createTexture();t.bindTexture(Le,vn),t.texParameteri(Le,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(Le,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let ln=0;ln<Et;ln++)r&&(Le===t.TEXTURE_3D||Le===t.TEXTURE_2D_ARRAY)?t.texImage3D(Bt,0,t.RGBA,1,1,xt,0,t.RGBA,t.UNSIGNED_BYTE,Mt):t.texImage2D(Bt+ln,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Mt);return vn}const ge={};ge[t.TEXTURE_2D]=W(t.TEXTURE_2D,t.TEXTURE_2D,1),ge[t.TEXTURE_CUBE_MAP]=W(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(ge[t.TEXTURE_2D_ARRAY]=W(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ge[t.TEXTURE_3D]=W(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),l.setClear(1),c.setClear(0),he(t.DEPTH_TEST),l.setFunc(Ow),be(!1),z(M3),he(t.CULL_FACE),se(gf);function he(Le){f[Le]!==!0&&(t.enable(Le),f[Le]=!0)}function ve(Le){f[Le]!==!1&&(t.disable(Le),f[Le]=!1)}function Ee(Le,Bt){return h[Le]!==Bt?(t.bindFramebuffer(Le,Bt),h[Le]=Bt,r&&(Le===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=Bt),Le===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=Bt)),!0):!1}function ie(Le,Bt){let Et=y,xt=!1;if(Le)if(Et=p.get(Bt),Et===void 0&&(Et=[],p.set(Bt,Et)),Le.isWebGLMultipleRenderTargets){const Mt=Le.texture;if(Et.length!==Mt.length||Et[0]!==t.COLOR_ATTACHMENT0){for(let vn=0,ln=Mt.length;vn<ln;vn++)Et[vn]=t.COLOR_ATTACHMENT0+vn;Et.length=Mt.length,xt=!0}}else Et[0]!==t.COLOR_ATTACHMENT0&&(Et[0]=t.COLOR_ATTACHMENT0,xt=!0);else Et[0]!==t.BACK&&(Et[0]=t.BACK,xt=!0);xt&&(n.isWebGL2?t.drawBuffers(Et):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Et))}function Te(Le){return v!==Le?(t.useProgram(Le),v=Le,!0):!1}const ye={[Uh]:t.FUNC_ADD,[Cq]:t.FUNC_SUBTRACT,[Bq]:t.FUNC_REVERSE_SUBTRACT};if(r)ye[N3]=t.MIN,ye[L3]=t.MAX;else{const Le=e.get("EXT_blend_minmax");Le!==null&&(ye[N3]=Le.MIN_EXT,ye[L3]=Le.MAX_EXT)}const _e={[Tq]:t.ZERO,[Mq]:t.ONE,[Iq]:t.SRC_COLOR,[vS]:t.SRC_ALPHA,[Uq]:t.SRC_ALPHA_SATURATE,[Fq]:t.DST_COLOR,[Nq]:t.DST_ALPHA,[Pq]:t.ONE_MINUS_SRC_COLOR,[yS]:t.ONE_MINUS_SRC_ALPHA,[Rq]:t.ONE_MINUS_DST_COLOR,[Lq]:t.ONE_MINUS_DST_ALPHA,[Dq]:t.CONSTANT_COLOR,[Oq]:t.ONE_MINUS_CONSTANT_COLOR,[kq]:t.CONSTANT_ALPHA,[Qq]:t.ONE_MINUS_CONSTANT_ALPHA};function se(Le,Bt,Et,xt,Mt,vn,ln,Tn,Gn,St){if(Le===gf){m===!0&&(ve(t.BLEND),m=!1);return}if(m===!1&&(he(t.BLEND),m=!0),Le!==Sq){if(Le!==w||St!==P){if((_!==Uh||L!==Uh)&&(t.blendEquation(t.FUNC_ADD),_=Uh,L=Uh),St)switch(Le){case cm:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case gS:t.blendFunc(t.ONE,t.ONE);break;case I3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case P3:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",Le);break}else switch(Le){case cm:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case gS:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case I3:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case P3:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",Le);break}B=null,R=null,S=null,M=null,T.set(0,0,0),F=0,w=Le,P=St}return}Mt=Mt||Bt,vn=vn||Et,ln=ln||xt,(Bt!==_||Mt!==L)&&(t.blendEquationSeparate(ye[Bt],ye[Mt]),_=Bt,L=Mt),(Et!==B||xt!==R||vn!==S||ln!==M)&&(t.blendFuncSeparate(_e[Et],_e[xt],_e[vn],_e[ln]),B=Et,R=xt,S=vn,M=ln),(Tn.equals(T)===!1||Gn!==F)&&(t.blendColor(Tn.r,Tn.g,Tn.b,Gn),T.copy(Tn),F=Gn),w=Le,P=!1}function ze(Le,Bt){Le.side===Ju?ve(t.CULL_FACE):he(t.CULL_FACE);let Et=Le.side===Qo;Bt&&(Et=!Et),be(Et),Le.blending===cm&&Le.transparent===!1?se(gf):se(Le.blending,Le.blendEquation,Le.blendSrc,Le.blendDst,Le.blendEquationAlpha,Le.blendSrcAlpha,Le.blendDstAlpha,Le.blendColor,Le.blendAlpha,Le.premultipliedAlpha),l.setFunc(Le.depthFunc),l.setTest(Le.depthTest),l.setMask(Le.depthWrite),o.setMask(Le.colorWrite);const xt=Le.stencilWrite;c.setTest(xt),xt&&(c.setMask(Le.stencilWriteMask),c.setFunc(Le.stencilFunc,Le.stencilRef,Le.stencilFuncMask),c.setOp(Le.stencilFail,Le.stencilZFail,Le.stencilZPass)),Be(Le.polygonOffset,Le.polygonOffsetFactor,Le.polygonOffsetUnits),Le.alphaToCoverage===!0?he(t.SAMPLE_ALPHA_TO_COVERAGE):ve(t.SAMPLE_ALPHA_TO_COVERAGE)}function be(Le){D!==Le&&(Le?t.frontFace(t.CW):t.frontFace(t.CCW),D=Le)}function z(Le){Le!==xq?(he(t.CULL_FACE),Le!==H&&(Le===M3?t.cullFace(t.BACK):Le===bq?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ve(t.CULL_FACE),H=Le}function te(Le){Le!==X&&(J&&t.lineWidth(Le),X=Le)}function Be(Le,Bt,Et){Le?(he(t.POLYGON_OFFSET_FILL),(fe!==Bt||ue!==Et)&&(t.polygonOffset(Bt,Et),fe=Bt,ue=Et)):ve(t.POLYGON_OFFSET_FILL)}function ke(Le){Le?he(t.SCISSOR_TEST):ve(t.SCISSOR_TEST)}function Ke(Le){Le===void 0&&(Le=t.TEXTURE0+me-1),re!==Le&&(t.activeTexture(Le),re=Le)}function je(Le,Bt,Et){Et===void 0&&(re===null?Et=t.TEXTURE0+me-1:Et=re);let xt=k[Et];xt===void 0&&(xt={type:void 0,texture:void 0},k[Et]=xt),(xt.type!==Le||xt.texture!==Bt)&&(re!==Et&&(t.activeTexture(Et),re=Et),t.bindTexture(Le,Bt||ge[Le]),xt.type=Le,xt.texture=Bt)}function ft(){const Le=k[re];Le!==void 0&&Le.type!==void 0&&(t.bindTexture(Le.type,null),Le.type=void 0,Le.texture=void 0)}function nt(){try{t.compressedTexImage2D.apply(t,arguments)}catch(Le){console.error("THREE.WebGLState:",Le)}}function ct(){try{t.compressedTexImage3D.apply(t,arguments)}catch(Le){console.error("THREE.WebGLState:",Le)}}function Tt(){try{t.texSubImage2D.apply(t,arguments)}catch(Le){console.error("THREE.WebGLState:",Le)}}function bt(){try{t.texSubImage3D.apply(t,arguments)}catch(Le){console.error("THREE.WebGLState:",Le)}}function Ze(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(Le){console.error("THREE.WebGLState:",Le)}}function ht(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(Le){console.error("THREE.WebGLState:",Le)}}function Gt(){try{t.texStorage2D.apply(t,arguments)}catch(Le){console.error("THREE.WebGLState:",Le)}}function Nt(){try{t.texStorage3D.apply(t,arguments)}catch(Le){console.error("THREE.WebGLState:",Le)}}function Qt(){try{t.texImage2D.apply(t,arguments)}catch(Le){console.error("THREE.WebGLState:",Le)}}function Ct(){try{t.texImage3D.apply(t,arguments)}catch(Le){console.error("THREE.WebGLState:",Le)}}function Pe(Le){G.equals(Le)===!1&&(t.scissor(Le.x,Le.y,Le.z,Le.w),G.copy(Le))}function ut(Le){q.equals(Le)===!1&&(t.viewport(Le.x,Le.y,Le.z,Le.w),q.copy(Le))}function _t(Le,Bt){let Et=A.get(Bt);Et===void 0&&(Et=new WeakMap,A.set(Bt,Et));let xt=Et.get(Le);xt===void 0&&(xt=t.getUniformBlockIndex(Bt,Le.name),Et.set(Le,xt))}function Ft(Le,Bt){const xt=A.get(Bt).get(Le);u.get(Bt)!==xt&&(t.uniformBlockBinding(Bt,xt,Le.__bindingPointIndex),u.set(Bt,xt))}function lt(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),f={},re=null,k={},h={},p=new WeakMap,y=[],v=null,m=!1,w=null,_=null,B=null,R=null,L=null,S=null,M=null,T=new Kt(0,0,0),F=0,P=!1,D=null,H=null,X=null,fe=null,ue=null,G.set(0,0,t.canvas.width,t.canvas.height),q.set(0,0,t.canvas.width,t.canvas.height),o.reset(),l.reset(),c.reset()}return{buffers:{color:o,depth:l,stencil:c},enable:he,disable:ve,bindFramebuffer:Ee,drawBuffers:ie,useProgram:Te,setBlending:se,setMaterial:ze,setFlipSided:be,setCullFace:z,setLineWidth:te,setPolygonOffset:Be,setScissorTest:ke,activeTexture:Ke,bindTexture:je,unbindTexture:ft,compressedTexImage2D:nt,compressedTexImage3D:ct,texImage2D:Qt,texImage3D:Ct,updateUBOMapping:_t,uniformBlockBinding:Ft,texStorage2D:Gt,texStorage3D:Nt,texSubImage2D:Tt,texSubImage3D:bt,compressedTexSubImage2D:Ze,compressedTexSubImage3D:ht,scissor:Pe,viewport:ut,reset:lt}}function Sve(t,e,n,r,i,s,a){const o=i.isWebGL2,l=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,c=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),u=new WeakMap;let A;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function p(z,te){return h?new OffscreenCanvas(z,te):Xw("canvas")}function y(z,te,Be,ke){let Ke=1;if((z.width>ke||z.height>ke)&&(Ke=ke/Math.max(z.width,z.height)),Ke<1||te===!0)if(typeof HTMLImageElement<"u"&&z instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&z instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&z instanceof ImageBitmap){const je=te?xS:Math.floor,ft=je(Ke*z.width),nt=je(Ke*z.height);A===void 0&&(A=p(ft,nt));const ct=Be?p(ft,nt):A;return ct.width=ft,ct.height=nt,ct.getContext("2d").drawImage(z,0,0,ft,nt),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+z.width+"x"+z.height+") to ("+ft+"x"+nt+")."),ct}else return"data"in z&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+z.width+"x"+z.height+")."),z;return z}function v(z){return lN(z.width)&&lN(z.height)}function m(z){return o?!1:z.wrapS!==ho||z.wrapT!==ho||z.minFilter!==is&&z.minFilter!==as}function w(z,te){return z.generateMipmaps&&te&&z.minFilter!==is&&z.minFilter!==as}function _(z){t.generateMipmap(z)}function B(z,te,Be,ke,Ke=!1){if(o===!1)return te;if(z!==null){if(t[z]!==void 0)return t[z];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+z+"'")}let je=te;if(te===t.RED&&(Be===t.FLOAT&&(je=t.R32F),Be===t.HALF_FLOAT&&(je=t.R16F),Be===t.UNSIGNED_BYTE&&(je=t.R8)),te===t.RED_INTEGER&&(Be===t.UNSIGNED_BYTE&&(je=t.R8UI),Be===t.UNSIGNED_SHORT&&(je=t.R16UI),Be===t.UNSIGNED_INT&&(je=t.R32UI),Be===t.BYTE&&(je=t.R8I),Be===t.SHORT&&(je=t.R16I),Be===t.INT&&(je=t.R32I)),te===t.RG&&(Be===t.FLOAT&&(je=t.RG32F),Be===t.HALF_FLOAT&&(je=t.RG16F),Be===t.UNSIGNED_BYTE&&(je=t.RG8)),te===t.RGBA){const ft=Ke?Ww:Mr.getTransfer(ke);Be===t.FLOAT&&(je=t.RGBA32F),Be===t.HALF_FLOAT&&(je=t.RGBA16F),Be===t.UNSIGNED_BYTE&&(je=ft===Jr?t.SRGB8_ALPHA8:t.RGBA8),Be===t.UNSIGNED_SHORT_4_4_4_4&&(je=t.RGBA4),Be===t.UNSIGNED_SHORT_5_5_5_1&&(je=t.RGB5_A1)}return(je===t.R16F||je===t.R32F||je===t.RG16F||je===t.RG32F||je===t.RGBA16F||je===t.RGBA32F)&&e.get("EXT_color_buffer_float"),je}function R(z,te,Be){return w(z,Be)===!0||z.isFramebufferTexture&&z.minFilter!==is&&z.minFilter!==as?Math.log2(Math.max(te.width,te.height))+1:z.mipmaps!==void 0&&z.mipmaps.length>0?z.mipmaps.length:z.isCompressedTexture&&Array.isArray(z.image)?te.mipmaps.length:1}function L(z){return z===is||z===wS||z===J1?t.NEAREST:t.LINEAR}function S(z){const te=z.target;te.removeEventListener("dispose",S),T(te),te.isVideoTexture&&u.delete(te)}function M(z){const te=z.target;te.removeEventListener("dispose",M),P(te)}function T(z){const te=r.get(z);if(te.__webglInit===void 0)return;const Be=z.source,ke=f.get(Be);if(ke){const Ke=ke[te.__cacheKey];Ke.usedTimes--,Ke.usedTimes===0&&F(z),Object.keys(ke).length===0&&f.delete(Be)}r.remove(z)}function F(z){const te=r.get(z);t.deleteTexture(te.__webglTexture);const Be=z.source,ke=f.get(Be);delete ke[te.__cacheKey],a.memory.textures--}function P(z){const te=z.texture,Be=r.get(z),ke=r.get(te);if(ke.__webglTexture!==void 0&&(t.deleteTexture(ke.__webglTexture),a.memory.textures--),z.depthTexture&&z.depthTexture.dispose(),z.isWebGLCubeRenderTarget)for(let Ke=0;Ke<6;Ke++){if(Array.isArray(Be.__webglFramebuffer[Ke]))for(let je=0;je<Be.__webglFramebuffer[Ke].length;je++)t.deleteFramebuffer(Be.__webglFramebuffer[Ke][je]);else t.deleteFramebuffer(Be.__webglFramebuffer[Ke]);Be.__webglDepthbuffer&&t.deleteRenderbuffer(Be.__webglDepthbuffer[Ke])}else{if(Array.isArray(Be.__webglFramebuffer))for(let Ke=0;Ke<Be.__webglFramebuffer.length;Ke++)t.deleteFramebuffer(Be.__webglFramebuffer[Ke]);else t.deleteFramebuffer(Be.__webglFramebuffer);if(Be.__webglDepthbuffer&&t.deleteRenderbuffer(Be.__webglDepthbuffer),Be.__webglMultisampledFramebuffer&&t.deleteFramebuffer(Be.__webglMultisampledFramebuffer),Be.__webglColorRenderbuffer)for(let Ke=0;Ke<Be.__webglColorRenderbuffer.length;Ke++)Be.__webglColorRenderbuffer[Ke]&&t.deleteRenderbuffer(Be.__webglColorRenderbuffer[Ke]);Be.__webglDepthRenderbuffer&&t.deleteRenderbuffer(Be.__webglDepthRenderbuffer)}if(z.isWebGLMultipleRenderTargets)for(let Ke=0,je=te.length;Ke<je;Ke++){const ft=r.get(te[Ke]);ft.__webglTexture&&(t.deleteTexture(ft.__webglTexture),a.memory.textures--),r.remove(te[Ke])}r.remove(te),r.remove(z)}let D=0;function H(){D=0}function X(){const z=D;return z>=i.maxTextures&&console.warn("THREE.WebGLTextures: Trying to use "+z+" texture units while this GPU supports only "+i.maxTextures),D+=1,z}function fe(z){const te=[];return te.push(z.wrapS),te.push(z.wrapT),te.push(z.wrapR||0),te.push(z.magFilter),te.push(z.minFilter),te.push(z.anisotropy),te.push(z.internalFormat),te.push(z.format),te.push(z.type),te.push(z.generateMipmaps),te.push(z.premultiplyAlpha),te.push(z.flipY),te.push(z.unpackAlignment),te.push(z.colorSpace),te.join()}function ue(z,te){const Be=r.get(z);if(z.isVideoTexture&&ze(z),z.isRenderTargetTexture===!1&&z.version>0&&Be.__version!==z.version){const ke=z.image;if(ke===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(ke.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{G(Be,z,te);return}}n.bindTexture(t.TEXTURE_2D,Be.__webglTexture,t.TEXTURE0+te)}function me(z,te){const Be=r.get(z);if(z.version>0&&Be.__version!==z.version){G(Be,z,te);return}n.bindTexture(t.TEXTURE_2D_ARRAY,Be.__webglTexture,t.TEXTURE0+te)}function J(z,te){const Be=r.get(z);if(z.version>0&&Be.__version!==z.version){G(Be,z,te);return}n.bindTexture(t.TEXTURE_3D,Be.__webglTexture,t.TEXTURE0+te)}function le(z,te){const Be=r.get(z);if(z.version>0&&Be.__version!==z.version){q(Be,z,te);return}n.bindTexture(t.TEXTURE_CUBE_MAP,Be.__webglTexture,t.TEXTURE0+te)}const ee={[Hw]:t.REPEAT,[ho]:t.CLAMP_TO_EDGE,[Vw]:t.MIRRORED_REPEAT},re={[is]:t.NEAREST,[wS]:t.NEAREST_MIPMAP_NEAREST,[J1]:t.NEAREST_MIPMAP_LINEAR,[as]:t.LINEAR,[QR]:t.LINEAR_MIPMAP_NEAREST,[bd]:t.LINEAR_MIPMAP_LINEAR},k={[m$]:t.NEVER,[x$]:t.ALWAYS,[g$]:t.LESS,[XR]:t.LEQUAL,[v$]:t.EQUAL,[_$]:t.GEQUAL,[y$]:t.GREATER,[w$]:t.NOTEQUAL};function $(z,te,Be){if(Be?(t.texParameteri(z,t.TEXTURE_WRAP_S,ee[te.wrapS]),t.texParameteri(z,t.TEXTURE_WRAP_T,ee[te.wrapT]),(z===t.TEXTURE_3D||z===t.TEXTURE_2D_ARRAY)&&t.texParameteri(z,t.TEXTURE_WRAP_R,ee[te.wrapR]),t.texParameteri(z,t.TEXTURE_MAG_FILTER,re[te.magFilter]),t.texParameteri(z,t.TEXTURE_MIN_FILTER,re[te.minFilter])):(t.texParameteri(z,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(z,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(z===t.TEXTURE_3D||z===t.TEXTURE_2D_ARRAY)&&t.texParameteri(z,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(te.wrapS!==ho||te.wrapT!==ho)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(z,t.TEXTURE_MAG_FILTER,L(te.magFilter)),t.texParameteri(z,t.TEXTURE_MIN_FILTER,L(te.minFilter)),te.minFilter!==is&&te.minFilter!==as&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),te.compareFunction&&(t.texParameteri(z,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(z,t.TEXTURE_COMPARE_FUNC,k[te.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const ke=e.get("EXT_texture_filter_anisotropic");if(te.magFilter===is||te.minFilter!==J1&&te.minFilter!==bd||te.type===du&&e.has("OES_texture_float_linear")===!1||o===!1&&te.type===vv&&e.has("OES_texture_half_float_linear")===!1)return;(te.anisotropy>1||r.get(te).__currentAnisotropy)&&(t.texParameterf(z,ke.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(te.anisotropy,i.getMaxAnisotropy())),r.get(te).__currentAnisotropy=te.anisotropy)}}function j(z,te){let Be=!1;z.__webglInit===void 0&&(z.__webglInit=!0,te.addEventListener("dispose",S));const ke=te.source;let Ke=f.get(ke);Ke===void 0&&(Ke={},f.set(ke,Ke));const je=fe(te);if(je!==z.__cacheKey){Ke[je]===void 0&&(Ke[je]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,Be=!0),Ke[je].usedTimes++;const ft=Ke[z.__cacheKey];ft!==void 0&&(Ke[z.__cacheKey].usedTimes--,ft.usedTimes===0&&F(te)),z.__cacheKey=je,z.__webglTexture=Ke[je].texture}return Be}function G(z,te,Be){let ke=t.TEXTURE_2D;(te.isDataArrayTexture||te.isCompressedArrayTexture)&&(ke=t.TEXTURE_2D_ARRAY),te.isData3DTexture&&(ke=t.TEXTURE_3D);const Ke=j(z,te),je=te.source;n.bindTexture(ke,z.__webglTexture,t.TEXTURE0+Be);const ft=r.get(je);if(je.version!==ft.__version||Ke===!0){n.activeTexture(t.TEXTURE0+Be);const nt=Mr.getPrimaries(Mr.workingColorSpace),ct=te.colorSpace===Ol?null:Mr.getPrimaries(te.colorSpace),Tt=te.colorSpace===Ol||nt===ct?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,te.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,te.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,Tt);const bt=m(te)&&v(te.image)===!1;let Ze=y(te.image,bt,!1,i.maxTextureSize);Ze=be(te,Ze);const ht=v(Ze)||o,Gt=s.convert(te.format,te.colorSpace);let Nt=s.convert(te.type),Qt=B(te.internalFormat,Gt,Nt,te.colorSpace,te.isVideoTexture);$(ke,te,ht);let Ct;const Pe=te.mipmaps,ut=o&&te.isVideoTexture!==!0&&Qt!==KR,_t=ft.__version===void 0||Ke===!0,Ft=R(te,Ze,ht);if(te.isDepthTexture)Qt=t.DEPTH_COMPONENT,o?te.type===du?Qt=t.DEPTH_COMPONENT32F:te.type===lf?Qt=t.DEPTH_COMPONENT24:te.type===id?Qt=t.DEPTH24_STENCIL8:Qt=t.DEPTH_COMPONENT16:te.type===du&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),te.format===sd&&Qt===t.DEPTH_COMPONENT&&te.type!==pB&&te.type!==lf&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),te.type=lf,Nt=s.convert(te.type)),te.format===Im&&Qt===t.DEPTH_COMPONENT&&(Qt=t.DEPTH_STENCIL,te.type!==id&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),te.type=id,Nt=s.convert(te.type))),_t&&(ut?n.texStorage2D(t.TEXTURE_2D,1,Qt,Ze.width,Ze.height):n.texImage2D(t.TEXTURE_2D,0,Qt,Ze.width,Ze.height,0,Gt,Nt,null));else if(te.isDataTexture)if(Pe.length>0&&ht){ut&&_t&&n.texStorage2D(t.TEXTURE_2D,Ft,Qt,Pe[0].width,Pe[0].height);for(let lt=0,Le=Pe.length;lt<Le;lt++)Ct=Pe[lt],ut?n.texSubImage2D(t.TEXTURE_2D,lt,0,0,Ct.width,Ct.height,Gt,Nt,Ct.data):n.texImage2D(t.TEXTURE_2D,lt,Qt,Ct.width,Ct.height,0,Gt,Nt,Ct.data);te.generateMipmaps=!1}else ut?(_t&&n.texStorage2D(t.TEXTURE_2D,Ft,Qt,Ze.width,Ze.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ze.width,Ze.height,Gt,Nt,Ze.data)):n.texImage2D(t.TEXTURE_2D,0,Qt,Ze.width,Ze.height,0,Gt,Nt,Ze.data);else if(te.isCompressedTexture)if(te.isCompressedArrayTexture){ut&&_t&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ft,Qt,Pe[0].width,Pe[0].height,Ze.depth);for(let lt=0,Le=Pe.length;lt<Le;lt++)Ct=Pe[lt],te.format!==Do?Gt!==null?ut?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,lt,0,0,0,Ct.width,Ct.height,Ze.depth,Gt,Ct.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,lt,Qt,Ct.width,Ct.height,Ze.depth,0,Ct.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ut?n.texSubImage3D(t.TEXTURE_2D_ARRAY,lt,0,0,0,Ct.width,Ct.height,Ze.depth,Gt,Nt,Ct.data):n.texImage3D(t.TEXTURE_2D_ARRAY,lt,Qt,Ct.width,Ct.height,Ze.depth,0,Gt,Nt,Ct.data)}else{ut&&_t&&n.texStorage2D(t.TEXTURE_2D,Ft,Qt,Pe[0].width,Pe[0].height);for(let lt=0,Le=Pe.length;lt<Le;lt++)Ct=Pe[lt],te.format!==Do?Gt!==null?ut?n.compressedTexSubImage2D(t.TEXTURE_2D,lt,0,0,Ct.width,Ct.height,Gt,Ct.data):n.compressedTexImage2D(t.TEXTURE_2D,lt,Qt,Ct.width,Ct.height,0,Ct.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ut?n.texSubImage2D(t.TEXTURE_2D,lt,0,0,Ct.width,Ct.height,Gt,Nt,Ct.data):n.texImage2D(t.TEXTURE_2D,lt,Qt,Ct.width,Ct.height,0,Gt,Nt,Ct.data)}else if(te.isDataArrayTexture)ut?(_t&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ft,Qt,Ze.width,Ze.height,Ze.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ze.width,Ze.height,Ze.depth,Gt,Nt,Ze.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Qt,Ze.width,Ze.height,Ze.depth,0,Gt,Nt,Ze.data);else if(te.isData3DTexture)ut?(_t&&n.texStorage3D(t.TEXTURE_3D,Ft,Qt,Ze.width,Ze.height,Ze.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ze.width,Ze.height,Ze.depth,Gt,Nt,Ze.data)):n.texImage3D(t.TEXTURE_3D,0,Qt,Ze.width,Ze.height,Ze.depth,0,Gt,Nt,Ze.data);else if(te.isFramebufferTexture){if(_t)if(ut)n.texStorage2D(t.TEXTURE_2D,Ft,Qt,Ze.width,Ze.height);else{let lt=Ze.width,Le=Ze.height;for(let Bt=0;Bt<Ft;Bt++)n.texImage2D(t.TEXTURE_2D,Bt,Qt,lt,Le,0,Gt,Nt,null),lt>>=1,Le>>=1}}else if(Pe.length>0&&ht){ut&&_t&&n.texStorage2D(t.TEXTURE_2D,Ft,Qt,Pe[0].width,Pe[0].height);for(let lt=0,Le=Pe.length;lt<Le;lt++)Ct=Pe[lt],ut?n.texSubImage2D(t.TEXTURE_2D,lt,0,0,Gt,Nt,Ct):n.texImage2D(t.TEXTURE_2D,lt,Qt,Gt,Nt,Ct);te.generateMipmaps=!1}else ut?(_t&&n.texStorage2D(t.TEXTURE_2D,Ft,Qt,Ze.width,Ze.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Gt,Nt,Ze)):n.texImage2D(t.TEXTURE_2D,0,Qt,Gt,Nt,Ze);w(te,ht)&&_(ke),ft.__version=je.version,te.onUpdate&&te.onUpdate(te)}z.__version=te.version}function q(z,te,Be){if(te.image.length!==6)return;const ke=j(z,te),Ke=te.source;n.bindTexture(t.TEXTURE_CUBE_MAP,z.__webglTexture,t.TEXTURE0+Be);const je=r.get(Ke);if(Ke.version!==je.__version||ke===!0){n.activeTexture(t.TEXTURE0+Be);const ft=Mr.getPrimaries(Mr.workingColorSpace),nt=te.colorSpace===Ol?null:Mr.getPrimaries(te.colorSpace),ct=te.colorSpace===Ol||ft===nt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,te.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,te.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,te.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,ct);const Tt=te.isCompressedTexture||te.image[0].isCompressedTexture,bt=te.image[0]&&te.image[0].isDataTexture,Ze=[];for(let lt=0;lt<6;lt++)!Tt&&!bt?Ze[lt]=y(te.image[lt],!1,!0,i.maxCubemapSize):Ze[lt]=bt?te.image[lt].image:te.image[lt],Ze[lt]=be(te,Ze[lt]);const ht=Ze[0],Gt=v(ht)||o,Nt=s.convert(te.format,te.colorSpace),Qt=s.convert(te.type),Ct=B(te.internalFormat,Nt,Qt,te.colorSpace),Pe=o&&te.isVideoTexture!==!0,ut=je.__version===void 0||ke===!0;let _t=R(te,ht,Gt);$(t.TEXTURE_CUBE_MAP,te,Gt);let Ft;if(Tt){Pe&&ut&&n.texStorage2D(t.TEXTURE_CUBE_MAP,_t,Ct,ht.width,ht.height);for(let lt=0;lt<6;lt++){Ft=Ze[lt].mipmaps;for(let Le=0;Le<Ft.length;Le++){const Bt=Ft[Le];te.format!==Do?Nt!==null?Pe?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Le,0,0,Bt.width,Bt.height,Nt,Bt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Le,Ct,Bt.width,Bt.height,0,Bt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Pe?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Le,0,0,Bt.width,Bt.height,Nt,Qt,Bt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Le,Ct,Bt.width,Bt.height,0,Nt,Qt,Bt.data)}}}else{Ft=te.mipmaps,Pe&&ut&&(Ft.length>0&&_t++,n.texStorage2D(t.TEXTURE_CUBE_MAP,_t,Ct,Ze[0].width,Ze[0].height));for(let lt=0;lt<6;lt++)if(bt){Pe?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,0,0,Ze[lt].width,Ze[lt].height,Nt,Qt,Ze[lt].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,Ct,Ze[lt].width,Ze[lt].height,0,Nt,Qt,Ze[lt].data);for(let Le=0;Le<Ft.length;Le++){const Et=Ft[Le].image[lt].image;Pe?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Le+1,0,0,Et.width,Et.height,Nt,Qt,Et.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Le+1,Ct,Et.width,Et.height,0,Nt,Qt,Et.data)}}else{Pe?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,0,0,Nt,Qt,Ze[lt]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,0,Ct,Nt,Qt,Ze[lt]);for(let Le=0;Le<Ft.length;Le++){const Bt=Ft[Le];Pe?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Le+1,0,0,Nt,Qt,Bt.image[lt]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+lt,Le+1,Ct,Nt,Qt,Bt.image[lt])}}}w(te,Gt)&&_(t.TEXTURE_CUBE_MAP),je.__version=Ke.version,te.onUpdate&&te.onUpdate(te)}z.__version=te.version}function W(z,te,Be,ke,Ke,je){const ft=s.convert(Be.format,Be.colorSpace),nt=s.convert(Be.type),ct=B(Be.internalFormat,ft,nt,Be.colorSpace);if(!r.get(te).__hasExternalTextures){const bt=Math.max(1,te.width>>je),Ze=Math.max(1,te.height>>je);Ke===t.TEXTURE_3D||Ke===t.TEXTURE_2D_ARRAY?n.texImage3D(Ke,je,ct,bt,Ze,te.depth,0,ft,nt,null):n.texImage2D(Ke,je,ct,bt,Ze,0,ft,nt,null)}n.bindFramebuffer(t.FRAMEBUFFER,z),se(te)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,ke,Ke,r.get(Be).__webglTexture,0,_e(te)):(Ke===t.TEXTURE_2D||Ke>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Ke<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,ke,Ke,r.get(Be).__webglTexture,je),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ge(z,te,Be){if(t.bindRenderbuffer(t.RENDERBUFFER,z),te.depthBuffer&&!te.stencilBuffer){let ke=o===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(Be||se(te)){const Ke=te.depthTexture;Ke&&Ke.isDepthTexture&&(Ke.type===du?ke=t.DEPTH_COMPONENT32F:Ke.type===lf&&(ke=t.DEPTH_COMPONENT24));const je=_e(te);se(te)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,je,ke,te.width,te.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,je,ke,te.width,te.height)}else t.renderbufferStorage(t.RENDERBUFFER,ke,te.width,te.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,z)}else if(te.depthBuffer&&te.stencilBuffer){const ke=_e(te);Be&&se(te)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,ke,t.DEPTH24_STENCIL8,te.width,te.height):se(te)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,ke,t.DEPTH24_STENCIL8,te.width,te.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,te.width,te.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,z)}else{const ke=te.isWebGLMultipleRenderTargets===!0?te.texture:[te.texture];for(let Ke=0;Ke<ke.length;Ke++){const je=ke[Ke],ft=s.convert(je.format,je.colorSpace),nt=s.convert(je.type),ct=B(je.internalFormat,ft,nt,je.colorSpace),Tt=_e(te);Be&&se(te)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Tt,ct,te.width,te.height):se(te)?l.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Tt,ct,te.width,te.height):t.renderbufferStorage(t.RENDERBUFFER,ct,te.width,te.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function he(z,te){if(te&&te.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,z),!(te.depthTexture&&te.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(te.depthTexture).__webglTexture||te.depthTexture.image.width!==te.width||te.depthTexture.image.height!==te.height)&&(te.depthTexture.image.width=te.width,te.depthTexture.image.height=te.height,te.depthTexture.needsUpdate=!0),ue(te.depthTexture,0);const ke=r.get(te.depthTexture).__webglTexture,Ke=_e(te);if(te.depthTexture.format===sd)se(te)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ke,0,Ke):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,ke,0);else if(te.depthTexture.format===Im)se(te)?l.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ke,0,Ke):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,ke,0);else throw new Error("Unknown depthTexture format")}function ve(z){const te=r.get(z),Be=z.isWebGLCubeRenderTarget===!0;if(z.depthTexture&&!te.__autoAllocateDepthBuffer){if(Be)throw new Error("target.depthTexture not supported in Cube render targets");he(te.__webglFramebuffer,z)}else if(Be){te.__webglDepthbuffer=[];for(let ke=0;ke<6;ke++)n.bindFramebuffer(t.FRAMEBUFFER,te.__webglFramebuffer[ke]),te.__webglDepthbuffer[ke]=t.createRenderbuffer(),ge(te.__webglDepthbuffer[ke],z,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,te.__webglFramebuffer),te.__webglDepthbuffer=t.createRenderbuffer(),ge(te.__webglDepthbuffer,z,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function Ee(z,te,Be){const ke=r.get(z);te!==void 0&&W(ke.__webglFramebuffer,z,z.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),Be!==void 0&&ve(z)}function ie(z){const te=z.texture,Be=r.get(z),ke=r.get(te);z.addEventListener("dispose",M),z.isWebGLMultipleRenderTargets!==!0&&(ke.__webglTexture===void 0&&(ke.__webglTexture=t.createTexture()),ke.__version=te.version,a.memory.textures++);const Ke=z.isWebGLCubeRenderTarget===!0,je=z.isWebGLMultipleRenderTargets===!0,ft=v(z)||o;if(Ke){Be.__webglFramebuffer=[];for(let nt=0;nt<6;nt++)if(o&&te.mipmaps&&te.mipmaps.length>0){Be.__webglFramebuffer[nt]=[];for(let ct=0;ct<te.mipmaps.length;ct++)Be.__webglFramebuffer[nt][ct]=t.createFramebuffer()}else Be.__webglFramebuffer[nt]=t.createFramebuffer()}else{if(o&&te.mipmaps&&te.mipmaps.length>0){Be.__webglFramebuffer=[];for(let nt=0;nt<te.mipmaps.length;nt++)Be.__webglFramebuffer[nt]=t.createFramebuffer()}else Be.__webglFramebuffer=t.createFramebuffer();if(je)if(i.drawBuffers){const nt=z.texture;for(let ct=0,Tt=nt.length;ct<Tt;ct++){const bt=r.get(nt[ct]);bt.__webglTexture===void 0&&(bt.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&z.samples>0&&se(z)===!1){const nt=je?te:[te];Be.__webglMultisampledFramebuffer=t.createFramebuffer(),Be.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,Be.__webglMultisampledFramebuffer);for(let ct=0;ct<nt.length;ct++){const Tt=nt[ct];Be.__webglColorRenderbuffer[ct]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,Be.__webglColorRenderbuffer[ct]);const bt=s.convert(Tt.format,Tt.colorSpace),Ze=s.convert(Tt.type),ht=B(Tt.internalFormat,bt,Ze,Tt.colorSpace,z.isXRRenderTarget===!0),Gt=_e(z);t.renderbufferStorageMultisample(t.RENDERBUFFER,Gt,ht,z.width,z.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+ct,t.RENDERBUFFER,Be.__webglColorRenderbuffer[ct])}t.bindRenderbuffer(t.RENDERBUFFER,null),z.depthBuffer&&(Be.__webglDepthRenderbuffer=t.createRenderbuffer(),ge(Be.__webglDepthRenderbuffer,z,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Ke){n.bindTexture(t.TEXTURE_CUBE_MAP,ke.__webglTexture),$(t.TEXTURE_CUBE_MAP,te,ft);for(let nt=0;nt<6;nt++)if(o&&te.mipmaps&&te.mipmaps.length>0)for(let ct=0;ct<te.mipmaps.length;ct++)W(Be.__webglFramebuffer[nt][ct],z,te,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+nt,ct);else W(Be.__webglFramebuffer[nt],z,te,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+nt,0);w(te,ft)&&_(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(je){const nt=z.texture;for(let ct=0,Tt=nt.length;ct<Tt;ct++){const bt=nt[ct],Ze=r.get(bt);n.bindTexture(t.TEXTURE_2D,Ze.__webglTexture),$(t.TEXTURE_2D,bt,ft),W(Be.__webglFramebuffer,z,bt,t.COLOR_ATTACHMENT0+ct,t.TEXTURE_2D,0),w(bt,ft)&&_(t.TEXTURE_2D)}n.unbindTexture()}else{let nt=t.TEXTURE_2D;if((z.isWebGL3DRenderTarget||z.isWebGLArrayRenderTarget)&&(o?nt=z.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(nt,ke.__webglTexture),$(nt,te,ft),o&&te.mipmaps&&te.mipmaps.length>0)for(let ct=0;ct<te.mipmaps.length;ct++)W(Be.__webglFramebuffer[ct],z,te,t.COLOR_ATTACHMENT0,nt,ct);else W(Be.__webglFramebuffer,z,te,t.COLOR_ATTACHMENT0,nt,0);w(te,ft)&&_(nt),n.unbindTexture()}z.depthBuffer&&ve(z)}function Te(z){const te=v(z)||o,Be=z.isWebGLMultipleRenderTargets===!0?z.texture:[z.texture];for(let ke=0,Ke=Be.length;ke<Ke;ke++){const je=Be[ke];if(w(je,te)){const ft=z.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,nt=r.get(je).__webglTexture;n.bindTexture(ft,nt),_(ft),n.unbindTexture()}}}function ye(z){if(o&&z.samples>0&&se(z)===!1){const te=z.isWebGLMultipleRenderTargets?z.texture:[z.texture],Be=z.width,ke=z.height;let Ke=t.COLOR_BUFFER_BIT;const je=[],ft=z.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,nt=r.get(z),ct=z.isWebGLMultipleRenderTargets===!0;if(ct)for(let Tt=0;Tt<te.length;Tt++)n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Tt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Tt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,nt.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,nt.__webglFramebuffer);for(let Tt=0;Tt<te.length;Tt++){je.push(t.COLOR_ATTACHMENT0+Tt),z.depthBuffer&&je.push(ft);const bt=nt.__ignoreDepthValues!==void 0?nt.__ignoreDepthValues:!1;if(bt===!1&&(z.depthBuffer&&(Ke|=t.DEPTH_BUFFER_BIT),z.stencilBuffer&&(Ke|=t.STENCIL_BUFFER_BIT)),ct&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,nt.__webglColorRenderbuffer[Tt]),bt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[ft]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[ft])),ct){const Ze=r.get(te[Tt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ze,0)}t.blitFramebuffer(0,0,Be,ke,0,0,Be,ke,Ke,t.NEAREST),c&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,je)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),ct)for(let Tt=0;Tt<te.length;Tt++){n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Tt,t.RENDERBUFFER,nt.__webglColorRenderbuffer[Tt]);const bt=r.get(te[Tt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,nt.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Tt,t.TEXTURE_2D,bt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,nt.__webglMultisampledFramebuffer)}}function _e(z){return Math.min(i.maxSamples,z.samples)}function se(z){const te=r.get(z);return o&&z.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&te.__useRenderToTexture!==!1}function ze(z){const te=a.render.frame;u.get(z)!==te&&(u.set(z,te),z.update())}function be(z,te){const Be=z.colorSpace,ke=z.format,Ke=z.type;return z.isCompressedTexture===!0||z.isVideoTexture===!0||z.format===_S||Be!==gA&&Be!==Ol&&(Mr.getTransfer(Be)===Jr?o===!1?e.has("EXT_sRGB")===!0&&ke===Do?(z.format=_S,z.minFilter=as,z.generateMipmaps=!1):te=JR.sRGBToLinear(te):(ke!==Do||Ke!==sA)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",Be)),te}this.allocateTextureUnit=X,this.resetTextureUnits=H,this.setTexture2D=ue,this.setTexture2DArray=me,this.setTexture3D=J,this.setTextureCube=le,this.rebindTextures=Ee,this.setupRenderTarget=ie,this.updateRenderTargetMipmap=Te,this.updateMultisampleRenderTarget=ye,this.setupDepthRenderbuffer=ve,this.setupFrameBufferTexture=W,this.useMultisampledRTT=se}function D$(t,e,n){const r=n.isWebGL2;function i(s,a=Ol){let o;const l=Mr.getTransfer(a);if(s===sA)return t.UNSIGNED_BYTE;if(s===VR)return t.UNSIGNED_SHORT_4_4_4_4;if(s===zR)return t.UNSIGNED_SHORT_5_5_5_1;if(s===n$)return t.BYTE;if(s===r$)return t.SHORT;if(s===pB)return t.UNSIGNED_SHORT;if(s===HR)return t.INT;if(s===lf)return t.UNSIGNED_INT;if(s===du)return t.FLOAT;if(s===vv)return r?t.HALF_FLOAT:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===i$)return t.ALPHA;if(s===Do)return t.RGBA;if(s===s$)return t.LUMINANCE;if(s===a$)return t.LUMINANCE_ALPHA;if(s===sd)return t.DEPTH_COMPONENT;if(s===Im)return t.DEPTH_STENCIL;if(s===_S)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(s===o$)return t.RED;if(s===jR)return t.RED_INTEGER;if(s===l$)return t.RG;if(s===GR)return t.RG_INTEGER;if(s===WR)return t.RGBA_INTEGER;if(s===A2||s===f2||s===h2||s===d2)if(l===Jr)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(s===A2)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===f2)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===h2)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===d2)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===A2)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===f2)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===h2)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===d2)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===R3||s===U3||s===D3||s===O3)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===R3)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===U3)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===D3)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===O3)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===KR)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===k3||s===Q3)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(s===k3)return l===Jr?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(s===Q3)return l===Jr?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===H3||s===V3||s===z3||s===j3||s===G3||s===W3||s===K3||s===q3||s===$3||s===X3||s===Y3||s===J3||s===Z3||s===eN)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(s===H3)return l===Jr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===V3)return l===Jr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===z3)return l===Jr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===j3)return l===Jr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===G3)return l===Jr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===W3)return l===Jr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===K3)return l===Jr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===q3)return l===Jr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===$3)return l===Jr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===X3)return l===Jr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===Y3)return l===Jr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===J3)return l===Jr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===Z3)return l===Jr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===eN)return l===Jr?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===p2||s===tN||s===nN)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(s===p2)return l===Jr?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===tN)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===nN)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===c$||s===rN||s===iN||s===sN)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(s===p2)return o.COMPRESSED_RED_RGTC1_EXT;if(s===rN)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===iN)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===sN)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===id?r?t.UNSIGNED_INT_24_8:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class O$ extends os{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class k0 extends pr{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Cve={type:"move"};class HI{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new k0,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new k0,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ce,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ce),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new k0,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ce,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ce),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const y of e.hand.values()){const v=n.getJointPose(y,r),m=this._getHandJoint(c,y);v!==null&&(m.matrix.fromArray(v.transform.matrix),m.matrix.decompose(m.position,m.rotation,m.scale),m.matrixWorldNeedsUpdate=!0,m.jointRadius=v.radius),m.visible=v!==null}const u=c.joints["index-finger-tip"],A=c.joints["thumb-tip"],f=u.position.distanceTo(A.position),h=.02,p=.005;c.inputState.pinching&&f>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Cve)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new k0;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class Bve extends Qf{constructor(e,n){super();const r=this;let i=null,s=1,a=null,o="local-floor",l=1,c=null,u=null,A=null,f=null,h=null,p=null;const y=n.getContextAttributes();let v=null,m=null;const w=[],_=[],B=new tt;let R=null;const L=new os;L.layers.enable(1),L.viewport=new Pr;const S=new os;S.layers.enable(2),S.viewport=new Pr;const M=[L,S],T=new O$;T.layers.enable(1),T.layers.enable(2);let F=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function($){let j=w[$];return j===void 0&&(j=new HI,w[$]=j),j.getTargetRaySpace()},this.getControllerGrip=function($){let j=w[$];return j===void 0&&(j=new HI,w[$]=j),j.getGripSpace()},this.getHand=function($){let j=w[$];return j===void 0&&(j=new HI,w[$]=j),j.getHandSpace()};function D($){const j=_.indexOf($.inputSource);if(j===-1)return;const G=w[j];G!==void 0&&(G.update($.inputSource,$.frame,c||a),G.dispatchEvent({type:$.type,data:$.inputSource}))}function H(){i.removeEventListener("select",D),i.removeEventListener("selectstart",D),i.removeEventListener("selectend",D),i.removeEventListener("squeeze",D),i.removeEventListener("squeezestart",D),i.removeEventListener("squeezeend",D),i.removeEventListener("end",H),i.removeEventListener("inputsourceschange",X);for(let $=0;$<w.length;$++){const j=_[$];j!==null&&(_[$]=null,w[$].disconnect(j))}F=null,P=null,e.setRenderTarget(v),h=null,f=null,A=null,i=null,m=null,k.stop(),r.isPresenting=!1,e.setPixelRatio(R),e.setSize(B.width,B.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function($){s=$,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function($){o=$,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function($){c=$},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return A},this.getFrame=function(){return p},this.getSession=function(){return i},this.setSession=async function($){if(i=$,i!==null){if(v=e.getRenderTarget(),i.addEventListener("select",D),i.addEventListener("selectstart",D),i.addEventListener("selectend",D),i.addEventListener("squeeze",D),i.addEventListener("squeezestart",D),i.addEventListener("squeezeend",D),i.addEventListener("end",H),i.addEventListener("inputsourceschange",X),y.xrCompatible!==!0&&await n.makeXRCompatible(),R=e.getPixelRatio(),e.getSize(B),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const j={antialias:i.renderState.layers===void 0?y.antialias:!0,alpha:!0,depth:y.depth,stencil:y.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(i,n,j),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),m=new bu(h.framebufferWidth,h.framebufferHeight,{format:Do,type:sA,colorSpace:e.outputColorSpace,stencilBuffer:y.stencil})}else{let j=null,G=null,q=null;y.depth&&(q=y.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,j=y.stencil?Im:sd,G=y.stencil?id:lf);const W={colorFormat:n.RGBA8,depthFormat:q,scaleFactor:s};A=new XRWebGLBinding(i,n),f=A.createProjectionLayer(W),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),m=new bu(f.textureWidth,f.textureHeight,{format:Do,type:sA,depthTexture:new r4(f.textureWidth,f.textureHeight,G,void 0,void 0,void 0,void 0,void 0,void 0,j),stencilBuffer:y.stencil,colorSpace:e.outputColorSpace,samples:y.antialias?4:0});const ge=e.properties.get(m);ge.__ignoreDepthValues=f.ignoreDepthValues}m.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(o),k.setContext(i),k.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function X($){for(let j=0;j<$.removed.length;j++){const G=$.removed[j],q=_.indexOf(G);q>=0&&(_[q]=null,w[q].disconnect(G))}for(let j=0;j<$.added.length;j++){const G=$.added[j];let q=_.indexOf(G);if(q===-1){for(let ge=0;ge<w.length;ge++)if(ge>=_.length){_.push(G),q=ge;break}else if(_[ge]===null){_[ge]=G,q=ge;break}if(q===-1)break}const W=w[q];W&&W.connect(G)}}const fe=new Ce,ue=new Ce;function me($,j,G){fe.setFromMatrixPosition(j.matrixWorld),ue.setFromMatrixPosition(G.matrixWorld);const q=fe.distanceTo(ue),W=j.projectionMatrix.elements,ge=G.projectionMatrix.elements,he=W[14]/(W[10]-1),ve=W[14]/(W[10]+1),Ee=(W[9]+1)/W[5],ie=(W[9]-1)/W[5],Te=(W[8]-1)/W[0],ye=(ge[8]+1)/ge[0],_e=he*Te,se=he*ye,ze=q/(-Te+ye),be=ze*-Te;j.matrixWorld.decompose($.position,$.quaternion,$.scale),$.translateX(be),$.translateZ(ze),$.matrixWorld.compose($.position,$.quaternion,$.scale),$.matrixWorldInverse.copy($.matrixWorld).invert();const z=he+ze,te=ve+ze,Be=_e-be,ke=se+(q-be),Ke=Ee*ve/te*z,je=ie*ve/te*z;$.projectionMatrix.makePerspective(Be,ke,Ke,je,z,te),$.projectionMatrixInverse.copy($.projectionMatrix).invert()}function J($,j){j===null?$.matrixWorld.copy($.matrix):$.matrixWorld.multiplyMatrices(j.matrixWorld,$.matrix),$.matrixWorldInverse.copy($.matrixWorld).invert()}this.updateCamera=function($){if(i===null)return;T.near=S.near=L.near=$.near,T.far=S.far=L.far=$.far,(F!==T.near||P!==T.far)&&(i.updateRenderState({depthNear:T.near,depthFar:T.far}),F=T.near,P=T.far);const j=$.parent,G=T.cameras;J(T,j);for(let q=0;q<G.length;q++)J(G[q],j);G.length===2?me(T,L,S):T.projectionMatrix.copy(L.projectionMatrix),le($,T,j)};function le($,j,G){G===null?$.matrix.copy(j.matrixWorld):($.matrix.copy(G.matrixWorld),$.matrix.invert(),$.matrix.multiply(j.matrixWorld)),$.matrix.decompose($.position,$.quaternion,$.scale),$.updateMatrixWorld(!0),$.projectionMatrix.copy(j.projectionMatrix),$.projectionMatrixInverse.copy(j.projectionMatrixInverse),$.isPerspectiveCamera&&($.fov=wv*2*Math.atan(1/$.projectionMatrix.elements[5]),$.zoom=1)}this.getCamera=function(){return T},this.getFoveation=function(){if(!(f===null&&h===null))return l},this.setFoveation=function($){l=$,f!==null&&(f.fixedFoveation=$),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=$)};let ee=null;function re($,j){if(u=j.getViewerPose(c||a),p=j,u!==null){const G=u.views;h!==null&&(e.setRenderTargetFramebuffer(m,h.framebuffer),e.setRenderTarget(m));let q=!1;G.length!==T.cameras.length&&(T.cameras.length=0,q=!0);for(let W=0;W<G.length;W++){const ge=G[W];let he=null;if(h!==null)he=h.getViewport(ge);else{const Ee=A.getViewSubImage(f,ge);he=Ee.viewport,W===0&&(e.setRenderTargetTextures(m,Ee.colorTexture,f.ignoreDepthValues?void 0:Ee.depthStencilTexture),e.setRenderTarget(m))}let ve=M[W];ve===void 0&&(ve=new os,ve.layers.enable(W),ve.viewport=new Pr,M[W]=ve),ve.matrix.fromArray(ge.transform.matrix),ve.matrix.decompose(ve.position,ve.quaternion,ve.scale),ve.projectionMatrix.fromArray(ge.projectionMatrix),ve.projectionMatrixInverse.copy(ve.projectionMatrix).invert(),ve.viewport.set(he.x,he.y,he.width,he.height),W===0&&(T.matrix.copy(ve.matrix),T.matrix.decompose(T.position,T.quaternion,T.scale)),q===!0&&T.cameras.push(ve)}}for(let G=0;G<w.length;G++){const q=_[G],W=w[G];q!==null&&W!==void 0&&W.update(q,j,c||a)}ee&&ee($,j),j.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:j}),p=null}const k=new P$;k.setAnimationLoop(re),this.setAnimationLoop=function($){ee=$},this.dispose=function(){}}}function Tve(t,e){function n(v,m){v.matrixAutoUpdate===!0&&v.updateMatrix(),m.value.copy(v.matrix)}function r(v,m){m.color.getRGB(v.fogColor.value,B$(t)),m.isFog?(v.fogNear.value=m.near,v.fogFar.value=m.far):m.isFogExp2&&(v.fogDensity.value=m.density)}function i(v,m,w,_,B){m.isMeshBasicMaterial||m.isMeshLambertMaterial?s(v,m):m.isMeshToonMaterial?(s(v,m),A(v,m)):m.isMeshPhongMaterial?(s(v,m),u(v,m)):m.isMeshStandardMaterial?(s(v,m),f(v,m),m.isMeshPhysicalMaterial&&h(v,m,B)):m.isMeshMatcapMaterial?(s(v,m),p(v,m)):m.isMeshDepthMaterial?s(v,m):m.isMeshDistanceMaterial?(s(v,m),y(v,m)):m.isMeshNormalMaterial?s(v,m):m.isLineBasicMaterial?(a(v,m),m.isLineDashedMaterial&&o(v,m)):m.isPointsMaterial?l(v,m,w,_):m.isSpriteMaterial?c(v,m):m.isShadowMaterial?(v.color.value.copy(m.color),v.opacity.value=m.opacity):m.isShaderMaterial&&(m.uniformsNeedUpdate=!1)}function s(v,m){v.opacity.value=m.opacity,m.color&&v.diffuse.value.copy(m.color),m.emissive&&v.emissive.value.copy(m.emissive).multiplyScalar(m.emissiveIntensity),m.map&&(v.map.value=m.map,n(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.bumpMap&&(v.bumpMap.value=m.bumpMap,n(m.bumpMap,v.bumpMapTransform),v.bumpScale.value=m.bumpScale,m.side===Qo&&(v.bumpScale.value*=-1)),m.normalMap&&(v.normalMap.value=m.normalMap,n(m.normalMap,v.normalMapTransform),v.normalScale.value.copy(m.normalScale),m.side===Qo&&v.normalScale.value.negate()),m.displacementMap&&(v.displacementMap.value=m.displacementMap,n(m.displacementMap,v.displacementMapTransform),v.displacementScale.value=m.displacementScale,v.displacementBias.value=m.displacementBias),m.emissiveMap&&(v.emissiveMap.value=m.emissiveMap,n(m.emissiveMap,v.emissiveMapTransform)),m.specularMap&&(v.specularMap.value=m.specularMap,n(m.specularMap,v.specularMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest);const w=e.get(m).envMap;if(w&&(v.envMap.value=w,v.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=m.reflectivity,v.ior.value=m.ior,v.refractionRatio.value=m.refractionRatio),m.lightMap){v.lightMap.value=m.lightMap;const _=t._useLegacyLights===!0?Math.PI:1;v.lightMapIntensity.value=m.lightMapIntensity*_,n(m.lightMap,v.lightMapTransform)}m.aoMap&&(v.aoMap.value=m.aoMap,v.aoMapIntensity.value=m.aoMapIntensity,n(m.aoMap,v.aoMapTransform))}function a(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,m.map&&(v.map.value=m.map,n(m.map,v.mapTransform))}function o(v,m){v.dashSize.value=m.dashSize,v.totalSize.value=m.dashSize+m.gapSize,v.scale.value=m.scale}function l(v,m,w,_){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.size.value=m.size*w,v.scale.value=_*.5,m.map&&(v.map.value=m.map,n(m.map,v.uvTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function c(v,m){v.diffuse.value.copy(m.color),v.opacity.value=m.opacity,v.rotation.value=m.rotation,m.map&&(v.map.value=m.map,n(m.map,v.mapTransform)),m.alphaMap&&(v.alphaMap.value=m.alphaMap,n(m.alphaMap,v.alphaMapTransform)),m.alphaTest>0&&(v.alphaTest.value=m.alphaTest)}function u(v,m){v.specular.value.copy(m.specular),v.shininess.value=Math.max(m.shininess,1e-4)}function A(v,m){m.gradientMap&&(v.gradientMap.value=m.gradientMap)}function f(v,m){v.metalness.value=m.metalness,m.metalnessMap&&(v.metalnessMap.value=m.metalnessMap,n(m.metalnessMap,v.metalnessMapTransform)),v.roughness.value=m.roughness,m.roughnessMap&&(v.roughnessMap.value=m.roughnessMap,n(m.roughnessMap,v.roughnessMapTransform)),e.get(m).envMap&&(v.envMapIntensity.value=m.envMapIntensity)}function h(v,m,w){v.ior.value=m.ior,m.sheen>0&&(v.sheenColor.value.copy(m.sheenColor).multiplyScalar(m.sheen),v.sheenRoughness.value=m.sheenRoughness,m.sheenColorMap&&(v.sheenColorMap.value=m.sheenColorMap,n(m.sheenColorMap,v.sheenColorMapTransform)),m.sheenRoughnessMap&&(v.sheenRoughnessMap.value=m.sheenRoughnessMap,n(m.sheenRoughnessMap,v.sheenRoughnessMapTransform))),m.clearcoat>0&&(v.clearcoat.value=m.clearcoat,v.clearcoatRoughness.value=m.clearcoatRoughness,m.clearcoatMap&&(v.clearcoatMap.value=m.clearcoatMap,n(m.clearcoatMap,v.clearcoatMapTransform)),m.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=m.clearcoatRoughnessMap,n(m.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),m.clearcoatNormalMap&&(v.clearcoatNormalMap.value=m.clearcoatNormalMap,n(m.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(m.clearcoatNormalScale),m.side===Qo&&v.clearcoatNormalScale.value.negate())),m.iridescence>0&&(v.iridescence.value=m.iridescence,v.iridescenceIOR.value=m.iridescenceIOR,v.iridescenceThicknessMinimum.value=m.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=m.iridescenceThicknessRange[1],m.iridescenceMap&&(v.iridescenceMap.value=m.iridescenceMap,n(m.iridescenceMap,v.iridescenceMapTransform)),m.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=m.iridescenceThicknessMap,n(m.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),m.transmission>0&&(v.transmission.value=m.transmission,v.transmissionSamplerMap.value=w.texture,v.transmissionSamplerSize.value.set(w.width,w.height),m.transmissionMap&&(v.transmissionMap.value=m.transmissionMap,n(m.transmissionMap,v.transmissionMapTransform)),v.thickness.value=m.thickness,m.thicknessMap&&(v.thicknessMap.value=m.thicknessMap,n(m.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=m.attenuationDistance,v.attenuationColor.value.copy(m.attenuationColor)),m.anisotropy>0&&(v.anisotropyVector.value.set(m.anisotropy*Math.cos(m.anisotropyRotation),m.anisotropy*Math.sin(m.anisotropyRotation)),m.anisotropyMap&&(v.anisotropyMap.value=m.anisotropyMap,n(m.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=m.specularIntensity,v.specularColor.value.copy(m.specularColor),m.specularColorMap&&(v.specularColorMap.value=m.specularColorMap,n(m.specularColorMap,v.specularColorMapTransform)),m.specularIntensityMap&&(v.specularIntensityMap.value=m.specularIntensityMap,n(m.specularIntensityMap,v.specularIntensityMapTransform))}function p(v,m){m.matcap&&(v.matcap.value=m.matcap)}function y(v,m){const w=e.get(m).light;v.referencePosition.value.setFromMatrixPosition(w.matrixWorld),v.nearDistance.value=w.shadow.camera.near,v.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Mve(t,e,n,r){let i={},s={},a=[];const o=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(w,_){const B=_.program;r.uniformBlockBinding(w,B)}function c(w,_){let B=i[w.id];B===void 0&&(p(w),B=u(w),i[w.id]=B,w.addEventListener("dispose",v));const R=_.program;r.updateUBOMapping(w,R);const L=e.render.frame;s[w.id]!==L&&(f(w),s[w.id]=L)}function u(w){const _=A();w.__bindingPointIndex=_;const B=t.createBuffer(),R=w.__size,L=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,B),t.bufferData(t.UNIFORM_BUFFER,R,L),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,B),B}function A(){for(let w=0;w<o;w++)if(a.indexOf(w)===-1)return a.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(w){const _=i[w.id],B=w.uniforms,R=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let L=0,S=B.length;L<S;L++){const M=Array.isArray(B[L])?B[L]:[B[L]];for(let T=0,F=M.length;T<F;T++){const P=M[T];if(h(P,L,T,R)===!0){const D=P.__offset,H=Array.isArray(P.value)?P.value:[P.value];let X=0;for(let fe=0;fe<H.length;fe++){const ue=H[fe],me=y(ue);typeof ue=="number"||typeof ue=="boolean"?(P.__data[0]=ue,t.bufferSubData(t.UNIFORM_BUFFER,D+X,P.__data)):ue.isMatrix3?(P.__data[0]=ue.elements[0],P.__data[1]=ue.elements[1],P.__data[2]=ue.elements[2],P.__data[3]=0,P.__data[4]=ue.elements[3],P.__data[5]=ue.elements[4],P.__data[6]=ue.elements[5],P.__data[7]=0,P.__data[8]=ue.elements[6],P.__data[9]=ue.elements[7],P.__data[10]=ue.elements[8],P.__data[11]=0):(ue.toArray(P.__data,X),X+=me.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,D,P.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(w,_,B,R){const L=w.value,S=_+"_"+B;if(R[S]===void 0)return typeof L=="number"||typeof L=="boolean"?R[S]=L:R[S]=L.clone(),!0;{const M=R[S];if(typeof L=="number"||typeof L=="boolean"){if(M!==L)return R[S]=L,!0}else if(M.equals(L)===!1)return M.copy(L),!0}return!1}function p(w){const _=w.uniforms;let B=0;const R=16;for(let S=0,M=_.length;S<M;S++){const T=Array.isArray(_[S])?_[S]:[_[S]];for(let F=0,P=T.length;F<P;F++){const D=T[F],H=Array.isArray(D.value)?D.value:[D.value];for(let X=0,fe=H.length;X<fe;X++){const ue=H[X],me=y(ue),J=B%R;J!==0&&R-J<me.boundary&&(B+=R-J),D.__data=new Float32Array(me.storage/Float32Array.BYTES_PER_ELEMENT),D.__offset=B,B+=me.storage}}}const L=B%R;return L>0&&(B+=R-L),w.__size=B,w.__cache={},this}function y(w){const _={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(_.boundary=4,_.storage=4):w.isVector2?(_.boundary=8,_.storage=8):w.isVector3||w.isColor?(_.boundary=16,_.storage=12):w.isVector4?(_.boundary=16,_.storage=16):w.isMatrix3?(_.boundary=48,_.storage=48):w.isMatrix4?(_.boundary=64,_.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),_}function v(w){const _=w.target;_.removeEventListener("dispose",v);const B=a.indexOf(_.__bindingPointIndex);a.splice(B,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function m(){for(const w in i)t.deleteBuffer(i[w]);a=[],i={},s={}}return{bind:l,update:c,dispose:m}}class a4{constructor(e={}){const{canvas:n=E$(),context:r=null,depth:i=!0,stencil:s=!0,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:A=!1}=e;this.isWebGLRenderer=!0;let f;r!==null?f=r.getContextAttributes().alpha:f=a;const h=new Uint32Array(4),p=new Int32Array(4);let y=null,v=null;const m=[],w=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=bs,this._useLegacyLights=!1,this.toneMapping=iA,this.toneMappingExposure=1;const _=this;let B=!1,R=0,L=0,S=null,M=-1,T=null;const F=new Pr,P=new Pr;let D=null;const H=new Kt(0);let X=0,fe=n.width,ue=n.height,me=1,J=null,le=null;const ee=new Pr(0,0,fe,ue),re=new Pr(0,0,fe,ue);let k=!1;const $=new j_;let j=!1,G=!1,q=null;const W=new Sn,ge=new tt,he=new Ce,ve={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function Ee(){return S===null?me:1}let ie=r;function Te(xe,Ge){for(let Ye=0;Ye<xe.length;Ye++){const et=xe[Ye],Xe=n.getContext(et,Ge);if(Xe!==null)return Xe}return null}try{const xe={alpha:!0,depth:i,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:A};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${O_}`),n.addEventListener("webglcontextlost",lt,!1),n.addEventListener("webglcontextrestored",Le,!1),n.addEventListener("webglcontextcreationerror",Bt,!1),ie===null){const Ge=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&Ge.shift(),ie=Te(Ge,xe),ie===null)throw Te(Ge)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&ie instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),ie.getShaderPrecisionFormat===void 0&&(ie.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(xe){throw console.error("THREE.WebGLRenderer: "+xe.message),xe}let ye,_e,se,ze,be,z,te,Be,ke,Ke,je,ft,nt,ct,Tt,bt,Ze,ht,Gt,Nt,Qt,Ct,Pe,ut;function _t(){ye=new zge(ie),_e=new Dge(ie,ye,e),ye.init(_e),Ct=new D$(ie,ye,_e),se=new Eve(ie,ye,_e),ze=new Wge(ie),be=new fve,z=new Sve(ie,ye,se,be,_e,Ct,ze),te=new kge(_),Be=new Vge(_),ke=new epe(ie,_e),Pe=new Rge(ie,ye,ke,_e),Ke=new jge(ie,ke,ze,Pe),je=new Xge(ie,Ke,ke,ze),Gt=new $ge(ie,_e,z),bt=new Oge(be),ft=new Ave(_,te,Be,ye,_e,Pe,bt),nt=new Tve(_,be),ct=new dve,Tt=new wve(ye,_e),ht=new Fge(_,te,Be,se,je,f,l),Ze=new bve(_,je,_e),ut=new Mve(ie,ze,_e,se),Nt=new Uge(ie,ye,ze,_e),Qt=new Gge(ie,ye,ze,_e),ze.programs=ft.programs,_.capabilities=_e,_.extensions=ye,_.properties=be,_.renderLists=ct,_.shadowMap=Ze,_.state=se,_.info=ze}_t();const Ft=new Bve(_,ie);this.xr=Ft,this.getContext=function(){return ie},this.getContextAttributes=function(){return ie.getContextAttributes()},this.forceContextLoss=function(){const xe=ye.get("WEBGL_lose_context");xe&&xe.loseContext()},this.forceContextRestore=function(){const xe=ye.get("WEBGL_lose_context");xe&&xe.restoreContext()},this.getPixelRatio=function(){return me},this.setPixelRatio=function(xe){xe!==void 0&&(me=xe,this.setSize(fe,ue,!1))},this.getSize=function(xe){return xe.set(fe,ue)},this.setSize=function(xe,Ge,Ye=!0){if(Ft.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}fe=xe,ue=Ge,n.width=Math.floor(xe*me),n.height=Math.floor(Ge*me),Ye===!0&&(n.style.width=xe+"px",n.style.height=Ge+"px"),this.setViewport(0,0,xe,Ge)},this.getDrawingBufferSize=function(xe){return xe.set(fe*me,ue*me).floor()},this.setDrawingBufferSize=function(xe,Ge,Ye){fe=xe,ue=Ge,me=Ye,n.width=Math.floor(xe*Ye),n.height=Math.floor(Ge*Ye),this.setViewport(0,0,xe,Ge)},this.getCurrentViewport=function(xe){return xe.copy(F)},this.getViewport=function(xe){return xe.copy(ee)},this.setViewport=function(xe,Ge,Ye,et){xe.isVector4?ee.set(xe.x,xe.y,xe.z,xe.w):ee.set(xe,Ge,Ye,et),se.viewport(F.copy(ee).multiplyScalar(me).floor())},this.getScissor=function(xe){return xe.copy(re)},this.setScissor=function(xe,Ge,Ye,et){xe.isVector4?re.set(xe.x,xe.y,xe.z,xe.w):re.set(xe,Ge,Ye,et),se.scissor(P.copy(re).multiplyScalar(me).floor())},this.getScissorTest=function(){return k},this.setScissorTest=function(xe){se.setScissorTest(k=xe)},this.setOpaqueSort=function(xe){J=xe},this.setTransparentSort=function(xe){le=xe},this.getClearColor=function(xe){return xe.copy(ht.getClearColor())},this.setClearColor=function(){ht.setClearColor.apply(ht,arguments)},this.getClearAlpha=function(){return ht.getClearAlpha()},this.setClearAlpha=function(){ht.setClearAlpha.apply(ht,arguments)},this.clear=function(xe=!0,Ge=!0,Ye=!0){let et=0;if(xe){let Xe=!1;if(S!==null){const Dt=S.texture.format;Xe=Dt===WR||Dt===GR||Dt===jR}if(Xe){const Dt=S.texture.type,$t=Dt===sA||Dt===lf||Dt===pB||Dt===id||Dt===VR||Dt===zR,sn=ht.getClearColor(),nn=ht.getClearAlpha(),hn=sn.r,an=sn.g,cn=sn.b;$t?(h[0]=hn,h[1]=an,h[2]=cn,h[3]=nn,ie.clearBufferuiv(ie.COLOR,0,h)):(p[0]=hn,p[1]=an,p[2]=cn,p[3]=nn,ie.clearBufferiv(ie.COLOR,0,p))}else et|=ie.COLOR_BUFFER_BIT}Ge&&(et|=ie.DEPTH_BUFFER_BIT),Ye&&(et|=ie.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),ie.clear(et)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",lt,!1),n.removeEventListener("webglcontextrestored",Le,!1),n.removeEventListener("webglcontextcreationerror",Bt,!1),ct.dispose(),Tt.dispose(),be.dispose(),te.dispose(),Be.dispose(),je.dispose(),Pe.dispose(),ut.dispose(),ft.dispose(),Ft.dispose(),Ft.removeEventListener("sessionstart",Gn),Ft.removeEventListener("sessionend",St),q&&(q.dispose(),q=null),Ar.stop()};function lt(xe){xe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),B=!0}function Le(){console.log("THREE.WebGLRenderer: Context Restored."),B=!1;const xe=ze.autoReset,Ge=Ze.enabled,Ye=Ze.autoUpdate,et=Ze.needsUpdate,Xe=Ze.type;_t(),ze.autoReset=xe,Ze.enabled=Ge,Ze.autoUpdate=Ye,Ze.needsUpdate=et,Ze.type=Xe}function Bt(xe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",xe.statusMessage)}function Et(xe){const Ge=xe.target;Ge.removeEventListener("dispose",Et),xt(Ge)}function xt(xe){Mt(xe),be.remove(xe)}function Mt(xe){const Ge=be.get(xe).programs;Ge!==void 0&&(Ge.forEach(function(Ye){ft.releaseProgram(Ye)}),xe.isShaderMaterial&&ft.releaseShaderCache(xe))}this.renderBufferDirect=function(xe,Ge,Ye,et,Xe,Dt){Ge===null&&(Ge=ve);const $t=Xe.isMesh&&Xe.matrixWorld.determinant()<0,sn=Ks(xe,Ge,Ye,et,Xe);se.setMaterial(et,$t);let nn=Ye.index,hn=1;if(et.wireframe===!0){if(nn=Ke.getWireframeAttribute(Ye),nn===void 0)return;hn=2}const an=Ye.drawRange,cn=Ye.attributes.position;let tr=an.start*hn,Or=(an.start+an.count)*hn;Dt!==null&&(tr=Math.max(tr,Dt.start*hn),Or=Math.min(Or,(Dt.start+Dt.count)*hn)),nn!==null?(tr=Math.max(tr,0),Or=Math.min(Or,nn.count)):cn!=null&&(tr=Math.max(tr,0),Or=Math.min(Or,cn.count));const gr=Or-tr;if(gr<0||gr===1/0)return;Pe.setup(Xe,et,sn,Ye,nn);let Wr,un=Nt;if(nn!==null&&(Wr=ke.get(nn),un=Qt,un.setIndex(Wr)),Xe.isMesh)et.wireframe===!0?(se.setLineWidth(et.wireframeLinewidth*Ee()),un.setMode(ie.LINES)):un.setMode(ie.TRIANGLES);else if(Xe.isLine){let kt=et.linewidth;kt===void 0&&(kt=1),se.setLineWidth(kt*Ee()),Xe.isLineSegments?un.setMode(ie.LINES):Xe.isLineLoop?un.setMode(ie.LINE_LOOP):un.setMode(ie.LINE_STRIP)}else Xe.isPoints?un.setMode(ie.POINTS):Xe.isSprite&&un.setMode(ie.TRIANGLES);if(Xe.isBatchedMesh)un.renderMultiDraw(Xe._multiDrawStarts,Xe._multiDrawCounts,Xe._multiDrawCount);else if(Xe.isInstancedMesh)un.renderInstances(tr,gr,Xe.count);else if(Ye.isInstancedBufferGeometry){const kt=Ye._maxInstanceCount!==void 0?Ye._maxInstanceCount:1/0,ps=Math.min(Ye.instanceCount,kt);un.renderInstances(tr,gr,ps)}else un.render(tr,gr)};function vn(xe,Ge,Ye){xe.transparent===!0&&xe.side===Ju&&xe.forceSinglePass===!1?(xe.side=Qo,xe.needsUpdate=!0,bo(xe,Ge,Ye),xe.side=Cf,xe.needsUpdate=!0,bo(xe,Ge,Ye),xe.side=Ju):bo(xe,Ge,Ye)}this.compile=function(xe,Ge,Ye=null){Ye===null&&(Ye=xe),v=Tt.get(Ye),v.init(),w.push(v),Ye.traverseVisible(function(Xe){Xe.isLight&&Xe.layers.test(Ge.layers)&&(v.pushLight(Xe),Xe.castShadow&&v.pushShadow(Xe))}),xe!==Ye&&xe.traverseVisible(function(Xe){Xe.isLight&&Xe.layers.test(Ge.layers)&&(v.pushLight(Xe),Xe.castShadow&&v.pushShadow(Xe))}),v.setupLights(_._useLegacyLights);const et=new Set;return xe.traverse(function(Xe){const Dt=Xe.material;if(Dt)if(Array.isArray(Dt))for(let $t=0;$t<Dt.length;$t++){const sn=Dt[$t];vn(sn,Ye,Xe),et.add(sn)}else vn(Dt,Ye,Xe),et.add(Dt)}),w.pop(),v=null,et},this.compileAsync=function(xe,Ge,Ye=null){const et=this.compile(xe,Ge,Ye);return new Promise(Xe=>{function Dt(){if(et.forEach(function($t){be.get($t).currentProgram.isReady()&&et.delete($t)}),et.size===0){Xe(xe);return}setTimeout(Dt,10)}ye.get("KHR_parallel_shader_compile")!==null?Dt():setTimeout(Dt,10)})};let ln=null;function Tn(xe){ln&&ln(xe)}function Gn(){Ar.stop()}function St(){Ar.start()}const Ar=new P$;Ar.setAnimationLoop(Tn),typeof self<"u"&&Ar.setContext(self),this.setAnimationLoop=function(xe){ln=xe,Ft.setAnimationLoop(xe),xe===null?Ar.stop():Ar.start()},Ft.addEventListener("sessionstart",Gn),Ft.addEventListener("sessionend",St),this.render=function(xe,Ge){if(Ge!==void 0&&Ge.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(B===!0)return;xe.matrixWorldAutoUpdate===!0&&xe.updateMatrixWorld(),Ge.parent===null&&Ge.matrixWorldAutoUpdate===!0&&Ge.updateMatrixWorld(),Ft.enabled===!0&&Ft.isPresenting===!0&&(Ft.cameraAutoUpdate===!0&&Ft.updateCamera(Ge),Ge=Ft.getCamera()),xe.isScene===!0&&xe.onBeforeRender(_,xe,Ge,S),v=Tt.get(xe,w.length),v.init(),w.push(v),W.multiplyMatrices(Ge.projectionMatrix,Ge.matrixWorldInverse),$.setFromProjectionMatrix(W),G=this.localClippingEnabled,j=bt.init(this.clippingPlanes,G),y=ct.get(xe,m.length),y.init(),m.push(y),Sr(xe,Ge,0,_.sortObjects),y.finish(),_.sortObjects===!0&&y.sort(J,le),this.info.render.frame++,j===!0&&bt.beginShadows();const Ye=v.state.shadowsArray;if(Ze.render(Ye,xe,Ge),j===!0&&bt.endShadows(),this.info.autoReset===!0&&this.info.reset(),ht.render(y,xe),v.setupLights(_._useLegacyLights),Ge.isArrayCamera){const et=Ge.cameras;for(let Xe=0,Dt=et.length;Xe<Dt;Xe++){const $t=et[Xe];Gr(y,xe,$t,$t.viewport)}}else Gr(y,xe,Ge);S!==null&&(z.updateMultisampleRenderTarget(S),z.updateRenderTargetMipmap(S)),xe.isScene===!0&&xe.onAfterRender(_,xe,Ge),Pe.resetDefaultState(),M=-1,T=null,w.pop(),w.length>0?v=w[w.length-1]:v=null,m.pop(),m.length>0?y=m[m.length-1]:y=null};function Sr(xe,Ge,Ye,et){if(xe.visible===!1)return;if(xe.layers.test(Ge.layers)){if(xe.isGroup)Ye=xe.renderOrder;else if(xe.isLOD)xe.autoUpdate===!0&&xe.update(Ge);else if(xe.isLight)v.pushLight(xe),xe.castShadow&&v.pushShadow(xe);else if(xe.isSprite){if(!xe.frustumCulled||$.intersectsSprite(xe)){et&&he.setFromMatrixPosition(xe.matrixWorld).applyMatrix4(W);const $t=je.update(xe),sn=xe.material;sn.visible&&y.push(xe,$t,sn,Ye,he.z,null)}}else if((xe.isMesh||xe.isLine||xe.isPoints)&&(!xe.frustumCulled||$.intersectsObject(xe))){const $t=je.update(xe),sn=xe.material;if(et&&(xe.boundingSphere!==void 0?(xe.boundingSphere===null&&xe.computeBoundingSphere(),he.copy(xe.boundingSphere.center)):($t.boundingSphere===null&&$t.computeBoundingSphere(),he.copy($t.boundingSphere.center)),he.applyMatrix4(xe.matrixWorld).applyMatrix4(W)),Array.isArray(sn)){const nn=$t.groups;for(let hn=0,an=nn.length;hn<an;hn++){const cn=nn[hn],tr=sn[cn.materialIndex];tr&&tr.visible&&y.push(xe,$t,tr,Ye,he.z,cn)}}else sn.visible&&y.push(xe,$t,sn,Ye,he.z,null)}}const Dt=xe.children;for(let $t=0,sn=Dt.length;$t<sn;$t++)Sr(Dt[$t],Ge,Ye,et)}function Gr(xe,Ge,Ye,et){const Xe=xe.opaque,Dt=xe.transmissive,$t=xe.transparent;v.setupLightsView(Ye),j===!0&&bt.setGlobalState(_.clippingPlanes,Ye),Dt.length>0&&Dr(Xe,Dt,Ge,Ye),et&&se.viewport(F.copy(et)),Xe.length>0&&Cr(Xe,Ge,Ye),Dt.length>0&&Cr(Dt,Ge,Ye),$t.length>0&&Cr($t,Ge,Ye),se.buffers.depth.setTest(!0),se.buffers.depth.setMask(!0),se.buffers.color.setMask(!0),se.setPolygonOffset(!1)}function Dr(xe,Ge,Ye,et){if((Ye.isScene===!0?Ye.overrideMaterial:null)!==null)return;const Dt=_e.isWebGL2;q===null&&(q=new bu(1,1,{generateMipmaps:!0,type:ye.has("EXT_color_buffer_half_float")?vv:sA,minFilter:bd,samples:Dt?4:0})),_.getDrawingBufferSize(ge),Dt?q.setSize(ge.x,ge.y):q.setSize(xS(ge.x),xS(ge.y));const $t=_.getRenderTarget();_.setRenderTarget(q),_.getClearColor(H),X=_.getClearAlpha(),X<1&&_.setClearColor(16777215,.5),_.clear();const sn=_.toneMapping;_.toneMapping=iA,Cr(xe,Ye,et),z.updateMultisampleRenderTarget(q),z.updateRenderTargetMipmap(q);let nn=!1;for(let hn=0,an=Ge.length;hn<an;hn++){const cn=Ge[hn],tr=cn.object,Or=cn.geometry,gr=cn.material,Wr=cn.group;if(gr.side===Ju&&tr.layers.test(et.layers)){const un=gr.side;gr.side=Qo,gr.needsUpdate=!0,Br(tr,Ye,et,Or,gr,Wr),gr.side=un,gr.needsUpdate=!0,nn=!0}}nn===!0&&(z.updateMultisampleRenderTarget(q),z.updateRenderTargetMipmap(q)),_.setRenderTarget($t),_.setClearColor(H,X),_.toneMapping=sn}function Cr(xe,Ge,Ye){const et=Ge.isScene===!0?Ge.overrideMaterial:null;for(let Xe=0,Dt=xe.length;Xe<Dt;Xe++){const $t=xe[Xe],sn=$t.object,nn=$t.geometry,hn=et===null?$t.material:et,an=$t.group;sn.layers.test(Ye.layers)&&Br(sn,Ge,Ye,nn,hn,an)}}function Br(xe,Ge,Ye,et,Xe,Dt){xe.onBeforeRender(_,Ge,Ye,et,Xe,Dt),xe.modelViewMatrix.multiplyMatrices(Ye.matrixWorldInverse,xe.matrixWorld),xe.normalMatrix.getNormalMatrix(xe.modelViewMatrix),Xe.onBeforeRender(_,Ge,Ye,et,xe,Dt),Xe.transparent===!0&&Xe.side===Ju&&Xe.forceSinglePass===!1?(Xe.side=Qo,Xe.needsUpdate=!0,_.renderBufferDirect(Ye,Ge,et,Xe,xe,Dt),Xe.side=Cf,Xe.needsUpdate=!0,_.renderBufferDirect(Ye,Ge,et,Xe,xe,Dt),Xe.side=Ju):_.renderBufferDirect(Ye,Ge,et,Xe,xe,Dt),xe.onAfterRender(_,Ge,Ye,et,Xe,Dt)}function bo(xe,Ge,Ye){Ge.isScene!==!0&&(Ge=ve);const et=be.get(xe),Xe=v.state.lights,Dt=v.state.shadowsArray,$t=Xe.state.version,sn=ft.getParameters(xe,Xe.state,Dt,Ge,Ye),nn=ft.getProgramCacheKey(sn);let hn=et.programs;et.environment=xe.isMeshStandardMaterial?Ge.environment:null,et.fog=Ge.fog,et.envMap=(xe.isMeshStandardMaterial?Be:te).get(xe.envMap||et.environment),hn===void 0&&(xe.addEventListener("dispose",Et),hn=new Map,et.programs=hn);let an=hn.get(nn);if(an!==void 0){if(et.currentProgram===an&&et.lightsStateVersion===$t)return $i(xe,sn),an}else sn.uniforms=ft.getUniforms(xe),xe.onBuild(Ye,sn,_),xe.onBeforeCompile(sn,_),an=ft.acquireProgram(sn,nn),hn.set(nn,an),et.uniforms=sn.uniforms;const cn=et.uniforms;return(!xe.isShaderMaterial&&!xe.isRawShaderMaterial||xe.clipping===!0)&&(cn.clippingPlanes=bt.uniform),$i(xe,sn),et.needsLights=Ps(xe),et.lightsStateVersion=$t,et.needsLights&&(cn.ambientLightColor.value=Xe.state.ambient,cn.lightProbe.value=Xe.state.probe,cn.directionalLights.value=Xe.state.directional,cn.directionalLightShadows.value=Xe.state.directionalShadow,cn.spotLights.value=Xe.state.spot,cn.spotLightShadows.value=Xe.state.spotShadow,cn.rectAreaLights.value=Xe.state.rectArea,cn.ltc_1.value=Xe.state.rectAreaLTC1,cn.ltc_2.value=Xe.state.rectAreaLTC2,cn.pointLights.value=Xe.state.point,cn.pointLightShadows.value=Xe.state.pointShadow,cn.hemisphereLights.value=Xe.state.hemi,cn.directionalShadowMap.value=Xe.state.directionalShadowMap,cn.directionalShadowMatrix.value=Xe.state.directionalShadowMatrix,cn.spotShadowMap.value=Xe.state.spotShadowMap,cn.spotLightMatrix.value=Xe.state.spotLightMatrix,cn.spotLightMap.value=Xe.state.spotLightMap,cn.pointShadowMap.value=Xe.state.pointShadowMap,cn.pointShadowMatrix.value=Xe.state.pointShadowMatrix),et.currentProgram=an,et.uniformsList=null,an}function za(xe){if(xe.uniformsList===null){const Ge=xe.currentProgram.getUniforms();xe.uniformsList=g2.seqWithValue(Ge.seq,xe.uniforms)}return xe.uniformsList}function $i(xe,Ge){const Ye=be.get(xe);Ye.outputColorSpace=Ge.outputColorSpace,Ye.batching=Ge.batching,Ye.instancing=Ge.instancing,Ye.instancingColor=Ge.instancingColor,Ye.skinning=Ge.skinning,Ye.morphTargets=Ge.morphTargets,Ye.morphNormals=Ge.morphNormals,Ye.morphColors=Ge.morphColors,Ye.morphTargetsCount=Ge.morphTargetsCount,Ye.numClippingPlanes=Ge.numClippingPlanes,Ye.numIntersection=Ge.numClipIntersection,Ye.vertexAlphas=Ge.vertexAlphas,Ye.vertexTangents=Ge.vertexTangents,Ye.toneMapping=Ge.toneMapping}function Ks(xe,Ge,Ye,et,Xe){Ge.isScene!==!0&&(Ge=ve),z.resetTextureUnits();const Dt=Ge.fog,$t=et.isMeshStandardMaterial?Ge.environment:null,sn=S===null?_.outputColorSpace:S.isXRRenderTarget===!0?S.texture.colorSpace:gA,nn=(et.isMeshStandardMaterial?Be:te).get(et.envMap||$t),hn=et.vertexColors===!0&&!!Ye.attributes.color&&Ye.attributes.color.itemSize===4,an=!!Ye.attributes.tangent&&(!!et.normalMap||et.anisotropy>0),cn=!!Ye.morphAttributes.position,tr=!!Ye.morphAttributes.normal,Or=!!Ye.morphAttributes.color;let gr=iA;et.toneMapped&&(S===null||S.isXRRenderTarget===!0)&&(gr=_.toneMapping);const Wr=Ye.morphAttributes.position||Ye.morphAttributes.normal||Ye.morphAttributes.color,un=Wr!==void 0?Wr.length:0,kt=be.get(et),ps=v.state.lights;if(j===!0&&(G===!0||xe!==T)){const Qn=xe===T&&et.id===M;bt.setState(et,xe,Qn)}let Jt=!1;et.version===kt.__version?(kt.needsLights&&kt.lightsStateVersion!==ps.state.version||kt.outputColorSpace!==sn||Xe.isBatchedMesh&&kt.batching===!1||!Xe.isBatchedMesh&&kt.batching===!0||Xe.isInstancedMesh&&kt.instancing===!1||!Xe.isInstancedMesh&&kt.instancing===!0||Xe.isSkinnedMesh&&kt.skinning===!1||!Xe.isSkinnedMesh&&kt.skinning===!0||Xe.isInstancedMesh&&kt.instancingColor===!0&&Xe.instanceColor===null||Xe.isInstancedMesh&&kt.instancingColor===!1&&Xe.instanceColor!==null||kt.envMap!==nn||et.fog===!0&&kt.fog!==Dt||kt.numClippingPlanes!==void 0&&(kt.numClippingPlanes!==bt.numPlanes||kt.numIntersection!==bt.numIntersection)||kt.vertexAlphas!==hn||kt.vertexTangents!==an||kt.morphTargets!==cn||kt.morphNormals!==tr||kt.morphColors!==Or||kt.toneMapping!==gr||_e.isWebGL2===!0&&kt.morphTargetsCount!==un)&&(Jt=!0):(Jt=!0,kt.__version=et.version);let wr=kt.currentProgram;Jt===!0&&(wr=bo(et,Ge,Xe));let qs=!1,Ns=!1,Kr=!1;const Rr=wr.getUniforms(),ii=kt.uniforms;if(se.useProgram(wr.program)&&(qs=!0,Ns=!0,Kr=!0),et.id!==M&&(M=et.id,Ns=!0),qs||T!==xe){Rr.setValue(ie,"projectionMatrix",xe.projectionMatrix),Rr.setValue(ie,"viewMatrix",xe.matrixWorldInverse);const Qn=Rr.map.cameraPosition;Qn!==void 0&&Qn.setValue(ie,he.setFromMatrixPosition(xe.matrixWorld)),_e.logarithmicDepthBuffer&&Rr.setValue(ie,"logDepthBufFC",2/(Math.log(xe.far+1)/Math.LN2)),(et.isMeshPhongMaterial||et.isMeshToonMaterial||et.isMeshLambertMaterial||et.isMeshBasicMaterial||et.isMeshStandardMaterial||et.isShaderMaterial)&&Rr.setValue(ie,"isOrthographic",xe.isOrthographicCamera===!0),T!==xe&&(T=xe,Ns=!0,Kr=!0)}if(Xe.isSkinnedMesh){Rr.setOptional(ie,Xe,"bindMatrix"),Rr.setOptional(ie,Xe,"bindMatrixInverse");const Qn=Xe.skeleton;Qn&&(_e.floatVertexTextures?(Qn.boneTexture===null&&Qn.computeBoneTexture(),Rr.setValue(ie,"boneTexture",Qn.boneTexture,z)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}Xe.isBatchedMesh&&(Rr.setOptional(ie,Xe,"batchingTexture"),Rr.setValue(ie,"batchingTexture",Xe._matricesTexture,z));const Eo=Ye.morphAttributes;if((Eo.position!==void 0||Eo.normal!==void 0||Eo.color!==void 0&&_e.isWebGL2===!0)&&Gt.update(Xe,Ye,wr),(Ns||kt.receiveShadow!==Xe.receiveShadow)&&(kt.receiveShadow=Xe.receiveShadow,Rr.setValue(ie,"receiveShadow",Xe.receiveShadow)),et.isMeshGouraudMaterial&&et.envMap!==null&&(ii.envMap.value=nn,ii.flipEnvMap.value=nn.isCubeTexture&&nn.isRenderTargetTexture===!1?-1:1),Ns&&(Rr.setValue(ie,"toneMappingExposure",_.toneMappingExposure),kt.needsLights&&Is(ii,Kr),Dt&&et.fog===!0&&nt.refreshFogUniforms(ii,Dt),nt.refreshMaterialUniforms(ii,et,me,ue,q),g2.upload(ie,za(kt),ii,z)),et.isShaderMaterial&&et.uniformsNeedUpdate===!0&&(g2.upload(ie,za(kt),ii,z),et.uniformsNeedUpdate=!1),et.isSpriteMaterial&&Rr.setValue(ie,"center",Xe.center),Rr.setValue(ie,"modelViewMatrix",Xe.modelViewMatrix),Rr.setValue(ie,"normalMatrix",Xe.normalMatrix),Rr.setValue(ie,"modelMatrix",Xe.matrixWorld),et.isShaderMaterial||et.isRawShaderMaterial){const Qn=et.uniformsGroups;for(let Di=0,Ei=Qn.length;Di<Ei;Di++)if(_e.isWebGL2){const _l=Qn[Di];ut.update(_l,wr),ut.bind(_l,wr)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return wr}function Is(xe,Ge){xe.ambientLightColor.needsUpdate=Ge,xe.lightProbe.needsUpdate=Ge,xe.directionalLights.needsUpdate=Ge,xe.directionalLightShadows.needsUpdate=Ge,xe.pointLights.needsUpdate=Ge,xe.pointLightShadows.needsUpdate=Ge,xe.spotLights.needsUpdate=Ge,xe.spotLightShadows.needsUpdate=Ge,xe.rectAreaLights.needsUpdate=Ge,xe.hemisphereLights.needsUpdate=Ge}function Ps(xe){return xe.isMeshLambertMaterial||xe.isMeshToonMaterial||xe.isMeshPhongMaterial||xe.isMeshStandardMaterial||xe.isShadowMaterial||xe.isShaderMaterial&&xe.lights===!0}this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return L},this.getRenderTarget=function(){return S},this.setRenderTargetTextures=function(xe,Ge,Ye){be.get(xe.texture).__webglTexture=Ge,be.get(xe.depthTexture).__webglTexture=Ye;const et=be.get(xe);et.__hasExternalTextures=!0,et.__hasExternalTextures&&(et.__autoAllocateDepthBuffer=Ye===void 0,et.__autoAllocateDepthBuffer||ye.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),et.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(xe,Ge){const Ye=be.get(xe);Ye.__webglFramebuffer=Ge,Ye.__useDefaultFramebuffer=Ge===void 0},this.setRenderTarget=function(xe,Ge=0,Ye=0){S=xe,R=Ge,L=Ye;let et=!0,Xe=null,Dt=!1,$t=!1;if(xe){const nn=be.get(xe);nn.__useDefaultFramebuffer!==void 0?(se.bindFramebuffer(ie.FRAMEBUFFER,null),et=!1):nn.__webglFramebuffer===void 0?z.setupRenderTarget(xe):nn.__hasExternalTextures&&z.rebindTextures(xe,be.get(xe.texture).__webglTexture,be.get(xe.depthTexture).__webglTexture);const hn=xe.texture;(hn.isData3DTexture||hn.isDataArrayTexture||hn.isCompressedArrayTexture)&&($t=!0);const an=be.get(xe).__webglFramebuffer;xe.isWebGLCubeRenderTarget?(Array.isArray(an[Ge])?Xe=an[Ge][Ye]:Xe=an[Ge],Dt=!0):_e.isWebGL2&&xe.samples>0&&z.useMultisampledRTT(xe)===!1?Xe=be.get(xe).__webglMultisampledFramebuffer:Array.isArray(an)?Xe=an[Ye]:Xe=an,F.copy(xe.viewport),P.copy(xe.scissor),D=xe.scissorTest}else F.copy(ee).multiplyScalar(me).floor(),P.copy(re).multiplyScalar(me).floor(),D=k;if(se.bindFramebuffer(ie.FRAMEBUFFER,Xe)&&_e.drawBuffers&&et&&se.drawBuffers(xe,Xe),se.viewport(F),se.scissor(P),se.setScissorTest(D),Dt){const nn=be.get(xe.texture);ie.framebufferTexture2D(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,ie.TEXTURE_CUBE_MAP_POSITIVE_X+Ge,nn.__webglTexture,Ye)}else if($t){const nn=be.get(xe.texture),hn=Ge||0;ie.framebufferTextureLayer(ie.FRAMEBUFFER,ie.COLOR_ATTACHMENT0,nn.__webglTexture,Ye||0,hn)}M=-1},this.readRenderTargetPixels=function(xe,Ge,Ye,et,Xe,Dt,$t){if(!(xe&&xe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let sn=be.get(xe).__webglFramebuffer;if(xe.isWebGLCubeRenderTarget&&$t!==void 0&&(sn=sn[$t]),sn){se.bindFramebuffer(ie.FRAMEBUFFER,sn);try{const nn=xe.texture,hn=nn.format,an=nn.type;if(hn!==Do&&Ct.convert(hn)!==ie.getParameter(ie.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const cn=an===vv&&(ye.has("EXT_color_buffer_half_float")||_e.isWebGL2&&ye.has("EXT_color_buffer_float"));if(an!==sA&&Ct.convert(an)!==ie.getParameter(ie.IMPLEMENTATION_COLOR_READ_TYPE)&&!(an===du&&(_e.isWebGL2||ye.has("OES_texture_float")||ye.has("WEBGL_color_buffer_float")))&&!cn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Ge>=0&&Ge<=xe.width-et&&Ye>=0&&Ye<=xe.height-Xe&&ie.readPixels(Ge,Ye,et,Xe,Ct.convert(hn),Ct.convert(an),Dt)}finally{const nn=S!==null?be.get(S).__webglFramebuffer:null;se.bindFramebuffer(ie.FRAMEBUFFER,nn)}}},this.copyFramebufferToTexture=function(xe,Ge,Ye=0){const et=Math.pow(2,-Ye),Xe=Math.floor(Ge.image.width*et),Dt=Math.floor(Ge.image.height*et);z.setTexture2D(Ge,0),ie.copyTexSubImage2D(ie.TEXTURE_2D,Ye,0,0,xe.x,xe.y,Xe,Dt),se.unbindTexture()},this.copyTextureToTexture=function(xe,Ge,Ye,et=0){const Xe=Ge.image.width,Dt=Ge.image.height,$t=Ct.convert(Ye.format),sn=Ct.convert(Ye.type);z.setTexture2D(Ye,0),ie.pixelStorei(ie.UNPACK_FLIP_Y_WEBGL,Ye.flipY),ie.pixelStorei(ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ye.premultiplyAlpha),ie.pixelStorei(ie.UNPACK_ALIGNMENT,Ye.unpackAlignment),Ge.isDataTexture?ie.texSubImage2D(ie.TEXTURE_2D,et,xe.x,xe.y,Xe,Dt,$t,sn,Ge.image.data):Ge.isCompressedTexture?ie.compressedTexSubImage2D(ie.TEXTURE_2D,et,xe.x,xe.y,Ge.mipmaps[0].width,Ge.mipmaps[0].height,$t,Ge.mipmaps[0].data):ie.texSubImage2D(ie.TEXTURE_2D,et,xe.x,xe.y,$t,sn,Ge.image),et===0&&Ye.generateMipmaps&&ie.generateMipmap(ie.TEXTURE_2D),se.unbindTexture()},this.copyTextureToTexture3D=function(xe,Ge,Ye,et,Xe=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Dt=xe.max.x-xe.min.x+1,$t=xe.max.y-xe.min.y+1,sn=xe.max.z-xe.min.z+1,nn=Ct.convert(et.format),hn=Ct.convert(et.type);let an;if(et.isData3DTexture)z.setTexture3D(et,0),an=ie.TEXTURE_3D;else if(et.isDataArrayTexture||et.isCompressedArrayTexture)z.setTexture2DArray(et,0),an=ie.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}ie.pixelStorei(ie.UNPACK_FLIP_Y_WEBGL,et.flipY),ie.pixelStorei(ie.UNPACK_PREMULTIPLY_ALPHA_WEBGL,et.premultiplyAlpha),ie.pixelStorei(ie.UNPACK_ALIGNMENT,et.unpackAlignment);const cn=ie.getParameter(ie.UNPACK_ROW_LENGTH),tr=ie.getParameter(ie.UNPACK_IMAGE_HEIGHT),Or=ie.getParameter(ie.UNPACK_SKIP_PIXELS),gr=ie.getParameter(ie.UNPACK_SKIP_ROWS),Wr=ie.getParameter(ie.UNPACK_SKIP_IMAGES),un=Ye.isCompressedTexture?Ye.mipmaps[Xe]:Ye.image;ie.pixelStorei(ie.UNPACK_ROW_LENGTH,un.width),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,un.height),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,xe.min.x),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,xe.min.y),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,xe.min.z),Ye.isDataTexture||Ye.isData3DTexture?ie.texSubImage3D(an,Xe,Ge.x,Ge.y,Ge.z,Dt,$t,sn,nn,hn,un.data):Ye.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ie.compressedTexSubImage3D(an,Xe,Ge.x,Ge.y,Ge.z,Dt,$t,sn,nn,un.data)):ie.texSubImage3D(an,Xe,Ge.x,Ge.y,Ge.z,Dt,$t,sn,nn,hn,un),ie.pixelStorei(ie.UNPACK_ROW_LENGTH,cn),ie.pixelStorei(ie.UNPACK_IMAGE_HEIGHT,tr),ie.pixelStorei(ie.UNPACK_SKIP_PIXELS,Or),ie.pixelStorei(ie.UNPACK_SKIP_ROWS,gr),ie.pixelStorei(ie.UNPACK_SKIP_IMAGES,Wr),Xe===0&&et.generateMipmaps&&ie.generateMipmap(an),se.unbindTexture()},this.initTexture=function(xe){xe.isCubeTexture?z.setTextureCube(xe,0):xe.isData3DTexture?z.setTexture3D(xe,0):xe.isDataArrayTexture||xe.isCompressedArrayTexture?z.setTexture2DArray(xe,0):z.setTexture2D(xe,0),se.unbindTexture()},this.resetState=function(){R=0,L=0,S=null,se.reset(),Pe.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return pu}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===gB?"display-p3":"srgb",n.unpackColorSpace=Mr.workingColorSpace===Q_?"display-p3":"srgb"}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===bs?ad:$R}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===ad?bs:gA}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class k$ extends a4{}k$.prototype.isWebGL1Renderer=!0;class wB{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Kt(e),this.density=n}clone(){return new wB(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class _B{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Kt(e),this.near=n,this.far=r}clone(){return new _B(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class o4 extends pr{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class xB{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=$w,this._updateRange={offset:0,count:-1},this.updateRanges=[],this.version=0,this.uuid=Gl()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}get updateRange(){return console.warn("THREE.InterleavedBuffer: updateRange() is deprecated and will be removed in r169. Use addUpdateRange() instead."),this._updateRange}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Gl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Gl()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const No=new Ce;class Pm{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)No.fromBufferAttribute(this,n),No.applyMatrix4(e),this.setXYZ(n,No.x,No.y,No.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)No.fromBufferAttribute(this,n),No.applyNormalMatrix(e),this.setXYZ(n,No.x,No.y,No.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)No.fromBufferAttribute(this,n),No.transformDirection(e),this.setXYZ(n,No.x,No.y,No.z);return this}setX(e,n){return this.normalized&&(n=On(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=On(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=On(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=On(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=hl(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=hl(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=hl(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=hl(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=On(n,this.array),r=On(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=On(n,this.array),r=On(r,this.array),i=On(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=On(n,this.array),r=On(r,this.array),i=On(i,this.array),s=On(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new Fr(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Pm(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class l4 extends _o{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Kt(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let jg;const $y=new Ce,Gg=new Ce,Wg=new Ce,Kg=new tt,Xy=new tt,Q$=new Sn,Pb=new Ce,Yy=new Ce,Nb=new Ce,$Q=new tt,VI=new tt,XQ=new tt;class H$ extends pr{constructor(e=new l4){if(super(),this.isSprite=!0,this.type="Sprite",jg===void 0){jg=new kn;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new xB(n,5);jg.setIndex([0,1,2,0,2,3]),jg.setAttribute("position",new Pm(r,3,0,!1)),jg.setAttribute("uv",new Pm(r,2,3,!1))}this.geometry=jg,this.material=e,this.center=new tt(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),Gg.setFromMatrixScale(this.matrixWorld),Q$.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),Wg.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&Gg.multiplyScalar(-Wg.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const a=this.center;Lb(Pb.set(-.5,-.5,0),Wg,a,Gg,i,s),Lb(Yy.set(.5,-.5,0),Wg,a,Gg,i,s),Lb(Nb.set(.5,.5,0),Wg,a,Gg,i,s),$Q.set(0,0),VI.set(1,0),XQ.set(1,1);let o=e.ray.intersectTriangle(Pb,Yy,Nb,!1,$y);if(o===null&&(Lb(Yy.set(-.5,.5,0),Wg,a,Gg,i,s),VI.set(0,1),o=e.ray.intersectTriangle(Pb,Nb,Yy,!1,$y),o===null))return;const l=e.ray.origin.distanceTo($y);l<e.near||l>e.far||n.push({distance:l,point:$y.clone(),uv:fl.getInterpolation($y,Pb,Yy,Nb,$Q,VI,XQ,new tt),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Lb(t,e,n,r,i,s){Kg.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(Xy.x=s*Kg.x-i*Kg.y,Xy.y=i*Kg.x+s*Kg.y):Xy.copy(Kg),t.copy(e),t.x+=Xy.x,t.y+=Xy.y,t.applyMatrix4(Q$)}const Fb=new Ce,YQ=new Ce;class V$ extends pr{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Fb.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Fb);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Fb.setFromMatrixPosition(e.matrixWorld),YQ.setFromMatrixPosition(this.matrixWorld);const r=Fb.distanceTo(YQ)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const JQ=new Ce,ZQ=new Pr,eH=new Pr,Ive=new Ce,tH=new Sn,Rb=new Ce,zI=new vo,nH=new Sn,jI=new qm;class z$ extends Qs{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=F3,this.bindMatrix=new Sn,this.bindMatrixInverse=new Sn,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Ho),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Rb),this.boundingBox.expandByPoint(Rb)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new vo),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,Rb),this.boundingSphere.expandByPoint(Rb)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),zI.copy(this.boundingSphere),zI.applyMatrix4(i),e.ray.intersectsSphere(zI)!==!1&&(nH.copy(i).invert(),jI.copy(e.ray).applyMatrix4(nH),!(this.boundingBox!==null&&jI.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,jI)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Pr,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===F3?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===t$?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;ZQ.fromBufferAttribute(i.attributes.skinIndex,e),eH.fromBufferAttribute(i.attributes.skinWeight,e),JQ.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const a=eH.getComponent(s);if(a!==0){const o=ZQ.getComponent(s);tH.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),n.addScaledVector(Ive.copy(JQ).applyMatrix4(tH),a)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class c4 extends pr{constructor(){super(),this.isBone=!0,this.type="Bone"}}class fm extends fs{constructor(e=null,n=1,r=1,i,s,a,o,l,c=is,u=is,A,f){super(null,a,o,l,c,u,i,s,A,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const rH=new Sn,Pve=new Sn;class bB{constructor(e=[],n=[]){this.uuid=Gl(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Sn)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Sn;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:Pve;rH.multiplyMatrices(o,n[s]),rH.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new bB(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new fm(n,e,e,Do,du);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let a=n[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new c4),this.bones.push(a),this.boneInverses.push(new Sn().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const a=n[i];e.bones.push(a.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}class xv extends Fr{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const qg=new Sn,iH=new Sn,Ub=[],sH=new Ho,Nve=new Sn,Jy=new Qs,Zy=new vo;class j$ extends Qs{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new xv(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Nve)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Ho),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,qg),sH.copy(e.boundingBox).applyMatrix4(qg),this.boundingBox.union(sH)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new vo),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,qg),Zy.copy(e.boundingSphere).applyMatrix4(qg),this.boundingSphere.union(Zy)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Jy.geometry=this.geometry,Jy.material=this.material,Jy.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Zy.copy(this.boundingSphere),Zy.applyMatrix4(r),e.ray.intersectsSphere(Zy)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,qg),iH.multiplyMatrices(r,qg),Jy.matrixWorld=iH,Jy.raycast(e,Ub);for(let a=0,o=Ub.length;a<o;a++){const l=Ub[a];l.instanceId=s,l.object=this,n.push(l)}Ub.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new xv(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}function Lve(t,e){return t.z-e.z}function Fve(t,e){return e.z-t.z}class Rve{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n){const r=this.pool,i=this.list;this.index>=r.length&&r.push({start:-1,count:-1,z:-1});const s=r[this.index];i.push(s),this.index++,s.start=e.start,s.count=e.count,s.z=n}reset(){this.list.length=0,this.index=0}}const $g="batchId",mh=new Sn,aH=new Sn,Uve=new Sn,oH=new Sn,GI=new j_,Db=new Ho,wp=new vo,e1=new Ce,WI=new Rve,to=new Qs,Ob=[];function Dve(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let a=0;a<r;a++)e.setComponent(s+n,a,t.getComponent(s,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}class G$ extends Qs{get maxGeometryCount(){return this._maxGeometryCount}constructor(e,n,r=n*2,i){super(new kn,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._drawRanges=[],this._reservedRanges=[],this._visibility=[],this._active=[],this._bounds=[],this._maxGeometryCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._geometryInitialized=!1,this._geometryCount=0,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._visibilityChanged=!0,this._matricesTexture=null,this._initMatricesTexture()}_initMatricesTexture(){let e=Math.sqrt(this._maxGeometryCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new fm(n,e,e,Do,du);this._matricesTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxGeometryCount,s=this._maxIndexCount;if(this._geometryInitialized===!1){for(const o in e.attributes){const l=e.getAttribute(o),{array:c,itemSize:u,normalized:A}=l,f=new c.constructor(r*u),h=new l.constructor(f,u,A);h.setUsage(l.usage),n.setAttribute(o,h)}if(e.getIndex()!==null){const o=r>65536?new Uint32Array(s):new Uint16Array(s);n.setIndex(new Fr(o,1))}const a=i>65536?new Uint32Array(r):new Uint16Array(r);n.setAttribute($g,new Fr(a,1)),this._geometryInitialized=!0}}_validateGeometry(e){if(e.getAttribute($g))throw new Error(`BatchedMesh: Geometry cannot use attribute "${$g}"`);const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(r===$g)continue;if(!e.hasAttribute(r))throw new Error(`BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Ho);const e=this._geometryCount,n=this.boundingBox,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,mh),this.getBoundingBoxAt(i,Db).applyMatrix4(mh),n.union(Db))}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new vo);const e=this._geometryCount,n=this.boundingSphere,r=this._active;n.makeEmpty();for(let i=0;i<e;i++)r[i]!==!1&&(this.getMatrixAt(i,mh),this.getBoundingSphereAt(i,wp).applyMatrix4(mh),n.union(wp))}addGeometry(e,n=-1,r=-1){if(this._initializeGeometry(e),this._validateGeometry(e),this._geometryCount>=this._maxGeometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");const i={vertexStart:-1,vertexCount:-1,indexStart:-1,indexCount:-1};let s=null;const a=this._reservedRanges,o=this._drawRanges,l=this._bounds;this._geometryCount!==0&&(s=a[a.length-1]),n===-1?i.vertexCount=e.getAttribute("position").count:i.vertexCount=n,s===null?i.vertexStart=0:i.vertexStart=s.vertexStart+s.vertexCount;const c=e.getIndex(),u=c!==null;if(u&&(r===-1?i.indexCount=c.count:i.indexCount=r,s===null?i.indexStart=0:i.indexStart=s.indexStart+s.indexCount),i.indexStart!==-1&&i.indexStart+i.indexCount>this._maxIndexCount||i.vertexStart+i.vertexCount>this._maxVertexCount)throw new Error("BatchedMesh: Reserved space request exceeds the maximum buffer size.");const A=this._visibility,f=this._active,h=this._matricesTexture,p=this._matricesTexture.image.data;A.push(!0),f.push(!0);const y=this._geometryCount;this._geometryCount++,Uve.toArray(p,y*16),h.needsUpdate=!0,a.push(i),o.push({start:u?i.indexStart:i.vertexStart,count:-1}),l.push({boxInitialized:!1,box:new Ho,sphereInitialized:!1,sphere:new vo});const v=this.geometry.getAttribute($g);for(let m=0;m<i.vertexCount;m++)v.setX(i.vertexStart+m,y);return v.needsUpdate=!0,this.setGeometryAt(y,e),y}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),a=n.getIndex(),o=this._reservedRanges[e];if(i&&a.count>o.indexCount||n.attributes.position.count>o.vertexCount)throw new Error("BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.vertexCount;for(const h in r.attributes){if(h===$g)continue;const p=n.getAttribute(h),y=r.getAttribute(h);Dve(p,y,l);const v=p.itemSize;for(let m=p.count,w=c;m<w;m++){const _=l+m;for(let B=0;B<v;B++)y.setComponent(_,B,0)}y.needsUpdate=!0}if(i){const h=o.indexStart;for(let p=0;p<a.count;p++)s.setX(h+p,l+a.getX(p));for(let p=a.count,y=o.indexCount;p<y;p++)s.setX(h+p,l);s.needsUpdate=!0}const u=this._bounds[e];n.boundingBox!==null?(u.box.copy(n.boundingBox),u.boxInitialized=!0):u.boxInitialized=!1,n.boundingSphere!==null?(u.sphere.copy(n.boundingSphere),u.sphereInitialized=!0):u.sphereInitialized=!1;const A=this._drawRanges[e],f=n.getAttribute("position");return A.count=i?a.count:f.count,this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._active;return e>=n.length||n[e]===!1?this:(n[e]=!1,this._visibilityChanged=!0,this)}getBoundingBoxAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.box,a=this.geometry;if(i.boxInitialized===!1){s.makeEmpty();const o=a.index,l=a.attributes.position,c=this._drawRanges[e];for(let u=c.start,A=c.start+c.count;u<A;u++){let f=u;o&&(f=o.getX(f)),s.expandByPoint(e1.fromBufferAttribute(l,f))}i.boxInitialized=!0}return n.copy(s),n}getBoundingSphereAt(e,n){if(this._active[e]===!1)return this;const i=this._bounds[e],s=i.sphere,a=this.geometry;if(i.sphereInitialized===!1){s.makeEmpty(),this.getBoundingBoxAt(e,Db),Db.getCenter(s.center);const o=a.index,l=a.attributes.position,c=this._drawRanges[e];let u=0;for(let A=c.start,f=c.start+c.count;A<f;A++){let h=A;o&&(h=o.getX(h)),e1.fromBufferAttribute(l,h),u=Math.max(u,s.center.distanceToSquared(e1))}s.radius=Math.sqrt(u),i.sphereInitialized=!0}return n.copy(s),n}setMatrixAt(e,n){const r=this._active,i=this._matricesTexture,s=this._matricesTexture.image.data,a=this._geometryCount;return e>=a||r[e]===!1?this:(n.toArray(s,e*16),i.needsUpdate=!0,this)}getMatrixAt(e,n){const r=this._active,i=this._matricesTexture.image.data,s=this._geometryCount;return e>=s||r[e]===!1?null:n.fromArray(i,e*16)}setVisibleAt(e,n){const r=this._visibility,i=this._active,s=this._geometryCount;return e>=s||i[e]===!1||r[e]===n?this:(r[e]=n,this._visibilityChanged=!0,this)}getVisibleAt(e){const n=this._visibility,r=this._active,i=this._geometryCount;return e>=i||r[e]===!1?!1:n[e]}raycast(e,n){const r=this._visibility,i=this._active,s=this._drawRanges,a=this._geometryCount,o=this.matrixWorld,l=this.geometry;to.material=this.material,to.geometry.index=l.index,to.geometry.attributes=l.attributes,to.geometry.boundingBox===null&&(to.geometry.boundingBox=new Ho),to.geometry.boundingSphere===null&&(to.geometry.boundingSphere=new vo);for(let c=0;c<a;c++){if(!r[c]||!i[c])continue;const u=s[c];to.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(c,to.matrixWorld).premultiply(o),this.getBoundingBoxAt(c,to.geometry.boundingBox),this.getBoundingSphereAt(c,to.geometry.boundingSphere),to.raycast(e,Ob);for(let A=0,f=Ob.length;A<f;A++){const h=Ob[A];h.object=this,h.batchId=c,n.push(h)}Ob.length=0}to.material=null,to.geometry.index=null,to.geometry.attributes={},to.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._drawRanges=e._drawRanges.map(n=>({...n})),this._reservedRanges=e._reservedRanges.map(n=>({...n})),this._visibility=e._visibility.slice(),this._active=e._active.slice(),this._bounds=e._bounds.map(n=>({boxInitialized:n.boxInitialized,box:n.box.clone(),sphereInitialized:n.sphereInitialized,sphere:n.sphere.clone()})),this._maxGeometryCount=e._maxGeometryCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._geometryCount=e._geometryCount,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.slice(),this}dispose(){return this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._visibility,c=this._multiDrawStarts,u=this._multiDrawCounts,A=this._drawRanges,f=this.perObjectFrustumCulled;f&&(oH.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),GI.setFromProjectionMatrix(oH,e.isWebGPURenderer?yv:pu));let h=0;if(this.sortObjects){aH.copy(this.matrixWorld).invert(),e1.setFromMatrixPosition(r.matrixWorld).applyMatrix4(aH);for(let v=0,m=l.length;v<m;v++)if(l[v]){this.getMatrixAt(v,mh),this.getBoundingSphereAt(v,wp).applyMatrix4(mh);let w=!1;if(f&&(w=!GI.intersectsSphere(wp)),!w){const _=e1.distanceTo(wp.center);WI.push(A[v],_)}}const p=WI.list,y=this.customSort;y===null?p.sort(s.transparent?Fve:Lve):y.call(this,p,r);for(let v=0,m=p.length;v<m;v++){const w=p[v];c[h]=w.start*o,u[h]=w.count,h++}WI.reset()}else for(let p=0,y=l.length;p<y;p++)if(l[p]){let v=!1;if(f&&(this.getMatrixAt(p,mh),this.getBoundingSphereAt(p,wp).applyMatrix4(mh),v=!GI.intersectsSphere(wp)),!v){const m=A[p];c[h]=m.start*o,u[h]=m.count,h++}}this._multiDrawCount=h,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,a){this.onBeforeRender(e,null,i,s,a)}}class Go extends _o{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Kt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const lH=new Ce,cH=new Ce,uH=new Sn,KI=new qm,kb=new vo;class Ed extends pr{constructor(e=new kn,n=new Go){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)lH.fromBufferAttribute(n,i-1),cH.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=lH.distanceTo(cH);e.setAttribute("lineDistance",new tn(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),kb.copy(r.boundingSphere),kb.applyMatrix4(i),kb.radius+=s,e.ray.intersectsSphere(kb)===!1)return;uH.copy(i).invert(),KI.copy(e.ray).applyMatrix4(uH);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=new Ce,u=new Ce,A=new Ce,f=new Ce,h=this.isLineSegments?2:1,p=r.index,v=r.attributes.position;if(p!==null){const m=Math.max(0,a.start),w=Math.min(p.count,a.start+a.count);for(let _=m,B=w-1;_<B;_+=h){const R=p.getX(_),L=p.getX(_+1);if(c.fromBufferAttribute(v,R),u.fromBufferAttribute(v,L),KI.distanceSqToSegment(c,u,f,A)>l)continue;f.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(f);M<e.near||M>e.far||n.push({distance:M,point:A.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const m=Math.max(0,a.start),w=Math.min(v.count,a.start+a.count);for(let _=m,B=w-1;_<B;_+=h){if(c.fromBufferAttribute(v,_),u.fromBufferAttribute(v,_+1),KI.distanceSqToSegment(c,u,f,A)>l)continue;f.applyMatrix4(this.matrixWorld);const L=e.ray.origin.distanceTo(f);L<e.near||L>e.far||n.push({distance:L,point:A.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}const AH=new Ce,fH=new Ce;class bA extends Ed{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)AH.fromBufferAttribute(n,i),fH.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+AH.distanceTo(fH);e.setAttribute("lineDistance",new tn(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class W$ extends Ed{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class u4 extends _o{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Kt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const hH=new Sn,AN=new qm,Qb=new vo,Hb=new Ce;class K$ extends pr{constructor(e=new kn,n=new u4){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Qb.copy(r.boundingSphere),Qb.applyMatrix4(i),Qb.radius+=s,e.ray.intersectsSphere(Qb)===!1)return;hH.copy(i).invert(),AN.copy(e.ray).applyMatrix4(hH);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=r.index,A=r.attributes.position;if(c!==null){const f=Math.max(0,a.start),h=Math.min(c.count,a.start+a.count);for(let p=f,y=h;p<y;p++){const v=c.getX(p);Hb.fromBufferAttribute(A,v),dH(Hb,v,l,i,e,n,this)}}else{const f=Math.max(0,a.start),h=Math.min(A.count,a.start+a.count);for(let p=f,y=h;p<y;p++)Hb.fromBufferAttribute(A,p),dH(Hb,p,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function dH(t,e,n,r,i,s,a){const o=AN.distanceSqToPoint(t);if(o<n){const l=new Ce;AN.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,object:a})}}class Ove extends fs{constructor(e,n,r,i,s,a,o,l,c){super(e,n,r,i,s,a,o,l,c),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:as,this.magFilter=s!==void 0?s:as,this.generateMipmaps=!1;const u=this;function A(){u.needsUpdate=!0,e.requestVideoFrameCallback(A)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(A)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class kve extends fs{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=is,this.minFilter=is,this.generateMipmaps=!1,this.needsUpdate=!0}}class EB extends fs{constructor(e,n,r,i,s,a,o,l,c,u,A,f){super(null,a,o,l,c,u,i,s,A,f),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Qve extends EB{constructor(e,n,r,i,s,a){super(e,n,r,s,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=ho}}class Hve extends EB{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,Bf),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Vve extends fs{constructor(e,n,r,i,s,a,o,l,c){super(e,n,r,i,s,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}let Mu=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let a;n?a=n:a=e*r[s-1];let o=0,l=s-1,c;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),c=r[i]-a,c<0)o=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(s-1);const u=r[i],f=r[i+1]-u,h=(a-u)/f;return(i+h)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const a=this.getPoint(i),o=this.getPoint(s),l=n||(a.isVector2?new tt:new Ce);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new Ce,i=[],s=[],a=[],o=new Ce,l=new Sn;for(let h=0;h<=e;h++){const p=h/e;i[h]=this.getTangentAt(p,new Ce)}s[0]=new Ce,a[0]=new Ce;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),A=Math.abs(i[0].y),f=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),A<=c&&(c=A,r.set(0,1,0)),f<=c&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],o),a[0].crossVectors(i[0],s[0]);for(let h=1;h<=e;h++){if(s[h]=s[h-1].clone(),a[h]=a[h-1].clone(),o.crossVectors(i[h-1],i[h]),o.length()>Number.EPSILON){o.normalize();const p=Math.acos(qi(i[h-1].dot(i[h]),-1,1));s[h].applyMatrix4(l.makeRotationAxis(o,p))}a[h].crossVectors(i[h],s[h])}if(n===!0){let h=Math.acos(qi(s[0].dot(s[e]),-1,1));h/=e,i[0].dot(o.crossVectors(s[0],s[e]))>0&&(h=-h);for(let p=1;p<=e;p++)s[p].applyMatrix4(l.makeRotationAxis(i[p],h*p)),a[p].crossVectors(i[p],s[p])}return{tangents:i,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class SB extends Mu{constructor(e=0,n=0,r=1,i=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,n){const r=n||new tt,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(a?s=0:s=i),this.aClockwise===!0&&!a&&(s===i?s=-i:s=s-i);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const u=Math.cos(this.aRotation),A=Math.sin(this.aRotation),f=l-this.aX,h=c-this.aY;l=f*u-h*A+this.aX,c=f*A+h*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class q$ extends SB{constructor(e,n,r,i,s,a){super(e,n,r,r,i,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function A4(){let t=0,e=0,n=0,r=0;function i(s,a,o,l){t=s,e=o,n=-3*s+3*a-2*o-l,r=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,c){i(a,o,c*(o-s),c*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,c,u,A){let f=(a-s)/c-(o-s)/(c+u)+(o-a)/u,h=(o-a)/u-(l-a)/(u+A)+(l-o)/A;f*=u,h*=u,i(a,o,f,h)},calc:function(s){const a=s*s,o=a*s;return t+e*s+n*a+r*o}}}const Vb=new Ce,qI=new A4,$I=new A4,XI=new A4;class $$ extends Mu{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new Ce){const r=n,i=this.points,s=i.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let c,u;this.closed||o>0?c=i[(o-1)%s]:(Vb.subVectors(i[0],i[1]).add(i[0]),c=Vb);const A=i[o%s],f=i[(o+1)%s];if(this.closed||o+2<s?u=i[(o+2)%s]:(Vb.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=Vb),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let p=Math.pow(c.distanceToSquared(A),h),y=Math.pow(A.distanceToSquared(f),h),v=Math.pow(f.distanceToSquared(u),h);y<1e-4&&(y=1),p<1e-4&&(p=y),v<1e-4&&(v=y),qI.initNonuniformCatmullRom(c.x,A.x,f.x,u.x,p,y,v),$I.initNonuniformCatmullRom(c.y,A.y,f.y,u.y,p,y,v),XI.initNonuniformCatmullRom(c.z,A.z,f.z,u.z,p,y,v)}else this.curveType==="catmullrom"&&(qI.initCatmullRom(c.x,A.x,f.x,u.x,this.tension),$I.initCatmullRom(c.y,A.y,f.y,u.y,this.tension),XI.initCatmullRom(c.z,A.z,f.z,u.z,this.tension));return r.set(qI.calc(l),$I.calc(l),XI.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ce().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function pH(t,e,n,r,i){const s=(r-e)*.5,a=(i-n)*.5,o=t*t,l=t*o;return(2*n-2*r+s+a)*l+(-3*n+3*r-2*s-a)*o+s*t+n}function zve(t,e){const n=1-t;return n*n*e}function jve(t,e){return 2*(1-t)*t*e}function Gve(t,e){return t*t*e}function tw(t,e,n,r){return zve(t,e)+jve(t,n)+Gve(t,r)}function Wve(t,e){const n=1-t;return n*n*n*e}function Kve(t,e){const n=1-t;return 3*n*n*t*e}function qve(t,e){return 3*(1-t)*t*t*e}function $ve(t,e){return t*t*t*e}function nw(t,e,n,r,i){return Wve(t,e)+Kve(t,n)+qve(t,r)+$ve(t,i)}class f4 extends Mu{constructor(e=new tt,n=new tt,r=new tt,i=new tt){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new tt){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(nw(e,i.x,s.x,a.x,o.x),nw(e,i.y,s.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class X$ extends Mu{constructor(e=new Ce,n=new Ce,r=new Ce,i=new Ce){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ce){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(nw(e,i.x,s.x,a.x,o.x),nw(e,i.y,s.y,a.y,o.y),nw(e,i.z,s.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class h4 extends Mu{constructor(e=new tt,n=new tt){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new tt){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new tt){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class Y$ extends Mu{constructor(e=new Ce,n=new Ce){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Ce){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ce){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class d4 extends Mu{constructor(e=new tt,n=new tt,r=new tt){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new tt){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(tw(e,i.x,s.x,a.x),tw(e,i.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class p4 extends Mu{constructor(e=new Ce,n=new Ce,r=new Ce){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ce){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(tw(e,i.x,s.x,a.x),tw(e,i.y,s.y,a.y),tw(e,i.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class m4 extends Mu{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new tt){const r=n,i=this.points,s=(i.length-1)*e,a=Math.floor(s),o=s-a,l=i[a===0?a:a-1],c=i[a],u=i[a>i.length-2?i.length-1:a+1],A=i[a>i.length-3?i.length-1:a+2];return r.set(pH(o,l.x,c.x,u.x,A.x),pH(o,l.y,c.y,u.y,A.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new tt().fromArray(i))}return this}}var bS=Object.freeze({__proto__:null,ArcCurve:q$,CatmullRomCurve3:$$,CubicBezierCurve:f4,CubicBezierCurve3:X$,EllipseCurve:SB,LineCurve:h4,LineCurve3:Y$,QuadraticBezierCurve:d4,QuadraticBezierCurve3:p4,SplineCurve:m4});class J$ extends Mu{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new bS[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const a=i[s]-r,o=this.curves[s],l=o.getLength(),c=l===0?0:1-a/l;return o.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const a=s[i],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new bS[i.type]().fromJSON(i))}return this}}let ld=class extends J${constructor(e){super(),this.type="Path",this.currentPoint=new tt,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new h4(this.currentPoint.clone(),new tt(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new d4(this.currentPoint.clone(),new tt(e,n),new tt(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,a){const o=new f4(this.currentPoint.clone(),new tt(e,n),new tt(r,i),new tt(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new m4(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,r,i,s,a),this}absarc(e,n,r,i,s,a){return this.absellipse(e,n,r,r,i,s,a),this}ellipse(e,n,r,i,s,a,o,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,s,a,o,l),this}absellipse(e,n,r,i,s,a,o,l){const c=new SB(e,n,r,i,s,a,o,l);if(this.curves.length>0){const A=c.getPoint(0);A.equals(this.currentPoint)||this.lineTo(A.x,A.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class W_ extends kn{constructor(e=[new tt(0,-.5),new tt(.5,0),new tt(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=qi(i,0,Math.PI*2);const s=[],a=[],o=[],l=[],c=[],u=1/n,A=new Ce,f=new tt,h=new Ce,p=new Ce,y=new Ce;let v=0,m=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:v=e[w+1].x-e[w].x,m=e[w+1].y-e[w].y,h.x=m*1,h.y=-v,h.z=m*0,y.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(y.x,y.y,y.z);break;default:v=e[w+1].x-e[w].x,m=e[w+1].y-e[w].y,h.x=m*1,h.y=-v,h.z=m*0,p.copy(h),h.x+=y.x,h.y+=y.y,h.z+=y.z,h.normalize(),l.push(h.x,h.y,h.z),y.copy(p)}for(let w=0;w<=n;w++){const _=r+w*u*i,B=Math.sin(_),R=Math.cos(_);for(let L=0;L<=e.length-1;L++){A.x=e[L].x*B,A.y=e[L].y,A.z=e[L].x*R,a.push(A.x,A.y,A.z),f.x=w/n,f.y=L/(e.length-1),o.push(f.x,f.y);const S=l[3*L+0]*B,M=l[3*L+1],T=l[3*L+0]*R;c.push(S,M,T)}}for(let w=0;w<n;w++)for(let _=0;_<e.length-1;_++){const B=_+w*e.length,R=B,L=B+e.length,S=B+e.length+1,M=B+1;s.push(R,L,M),s.push(S,M,L)}this.setIndex(s),this.setAttribute("position",new tn(a,3)),this.setAttribute("uv",new tn(o,2)),this.setAttribute("normal",new tn(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new W_(e.points,e.segments,e.phiStart,e.phiLength)}}class CB extends W_{constructor(e=1,n=1,r=4,i=8){const s=new ld;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new CB(e.radius,e.length,e.capSegments,e.radialSegments)}}class BB extends kn{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],a=[],o=[],l=[],c=new Ce,u=new tt;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let A=0,f=3;A<=n;A++,f+=3){const h=r+A/n*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),a.push(c.x,c.y,c.z),o.push(0,0,1),u.x=(a[f]/e+1)/2,u.y=(a[f+1]/e+1)/2,l.push(u.x,u.y)}for(let A=1;A<=n;A++)s.push(A,A+1,0);this.setIndex(s),this.setAttribute("position",new tn(a,3)),this.setAttribute("normal",new tn(o,3)),this.setAttribute("uv",new tn(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new BB(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Jv extends kn{constructor(e=1,n=1,r=1,i=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],A=[],f=[],h=[];let p=0;const y=[],v=r/2;let m=0;w(),a===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(u),this.setAttribute("position",new tn(A,3)),this.setAttribute("normal",new tn(f,3)),this.setAttribute("uv",new tn(h,2));function w(){const B=new Ce,R=new Ce;let L=0;const S=(n-e)/r;for(let M=0;M<=s;M++){const T=[],F=M/s,P=F*(n-e)+e;for(let D=0;D<=i;D++){const H=D/i,X=H*l+o,fe=Math.sin(X),ue=Math.cos(X);R.x=P*fe,R.y=-F*r+v,R.z=P*ue,A.push(R.x,R.y,R.z),B.set(fe,S,ue).normalize(),f.push(B.x,B.y,B.z),h.push(H,1-F),T.push(p++)}y.push(T)}for(let M=0;M<i;M++)for(let T=0;T<s;T++){const F=y[T][M],P=y[T+1][M],D=y[T+1][M+1],H=y[T][M+1];u.push(F,P,H),u.push(P,D,H),L+=6}c.addGroup(m,L,0),m+=L}function _(B){const R=p,L=new tt,S=new Ce;let M=0;const T=B===!0?e:n,F=B===!0?1:-1;for(let D=1;D<=i;D++)A.push(0,v*F,0),f.push(0,F,0),h.push(.5,.5),p++;const P=p;for(let D=0;D<=i;D++){const X=D/i*l+o,fe=Math.cos(X),ue=Math.sin(X);S.x=T*ue,S.y=v*F,S.z=T*fe,A.push(S.x,S.y,S.z),f.push(0,F,0),L.x=fe*.5+.5,L.y=ue*.5*F+.5,h.push(L.x,L.y),p++}for(let D=0;D<i;D++){const H=R+D,X=P+D;B===!0?u.push(X,X+1,H):u.push(X+1,X,H),M+=3}c.addGroup(m,M,B===!0?1:2),m+=M}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Jv(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class TB extends Jv{constructor(e=1,n=1,r=32,i=1,s=!1,a=0,o=Math.PI*2){super(0,e,n,r,i,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new TB(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Vd extends kn{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],a=[];o(i),c(r),u(),this.setAttribute("position",new tn(s,3)),this.setAttribute("normal",new tn(s.slice(),3)),this.setAttribute("uv",new tn(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(w){const _=new Ce,B=new Ce,R=new Ce;for(let L=0;L<n.length;L+=3)h(n[L+0],_),h(n[L+1],B),h(n[L+2],R),l(_,B,R,w)}function l(w,_,B,R){const L=R+1,S=[];for(let M=0;M<=L;M++){S[M]=[];const T=w.clone().lerp(B,M/L),F=_.clone().lerp(B,M/L),P=L-M;for(let D=0;D<=P;D++)D===0&&M===L?S[M][D]=T:S[M][D]=T.clone().lerp(F,D/P)}for(let M=0;M<L;M++)for(let T=0;T<2*(L-M)-1;T++){const F=Math.floor(T/2);T%2===0?(f(S[M][F+1]),f(S[M+1][F]),f(S[M][F])):(f(S[M][F+1]),f(S[M+1][F+1]),f(S[M+1][F]))}}function c(w){const _=new Ce;for(let B=0;B<s.length;B+=3)_.x=s[B+0],_.y=s[B+1],_.z=s[B+2],_.normalize().multiplyScalar(w),s[B+0]=_.x,s[B+1]=_.y,s[B+2]=_.z}function u(){const w=new Ce;for(let _=0;_<s.length;_+=3){w.x=s[_+0],w.y=s[_+1],w.z=s[_+2];const B=v(w)/2/Math.PI+.5,R=m(w)/Math.PI+.5;a.push(B,1-R)}p(),A()}function A(){for(let w=0;w<a.length;w+=6){const _=a[w+0],B=a[w+2],R=a[w+4],L=Math.max(_,B,R),S=Math.min(_,B,R);L>.9&&S<.1&&(_<.2&&(a[w+0]+=1),B<.2&&(a[w+2]+=1),R<.2&&(a[w+4]+=1))}}function f(w){s.push(w.x,w.y,w.z)}function h(w,_){const B=w*3;_.x=e[B+0],_.y=e[B+1],_.z=e[B+2]}function p(){const w=new Ce,_=new Ce,B=new Ce,R=new Ce,L=new tt,S=new tt,M=new tt;for(let T=0,F=0;T<s.length;T+=9,F+=6){w.set(s[T+0],s[T+1],s[T+2]),_.set(s[T+3],s[T+4],s[T+5]),B.set(s[T+6],s[T+7],s[T+8]),L.set(a[F+0],a[F+1]),S.set(a[F+2],a[F+3]),M.set(a[F+4],a[F+5]),R.copy(w).add(_).add(B).divideScalar(3);const P=v(R);y(L,F+0,w,P),y(S,F+2,_,P),y(M,F+4,B,P)}}function y(w,_,B,R){R<0&&w.x===1&&(a[_]=w.x-1),B.x===0&&B.z===0&&(a[_]=R/2/Math.PI+.5)}function v(w){return Math.atan2(w.z,-w.x)}function m(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Vd(e.vertices,e.indices,e.radius,e.details)}}class MB extends Vd{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new MB(e.radius,e.detail)}}const zb=new Ce,jb=new Ce,YI=new Ce,Gb=new fl;class Z$ extends kn{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(um*n),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,c=[0,0,0],u=["a","b","c"],A=new Array(3),f={},h=[];for(let p=0;p<l;p+=3){a?(c[0]=a.getX(p),c[1]=a.getX(p+1),c[2]=a.getX(p+2)):(c[0]=p,c[1]=p+1,c[2]=p+2);const{a:y,b:v,c:m}=Gb;if(y.fromBufferAttribute(o,c[0]),v.fromBufferAttribute(o,c[1]),m.fromBufferAttribute(o,c[2]),Gb.getNormal(YI),A[0]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,A[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,A[2]=`${Math.round(m.x*i)},${Math.round(m.y*i)},${Math.round(m.z*i)}`,!(A[0]===A[1]||A[1]===A[2]||A[2]===A[0]))for(let w=0;w<3;w++){const _=(w+1)%3,B=A[w],R=A[_],L=Gb[u[w]],S=Gb[u[_]],M=`${B}_${R}`,T=`${R}_${B}`;T in f&&f[T]?(YI.dot(f[T].normal)<=s&&(h.push(L.x,L.y,L.z),h.push(S.x,S.y,S.z)),f[T]=null):M in f||(f[M]={index0:c[w],index1:c[_],normal:YI.clone()})}}for(const p in f)if(f[p]){const{index0:y,index1:v}=f[p];zb.fromBufferAttribute(o,y),jb.fromBufferAttribute(o,v),h.push(zb.x,zb.y,zb.z),h.push(jb.x,jb.y,jb.z)}this.setAttribute("position",new tn(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let cd=class extends ld{constructor(e){super(e),this.uuid=Gl(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new ld().fromJSON(i))}return this}};const Xve={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=eX(t,0,i,n,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c,u,A,f,h;if(r&&(s=tye(t,e,s,n)),t.length>80*n){o=c=t[0],l=u=t[1];for(let p=n;p<i;p+=n)A=t[p],f=t[p+1],A<o&&(o=A),f<l&&(l=f),A>c&&(c=A),f>u&&(u=f);h=Math.max(c-o,u-l),h=h!==0?32767/h:0}return Yw(s,a,n,o,l,h,0),a}};function eX(t,e,n,r,i){let s,a;if(i===fye(t,e,n,r)>0)for(s=e;s<n;s+=r)a=mH(s,t[s],t[s+1],a);else for(s=n-r;s>=e;s-=r)a=mH(s,t[s],t[s+1],a);return a&&IB(a,a.next)&&(Zw(a),a=a.next),a}function Nm(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(IB(n,n.next)||Ni(n.prev,n,n.next)===0)){if(Zw(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Yw(t,e,n,r,i,s,a){if(!t)return;!a&&s&&aye(t,r,i,s);let o=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?Jve(t,r,i,s):Yve(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Zw(t),t=c.next,o=c.next;continue}if(t=c,t===o){a?a===1?(t=Zve(Nm(t),e,n),Yw(t,e,n,r,i,s,2)):a===2&&eye(t,e,n,r,i,s):Yw(Nm(t),e,n,r,i,s,1);break}}}function Yve(t){const e=t.prev,n=t,r=t.next;if(Ni(e,n,r)>=0)return!1;const i=e.x,s=n.x,a=r.x,o=e.y,l=n.y,c=r.y,u=i<s?i<a?i:a:s<a?s:a,A=o<l?o<c?o:c:l<c?l:c,f=i>s?i>a?i:a:s>a?s:a,h=o>l?o>c?o:c:l>c?l:c;let p=r.next;for(;p!==e;){if(p.x>=u&&p.x<=f&&p.y>=A&&p.y<=h&&Q0(i,o,s,l,a,c,p.x,p.y)&&Ni(p.prev,p,p.next)>=0)return!1;p=p.next}return!0}function Jve(t,e,n,r){const i=t.prev,s=t,a=t.next;if(Ni(i,s,a)>=0)return!1;const o=i.x,l=s.x,c=a.x,u=i.y,A=s.y,f=a.y,h=o<l?o<c?o:c:l<c?l:c,p=u<A?u<f?u:f:A<f?A:f,y=o>l?o>c?o:c:l>c?l:c,v=u>A?u>f?u:f:A>f?A:f,m=fN(h,p,e,n,r),w=fN(y,v,e,n,r);let _=t.prevZ,B=t.nextZ;for(;_&&_.z>=m&&B&&B.z<=w;){if(_.x>=h&&_.x<=y&&_.y>=p&&_.y<=v&&_!==i&&_!==a&&Q0(o,u,l,A,c,f,_.x,_.y)&&Ni(_.prev,_,_.next)>=0||(_=_.prevZ,B.x>=h&&B.x<=y&&B.y>=p&&B.y<=v&&B!==i&&B!==a&&Q0(o,u,l,A,c,f,B.x,B.y)&&Ni(B.prev,B,B.next)>=0))return!1;B=B.nextZ}for(;_&&_.z>=m;){if(_.x>=h&&_.x<=y&&_.y>=p&&_.y<=v&&_!==i&&_!==a&&Q0(o,u,l,A,c,f,_.x,_.y)&&Ni(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;B&&B.z<=w;){if(B.x>=h&&B.x<=y&&B.y>=p&&B.y<=v&&B!==i&&B!==a&&Q0(o,u,l,A,c,f,B.x,B.y)&&Ni(B.prev,B,B.next)>=0)return!1;B=B.nextZ}return!0}function Zve(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!IB(i,s)&&tX(i,r,r.next,s)&&Jw(i,s)&&Jw(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Zw(r),Zw(r.next),r=t=s),r=r.next}while(r!==t);return Nm(r)}function eye(t,e,n,r,i,s){let a=t;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&cye(a,o)){let l=nX(a,o);a=Nm(a,a.next),l=Nm(l,l.next),Yw(a,e,n,r,i,s,0),Yw(l,e,n,r,i,s,0);return}o=o.next}a=a.next}while(a!==t)}function tye(t,e,n,r){const i=[];let s,a,o,l,c;for(s=0,a=e.length;s<a;s++)o=e[s]*r,l=s<a-1?e[s+1]*r:t.length,c=eX(t,o,l,r,!1),c===c.next&&(c.steiner=!0),i.push(lye(c));for(i.sort(nye),s=0;s<i.length;s++)n=rye(i[s],n);return n}function nye(t,e){return t.x-e.x}function rye(t,e){const n=iye(t,e);if(!n)return e;const r=nX(n,t);return Nm(r,r.next),Nm(n,n.next)}function iye(t,e){let n=e,r=-1/0,i;const s=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const f=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(f<=s&&f>r&&(r=f,i=n.x<n.next.x?n:n.next,f===s))return i}n=n.next}while(n!==e);if(!i)return null;const o=i,l=i.x,c=i.y;let u=1/0,A;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Q0(a<c?s:r,a,l,c,a<c?r:s,a,n.x,n.y)&&(A=Math.abs(a-n.y)/(s-n.x),Jw(n,t)&&(A<u||A===u&&(n.x>i.x||n.x===i.x&&sye(i,n)))&&(i=n,u=A)),n=n.next;while(n!==o);return i}function sye(t,e){return Ni(t.prev,t,e.prev)<0&&Ni(e.next,t,t.next)<0}function aye(t,e,n,r){let i=t;do i.z===0&&(i.z=fN(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,oye(i)}function oye(t){let e,n,r,i,s,a,o,l,c=1;do{for(n=t,t=null,s=null,a=0;n;){for(a++,r=n,o=0,e=0;e<c&&(o++,r=r.nextZ,!!r);e++);for(l=c;o>0||l>0&&r;)o!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,o--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(a>1);return t}function fN(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function lye(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Q0(t,e,n,r,i,s,a,o){return(i-a)*(e-o)>=(t-a)*(s-o)&&(t-a)*(r-o)>=(n-a)*(e-o)&&(n-a)*(s-o)>=(i-a)*(r-o)}function cye(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!uye(t,e)&&(Jw(t,e)&&Jw(e,t)&&Aye(t,e)&&(Ni(t.prev,t,e.prev)||Ni(t,e.prev,e))||IB(t,e)&&Ni(t.prev,t,t.next)>0&&Ni(e.prev,e,e.next)>0)}function Ni(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function IB(t,e){return t.x===e.x&&t.y===e.y}function tX(t,e,n,r){const i=Kb(Ni(t,e,n)),s=Kb(Ni(t,e,r)),a=Kb(Ni(n,r,t)),o=Kb(Ni(n,r,e));return!!(i!==s&&a!==o||i===0&&Wb(t,n,e)||s===0&&Wb(t,r,e)||a===0&&Wb(n,t,r)||o===0&&Wb(n,e,r))}function Wb(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Kb(t){return t>0?1:t<0?-1:0}function uye(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&tX(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Jw(t,e){return Ni(t.prev,t,t.next)<0?Ni(t,e,t.next)>=0&&Ni(t,t.prev,e)>=0:Ni(t,e,t.prev)<0||Ni(t,t.next,e)<0}function Aye(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function nX(t,e){const n=new hN(t.i,t.x,t.y),r=new hN(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function mH(t,e,n,r){const i=new hN(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Zw(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function hN(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function fye(t,e,n,r){let i=0;for(let s=e,a=n-r;s<n;s+=r)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}class wu{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return wu.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];gH(e),vH(r,e);let a=e.length;n.forEach(gH);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,vH(r,n[l]);const o=Xve.triangulate(r,i);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function gH(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function vH(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class PB extends kn{constructor(e=new cd([new tt(.5,.5),new tt(-.5,.5),new tt(-.5,-.5),new tt(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];a(c)}this.setAttribute("position",new tn(i,3)),this.setAttribute("uv",new tn(s,2)),this.computeVertexNormals();function a(o){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,A=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,p=n.bevelSize!==void 0?n.bevelSize:h-.1,y=n.bevelOffset!==void 0?n.bevelOffset:0,v=n.bevelSegments!==void 0?n.bevelSegments:3;const m=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:hye;let _,B=!1,R,L,S,M;m&&(_=m.getSpacedPoints(u),B=!0,f=!1,R=m.computeFrenetFrames(u,!1),L=new Ce,S=new Ce,M=new Ce),f||(v=0,h=0,p=0,y=0);const T=o.extractPoints(c);let F=T.shape;const P=T.holes;if(!wu.isClockWise(F)){F=F.reverse();for(let ie=0,Te=P.length;ie<Te;ie++){const ye=P[ie];wu.isClockWise(ye)&&(P[ie]=ye.reverse())}}const H=wu.triangulateShape(F,P),X=F;for(let ie=0,Te=P.length;ie<Te;ie++){const ye=P[ie];F=F.concat(ye)}function fe(ie,Te,ye){return Te||console.error("THREE.ExtrudeGeometry: vec does not exist"),ie.clone().addScaledVector(Te,ye)}const ue=F.length,me=H.length;function J(ie,Te,ye){let _e,se,ze;const be=ie.x-Te.x,z=ie.y-Te.y,te=ye.x-ie.x,Be=ye.y-ie.y,ke=be*be+z*z,Ke=be*Be-z*te;if(Math.abs(Ke)>Number.EPSILON){const je=Math.sqrt(ke),ft=Math.sqrt(te*te+Be*Be),nt=Te.x-z/je,ct=Te.y+be/je,Tt=ye.x-Be/ft,bt=ye.y+te/ft,Ze=((Tt-nt)*Be-(bt-ct)*te)/(be*Be-z*te);_e=nt+be*Ze-ie.x,se=ct+z*Ze-ie.y;const ht=_e*_e+se*se;if(ht<=2)return new tt(_e,se);ze=Math.sqrt(ht/2)}else{let je=!1;be>Number.EPSILON?te>Number.EPSILON&&(je=!0):be<-Number.EPSILON?te<-Number.EPSILON&&(je=!0):Math.sign(z)===Math.sign(Be)&&(je=!0),je?(_e=-z,se=be,ze=Math.sqrt(ke)):(_e=be,se=z,ze=Math.sqrt(ke/2))}return new tt(_e/ze,se/ze)}const le=[];for(let ie=0,Te=X.length,ye=Te-1,_e=ie+1;ie<Te;ie++,ye++,_e++)ye===Te&&(ye=0),_e===Te&&(_e=0),le[ie]=J(X[ie],X[ye],X[_e]);const ee=[];let re,k=le.concat();for(let ie=0,Te=P.length;ie<Te;ie++){const ye=P[ie];re=[];for(let _e=0,se=ye.length,ze=se-1,be=_e+1;_e<se;_e++,ze++,be++)ze===se&&(ze=0),be===se&&(be=0),re[_e]=J(ye[_e],ye[ze],ye[be]);ee.push(re),k=k.concat(re)}for(let ie=0;ie<v;ie++){const Te=ie/v,ye=h*Math.cos(Te*Math.PI/2),_e=p*Math.sin(Te*Math.PI/2)+y;for(let se=0,ze=X.length;se<ze;se++){const be=fe(X[se],le[se],_e);W(be.x,be.y,-ye)}for(let se=0,ze=P.length;se<ze;se++){const be=P[se];re=ee[se];for(let z=0,te=be.length;z<te;z++){const Be=fe(be[z],re[z],_e);W(Be.x,Be.y,-ye)}}}const $=p+y;for(let ie=0;ie<ue;ie++){const Te=f?fe(F[ie],k[ie],$):F[ie];B?(S.copy(R.normals[0]).multiplyScalar(Te.x),L.copy(R.binormals[0]).multiplyScalar(Te.y),M.copy(_[0]).add(S).add(L),W(M.x,M.y,M.z)):W(Te.x,Te.y,0)}for(let ie=1;ie<=u;ie++)for(let Te=0;Te<ue;Te++){const ye=f?fe(F[Te],k[Te],$):F[Te];B?(S.copy(R.normals[ie]).multiplyScalar(ye.x),L.copy(R.binormals[ie]).multiplyScalar(ye.y),M.copy(_[ie]).add(S).add(L),W(M.x,M.y,M.z)):W(ye.x,ye.y,A/u*ie)}for(let ie=v-1;ie>=0;ie--){const Te=ie/v,ye=h*Math.cos(Te*Math.PI/2),_e=p*Math.sin(Te*Math.PI/2)+y;for(let se=0,ze=X.length;se<ze;se++){const be=fe(X[se],le[se],_e);W(be.x,be.y,A+ye)}for(let se=0,ze=P.length;se<ze;se++){const be=P[se];re=ee[se];for(let z=0,te=be.length;z<te;z++){const Be=fe(be[z],re[z],_e);B?W(Be.x,Be.y+_[u-1].y,_[u-1].x+ye):W(Be.x,Be.y,A+ye)}}}j(),G();function j(){const ie=i.length/3;if(f){let Te=0,ye=ue*Te;for(let _e=0;_e<me;_e++){const se=H[_e];ge(se[2]+ye,se[1]+ye,se[0]+ye)}Te=u+v*2,ye=ue*Te;for(let _e=0;_e<me;_e++){const se=H[_e];ge(se[0]+ye,se[1]+ye,se[2]+ye)}}else{for(let Te=0;Te<me;Te++){const ye=H[Te];ge(ye[2],ye[1],ye[0])}for(let Te=0;Te<me;Te++){const ye=H[Te];ge(ye[0]+ue*u,ye[1]+ue*u,ye[2]+ue*u)}}r.addGroup(ie,i.length/3-ie,0)}function G(){const ie=i.length/3;let Te=0;q(X,Te),Te+=X.length;for(let ye=0,_e=P.length;ye<_e;ye++){const se=P[ye];q(se,Te),Te+=se.length}r.addGroup(ie,i.length/3-ie,1)}function q(ie,Te){let ye=ie.length;for(;--ye>=0;){const _e=ye;let se=ye-1;se<0&&(se=ie.length-1);for(let ze=0,be=u+v*2;ze<be;ze++){const z=ue*ze,te=ue*(ze+1),Be=Te+_e+z,ke=Te+se+z,Ke=Te+se+te,je=Te+_e+te;he(Be,ke,Ke,je)}}}function W(ie,Te,ye){l.push(ie),l.push(Te),l.push(ye)}function ge(ie,Te,ye){ve(ie),ve(Te),ve(ye);const _e=i.length/3,se=w.generateTopUV(r,i,_e-3,_e-2,_e-1);Ee(se[0]),Ee(se[1]),Ee(se[2])}function he(ie,Te,ye,_e){ve(ie),ve(Te),ve(_e),ve(Te),ve(ye),ve(_e);const se=i.length/3,ze=w.generateSideWallUV(r,i,se-6,se-3,se-2,se-1);Ee(ze[0]),Ee(ze[1]),Ee(ze[3]),Ee(ze[1]),Ee(ze[2]),Ee(ze[3])}function ve(ie){i.push(l[ie*3+0]),i.push(l[ie*3+1]),i.push(l[ie*3+2])}function Ee(ie){s.push(ie.x),s.push(ie.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return dye(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=n[e.shapes[s]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new bS[i.type]().fromJSON(i)),new PB(r,e.options)}}const hye={generateTopUV:function(t,e,n,r,i){const s=e[n*3],a=e[n*3+1],o=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new tt(s,a),new tt(o,l),new tt(c,u)]},generateSideWallUV:function(t,e,n,r,i,s){const a=e[n*3],o=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],A=e[r*3+2],f=e[i*3],h=e[i*3+1],p=e[i*3+2],y=e[s*3],v=e[s*3+1],m=e[s*3+2];return Math.abs(o-u)<Math.abs(a-c)?[new tt(a,1-l),new tt(c,1-A),new tt(f,1-p),new tt(y,1-m)]:[new tt(o,1-l),new tt(u,1-A),new tt(h,1-p),new tt(v,1-m)]}};function dye(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class NB extends Vd{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new NB(e.radius,e.detail)}}class K_ extends Vd{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new K_(e.radius,e.detail)}}class LB extends kn{constructor(e=.5,n=1,r=32,i=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],c=[],u=[];let A=e;const f=(n-e)/i,h=new Ce,p=new tt;for(let y=0;y<=i;y++){for(let v=0;v<=r;v++){const m=s+v/r*a;h.x=A*Math.cos(m),h.y=A*Math.sin(m),l.push(h.x,h.y,h.z),c.push(0,0,1),p.x=(h.x/n+1)/2,p.y=(h.y/n+1)/2,u.push(p.x,p.y)}A+=f}for(let y=0;y<i;y++){const v=y*(r+1);for(let m=0;m<r;m++){const w=m+v,_=w,B=w+r+1,R=w+r+2,L=w+1;o.push(_,B,L),o.push(B,R,L)}}this.setIndex(o),this.setAttribute("position",new tn(l,3)),this.setAttribute("normal",new tn(c,3)),this.setAttribute("uv",new tn(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new LB(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class FB extends kn{constructor(e=new cd([new tt(0,.5),new tt(-.5,-.5),new tt(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new tn(i,3)),this.setAttribute("normal",new tn(s,3)),this.setAttribute("uv",new tn(a,2));function c(u){const A=i.length/3,f=u.extractPoints(n);let h=f.shape;const p=f.holes;wu.isClockWise(h)===!1&&(h=h.reverse());for(let v=0,m=p.length;v<m;v++){const w=p[v];wu.isClockWise(w)===!0&&(p[v]=w.reverse())}const y=wu.triangulateShape(h,p);for(let v=0,m=p.length;v<m;v++){const w=p[v];h=h.concat(w)}for(let v=0,m=h.length;v<m;v++){const w=h[v];i.push(w.x,w.y,0),s.push(0,0,1),a.push(w.x,w.y)}for(let v=0,m=y.length;v<m;v++){const w=y[v],_=w[0]+A,B=w[1]+A,R=w[2]+A;r.push(_,B,R),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return pye(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const a=n[e.shapes[i]];r.push(a)}return new FB(r,e.curveSegments)}}function pye(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class q_ extends kn{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:a,thetaLength:o},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+o,Math.PI);let c=0;const u=[],A=new Ce,f=new Ce,h=[],p=[],y=[],v=[];for(let m=0;m<=r;m++){const w=[],_=m/r;let B=0;m===0&&a===0?B=.5/n:m===r&&l===Math.PI&&(B=-.5/n);for(let R=0;R<=n;R++){const L=R/n;A.x=-e*Math.cos(i+L*s)*Math.sin(a+_*o),A.y=e*Math.cos(a+_*o),A.z=e*Math.sin(i+L*s)*Math.sin(a+_*o),p.push(A.x,A.y,A.z),f.copy(A).normalize(),y.push(f.x,f.y,f.z),v.push(L+B,1-_),w.push(c++)}u.push(w)}for(let m=0;m<r;m++)for(let w=0;w<n;w++){const _=u[m][w+1],B=u[m][w],R=u[m+1][w],L=u[m+1][w+1];(m!==0||a>0)&&h.push(_,B,L),(m!==r-1||l<Math.PI)&&h.push(B,R,L)}this.setIndex(h),this.setAttribute("position",new tn(p,3)),this.setAttribute("normal",new tn(y,3)),this.setAttribute("uv",new tn(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new q_(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class RB extends Vd{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new RB(e.radius,e.detail)}}class UB extends kn{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const a=[],o=[],l=[],c=[],u=new Ce,A=new Ce,f=new Ce;for(let h=0;h<=r;h++)for(let p=0;p<=i;p++){const y=p/i*s,v=h/r*Math.PI*2;A.x=(e+n*Math.cos(v))*Math.cos(y),A.y=(e+n*Math.cos(v))*Math.sin(y),A.z=n*Math.sin(v),o.push(A.x,A.y,A.z),u.x=e*Math.cos(y),u.y=e*Math.sin(y),f.subVectors(A,u).normalize(),l.push(f.x,f.y,f.z),c.push(p/i),c.push(h/r)}for(let h=1;h<=r;h++)for(let p=1;p<=i;p++){const y=(i+1)*h+p-1,v=(i+1)*(h-1)+p-1,m=(i+1)*(h-1)+p,w=(i+1)*h+p;a.push(y,v,w),a.push(v,m,w)}this.setIndex(a),this.setAttribute("position",new tn(o,3)),this.setAttribute("normal",new tn(l,3)),this.setAttribute("uv",new tn(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new UB(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class DB extends kn{constructor(e=1,n=.4,r=64,i=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:a},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],c=[],u=[],A=new Ce,f=new Ce,h=new Ce,p=new Ce,y=new Ce,v=new Ce,m=new Ce;for(let _=0;_<=r;++_){const B=_/r*s*Math.PI*2;w(B,s,a,e,h),w(B+.01,s,a,e,p),v.subVectors(p,h),m.addVectors(p,h),y.crossVectors(v,m),m.crossVectors(y,v),y.normalize(),m.normalize();for(let R=0;R<=i;++R){const L=R/i*Math.PI*2,S=-n*Math.cos(L),M=n*Math.sin(L);A.x=h.x+(S*m.x+M*y.x),A.y=h.y+(S*m.y+M*y.y),A.z=h.z+(S*m.z+M*y.z),l.push(A.x,A.y,A.z),f.subVectors(A,h).normalize(),c.push(f.x,f.y,f.z),u.push(_/r),u.push(R/i)}}for(let _=1;_<=r;_++)for(let B=1;B<=i;B++){const R=(i+1)*(_-1)+(B-1),L=(i+1)*_+(B-1),S=(i+1)*_+B,M=(i+1)*(_-1)+B;o.push(R,L,M),o.push(L,S,M)}this.setIndex(o),this.setAttribute("position",new tn(l,3)),this.setAttribute("normal",new tn(c,3)),this.setAttribute("uv",new tn(u,2));function w(_,B,R,L,S){const M=Math.cos(_),T=Math.sin(_),F=R/B*_,P=Math.cos(F);S.x=L*(2+P)*.5*M,S.y=L*(2+P)*T*.5,S.z=L*Math.sin(F)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new DB(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class OB extends kn{constructor(e=new p4(new Ce(-1,-1,0),new Ce(-1,1,0),new Ce(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const a=e.computeFrenetFrames(n,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new Ce,l=new Ce,c=new tt;let u=new Ce;const A=[],f=[],h=[],p=[];y(),this.setIndex(p),this.setAttribute("position",new tn(A,3)),this.setAttribute("normal",new tn(f,3)),this.setAttribute("uv",new tn(h,2));function y(){for(let _=0;_<n;_++)v(_);v(s===!1?n:0),w(),m()}function v(_){u=e.getPointAt(_/n,u);const B=a.normals[_],R=a.binormals[_];for(let L=0;L<=i;L++){const S=L/i*Math.PI*2,M=Math.sin(S),T=-Math.cos(S);l.x=T*B.x+M*R.x,l.y=T*B.y+M*R.y,l.z=T*B.z+M*R.z,l.normalize(),f.push(l.x,l.y,l.z),o.x=u.x+r*l.x,o.y=u.y+r*l.y,o.z=u.z+r*l.z,A.push(o.x,o.y,o.z)}}function m(){for(let _=1;_<=n;_++)for(let B=1;B<=i;B++){const R=(i+1)*(_-1)+(B-1),L=(i+1)*_+(B-1),S=(i+1)*_+B,M=(i+1)*(_-1)+B;p.push(R,L,M),p.push(L,S,M)}}function w(){for(let _=0;_<=n;_++)for(let B=0;B<=i;B++)c.x=_/n,c.y=B/i,h.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new OB(new bS[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class rX extends kn{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new Ce,s=new Ce;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const A=l[c],f=A.start,h=A.count;for(let p=f,y=f+h;p<y;p+=3)for(let v=0;v<3;v++){const m=o.getX(p+v),w=o.getX(p+(v+1)%3);i.fromBufferAttribute(a,m),s.fromBufferAttribute(a,w),yH(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const u=3*o+c,A=3*o+(c+1)%3;i.fromBufferAttribute(a,u),s.fromBufferAttribute(a,A),yH(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new tn(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function yH(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var wH=Object.freeze({__proto__:null,BoxGeometry:$m,CapsuleGeometry:CB,CircleGeometry:BB,ConeGeometry:TB,CylinderGeometry:Jv,DodecahedronGeometry:MB,EdgesGeometry:Z$,ExtrudeGeometry:PB,IcosahedronGeometry:NB,LatheGeometry:W_,OctahedronGeometry:K_,PlaneGeometry:G_,PolyhedronGeometry:Vd,RingGeometry:LB,ShapeGeometry:FB,SphereGeometry:q_,TetrahedronGeometry:RB,TorusGeometry:UB,TorusKnotGeometry:DB,TubeGeometry:OB,WireframeGeometry:rX});class iX extends _o{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Kt(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class sX extends Eu{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class g4 extends _o{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Kt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qd,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class aX extends g4{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new tt(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return qi(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Kt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Kt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Kt(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class oX extends _o{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Kt(16777215),this.specular=new Kt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qd,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=k_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class lX extends _o{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Kt(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qd,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class cX extends _o{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qd,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class uX extends _o{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Kt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Kt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qd,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=k_,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class AX extends _o{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Kt(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Qd,this.normalScale=new tt(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fX extends Go{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Yp(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function hX(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function dX(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function dN(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,a=0;a!==r;++s){const o=n[s]*e;for(let l=0;l!==e;++l)i[a++]=t[o+l]}return i}function v4(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let a=s[r];if(a!==void 0)if(Array.isArray(a))do a=s[r],a!==void 0&&(e.push(s.time),n.push.apply(n,a)),s=t[i++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[r],a!==void 0&&(e.push(s.time),a.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do a=s[r],a!==void 0&&(e.push(s.time),n.push(a)),s=t[i++];while(s!==void 0)}function mye(t,e,n,r,i=30){const s=t.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),A=[],f=[];for(let h=0;h<c.times.length;++h){const p=c.times[h]*i;if(!(p<n||p>=r)){A.push(c.times[h]);for(let y=0;y<u;++y)f.push(c.values[h*u+y])}}A.length!==0&&(c.times=Yp(A,c.times.constructor),c.values=Yp(f,c.values.constructor),a.push(c))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function gye(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let a=0;a<i;++a){const o=n.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(m){return m.name===o.name&&m.ValueTypeName===l});if(c===void 0)continue;let u=0;const A=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=A/3);let f=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);const p=o.times.length-1;let y;if(s<=o.times[0]){const m=u,w=A-u;y=o.values.slice(m,w)}else if(s>=o.times[p]){const m=p*A+u,w=m+A-u;y=o.values.slice(m,w)}else{const m=o.createInterpolant(),w=u,_=A-u;m.evaluate(s),y=m.resultBuffer.slice(w,_)}l==="quaternion"&&new go().fromArray(y).normalize().conjugate().toArray(y);const v=c.times.length;for(let m=0;m<v;++m){const w=m*h+f;if(l==="quaternion")go.multiplyQuaternionsFlat(c.values,w,y,0,c.values,w);else{const _=h-f*2;for(let B=0;B<_;++B)c.values[w+B]-=y[B]}}}return t.blendMode=qR,t}const vye={convertArray:Yp,isTypedArray:hX,getKeyframeOrder:dX,sortedArray:dN,flattenJSON:v4,subclip:mye,makeClipAdditive:gye};class $_{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let a;n:{i:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<s)break i;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(s=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=s)){const o=n[1];e<o&&(r=2,s=o);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}a=r,r=0;break n}break e}for(;r<a;){const o=r+a>>>1;e<n[o]?a=o:r=o+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let a=0;a!==i;++a)n[a]=r[s+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class pX extends $_{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:qp,endingEnd:qp}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,a=e+1,o=i[s],l=i[a];if(o===void 0)switch(this.getSettings_().endingStart){case $p:s=e,o=2*n-r;break;case Gw:s=i.length-2,o=n+i[s]-i[s+1];break;default:s=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case $p:a=e,l=2*r-n;break;case Gw:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-o),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=a*u}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,A=this._offsetNext,f=this._weightPrev,h=this._weightNext,p=(r-n)/(i-n),y=p*p,v=y*p,m=-f*v+2*f*y-f*p,w=(1+f)*v+(-1.5-2*f)*y+(-.5+f)*p+1,_=(-1-h)*v+(1.5+h)*y+.5*p,B=h*v-h*y;for(let R=0;R!==o;++R)s[R]=m*a[u+R]+w*a[c+R]+_*a[l+R]+B*a[A+R];return s}}class y4 extends $_{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(r-n)/(i-n),A=1-u;for(let f=0;f!==o;++f)s[f]=a[c+f]*A+a[l+f]*u;return s}}class mX extends $_{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Iu{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Yp(n,this.TimeBufferType),this.values=Yp(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Yp(e.times,Array),values:Yp(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new mX(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new y4(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new pX(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case zw:n=this.InterpolantFactoryMethodDiscrete;break;case jw:n=this.InterpolantFactoryMethodLinear;break;case m2:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return zw;case this.InterpolantFactoryMethodLinear:return jw;case this.InterpolantFactoryMethodSmooth:return m2}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,a=i-1;for(;s!==i&&r[s]<e;)++s;for(;a!==-1&&r[a]>n;)--a;if(++a,s!==0||a!==i){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=r.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(i!==void 0&&hX(i))for(let o=0,l=i.length;o!==l;++o){const c=i[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===m2,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(i)l=!0;else{const A=o*r,f=A-r,h=A+r;for(let p=0;p!==r;++p){const y=n[A+p];if(y!==n[f+p]||y!==n[h+p]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const A=o*r,f=a*r;for(let h=0;h!==r;++h)n[f+h]=n[A+h]}++a}}if(s>0){e[a]=e[s];for(let o=s*r,l=a*r,c=0;c!==r;++c)n[l+c]=n[o+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Iu.prototype.TimeBufferType=Float32Array;Iu.prototype.ValueBufferType=Float32Array;Iu.prototype.DefaultInterpolation=jw;class Xm extends Iu{}Xm.prototype.ValueTypeName="bool";Xm.prototype.ValueBufferType=Array;Xm.prototype.DefaultInterpolation=zw;Xm.prototype.InterpolantFactoryMethodLinear=void 0;Xm.prototype.InterpolantFactoryMethodSmooth=void 0;class w4 extends Iu{}w4.prototype.ValueTypeName="color";class e_ extends Iu{}e_.prototype.ValueTypeName="number";class gX extends $_{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(r-n)/(i-n);let c=e*o;for(let u=c+o;c!==u;c+=4)go.slerpFlat(s,0,a,c-o,a,c,l);return s}}class Zv extends Iu{InterpolantFactoryMethodLinear(e){return new gX(this.times,this.values,this.getValueSize(),e)}}Zv.prototype.ValueTypeName="quaternion";Zv.prototype.DefaultInterpolation=jw;Zv.prototype.InterpolantFactoryMethodSmooth=void 0;class Ym extends Iu{}Ym.prototype.ValueTypeName="string";Ym.prototype.ValueBufferType=Array;Ym.prototype.DefaultInterpolation=zw;Ym.prototype.InterpolantFactoryMethodLinear=void 0;Ym.prototype.InterpolantFactoryMethodSmooth=void 0;class t_ extends Iu{}t_.prototype.ValueTypeName="vector";class n_{constructor(e,n=-1,r,i=mB){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Gl(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,o=r.length;a!==o;++a)n.push(wye(r[a]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=r.length;s!==a;++s)n.push(Iu.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,a=[];for(let o=0;o<s;o++){let l=[],c=[];l.push((o+s-1)%s,o,(o+1)%s),c.push(0,1,0);const u=dX(l);l=dN(l,1,u),c=dN(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),a.push(new e_(".morphTargetInfluences["+n[o].name+"]",l,c).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.name.match(s);if(u&&u.length>1){const A=u[1];let f=i[A];f||(i[A]=f=[]),f.push(c)}}const a=[];for(const o in i)a.push(this.CreateFromMorphTargetSequence(o,i[o],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(A,f,h,p,y){if(h.length!==0){const v=[],m=[];v4(h,v,m,p),v.length!==0&&y.push(new A(f,v,m))}},i=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let A=0;A<c.length;A++){const f=c[A].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let p;for(p=0;p<f.length;p++)if(f[p].morphTargets)for(let y=0;y<f[p].morphTargets.length;y++)h[f[p].morphTargets[y]]=-1;for(const y in h){const v=[],m=[];for(let w=0;w!==f[p].morphTargets.length;++w){const _=f[p];v.push(_.time),m.push(_.morphTarget===y?1:0)}i.push(new e_(".morphTargetInfluence["+y+"]",v,m))}l=h.length*a}else{const h=".bones["+n[A].name+"]";r(t_,h+".position",f,"pos",i),r(Zv,h+".quaternion",f,"rot",i),r(t_,h+".scale",f,"scl",i)}}return i.length===0?null:new this(s,l,i,o)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function yye(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return e_;case"vector":case"vector2":case"vector3":case"vector4":return t_;case"color":return w4;case"quaternion":return Zv;case"bool":case"boolean":return Xm;case"string":return Ym}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function wye(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=yye(t.type);if(t.times===void 0){const n=[],r=[];v4(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const cf={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class _4{constructor(e,n,r){const i=this;let s=!1,a=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){o++,s===!1&&i.onStart!==void 0&&i.onStart(u,a,o),s=!0},this.itemEnd=function(u){a++,i.onProgress!==void 0&&i.onProgress(u,a,o),a===o&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,A){return c.push(u,A),this},this.removeHandler=function(u){const A=c.indexOf(u);return A!==-1&&c.splice(A,2),this},this.getHandler=function(u){for(let A=0,f=c.length;A<f;A+=2){const h=c[A],p=c[A+1];if(h.global&&(h.lastIndex=0),h.test(u))return p}return null}}}const vX=new _4;class Wo{constructor(e){this.manager=e!==void 0?e:vX,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}Wo.DEFAULT_MATERIAL_NAME="__DEFAULT";const qA={};class _ye extends Error{constructor(e,n){super(e),this.response=n}}class vA extends Wo{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=cf.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(qA[e]!==void 0){qA[e].push({onLoad:n,onProgress:r,onError:i});return}qA[e]=[],qA[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=qA[e],A=c.body.getReader(),f=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),h=f?parseInt(f):0,p=h!==0;let y=0;const v=new ReadableStream({start(m){w();function w(){A.read().then(({done:_,value:B})=>{if(_)m.close();else{y+=B.byteLength;const R=new ProgressEvent("progress",{lengthComputable:p,loaded:y,total:h});for(let L=0,S=u.length;L<S;L++){const M=u[L];M.onProgress&&M.onProgress(R)}m.enqueue(B),w()}})}}});return new Response(v)}else throw new _ye(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,o));case"json":return c.json();default:if(o===void 0)return c.text();{const A=/charset="?([^;"\s]*)"?/i.exec(o),f=A&&A[1]?A[1].toLowerCase():void 0,h=new TextDecoder(f);return c.arrayBuffer().then(p=>h.decode(p))}}}).then(c=>{cf.add(e,c);const u=qA[e];delete qA[e];for(let A=0,f=u.length;A<f;A++){const h=u[A];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=qA[e];if(u===void 0)throw this.manager.itemError(e),c;delete qA[e];for(let A=0,f=u.length;A<f;A++){const h=u[A];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class xye extends Wo{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new vA(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=n_.parse(e[r]);n.push(i)}return n}}class bye extends Wo{constructor(e){super(e)}load(e,n,r,i){const s=this,a=[],o=new EB,l=new vA(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(A){l.load(e[A],function(f){const h=s.parse(f,!0);a[A]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},c+=1,c===6&&(h.mipmapCount===1&&(o.minFilter=as),o.image=a,o.format=h.format,o.needsUpdate=!0,n&&n(o))},r,i)}if(Array.isArray(e))for(let A=0,f=e.length;A<f;++A)u(A);else l.load(e,function(A){const f=s.parse(A,!0);if(f.isCubemap){const h=f.mipmaps.length/f.mipmapCount;for(let p=0;p<h;p++){a[p]={mipmaps:[]};for(let y=0;y<f.mipmapCount;y++)a[p].mipmaps.push(f.mipmaps[p*f.mipmapCount+y]),a[p].format=f.format,a[p].width=f.width,a[p].height=f.height}o.image=a}else o.image.width=f.width,o.image.height=f.height,o.mipmaps=f.mipmaps;f.mipmapCount===1&&(o.minFilter=as),o.format=f.format,o.needsUpdate=!0,n&&n(o)},r,i);return o}}class r_ extends Wo{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=cf.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a;const o=Xw("img");function l(){u(),cf.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(A){u(),i&&i(A),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class Eye extends Wo{constructor(e){super(e)}load(e,n,r,i){const s=new z_;s.colorSpace=bs;const a=new r_(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(c){a.load(e[c],function(u){s.images[c]=u,o++,o===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class Sye extends Wo{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new fm,o=new vA(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:ho,a.wrapT=c.wrapT!==void 0?c.wrapT:ho,a.magFilter=c.magFilter!==void 0?c.magFilter:as,a.minFilter=c.minFilter!==void 0?c.minFilter:as,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?a.colorSpace=c.colorSpace:c.encoding!==void 0&&(a.encoding=c.encoding),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=bd),c.mipmapCount===1&&(a.minFilter=as),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,n&&n(a,c)},r,i),a}}class yX extends Wo{constructor(e){super(e)}load(e,n,r,i){const s=new fs,a=new r_(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class zd extends pr{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Kt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class wX extends zd{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(pr.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Kt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const JI=new Sn,_H=new Ce,xH=new Ce;class x4{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new tt(512,512),this.map=null,this.mapPass=null,this.matrix=new Sn,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new j_,this._frameExtents=new tt(1,1),this._viewportCount=1,this._viewports=[new Pr(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;_H.setFromMatrixPosition(e.matrixWorld),n.position.copy(_H),xH.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(xH),n.updateMatrixWorld(),JI.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(JI),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(JI)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Cye extends x4{constructor(){super(new os(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=wv*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class _X extends zd{constructor(e,n,r=0,i=Math.PI/3,s=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(pr.DEFAULT_UP),this.updateMatrix(),this.target=new pr,this.distance=r,this.angle=i,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new Cye}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const bH=new Sn,t1=new Ce,ZI=new Ce;class Bye extends x4{constructor(){super(new os(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new tt(4,2),this._viewportCount=6,this._viewports=[new Pr(2,1,1,1),new Pr(0,1,1,1),new Pr(3,1,1,1),new Pr(1,1,1,1),new Pr(3,0,1,1),new Pr(1,0,1,1)],this._cubeDirections=[new Ce(1,0,0),new Ce(-1,0,0),new Ce(0,0,1),new Ce(0,0,-1),new Ce(0,1,0),new Ce(0,-1,0)],this._cubeUps=[new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,1,0),new Ce(0,0,1),new Ce(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),t1.setFromMatrixPosition(e.matrixWorld),r.position.copy(t1),ZI.copy(r.position),ZI.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(ZI),r.updateMatrixWorld(),i.makeTranslation(-t1.x,-t1.y,-t1.z),bH.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(bH)}}class xX extends zd{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new Bye}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Tye extends x4{constructor(){super(new od(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class bX extends zd{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(pr.DEFAULT_UP),this.updateMatrix(),this.target=new pr,this.shadow=new Tye}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class EX extends zd{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class SX extends zd{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class CX{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Ce)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*s),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*s)),n.addScaledVector(a[6],.315392*(3*s*s-1)),n.addScaledVector(a[7],1.092548*(r*s)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*s),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*s),n.addScaledVector(a[6],.743125*s*s-.247708),n.addScaledVector(a[7],2*.429043*r*s),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class BX extends zd{constructor(e=new CX,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class kB extends Wo{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,a=new vA(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=kB.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Kt().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(i.uniforms[s]={},a.type){case"t":i.uniforms[s].value=r(a.value);break;case"c":i.uniforms[s].value=new Kt().setHex(a.value);break;case"v2":i.uniforms[s].value=new tt().fromArray(a.value);break;case"v3":i.uniforms[s].value=new Ce().fromArray(a.value);break;case"v4":i.uniforms[s].value=new Pr().fromArray(a.value);break;case"m3":i.uniforms[s].value=new Cn().fromArray(a.value);break;case"m4":i.uniforms[s].value=new Sn().fromArray(a.value);break;default:i.uniforms[s].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new tt().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new tt().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:iX,SpriteMaterial:l4,RawShaderMaterial:sX,ShaderMaterial:Eu,PointsMaterial:u4,MeshPhysicalMaterial:aX,MeshStandardMaterial:g4,MeshPhongMaterial:oX,MeshToonMaterial:lX,MeshNormalMaterial:cX,MeshLambertMaterial:uX,MeshDepthMaterial:i4,MeshDistanceMaterial:s4,MeshBasicMaterial:Hd,MeshMatcapMaterial:AX,LineDashedMaterial:fX,LineBasicMaterial:Go,Material:_o};return new n[e]}}class pN{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class TX extends kn{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class MX extends Wo{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new vA(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(h,p){if(n[p]!==void 0)return n[p];const v=h.interleavedBuffers[p],m=s(h,v.buffer),w=U0(v.type,m),_=new xB(w,v.stride);return _.uuid=v.uuid,n[p]=_,_}function s(h,p){if(r[p]!==void 0)return r[p];const v=h.arrayBuffers[p],m=new Uint32Array(v).buffer;return r[p]=m,m}const a=e.isInstancedBufferGeometry?new TX:new kn,o=e.data.index;if(o!==void 0){const h=U0(o.type,o.array);a.setIndex(new Fr(h,1))}const l=e.data.attributes;for(const h in l){const p=l[h];let y;if(p.isInterleavedBufferAttribute){const v=i(e.data,p.data);y=new Pm(v,p.itemSize,p.offset,p.normalized)}else{const v=U0(p.type,p.array),m=p.isInstancedBufferAttribute?xv:Fr;y=new m(v,p.itemSize,p.normalized)}p.name!==void 0&&(y.name=p.name),p.usage!==void 0&&y.setUsage(p.usage),a.setAttribute(h,y)}const c=e.data.morphAttributes;if(c)for(const h in c){const p=c[h],y=[];for(let v=0,m=p.length;v<m;v++){const w=p[v];let _;if(w.isInterleavedBufferAttribute){const B=i(e.data,w.data);_=new Pm(B,w.itemSize,w.offset,w.normalized)}else{const B=U0(w.type,w.array);_=new Fr(B,w.itemSize,w.normalized)}w.name!==void 0&&(_.name=w.name),y.push(_)}a.morphAttributes[h]=y}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const A=e.data.groups||e.data.drawcalls||e.data.offsets;if(A!==void 0)for(let h=0,p=A.length;h!==p;++h){const y=A[h];a.addGroup(y.start,y.count,y.materialIndex)}const f=e.data.boundingSphere;if(f!==void 0){const h=new Ce;f.center!==void 0&&h.fromArray(f.center),a.boundingSphere=new vo(h,f.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class Mye extends Wo{constructor(e){super(e)}load(e,n,r,i){const s=this,a=this.path===""?pN.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new vA(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(A){i!==void 0&&i(A),console.error("THREE:ObjectLoader: Can't parse "+e+".",A.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?pN.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new vA(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,n),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(c)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,s,l,o,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let A=!1;for(const f in a)if(a[f].data instanceof HTMLImageElement){A=!0;break}A===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,o,a,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new cd().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new bB().fromJSON(e[s],i);r[o.uuid]=o}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new MX;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in wH?o=wH[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new kB;s.setTextures(n);for(let a=0,o=e.length;a<o;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=n_.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function a(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return a(u)}else return l.data?{data:U0(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new _4(n);s=new r_(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const A=e[c],f=A.url;if(Array.isArray(f)){const h=[];for(let p=0,y=f.length;p<y;p++){const v=f[p],m=o(v);m!==null&&(m instanceof HTMLImageElement?h.push(m):h.push(new fm(m.data,m.width,m.height)))}i[A.uuid]=new Xp(h)}else{const h=o(A.url);i[A.uuid]=new Xp(h)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await i.loadAsync(l)}else return a.data?{data:U0(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new r_(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const u=[];for(let A=0,f=c.length;A<f;A++){const h=c[A],p=await s(h);p!==null&&(p instanceof HTMLImageElement?u.push(p):u.push(new fm(p.data,p.width,p.height)))}r[l.uuid]=new Xp(u)}else{const u=await s(l.url);r[l.uuid]=new Xp(u)}}}return r}parseTextures(e,n){function r(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const i={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=n[o.image],c=l.data;let u;Array.isArray(c)?(u=new z_,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new fm:u=new fs,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=o.uuid,o.name!==void 0&&(u.name=o.name),o.mapping!==void 0&&(u.mapping=r(o.mapping,Iye)),o.channel!==void 0&&(u.channel=o.channel),o.offset!==void 0&&u.offset.fromArray(o.offset),o.repeat!==void 0&&u.repeat.fromArray(o.repeat),o.center!==void 0&&u.center.fromArray(o.center),o.rotation!==void 0&&(u.rotation=o.rotation),o.wrap!==void 0&&(u.wrapS=r(o.wrap[0],EH),u.wrapT=r(o.wrap[1],EH)),o.format!==void 0&&(u.format=o.format),o.internalFormat!==void 0&&(u.internalFormat=o.internalFormat),o.type!==void 0&&(u.type=o.type),o.colorSpace!==void 0&&(u.colorSpace=o.colorSpace),o.encoding!==void 0&&(u.encoding=o.encoding),o.minFilter!==void 0&&(u.minFilter=r(o.minFilter,SH)),o.magFilter!==void 0&&(u.magFilter=r(o.magFilter,SH)),o.anisotropy!==void 0&&(u.anisotropy=o.anisotropy),o.flipY!==void 0&&(u.flipY=o.flipY),o.generateMipmaps!==void 0&&(u.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(u.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(u.compareFunction=o.compareFunction),o.userData!==void 0&&(u.userData=o.userData),i[o.uuid]=u}return i}parseObject(e,n,r,i,s){let a;function o(f){return n[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const h=[];for(let p=0,y=f.length;p<y;p++){const v=f[p];r[v]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",v),h.push(r[v])}return h}return r[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",f),i[f]}let u,A;switch(e.type){case"Scene":a=new o4,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Kt(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new _B(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new wB(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new os(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new od(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new EX(e.color,e.intensity);break;case"DirectionalLight":a=new bX(e.color,e.intensity);break;case"PointLight":a=new xX(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new SX(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new _X(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new wX(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new BX().fromJSON(e);break;case"SkinnedMesh":u=o(e.geometry),A=l(e.material),a=new z$(u,A),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":u=o(e.geometry),A=l(e.material),a=new Qs(u,A);break;case"InstancedMesh":u=o(e.geometry),A=l(e.material);const f=e.count,h=e.instanceMatrix,p=e.instanceColor;a=new j$(u,A,f),a.instanceMatrix=new xv(new Float32Array(h.array),16),p!==void 0&&(a.instanceColor=new xv(new Float32Array(p.array),p.itemSize));break;case"BatchedMesh":u=o(e.geometry),A=l(e.material),a=new G$(e.maxGeometryCount,e.maxVertexCount,e.maxIndexCount,A),a.geometry=u,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._visibility=e.visibility,a._active=e.active,a._bounds=e.bounds.map(y=>{const v=new Ho;v.min.fromArray(y.boxMin),v.max.fromArray(y.boxMax);const m=new vo;return m.radius=y.sphereRadius,m.center.fromArray(y.sphereCenter),{boxInitialized:y.boxInitialized,box:v,sphereInitialized:y.sphereInitialized,sphere:m}}),a._maxGeometryCount=e.maxGeometryCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._geometryCount=e.geometryCount,a._matricesTexture=c(e.matricesTexture.uuid);break;case"LOD":a=new V$;break;case"Line":a=new Ed(o(e.geometry),l(e.material));break;case"LineLoop":a=new W$(o(e.geometry),l(e.material));break;case"LineSegments":a=new bA(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new K$(o(e.geometry),l(e.material));break;case"Sprite":a=new H$(l(e.material));break;case"Group":a=new k0;break;case"Bone":a=new c4;break;default:a=new pr}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let h=0;h<f.length;h++)a.add(this.parseObject(f[h],n,r,i,s))}if(e.animations!==void 0){const f=e.animations;for(let h=0;h<f.length;h++){const p=f[h];a.animations.push(s[p])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const f=e.levels;for(let h=0;h<f.length;h++){const p=f[h],y=a.getObjectByProperty("uuid",p.object);y!==void 0&&a.addLevel(y,p.distance,p.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Iye={UVMapping:dB,CubeReflectionMapping:Bf,CubeRefractionMapping:xd,EquirectangularReflectionMapping:kw,EquirectangularRefractionMapping:Qw,CubeUVReflectionMapping:Xv},EH={RepeatWrapping:Hw,ClampToEdgeWrapping:ho,MirroredRepeatWrapping:Vw},SH={NearestFilter:is,NearestMipmapNearestFilter:wS,NearestMipmapLinearFilter:J1,LinearFilter:as,LinearMipmapNearestFilter:QR,LinearMipmapLinearFilter:bd};class Pye extends Wo{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=cf.get(e);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(c=>{n&&n(c),s.manager.itemEnd(e)}).catch(c=>{i&&i(c)});return}return setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return cf.add(e,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),cf.remove(e),s.manager.itemError(e),s.manager.itemEnd(e)});cf.add(e,l),s.manager.itemStart(e)}}let qb;class b4{static getContext(){return qb===void 0&&(qb=new(window.AudioContext||window.webkitAudioContext)),qb}static setContext(e){qb=e}}class Nye extends Wo{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new vA(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);b4.getContext().decodeAudioData(c,function(A){n(A)}).catch(o)}catch(c){o(c)}},r,i);function o(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const CH=new Sn,BH=new Sn,_p=new Sn;class Lye{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new os,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new os,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,_p.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,a=n.near*Math.tan(um*n.fov*.5)/n.zoom;let o,l;BH.elements[12]=-i,CH.elements[12]=i,o=-a*n.aspect+s,l=a*n.aspect+s,_p.elements[0]=2*n.near/(l-o),_p.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(_p),o=-a*n.aspect-s,l=a*n.aspect-s,_p.elements[0]=2*n.near/(l-o),_p.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(_p)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(BH),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(CH)}}class E4{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=TH(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=TH();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function TH(){return(typeof performance>"u"?Date:performance).now()}const xp=new Ce,MH=new go,Fye=new Ce,bp=new Ce;class Rye extends pr{constructor(){super(),this.type="AudioListener",this.context=b4.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new E4}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(xp,MH,Fye),bp.set(0,0,-1).applyQuaternion(MH),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(xp.x,i),n.positionY.linearRampToValueAtTime(xp.y,i),n.positionZ.linearRampToValueAtTime(xp.z,i),n.forwardX.linearRampToValueAtTime(bp.x,i),n.forwardY.linearRampToValueAtTime(bp.y,i),n.forwardZ.linearRampToValueAtTime(bp.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(xp.x,xp.y,xp.z),n.setOrientation(bp.x,bp.y,bp.z,r.x,r.y,r.z)}}let IX=class extends pr{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}};const Ep=new Ce,IH=new go,Uye=new Ce,Sp=new Ce;class Dye extends IX{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Ep,IH,Uye),Sp.set(0,0,1).applyQuaternion(IH);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Ep.x,r),n.positionY.linearRampToValueAtTime(Ep.y,r),n.positionZ.linearRampToValueAtTime(Ep.z,r),n.orientationX.linearRampToValueAtTime(Sp.x,r),n.orientationY.linearRampToValueAtTime(Sp.y,r),n.orientationZ.linearRampToValueAtTime(Sp.z,r)}else n.setPosition(Ep.x,Ep.y,Ep.z),n.setOrientation(Sp.x,Sp.y,Sp.z)}}class Oye{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class PX{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,a;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==i;++o)r[s+o]=r[o];a=n}else{a+=n;const o=n/a;this._mixBufferRegion(r,s,0,o,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,a=i;s!==a;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let a=0;a!==s;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){go.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const a=this._workIndex*s;go.multiplyQuaternionsFlat(e,a,e,n,e,r),go.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,s){const a=1-i;for(let o=0;o!==s;++o){const l=n+o;e[l]=e[l]*a+e[r+o]*i}}_lerpAdditive(e,n,r,i,s){for(let a=0;a!==s;++a){const o=n+a;e[o]=e[o]+e[r+a]*i}}}const S4="\\[\\]\\.:\\/",kye=new RegExp("["+S4+"]","g"),C4="[^"+S4+"]",Qye="[^"+S4.replace("\\.","")+"]",Hye=/((?:WC+[\/:])*)/.source.replace("WC",C4),Vye=/(WCOD+)?/.source.replace("WCOD",Qye),zye=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",C4),jye=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",C4),Gye=new RegExp("^"+Hye+Vye+zye+jye+"$"),Wye=["material","materials","bones","map"];class Kye{constructor(e,n,r){const i=r||cr.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class cr{constructor(e,n,r){this.path=n,this.parsedPath=r||cr.parseTrackName(n),this.node=cr.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new cr.Composite(e,n,r):new cr(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(kye,"")}static parseTrackName(e){const n=Gye.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);Wye.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===n||o.uuid===n)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=cr.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[i];if(a===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}cr.Composite=Kye;cr.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};cr.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};cr.prototype.GetterByBindingType=[cr.prototype._getValue_direct,cr.prototype._getValue_array,cr.prototype._getValue_arrayElement,cr.prototype._getValue_toArray];cr.prototype.SetterByBindingTypeAndVersioning=[[cr.prototype._setValue_direct,cr.prototype._setValue_direct_setNeedsUpdate,cr.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[cr.prototype._setValue_array,cr.prototype._setValue_array_setNeedsUpdate,cr.prototype._setValue_array_setMatrixWorldNeedsUpdate],[cr.prototype._setValue_arrayElement,cr.prototype._setValue_arrayElement_setNeedsUpdate,cr.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[cr.prototype._setValue_fromArray,cr.prototype._setValue_fromArray_setNeedsUpdate,cr.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class qye{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Gl(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,c=this.nCachedObjects_;for(let u=0,A=arguments.length;u!==A;++u){const f=arguments[u],h=f.uuid;let p=n[h];if(p===void 0){p=l++,n[h]=p,e.push(f);for(let y=0,v=a;y!==v;++y)s[y].push(new cr(f,r[y],i[y]))}else if(p<c){o=e[p];const y=--c,v=e[y];n[v.uuid]=p,e[p]=v,n[h]=y,e[y]=f;for(let m=0,w=a;m!==w;++m){const _=s[m],B=_[y];let R=_[p];_[p]=B,R===void 0&&(R=new cr(f,r[m],i[m])),_[y]=R}}else e[p]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const A=s++,f=e[A];n[f.uuid]=u,e[u]=f,n[c]=A,e[A]=l;for(let h=0,p=i;h!==p;++h){const y=r[h],v=y[A],m=y[u];y[u]=v,y[A]=m}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],u=c.uuid,A=n[u];if(A!==void 0)if(delete n[u],A<s){const f=--s,h=e[f],p=--a,y=e[p];n[h.uuid]=A,e[A]=h,n[y.uuid]=f,e[f]=y,e.pop();for(let v=0,m=i;v!==m;++v){const w=r[v],_=w[f],B=w[p];w[A]=_,w[f]=B,w.pop()}}else{const f=--a,h=e[f];f>0&&(n[h.uuid]=A),e[A]=h,e.pop();for(let p=0,y=i;p!==y;++p){const v=r[p];v[A]=v[f],v.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const a=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,A=new Array(c);i=s.length,r[e]=i,a.push(e),o.push(n),s.push(A);for(let f=u,h=l.length;f!==h;++f){const p=l[f];A[f]=new cr(p,e,n)}return A}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],c=e[o];n[c]=r,a[r]=l,a.pop(),s[r]=s[o],s.pop(),i[r]=i[o],i.pop()}}}class NX{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,a=s.length,o=new Array(a),l={endingStart:qp,endingEnd:qp};for(let c=0;c!==a;++c){const u=s[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=A$,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,a=s/i,o=i/s;e.warp(1,a,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/a,c[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case qR:for(let u=0,A=l.length;u!==A;++u)l[u].evaluate(a),c[u].accumulateAdditive(o);break;case mB:default:for(let u=0,A=l.length;u!==A;++u)l[u].evaluate(a),c[u].accumulate(i,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const a=r===f$;if(e===0)return s===-1?i:a&&(s&1)===1?n-i:i;if(r===u$){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const o=Math.floor(i/n);i-=n*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=$p,i.endingEnd=$p):(e?i.endingStart=this.zeroSlopeAtStart?$p:qp:i.endingStart=Gw,n?i.endingEnd=this.zeroSlopeAtEnd?$p:qp:i.endingEnd=Gw)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=n,o[1]=s+e,l[1]=r,this}}const $ye=new Float32Array(1);class Xye extends Qf{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,a=e._propertyBindings,o=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let A=0;A!==s;++A){const f=i[A],h=f.name;let p=u[h];if(p!==void 0)++p.referenceCount,a[A]=p;else{if(p=a[A],p!==void 0){p._cacheIndex===null&&(++p.referenceCount,this._addInactiveBinding(p,l,h));continue}const y=n&&n._propertyBindings[A].binding.parsedPath;p=new PX(cr.create(r,h,y),f.ValueTypeName,f.getValueSize()),++p.referenceCount,this._addInactiveBinding(p,l,h),a[A]=p}o[A].resultBuffer=p.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let a=s[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const A=o.actionByRoot,f=(e._localRoot||this._root).uuid;delete A[f],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,a=this._bindingsByRootAndName,o=a[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete o[s],Object.keys(o).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new y4(new Float32Array(2),new Float32Array(2),1,$ye),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let a=typeof e=="string"?n_.findByName(i,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let c=null;if(r===void 0&&(a!==null?r=a.blendMode:r=mB),l!==void 0){const A=l.actionByRoot[s];if(A!==void 0&&A.blendMode===r)return A;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const u=new NX(this,a,n,r);return this._bindAction(u,c),this._addInactiveAction(u,o,s),u}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?n_.findByName(r,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const c=a[o];this._deactivateAction(c);const u=c._cacheIndex,A=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,A._cacheIndex=u,n[u]=A,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const o=r[a].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class B4{constructor(e){this.value=e}clone(){return new B4(this.value.clone===void 0?this.value:this.value.clone())}}let Yye=0;class Jye extends Qf{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Yye++}),this.name="",this.usage=$w,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class Zye extends xB{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class e1e{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class LX{constructor(e,n,r=0,i=1/0){this.ray=new qm(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Am,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return mN(e,this,r,n),r.sort(PH),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)mN(e[i],this,r,n);return r.sort(PH),r}}function PH(t,e){return t.distance-e.distance}function mN(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,a=i.length;s<a;s++)mN(i[s],e,n,!0)}}class ES{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(qi(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class t1e{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const NH=new tt;class FX{constructor(e=new tt(1/0,1/0),n=new tt(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=NH.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,NH).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const LH=new Ce,$b=new Ce;class n1e{constructor(e=new Ce,n=new Ce){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){LH.subVectors(e,this.start),$b.subVectors(this.end,this.start);const r=$b.dot($b);let s=$b.dot(LH)/r;return n&&(s=qi(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const FH=new Ce;class r1e extends pr{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new kn,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const c=a/l*Math.PI*2,u=o/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new tn(i,3));const s=new Go({fog:!1,toneMapped:!1});this.cone=new bA(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),FH.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(FH),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const gh=new Ce,Xb=new Sn,e5=new Sn;class i1e extends bA{constructor(e){const n=RX(e),r=new kn,i=[],s=[],a=new Kt(0,0,1),o=new Kt(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}r.setAttribute("position",new tn(i,3)),r.setAttribute("color",new tn(s,3));const l=new Go({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");e5.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<n.length;s++){const o=n[s];o.parent&&o.parent.isBone&&(Xb.multiplyMatrices(e5,o.matrixWorld),gh.setFromMatrixPosition(Xb),i.setXYZ(a,gh.x,gh.y,gh.z),Xb.multiplyMatrices(e5,o.parent.matrixWorld),gh.setFromMatrixPosition(Xb),i.setXYZ(a+1,gh.x,gh.y,gh.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function RX(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,RX(t.children[n]));return e}class s1e extends Qs{constructor(e,n,r){const i=new q_(n,4,2),s=new Hd({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const a1e=new Ce,RH=new Kt,UH=new Kt;class o1e extends pr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new K_(n);i.rotateY(Math.PI*.5),this.material=new Hd({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),a=new Float32Array(s.count*3);i.setAttribute("color",new Fr(a,3)),this.add(new Qs(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");RH.copy(this.light.color),UH.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?RH:UH;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(a1e.setFromMatrixPosition(this.light.matrixWorld).negate())}}class l1e extends bA{constructor(e=10,n=10,r=4473924,i=8947848){r=new Kt(r),i=new Kt(i);const s=n/2,a=e/n,o=e/2,l=[],c=[];for(let f=0,h=0,p=-o;f<=n;f++,p+=a){l.push(-o,0,p,o,0,p),l.push(p,0,-o,p,0,o);const y=f===s?r:i;y.toArray(c,h),h+=3,y.toArray(c,h),h+=3,y.toArray(c,h),h+=3,y.toArray(c,h),h+=3}const u=new kn;u.setAttribute("position",new tn(l,3)),u.setAttribute("color",new tn(c,3));const A=new Go({vertexColors:!0,toneMapped:!1});super(u,A),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class c1e extends bA{constructor(e=10,n=16,r=8,i=64,s=4473924,a=8947848){s=new Kt(s),a=new Kt(a);const o=[],l=[];if(n>1)for(let A=0;A<n;A++){const f=A/n*(Math.PI*2),h=Math.sin(f)*e,p=Math.cos(f)*e;o.push(0,0,0),o.push(h,0,p);const y=A&1?s:a;l.push(y.r,y.g,y.b),l.push(y.r,y.g,y.b)}for(let A=0;A<r;A++){const f=A&1?s:a,h=e-e/r*A;for(let p=0;p<i;p++){let y=p/i*(Math.PI*2),v=Math.sin(y)*h,m=Math.cos(y)*h;o.push(v,0,m),l.push(f.r,f.g,f.b),y=(p+1)/i*(Math.PI*2),v=Math.sin(y)*h,m=Math.cos(y)*h,o.push(v,0,m),l.push(f.r,f.g,f.b)}}const c=new kn;c.setAttribute("position",new tn(o,3)),c.setAttribute("color",new tn(l,3));const u=new Go({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const DH=new Ce,Yb=new Ce,OH=new Ce;class u1e extends pr{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new kn;i.setAttribute("position",new tn([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Go({fog:!1,toneMapped:!1});this.lightPlane=new Ed(i,s),this.add(this.lightPlane),i=new kn,i.setAttribute("position",new tn([0,0,0,0,0,1],3)),this.targetLine=new Ed(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),DH.setFromMatrixPosition(this.light.matrixWorld),Yb.setFromMatrixPosition(this.light.target.matrixWorld),OH.subVectors(Yb,DH),this.lightPlane.lookAt(Yb),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Yb),this.targetLine.scale.z=OH.length()}}const Jb=new Ce,ji=new V_;class A1e extends bA{constructor(e){const n=new kn,r=new Go({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(p,y){l(p),l(y)}function l(p){i.push(0,0,0),s.push(0,0,0),a[p]===void 0&&(a[p]=[]),a[p].push(i.length/3-1)}n.setAttribute("position",new tn(i,3)),n.setAttribute("color",new tn(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new Kt(16755200),u=new Kt(16711680),A=new Kt(43775),f=new Kt(16777215),h=new Kt(3355443);this.setColors(c,u,A,f,h)}setColors(e,n,r,i,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;ji.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),es("c",n,e,ji,0,0,-1),es("t",n,e,ji,0,0,1),es("n1",n,e,ji,-r,-i,-1),es("n2",n,e,ji,r,-i,-1),es("n3",n,e,ji,-r,i,-1),es("n4",n,e,ji,r,i,-1),es("f1",n,e,ji,-r,-i,1),es("f2",n,e,ji,r,-i,1),es("f3",n,e,ji,-r,i,1),es("f4",n,e,ji,r,i,1),es("u1",n,e,ji,r*.7,i*1.1,-1),es("u2",n,e,ji,-r*.7,i*1.1,-1),es("u3",n,e,ji,0,i*2,-1),es("cf1",n,e,ji,-r,0,1),es("cf2",n,e,ji,r,0,1),es("cf3",n,e,ji,0,-i,1),es("cf4",n,e,ji,0,i,1),es("cn1",n,e,ji,-r,0,-1),es("cn2",n,e,ji,r,0,-1),es("cn3",n,e,ji,0,-i,-1),es("cn4",n,e,ji,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function es(t,e,n,r,i,s,a){Jb.set(i,s,a).unproject(r);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let c=0,u=o.length;c<u;c++)l.setXYZ(o[c],Jb.x,Jb.y,Jb.z)}}const Zb=new Ho;class f1e extends bA{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new kn;s.setIndex(new Fr(r,1)),s.setAttribute("position",new Fr(i,3)),super(s,new Go({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&Zb.setFromObject(this.object),Zb.isEmpty())return;const n=Zb.min,r=Zb.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class h1e extends bA{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new kn;s.setIndex(new Fr(r,1)),s.setAttribute("position",new tn(i,3)),super(s,new Go({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class d1e extends Ed{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new kn;a.setAttribute("position",new tn(s,3)),a.computeBoundingSphere(),super(a,new Go({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new kn;l.setAttribute("position",new tn(o,3)),l.computeBoundingSphere(),this.add(new Qs(l,new Hd({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const kH=new Ce;let eE,t5;class p1e extends pr{constructor(e=new Ce(0,0,1),n=new Ce(0,0,0),r=1,i=16776960,s=r*.2,a=s*.2){super(),this.type="ArrowHelper",eE===void 0&&(eE=new kn,eE.setAttribute("position",new tn([0,0,0,0,1,0],3)),t5=new Jv(0,.5,1,5,1),t5.translate(0,-.5,0)),this.position.copy(n),this.line=new Ed(eE,new Go({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Qs(t5,new Hd({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{kH.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(kH,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class m1e extends bA{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new kn;i.setAttribute("position",new tn(n,3)),i.setAttribute("color",new tn(r,3));const s=new Go({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Kt,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Ch{constructor(){this.type="ShapePath",this.color=new Kt,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new ld,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,a){return this.currentPath.bezierCurveTo(e,n,r,i,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(m){const w=[];for(let _=0,B=m.length;_<B;_++){const R=m[_],L=new cd;L.curves=R.curves,w.push(L)}return w}function r(m,w){const _=w.length;let B=!1;for(let R=_-1,L=0;L<_;R=L++){let S=w[R],M=w[L],T=M.x-S.x,F=M.y-S.y;if(Math.abs(F)>Number.EPSILON){if(F<0&&(S=w[L],T=-T,M=w[R],F=-F),m.y<S.y||m.y>M.y)continue;if(m.y===S.y){if(m.x===S.x)return!0}else{const P=F*(m.x-S.x)-T*(m.y-S.y);if(P===0)return!0;if(P<0)continue;B=!B}}else{if(m.y!==S.y)continue;if(M.x<=m.x&&m.x<=S.x||S.x<=m.x&&m.x<=M.x)return!0}}return B}const i=wu.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const c=[];if(s.length===1)return o=s[0],l=new cd,l.curves=o.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const A=[],f=[];let h=[],p=0,y;f[p]=void 0,h[p]=[];for(let m=0,w=s.length;m<w;m++)o=s[m],y=o.getPoints(),a=i(y),a=e?!a:a,a?(!u&&f[p]&&p++,f[p]={s:new cd,p:y},f[p].s.curves=o.curves,u&&p++,h[p]=[]):h[p].push({h:o,p:y[0]});if(!f[0])return n(s);if(f.length>1){let m=!1,w=0;for(let _=0,B=f.length;_<B;_++)A[_]=[];for(let _=0,B=f.length;_<B;_++){const R=h[_];for(let L=0;L<R.length;L++){const S=R[L];let M=!0;for(let T=0;T<f.length;T++)r(S.p,f[T].p)&&(_!==T&&w++,M?(M=!1,A[T].push(S)):m=!0);M&&A[_].push(S)}}w>0&&m===!1&&(h=A)}let v;for(let m=0,w=f.length;m<w;m++){l=f[m].s,c.push(l),v=h[m];for(let _=0,B=v.length;_<B;_++)l.holes.push(v[_].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:O_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=O_);const g1e=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:kR,AddEquation:Uh,AddOperation:$q,AdditiveAnimationBlendMode:qR,AdditiveBlending:gS,AgXToneMapping:e$,AlphaFormat:i$,AlwaysCompare:x$,AlwaysDepth:Vq,AlwaysStencilFunc:aN,AmbientLight:EX,AnimationAction:NX,AnimationClip:n_,AnimationLoader:xye,AnimationMixer:Xye,AnimationObjectGroup:qye,AnimationUtils:vye,ArcCurve:q$,ArrayCamera:O$,ArrowHelper:p1e,AttachedBindMode:F3,Audio:IX,AudioAnalyser:Oye,AudioContext:b4,AudioListener:Rye,AudioLoader:Nye,AxesHelper:m1e,BackSide:Qo,BasicDepthPacking:h$,BasicShadowMap:Eq,BatchedMesh:G$,Bone:c4,BooleanKeyframeTrack:Xm,Box2:FX,Box3:Ho,Box3Helper:h1e,BoxGeometry:$m,BoxHelper:f1e,BufferAttribute:Fr,BufferGeometry:kn,BufferGeometryLoader:MX,ByteType:n$,Cache:cf,Camera:V_,CameraHelper:A1e,CanvasTexture:Vve,CapsuleGeometry:CB,CatmullRomCurve3:$$,CineonToneMapping:Jq,CircleGeometry:BB,ClampToEdgeWrapping:ho,Clock:E4,Color:Kt,ColorKeyframeTrack:w4,ColorManagement:Mr,CompressedArrayTexture:Qve,CompressedCubeTexture:Hve,CompressedTexture:EB,CompressedTextureLoader:bye,ConeGeometry:TB,ConstantAlphaFactor:kq,ConstantColorFactor:Dq,CubeCamera:M$,CubeReflectionMapping:Bf,CubeRefractionMapping:xd,CubeTexture:z_,CubeTextureLoader:Eye,CubeUVReflectionMapping:Xv,CubicBezierCurve:f4,CubicBezierCurve3:X$,CubicInterpolant:pX,CullFaceBack:M3,CullFaceFront:bq,CullFaceFrontBack:Mhe,CullFaceNone:xq,Curve:Mu,CurvePath:J$,CustomBlending:Sq,CustomToneMapping:Zq,CylinderGeometry:Jv,Cylindrical:t1e,Data3DTexture:ZR,DataArrayTexture:vB,DataTexture:fm,DataTextureLoader:Sye,DataUtils:kde,DecrementStencilOp:Hhe,DecrementWrapStencilOp:zhe,DefaultLoadingManager:vX,DepthFormat:sd,DepthStencilFormat:Im,DepthTexture:r4,DetachedBindMode:t$,DirectionalLight:bX,DirectionalLightHelper:u1e,DiscreteInterpolant:mX,DisplayP3ColorSpace:gB,DodecahedronGeometry:MB,DoubleSide:Ju,DstAlphaFactor:Nq,DstColorFactor:Fq,DynamicCopyUsage:ide,DynamicDrawUsage:Jhe,DynamicReadUsage:tde,EdgesGeometry:Z$,EllipseCurve:SB,EqualCompare:v$,EqualDepth:jq,EqualStencilFunc:Khe,EquirectangularReflectionMapping:kw,EquirectangularRefractionMapping:Qw,Euler:H_,EventDispatcher:Qf,ExtrudeGeometry:PB,FileLoader:vA,Float16BufferAttribute:Gde,Float32BufferAttribute:tn,Float64BufferAttribute:Wde,FloatType:du,Fog:_B,FogExp2:wB,FramebufferTexture:kve,FrontSide:Cf,Frustum:j_,GLBufferAttribute:e1e,GLSL1:ade,GLSL3:oN,GreaterCompare:y$,GreaterDepth:Wq,GreaterEqualCompare:_$,GreaterEqualDepth:Gq,GreaterEqualStencilFunc:Yhe,GreaterStencilFunc:$he,GridHelper:l1e,Group:k0,HalfFloatType:vv,HemisphereLight:wX,HemisphereLightHelper:o1e,IcosahedronGeometry:NB,ImageBitmapLoader:Pye,ImageLoader:r_,ImageUtils:JR,IncrementStencilOp:Qhe,IncrementWrapStencilOp:Vhe,InstancedBufferAttribute:xv,InstancedBufferGeometry:TX,InstancedInterleavedBuffer:Zye,InstancedMesh:j$,Int16BufferAttribute:zde,Int32BufferAttribute:jde,Int8BufferAttribute:Qde,IntType:HR,InterleavedBuffer:xB,InterleavedBufferAttribute:Pm,Interpolant:$_,InterpolateDiscrete:zw,InterpolateLinear:jw,InterpolateSmooth:m2,InvertStencilOp:jhe,KeepStencilOp:Fp,KeyframeTrack:Iu,LOD:V$,LatheGeometry:W_,Layers:Am,LessCompare:g$,LessDepth:zq,LessEqualCompare:XR,LessEqualDepth:Ow,LessEqualStencilFunc:qhe,LessStencilFunc:Whe,Light:zd,LightProbe:BX,Line:Ed,Line3:n1e,LineBasicMaterial:Go,LineCurve:h4,LineCurve3:Y$,LineDashedMaterial:fX,LineLoop:W$,LineSegments:bA,LinearDisplayP3ColorSpace:Q_,LinearEncoding:$R,LinearFilter:as,LinearInterpolant:y4,LinearMipMapLinearFilter:Fhe,LinearMipMapNearestFilter:Lhe,LinearMipmapLinearFilter:bd,LinearMipmapNearestFilter:QR,LinearSRGBColorSpace:gA,LinearToneMapping:Xq,LinearTransfer:Ww,Loader:Wo,LoaderUtils:pN,LoadingManager:_4,LoopOnce:u$,LoopPingPong:f$,LoopRepeat:A$,LuminanceAlphaFormat:a$,LuminanceFormat:s$,MOUSE:Np,Material:_o,MaterialLoader:kB,MathUtils:_de,Matrix3:Cn,Matrix4:Sn,MaxEquation:L3,Mesh:Qs,MeshBasicMaterial:Hd,MeshDepthMaterial:i4,MeshDistanceMaterial:s4,MeshLambertMaterial:uX,MeshMatcapMaterial:AX,MeshNormalMaterial:cX,MeshPhongMaterial:oX,MeshPhysicalMaterial:aX,MeshStandardMaterial:g4,MeshToonMaterial:lX,MinEquation:N3,MirroredRepeatWrapping:Vw,MixOperation:qq,MultiplyBlending:P3,MultiplyOperation:k_,NearestFilter:is,NearestMipMapLinearFilter:Nhe,NearestMipMapNearestFilter:Phe,NearestMipmapLinearFilter:J1,NearestMipmapNearestFilter:wS,NeverCompare:m$,NeverDepth:Hq,NeverStencilFunc:Ghe,NoBlending:gf,NoColorSpace:Ol,NoToneMapping:iA,NormalAnimationBlendMode:mB,NormalBlending:cm,NotEqualCompare:w$,NotEqualDepth:Kq,NotEqualStencilFunc:Xhe,NumberKeyframeTrack:e_,Object3D:pr,ObjectLoader:Mye,ObjectSpaceNormalMap:p$,OctahedronGeometry:K_,OneFactor:Mq,OneMinusConstantAlphaFactor:Qq,OneMinusConstantColorFactor:Oq,OneMinusDstAlphaFactor:Lq,OneMinusDstColorFactor:Rq,OneMinusSrcAlphaFactor:yS,OneMinusSrcColorFactor:Pq,OrthographicCamera:od,P3Primaries:qw,PCFShadowMap:hB,PCFSoftShadowMap:Y1,PMREMGenerator:cN,Path:ld,PerspectiveCamera:os,Plane:ef,PlaneGeometry:G_,PlaneHelper:d1e,PointLight:xX,PointLightHelper:s1e,Points:K$,PointsMaterial:u4,PolarGridHelper:c1e,PolyhedronGeometry:Vd,PositionalAudio:Dye,PropertyBinding:cr,PropertyMixer:PX,QuadraticBezierCurve:d4,QuadraticBezierCurve3:p4,Quaternion:go,QuaternionKeyframeTrack:Zv,QuaternionLinearInterpolant:gX,RED_GREEN_RGTC2_Format:iN,RED_RGTC1_Format:c$,REVISION:O_,RGBADepthPacking:d$,RGBAFormat:Do,RGBAIntegerFormat:WR,RGBA_ASTC_10x10_Format:J3,RGBA_ASTC_10x5_Format:$3,RGBA_ASTC_10x6_Format:X3,RGBA_ASTC_10x8_Format:Y3,RGBA_ASTC_12x10_Format:Z3,RGBA_ASTC_12x12_Format:eN,RGBA_ASTC_4x4_Format:H3,RGBA_ASTC_5x4_Format:V3,RGBA_ASTC_5x5_Format:z3,RGBA_ASTC_6x5_Format:j3,RGBA_ASTC_6x6_Format:G3,RGBA_ASTC_8x5_Format:W3,RGBA_ASTC_8x6_Format:K3,RGBA_ASTC_8x8_Format:q3,RGBA_BPTC_Format:p2,RGBA_ETC2_EAC_Format:Q3,RGBA_PVRTC_2BPPV1_Format:O3,RGBA_PVRTC_4BPPV1_Format:D3,RGBA_S3TC_DXT1_Format:f2,RGBA_S3TC_DXT3_Format:h2,RGBA_S3TC_DXT5_Format:d2,RGB_BPTC_SIGNED_Format:tN,RGB_BPTC_UNSIGNED_Format:nN,RGB_ETC1_Format:KR,RGB_ETC2_Format:k3,RGB_PVRTC_2BPPV1_Format:U3,RGB_PVRTC_4BPPV1_Format:R3,RGB_S3TC_DXT1_Format:A2,RGFormat:l$,RGIntegerFormat:GR,RawShaderMaterial:sX,Ray:qm,Raycaster:LX,Rec709Primaries:Kw,RectAreaLight:SX,RedFormat:o$,RedIntegerFormat:jR,ReinhardToneMapping:Yq,RenderTarget:S$,RepeatWrapping:Hw,ReplaceStencilOp:khe,ReverseSubtractEquation:Bq,RingGeometry:LB,SIGNED_RED_GREEN_RGTC2_Format:sN,SIGNED_RED_RGTC1_Format:rN,SRGBColorSpace:bs,SRGBTransfer:Jr,Scene:o4,ShaderChunk:Dn,ShaderLib:Au,ShaderMaterial:Eu,ShadowMaterial:iX,Shape:cd,ShapeGeometry:FB,ShapePath:Ch,ShapeUtils:wu,ShortType:r$,Skeleton:bB,SkeletonHelper:i1e,SkinnedMesh:z$,Source:Xp,Sphere:vo,SphereGeometry:q_,Spherical:ES,SphericalHarmonics3:CX,SplineCurve:m4,SpotLight:_X,SpotLightHelper:r1e,Sprite:H$,SpriteMaterial:l4,SrcAlphaFactor:vS,SrcAlphaSaturateFactor:Uq,SrcColorFactor:Iq,StaticCopyUsage:rde,StaticDrawUsage:$w,StaticReadUsage:ede,StereoCamera:Lye,StreamCopyUsage:sde,StreamDrawUsage:Zhe,StreamReadUsage:nde,StringKeyframeTrack:Ym,SubtractEquation:Cq,SubtractiveBlending:I3,TOUCH:Lp,TangentSpaceNormalMap:Qd,TetrahedronGeometry:RB,Texture:fs,TextureLoader:yX,TorusGeometry:UB,TorusKnotGeometry:DB,Triangle:fl,TriangleFanDrawMode:Dhe,TriangleStripDrawMode:Uhe,TrianglesDrawMode:Rhe,TubeGeometry:OB,TwoPassDoubleSide:Ihe,UVMapping:dB,Uint16BufferAttribute:e4,Uint32BufferAttribute:t4,Uint8BufferAttribute:Hde,Uint8ClampedBufferAttribute:Vde,Uniform:B4,UniformsGroup:Jye,UniformsLib:Ut,UniformsUtils:T$,UnsignedByteType:sA,UnsignedInt248Type:id,UnsignedIntType:lf,UnsignedShort4444Type:VR,UnsignedShort5551Type:zR,UnsignedShortType:pB,VSMShadowMap:au,Vector2:tt,Vector3:Ce,Vector4:Pr,VectorKeyframeTrack:t_,VideoTexture:Ove,WebGL1Renderer:k$,WebGL3DRenderTarget:Bde,WebGLArrayRenderTarget:Cde,WebGLCoordinateSystem:pu,WebGLCubeRenderTarget:I$,WebGLMultipleRenderTargets:Tde,WebGLRenderTarget:bu,WebGLRenderer:a4,WebGLUtils:D$,WebGPUCoordinateSystem:yv,WireframeGeometry:rX,WrapAroundEnding:Gw,ZeroCurvatureEnding:qp,ZeroFactor:Tq,ZeroSlopeEnding:$p,ZeroStencilOp:Ohe,_SRGBAFormat:_S,createCanvasElement:E$,sRGBEncoding:ad},Symbol.toStringTag,{value:"Module"}));var UX={exports:{}},Jm={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Jm.ConcurrentRoot=1;Jm.ContinuousEventPriority=4;Jm.DefaultEventPriority=16;Jm.DiscreteEventPriority=1;Jm.IdleEventPriority=536870912;Jm.LegacyRoot=0;UX.exports=Jm;var H0=UX.exports;function v1e(t){let e;const n=new Set,r=(c,u)=>{const A=typeof c=="function"?c(e):c;if(A!==e){const f=e;e=u?A:Object.assign({},e,A),n.forEach(h=>h(e,f))}},i=()=>e,s=(c,u=i,A=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=u(e);function h(){const p=u(e);if(!A(f,p)){const y=f;c(f=p,y)}}return n.add(h),()=>n.delete(h)},l={setState:r,getState:i,subscribe:(c,u,A)=>u||A?s(c,u,A):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const y1e=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),QH=y1e?Y.useEffect:Y.useLayoutEffect;function w1e(t){const e=typeof t=="function"?v1e(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=Y.useReducer(v=>v+1,0),a=e.getState(),o=Y.useRef(a),l=Y.useRef(r),c=Y.useRef(i),u=Y.useRef(!1),A=Y.useRef();A.current===void 0&&(A.current=r(a));let f,h=!1;(o.current!==a||l.current!==r||c.current!==i||u.current)&&(f=r(a),h=!i(A.current,f)),QH(()=>{h&&(A.current=f),o.current=a,l.current=r,c.current=i,u.current=!1});const p=Y.useRef(a);QH(()=>{const v=()=>{try{const w=e.getState(),_=l.current(w);c.current(A.current,_)||(o.current=w,A.current=_,s())}catch{u.current=!0,s()}},m=e.subscribe(v);return e.getState()!==p.current&&v(),m},[]);const y=h?f:A.current;return Y.useDebugValue(y),y};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const _1e=t=>typeof t=="object"&&typeof t.then=="function",Jp=[];function DX(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function OX(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of Jp)if(DX(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=Jp.indexOf(i);s!==-1&&Jp.splice(s,1)},promise:(_1e(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(Jp.push(i),!n)throw i.promise}const x1e=(t,e,n)=>OX(t,e,!1,n),b1e=(t,e,n)=>void OX(t,e,!0,n),E1e=t=>{if(t===void 0||t.length===0)Jp.splice(0,Jp.length);else{const e=Jp.find(n=>DX(t,n.keys,n.equal));e&&e.remove()}};var kX={exports:{}},QB={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S1e=Y,C1e=Symbol.for("react.element"),B1e=Symbol.for("react.fragment"),T1e=Object.prototype.hasOwnProperty,M1e=S1e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I1e={key:!0,ref:!0,__self:!0,__source:!0};function QX(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)T1e.call(e,r)&&!I1e.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:C1e,type:t,key:s,ref:a,props:i,_owner:M1e.current}}QB.Fragment=B1e;QB.jsx=QX;QB.jsxs=QX;kX.exports=QB;var cu=kX.exports,HX={exports:{}},VX={exports:{}},zX={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(J,le){var ee=J.length;J.push(le);e:for(;0<ee;){var re=ee-1>>>1,k=J[re];if(0<i(k,le))J[re]=le,J[ee]=k,ee=re;else break e}}function n(J){return J.length===0?null:J[0]}function r(J){if(J.length===0)return null;var le=J[0],ee=J.pop();if(ee!==le){J[0]=ee;e:for(var re=0,k=J.length,$=k>>>1;re<$;){var j=2*(re+1)-1,G=J[j],q=j+1,W=J[q];if(0>i(G,ee))q<k&&0>i(W,G)?(J[re]=W,J[q]=ee,re=q):(J[re]=G,J[j]=ee,re=j);else if(q<k&&0>i(W,ee))J[re]=W,J[q]=ee,re=q;else break e}}return le}function i(J,le){var ee=J.sortIndex-le.sortIndex;return ee!==0?ee:J.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,A=null,f=3,h=!1,p=!1,y=!1,v=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(J){for(var le=n(c);le!==null;){if(le.callback===null)r(c);else if(le.startTime<=J)r(c),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(c)}}function B(J){if(y=!1,_(J),!p)if(n(l)!==null)p=!0,ue(R);else{var le=n(c);le!==null&&me(B,le.startTime-J)}}function R(J,le){p=!1,y&&(y=!1,m(M),M=-1),h=!0;var ee=f;try{for(_(le),A=n(l);A!==null&&(!(A.expirationTime>le)||J&&!P());){var re=A.callback;if(typeof re=="function"){A.callback=null,f=A.priorityLevel;var k=re(A.expirationTime<=le);le=t.unstable_now(),typeof k=="function"?A.callback=k:A===n(l)&&r(l),_(le)}else r(l);A=n(l)}if(A!==null)var $=!0;else{var j=n(c);j!==null&&me(B,j.startTime-le),$=!1}return $}finally{A=null,f=ee,h=!1}}var L=!1,S=null,M=-1,T=5,F=-1;function P(){return!(t.unstable_now()-F<T)}function D(){if(S!==null){var J=t.unstable_now();F=J;var le=!0;try{le=S(!0,J)}finally{le?H():(L=!1,S=null)}}else L=!1}var H;if(typeof w=="function")H=function(){w(D)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,fe=X.port2;X.port1.onmessage=D,H=function(){fe.postMessage(null)}}else H=function(){v(D,0)};function ue(J){S=J,L||(L=!0,H())}function me(J,le){M=v(function(){J(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_continueExecution=function(){p||h||(p=!0,ue(R))},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(J){switch(f){case 1:case 2:case 3:var le=3;break;default:le=f}var ee=f;f=le;try{return J()}finally{f=ee}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(J,le){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var ee=f;f=J;try{return le()}finally{f=ee}},t.unstable_scheduleCallback=function(J,le,ee){var re=t.unstable_now();switch(typeof ee=="object"&&ee!==null?(ee=ee.delay,ee=typeof ee=="number"&&0<ee?re+ee:re):ee=re,J){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=ee+k,J={id:u++,callback:le,priorityLevel:J,startTime:ee,expirationTime:k,sortIndex:-1},ee>re?(J.sortIndex=ee,e(c,J),n(l)===null&&J===n(c)&&(y?(m(M),M=-1):y=!0,me(B,ee-re))):(J.sortIndex=k,e(l,J),p||h||(p=!0,ue(R))),J},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(J){var le=f;return function(){var ee=f;f=le;try{return J.apply(this,arguments)}finally{f=ee}}}})(zX);VX.exports=zX;var gN=VX.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var P1e=function(e){var n={},r=Y,i=gN,s=Object.assign;function a(d){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+d,E=1;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E]);return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),p=Symbol.for("react.context"),y=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),m=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),B=Symbol.for("react.offscreen"),R=Symbol.iterator;function L(d){return d===null||typeof d!="object"?null:(d=R&&d[R]||d["@@iterator"],typeof d=="function"?d:null)}function S(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case A:return"StrictMode";case v:return"Suspense";case m:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case p:return(d.displayName||"Context")+".Consumer";case h:return(d._context.displayName||"Context")+".Provider";case y:var g=d.render;return d=d.displayName,d||(d=g.displayName||g.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case w:return g=d.displayName||null,g!==null?g:S(d.type)||"Memo";case _:g=d._payload,d=d._init;try{return S(d(g))}catch{}}return null}function M(d){var g=d.type;switch(d.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=g.render,d=d.displayName||d.name||"",g.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return S(g);case 8:return g===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function T(d){var g=d,E=d;if(d.alternate)for(;g.return;)g=g.return;else{d=g;do g=d,g.flags&4098&&(E=g.return),d=g.return;while(d)}return g.tag===3?E:null}function F(d){if(T(d)!==d)throw Error(a(188))}function P(d){var g=d.alternate;if(!g){if(g=T(d),g===null)throw Error(a(188));return g!==d?null:d}for(var E=d,N=g;;){var V=E.return;if(V===null)break;var ne=V.alternate;if(ne===null){if(N=V.return,N!==null){E=N;continue}break}if(V.child===ne.child){for(ne=V.child;ne;){if(ne===E)return F(V),d;if(ne===N)return F(V),g;ne=ne.sibling}throw Error(a(188))}if(E.return!==N.return)E=V,N=ne;else{for(var Ie=!1,He=V.child;He;){if(He===E){Ie=!0,E=V,N=ne;break}if(He===N){Ie=!0,N=V,E=ne;break}He=He.sibling}if(!Ie){for(He=ne.child;He;){if(He===E){Ie=!0,E=ne,N=V;break}if(He===N){Ie=!0,N=ne,E=V;break}He=He.sibling}if(!Ie)throw Error(a(189))}}if(E.alternate!==N)throw Error(a(190))}if(E.tag!==3)throw Error(a(188));return E.stateNode.current===E?d:g}function D(d){return d=P(d),d!==null?H(d):null}function H(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var g=H(d);if(g!==null)return g;d=d.sibling}return null}function X(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var g=X(d);if(g!==null)return g}d=d.sibling}return null}var fe=Array.isArray,ue=e.getPublicInstance,me=e.getRootHostContext,J=e.getChildHostContext,le=e.prepareForCommit,ee=e.resetAfterCommit,re=e.createInstance,k=e.appendInitialChild,$=e.finalizeInitialChildren,j=e.prepareUpdate,G=e.shouldSetTextContent,q=e.createTextInstance,W=e.scheduleTimeout,ge=e.cancelTimeout,he=e.noTimeout,ve=e.isPrimaryRenderer,Ee=e.supportsMutation,ie=e.supportsPersistence,Te=e.supportsHydration,ye=e.getInstanceFromNode,_e=e.preparePortalMount,se=e.getCurrentEventPriority,ze=e.detachDeletedInstance,be=e.supportsMicrotasks,z=e.scheduleMicrotask,te=e.supportsTestSelectors,Be=e.findFiberRoot,ke=e.getBoundingRect,Ke=e.getTextContent,je=e.isHiddenSubtree,ft=e.matchAccessibilityRole,nt=e.setFocusIfFocusable,ct=e.setupIntersectionObserver,Tt=e.appendChild,bt=e.appendChildToContainer,Ze=e.commitTextUpdate,ht=e.commitMount,Gt=e.commitUpdate,Nt=e.insertBefore,Qt=e.insertInContainerBefore,Ct=e.removeChild,Pe=e.removeChildFromContainer,ut=e.resetTextContent,_t=e.hideInstance,Ft=e.hideTextInstance,lt=e.unhideInstance,Le=e.unhideTextInstance,Bt=e.clearContainer,Et=e.cloneInstance,xt=e.createContainerChildSet,Mt=e.appendChildToContainerChildSet,vn=e.finalizeContainerChildren,ln=e.replaceContainerChildren,Tn=e.cloneHiddenInstance,Gn=e.cloneHiddenTextInstance,St=e.canHydrateInstance,Ar=e.canHydrateTextInstance,Sr=e.canHydrateSuspenseInstance,Gr=e.isSuspenseInstancePending,Dr=e.isSuspenseInstanceFallback,Cr=e.registerSuspenseInstanceRetry,Br=e.getNextHydratableSibling,bo=e.getFirstHydratableChild,za=e.getFirstHydratableChildWithinContainer,$i=e.getFirstHydratableChildWithinSuspenseInstance,Ks=e.hydrateInstance,Is=e.hydrateTextInstance,Ps=e.hydrateSuspenseInstance,xe=e.getNextHydratableInstanceAfterSuspenseInstance,Ge=e.commitHydratedContainer,Ye=e.commitHydratedSuspenseInstance,et=e.clearSuspenseBoundary,Xe=e.clearSuspenseBoundaryFromContainer,Dt=e.shouldDeleteUnhydratedTailInstances,$t=e.didNotMatchHydratedContainerTextInstance,sn=e.didNotMatchHydratedTextInstance,nn;function hn(d){if(nn===void 0)try{throw Error()}catch(E){var g=E.stack.trim().match(/\n( *(at )?)/);nn=g&&g[1]||""}return`
`+nn+d}var an=!1;function cn(d,g){if(!d||an)return"";an=!0;var E=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Pt){var N=Pt}Reflect.construct(d,[],g)}else{try{g.call()}catch(Pt){N=Pt}d.call(g.prototype)}else{try{throw Error()}catch(Pt){N=Pt}d()}}catch(Pt){if(Pt&&N&&typeof Pt.stack=="string"){for(var V=Pt.stack.split(`
`),ne=N.stack.split(`
`),Ie=V.length-1,He=ne.length-1;1<=Ie&&0<=He&&V[Ie]!==ne[He];)He--;for(;1<=Ie&&0<=He;Ie--,He--)if(V[Ie]!==ne[He]){if(Ie!==1||He!==1)do if(Ie--,He--,0>He||V[Ie]!==ne[He]){var ot=`
`+V[Ie].replace(" at new "," at ");return d.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",d.displayName)),ot}while(1<=Ie&&0<=He);break}}}finally{an=!1,Error.prepareStackTrace=E}return(d=d?d.displayName||d.name:"")?hn(d):""}var tr=Object.prototype.hasOwnProperty,Or=[],gr=-1;function Wr(d){return{current:d}}function un(d){0>gr||(d.current=Or[gr],Or[gr]=null,gr--)}function kt(d,g){gr++,Or[gr]=d.current,d.current=g}var ps={},Jt=Wr(ps),wr=Wr(!1),qs=ps;function Ns(d,g){var E=d.type.contextTypes;if(!E)return ps;var N=d.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===g)return N.__reactInternalMemoizedMaskedChildContext;var V={},ne;for(ne in E)V[ne]=g[ne];return N&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=g,d.__reactInternalMemoizedMaskedChildContext=V),V}function Kr(d){return d=d.childContextTypes,d!=null}function Rr(){un(wr),un(Jt)}function ii(d,g,E){if(Jt.current!==ps)throw Error(a(168));kt(Jt,g),kt(wr,E)}function Eo(d,g,E){var N=d.stateNode;if(g=g.childContextTypes,typeof N.getChildContext!="function")return E;N=N.getChildContext();for(var V in N)if(!(V in g))throw Error(a(108,M(d)||"Unknown",V));return s({},E,N)}function Qn(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||ps,qs=Jt.current,kt(Jt,d),kt(wr,wr.current),!0}function Di(d,g,E){var N=d.stateNode;if(!N)throw Error(a(169));E?(d=Eo(d,g,qs),N.__reactInternalMemoizedMergedChildContext=d,un(wr),un(Jt),kt(Jt,d)):un(wr),kt(wr,E)}var Ei=Math.clz32?Math.clz32:vr,_l=Math.log,MA=Math.LN2;function vr(d){return d>>>=0,d===0?32:31-(_l(d)/MA|0)|0}var Ko=64,qo=4194304;function xa(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function Ru(d,g){var E=d.pendingLanes;if(E===0)return 0;var N=0,V=d.suspendedLanes,ne=d.pingedLanes,Ie=E&268435455;if(Ie!==0){var He=Ie&~V;He!==0?N=xa(He):(ne&=Ie,ne!==0&&(N=xa(ne)))}else Ie=E&~V,Ie!==0?N=xa(Ie):ne!==0&&(N=xa(ne));if(N===0)return 0;if(g!==0&&g!==N&&!(g&V)&&(V=N&-N,ne=g&-g,V>=ne||V===16&&(ne&4194240)!==0))return g;if(N&4&&(N|=E&16),g=d.entangledLanes,g!==0)for(d=d.entanglements,g&=N;0<g;)E=31-Ei(g),V=1<<E,N|=d[E],g&=~V;return N}function Gf(d,g){switch(d){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $d(d,g){for(var E=d.suspendedLanes,N=d.pingedLanes,V=d.expirationTimes,ne=d.pendingLanes;0<ne;){var Ie=31-Ei(ne),He=1<<Ie,ot=V[Ie];ot===-1?(!(He&E)||He&N)&&(V[Ie]=Gf(He,g)):ot<=g&&(d.expiredLanes|=He),ne&=~He}}function So(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function Zl(d){for(var g=[],E=0;31>E;E++)g.push(d);return g}function $o(d,g,E){d.pendingLanes|=g,g!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,g=31-Ei(g),d[g]=E}function ec(d,g){var E=d.pendingLanes&~g;d.pendingLanes=g,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=g,d.mutableReadLanes&=g,d.entangledLanes&=g,g=d.entanglements;var N=d.eventTimes;for(d=d.expirationTimes;0<E;){var V=31-Ei(E),ne=1<<V;g[V]=0,N[V]=-1,d[V]=-1,E&=~ne}}function Tr(d,g){var E=d.entangledLanes|=g;for(d=d.entanglements;E;){var N=31-Ei(E),V=1<<N;V&g|d[N]&g&&(d[N]|=g),E&=~V}}var zn=0;function Uu(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var dn=i.unstable_scheduleCallback,xl=i.unstable_cancelCallback,Xd=i.unstable_shouldYield,Xo=i.unstable_requestPaint,si=i.unstable_now,ba=i.unstable_ImmediatePriority,Du=i.unstable_UserBlockingPriority,zc=i.unstable_NormalPriority,Ou=i.unstable_IdlePriority,bl=null,Ea=null;function El(d){if(Ea&&typeof Ea.onCommitFiberRoot=="function")try{Ea.onCommitFiberRoot(bl,d,void 0,(d.current.flags&128)===128)}catch{}}function Co(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var Oi=typeof Object.is=="function"?Object.is:Co,Sa=null,nr=!1,jc=!1;function Gc(d){Sa===null?Sa=[d]:Sa.push(d)}function IA(d){nr=!0,Gc(d)}function $s(){if(!jc&&Sa!==null){jc=!0;var d=0,g=zn;try{var E=Sa;for(zn=1;d<E.length;d++){var N=E[d];do N=N(!0);while(N!==null)}Sa=null,nr=!1}catch(V){throw Sa!==null&&(Sa=Sa.slice(d+1)),dn(ba,$s),V}finally{zn=g,jc=!1}}return null}var PA=o.ReactCurrentBatchConfig;function Yo(d,g){if(Oi(d,g))return!0;if(typeof d!="object"||d===null||typeof g!="object"||g===null)return!1;var E=Object.keys(d),N=Object.keys(g);if(E.length!==N.length)return!1;for(N=0;N<E.length;N++){var V=E[N];if(!tr.call(g,V)||!Oi(d[V],g[V]))return!1}return!0}function Bo(d){switch(d.tag){case 5:return hn(d.type);case 16:return hn("Lazy");case 13:return hn("Suspense");case 19:return hn("SuspenseList");case 0:case 2:case 15:return d=cn(d.type,!1),d;case 11:return d=cn(d.type.render,!1),d;case 1:return d=cn(d.type,!0),d;default:return""}}function yr(d,g){if(d&&d.defaultProps){g=s({},g),d=d.defaultProps;for(var E in d)g[E]===void 0&&(g[E]=d[E]);return g}return g}var Wc=Wr(null),To=null,gi=null,tc=null;function Mo(){tc=gi=To=null}function Kc(d,g,E){ve?(kt(Wc,g._currentValue),g._currentValue=E):(kt(Wc,g._currentValue2),g._currentValue2=E)}function Sl(d){var g=Wc.current;un(Wc),ve?d._currentValue=g:d._currentValue2=g}function nc(d,g,E){for(;d!==null;){var N=d.alternate;if((d.childLanes&g)!==g?(d.childLanes|=g,N!==null&&(N.childLanes|=g)):N!==null&&(N.childLanes&g)!==g&&(N.childLanes|=g),d===E)break;d=d.return}}function Jo(d,g){To=d,tc=gi=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&g&&(ea=!0),d.firstContext=null)}function Xi(d){var g=ve?d._currentValue:d._currentValue2;if(tc!==d)if(d={context:d,memoizedValue:g,next:null},gi===null){if(To===null)throw Error(a(308));gi=d,To.dependencies={lanes:0,firstContext:d}}else gi=gi.next=d;return g}var Yi=null,Xs=!1;function rc(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ic(d,g){d=d.updateQueue,g.updateQueue===d&&(g.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Ys(d,g){return{eventTime:d,lane:g,tag:0,payload:null,callback:null,next:null}}function Io(d,g){var E=d.updateQueue;E!==null&&(E=E.shared,Ti!==null&&d.mode&1&&!(Rn&2)?(d=E.interleaved,d===null?(g.next=g,Yi===null?Yi=[E]:Yi.push(E)):(g.next=d.next,d.next=g),E.interleaved=g):(d=E.pending,d===null?g.next=g:(g.next=d.next,d.next=g),E.pending=g))}function ja(d,g,E){if(g=g.updateQueue,g!==null&&(g=g.shared,(E&4194240)!==0)){var N=g.lanes;N&=d.pendingLanes,E|=N,g.lanes=E,Tr(d,E)}}function Cl(d,g){var E=d.updateQueue,N=d.alternate;if(N!==null&&(N=N.updateQueue,E===N)){var V=null,ne=null;if(E=E.firstBaseUpdate,E!==null){do{var Ie={eventTime:E.eventTime,lane:E.lane,tag:E.tag,payload:E.payload,callback:E.callback,next:null};ne===null?V=ne=Ie:ne=ne.next=Ie,E=E.next}while(E!==null);ne===null?V=ne=g:ne=ne.next=g}else V=ne=g;E={baseState:N.baseState,firstBaseUpdate:V,lastBaseUpdate:ne,shared:N.shared,effects:N.effects},d.updateQueue=E;return}d=E.lastBaseUpdate,d===null?E.firstBaseUpdate=g:d.next=g,E.lastBaseUpdate=g}function Bl(d,g,E,N){var V=d.updateQueue;Xs=!1;var ne=V.firstBaseUpdate,Ie=V.lastBaseUpdate,He=V.shared.pending;if(He!==null){V.shared.pending=null;var ot=He,Pt=ot.next;ot.next=null,Ie===null?ne=Pt:Ie.next=Pt,Ie=ot;var Zt=d.alternate;Zt!==null&&(Zt=Zt.updateQueue,He=Zt.lastBaseUpdate,He!==Ie&&(He===null?Zt.firstBaseUpdate=Pt:He.next=Pt,Zt.lastBaseUpdate=ot))}if(ne!==null){var Nn=V.baseState;Ie=0,Zt=Pt=ot=null,He=ne;do{var mn=He.lane,Qr=He.eventTime;if((N&mn)===mn){Zt!==null&&(Zt=Zt.next={eventTime:Qr,lane:0,tag:He.tag,payload:He.payload,callback:He.callback,next:null});e:{var on=d,Xa=He;switch(mn=g,Qr=E,Xa.tag){case 1:if(on=Xa.payload,typeof on=="function"){Nn=on.call(Qr,Nn,mn);break e}Nn=on;break e;case 3:on.flags=on.flags&-65537|128;case 0:if(on=Xa.payload,mn=typeof on=="function"?on.call(Qr,Nn,mn):on,mn==null)break e;Nn=s({},Nn,mn);break e;case 2:Xs=!0}}He.callback!==null&&He.lane!==0&&(d.flags|=64,mn=V.effects,mn===null?V.effects=[He]:mn.push(He))}else Qr={eventTime:Qr,lane:mn,tag:He.tag,payload:He.payload,callback:He.callback,next:null},Zt===null?(Pt=Zt=Qr,ot=Nn):Zt=Zt.next=Qr,Ie|=mn;if(He=He.next,He===null){if(He=V.shared.pending,He===null)break;mn=He,He=mn.next,mn.next=null,V.lastBaseUpdate=mn,V.shared.pending=null}}while(!0);if(Zt===null&&(ot=Nn),V.baseState=ot,V.firstBaseUpdate=Pt,V.lastBaseUpdate=Zt,g=V.shared.interleaved,g!==null){V=g;do Ie|=V.lane,V=V.next;while(V!==g)}else ne===null&&(V.shared.lanes=0);QA|=Ie,d.lanes=Ie,d.memoizedState=Nn}}function Ls(d,g,E){if(d=g.effects,g.effects=null,d!==null)for(g=0;g<d.length;g++){var N=d[g],V=N.callback;if(V!==null){if(N.callback=null,N=E,typeof V!="function")throw Error(a(191,V));V.call(N)}}}var qc=new r.Component().refs;function U(d,g,E,N){g=d.memoizedState,E=E(N,g),E=E==null?g:s({},g,E),d.memoizedState=E,d.lanes===0&&(d.updateQueue.baseState=E)}var ae={isMounted:function(d){return(d=d._reactInternals)?T(d)===d:!1},enqueueSetState:function(d,g,E){d=d._reactInternals;var N=ys(),V=dc(d),ne=Ys(N,V);ne.payload=g,E!=null&&(ne.callback=E),Io(d,ne),g=aa(d,V,N),g!==null&&ja(g,d,V)},enqueueReplaceState:function(d,g,E){d=d._reactInternals;var N=ys(),V=dc(d),ne=Ys(N,V);ne.tag=1,ne.payload=g,E!=null&&(ne.callback=E),Io(d,ne),g=aa(d,V,N),g!==null&&ja(g,d,V)},enqueueForceUpdate:function(d,g){d=d._reactInternals;var E=ys(),N=dc(d),V=Ys(E,N);V.tag=2,g!=null&&(V.callback=g),Io(d,V),g=aa(d,N,E),g!==null&&ja(g,d,N)}};function Me(d,g,E,N,V,ne,Ie){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(N,ne,Ie):g.prototype&&g.prototype.isPureReactComponent?!Yo(E,N)||!Yo(V,ne):!0}function Fe(d,g,E){var N=!1,V=ps,ne=g.contextType;return typeof ne=="object"&&ne!==null?ne=Xi(ne):(V=Kr(g)?qs:Jt.current,N=g.contextTypes,ne=(N=N!=null)?Ns(d,V):ps),g=new g(E,ne),d.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=ae,d.stateNode=g,g._reactInternals=d,N&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=V,d.__reactInternalMemoizedMaskedChildContext=ne),g}function Qe(d,g,E,N){d=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(E,N),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(E,N),g.state!==d&&ae.enqueueReplaceState(g,g.state,null)}function it(d,g,E,N){var V=d.stateNode;V.props=E,V.state=d.memoizedState,V.refs=qc,rc(d);var ne=g.contextType;typeof ne=="object"&&ne!==null?V.context=Xi(ne):(ne=Kr(g)?qs:Jt.current,V.context=Ns(d,ne)),V.state=d.memoizedState,ne=g.getDerivedStateFromProps,typeof ne=="function"&&(U(d,g,ne,E),V.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof V.getSnapshotBeforeUpdate=="function"||typeof V.UNSAFE_componentWillMount!="function"&&typeof V.componentWillMount!="function"||(g=V.state,typeof V.componentWillMount=="function"&&V.componentWillMount(),typeof V.UNSAFE_componentWillMount=="function"&&V.UNSAFE_componentWillMount(),g!==V.state&&ae.enqueueReplaceState(V,V.state,null),Bl(d,E,V,N),V.state=d.memoizedState),typeof V.componentDidMount=="function"&&(d.flags|=4194308)}var vt=[],Lt=0,b=null,Q=0,Z=[],de=0,Oe=null,qe=1,gt="";function pn(d,g){vt[Lt++]=Q,vt[Lt++]=b,b=d,Q=g}function jn(d,g,E){Z[de++]=qe,Z[de++]=gt,Z[de++]=Oe,Oe=d;var N=qe;d=gt;var V=32-Ei(N)-1;N&=~(1<<V),E+=1;var ne=32-Ei(g)+V;if(30<ne){var Ie=V-V%5;ne=(N&(1<<Ie)-1).toString(32),N>>=Ie,V-=Ie,qe=1<<32-Ei(g)+V|E<<V|N,gt=ne+d}else qe=1<<ne|E<<V|N,gt=d}function bn(d){d.return!==null&&(pn(d,1),jn(d,1,0))}function ir(d){for(;d===b;)b=vt[--Lt],vt[Lt]=null,Q=vt[--Lt],vt[Lt]=null;for(;d===Oe;)Oe=Z[--de],Z[de]=null,gt=Z[--de],Z[de]=null,qe=Z[--de],Z[de]=null}var Un=null,ai=null,Fn=!1,Ga=!1,ki=null;function Wf(d,g){var E=pc(5,null,null,0);E.elementType="DELETED",E.stateNode=g,E.return=d,g=d.deletions,g===null?(d.deletions=[E],d.flags|=16):g.push(E)}function Kf(d,g){switch(d.tag){case 5:return g=St(g,d.type,d.pendingProps),g!==null?(d.stateNode=g,Un=d,ai=bo(g),!0):!1;case 6:return g=Ar(g,d.pendingProps),g!==null?(d.stateNode=g,Un=d,ai=null,!0):!1;case 13:if(g=Sr(g),g!==null){var E=Oe!==null?{id:qe,overflow:gt}:null;return d.memoizedState={dehydrated:g,treeContext:E,retryLane:1073741824},E=pc(18,null,null,0),E.stateNode=g,E.return=d,d.child=E,Un=d,ai=null,!0}return!1;default:return!1}}function ku(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Ji(d){if(Fn){var g=ai;if(g){var E=g;if(!Kf(d,g)){if(ku(d))throw Error(a(418));g=Br(E);var N=Un;g&&Kf(d,g)?Wf(N,E):(d.flags=d.flags&-4097|2,Fn=!1,Un=d)}}else{if(ku(d))throw Error(a(418));d.flags=d.flags&-4097|2,Fn=!1,Un=d}}}function NA(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;Un=d}function sc(d){if(!Te||d!==Un)return!1;if(!Fn)return NA(d),Fn=!0,!1;if(d.tag!==3&&(d.tag!==5||Dt(d.type)&&!G(d.type,d.memoizedProps))){var g=ai;if(g){if(ku(d)){for(d=ai;d;)d=Br(d);throw Error(a(418))}for(;g;)Wf(d,g),g=Br(g)}}if(NA(d),d.tag===13){if(!Te)throw Error(a(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));ai=xe(d)}else ai=Un?Br(d.stateNode):null;return!0}function Tl(){Te&&(ai=Un=null,Ga=Fn=!1)}function LA(d){ki===null?ki=[d]:ki.push(d)}function ms(d,g,E){if(d=E.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(E._owner){if(E=E._owner,E){if(E.tag!==1)throw Error(a(309));var N=E.stateNode}if(!N)throw Error(a(147,d));var V=N,ne=""+d;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===ne?g.ref:(g=function(Ie){var He=V.refs;He===qc&&(He=V.refs={}),Ie===null?delete He[ne]:He[ne]=Ie},g._stringRef=ne,g)}if(typeof d!="string")throw Error(a(284));if(!E._owner)throw Error(a(290,d))}return d}function qf(d,g){throw d=Object.prototype.toString.call(g),Error(a(31,d==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":d))}function $f(d){var g=d._init;return g(d._payload)}function Yd(d){function g(Je,We){if(d){var st=Je.deletions;st===null?(Je.deletions=[We],Je.flags|=16):st.push(We)}}function E(Je,We){if(!d)return null;for(;We!==null;)g(Je,We),We=We.sibling;return null}function N(Je,We){for(Je=new Map;We!==null;)We.key!==null?Je.set(We.key,We):Je.set(We.index,We),We=We.sibling;return Je}function V(Je,We){return Je=lh(Je,We),Je.index=0,Je.sibling=null,Je}function ne(Je,We,st){return Je.index=st,d?(st=Je.alternate,st!==null?(st=st.index,st<We?(Je.flags|=2,We):st):(Je.flags|=2,We)):(Je.flags|=1048576,We)}function Ie(Je){return d&&Je.alternate===null&&(Je.flags|=2),Je}function He(Je,We,st,Vt){return We===null||We.tag!==6?(We=MM(st,Je.mode,Vt),We.return=Je,We):(We=V(We,st),We.return=Je,We)}function ot(Je,We,st,Vt){var rn=st.type;return rn===u?Zt(Je,We,st.props.children,Vt,st.key):We!==null&&(We.elementType===rn||typeof rn=="object"&&rn!==null&&rn.$$typeof===_&&$f(rn)===We.type)?(Vt=V(We,st.props),Vt.ref=ms(Je,We,st),Vt.return=Je,Vt):(Vt=Qx(st.type,st.key,st.props,null,Je.mode,Vt),Vt.ref=ms(Je,We,st),Vt.return=Je,Vt)}function Pt(Je,We,st,Vt){return We===null||We.tag!==4||We.stateNode.containerInfo!==st.containerInfo||We.stateNode.implementation!==st.implementation?(We=IM(st,Je.mode,Vt),We.return=Je,We):(We=V(We,st.children||[]),We.return=Je,We)}function Zt(Je,We,st,Vt,rn){return We===null||We.tag!==7?(We=dp(st,Je.mode,Vt,rn),We.return=Je,We):(We=V(We,st),We.return=Je,We)}function Nn(Je,We,st){if(typeof We=="string"&&We!==""||typeof We=="number")return We=MM(""+We,Je.mode,st),We.return=Je,We;if(typeof We=="object"&&We!==null){switch(We.$$typeof){case l:return st=Qx(We.type,We.key,We.props,null,Je.mode,st),st.ref=ms(Je,null,We),st.return=Je,st;case c:return We=IM(We,Je.mode,st),We.return=Je,We;case _:var Vt=We._init;return Nn(Je,Vt(We._payload),st)}if(fe(We)||L(We))return We=dp(We,Je.mode,st,null),We.return=Je,We;qf(Je,We)}return null}function mn(Je,We,st,Vt){var rn=We!==null?We.key:null;if(typeof st=="string"&&st!==""||typeof st=="number")return rn!==null?null:He(Je,We,""+st,Vt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case l:return st.key===rn?ot(Je,We,st,Vt):null;case c:return st.key===rn?Pt(Je,We,st,Vt):null;case _:return rn=st._init,mn(Je,We,rn(st._payload),Vt)}if(fe(st)||L(st))return rn!==null?null:Zt(Je,We,st,Vt,null);qf(Je,st)}return null}function Qr(Je,We,st,Vt,rn){if(typeof Vt=="string"&&Vt!==""||typeof Vt=="number")return Je=Je.get(st)||null,He(We,Je,""+Vt,rn);if(typeof Vt=="object"&&Vt!==null){switch(Vt.$$typeof){case l:return Je=Je.get(Vt.key===null?st:Vt.key)||null,ot(We,Je,Vt,rn);case c:return Je=Je.get(Vt.key===null?st:Vt.key)||null,Pt(We,Je,Vt,rn);case _:var Vn=Vt._init;return Qr(Je,We,st,Vn(Vt._payload),rn)}if(fe(Vt)||L(Vt))return Je=Je.get(st)||null,Zt(We,Je,Vt,rn,null);qf(We,Vt)}return null}function on(Je,We,st,Vt){for(var rn=null,Vn=null,Ln=We,hr=We=0,la=null;Ln!==null&&hr<st.length;hr++){Ln.index>hr?(la=Ln,Ln=null):la=Ln.sibling;var dr=mn(Je,Ln,st[hr],Vt);if(dr===null){Ln===null&&(Ln=la);break}d&&Ln&&dr.alternate===null&&g(Je,Ln),We=ne(dr,We,hr),Vn===null?rn=dr:Vn.sibling=dr,Vn=dr,Ln=la}if(hr===st.length)return E(Je,Ln),Fn&&pn(Je,hr),rn;if(Ln===null){for(;hr<st.length;hr++)Ln=Nn(Je,st[hr],Vt),Ln!==null&&(We=ne(Ln,We,hr),Vn===null?rn=Ln:Vn.sibling=Ln,Vn=Ln);return Fn&&pn(Je,hr),rn}for(Ln=N(Je,Ln);hr<st.length;hr++)la=Qr(Ln,Je,hr,st[hr],Vt),la!==null&&(d&&la.alternate!==null&&Ln.delete(la.key===null?hr:la.key),We=ne(la,We,hr),Vn===null?rn=la:Vn.sibling=la,Vn=la);return d&&Ln.forEach(function(ch){return g(Je,ch)}),Fn&&pn(Je,hr),rn}function Xa(Je,We,st,Vt){var rn=L(st);if(typeof rn!="function")throw Error(a(150));if(st=rn.call(st),st==null)throw Error(a(151));for(var Vn=rn=null,Ln=We,hr=We=0,la=null,dr=st.next();Ln!==null&&!dr.done;hr++,dr=st.next()){Ln.index>hr?(la=Ln,Ln=null):la=Ln.sibling;var ch=mn(Je,Ln,dr.value,Vt);if(ch===null){Ln===null&&(Ln=la);break}d&&Ln&&ch.alternate===null&&g(Je,Ln),We=ne(ch,We,hr),Vn===null?rn=ch:Vn.sibling=ch,Vn=ch,Ln=la}if(dr.done)return E(Je,Ln),Fn&&pn(Je,hr),rn;if(Ln===null){for(;!dr.done;hr++,dr=st.next())dr=Nn(Je,dr.value,Vt),dr!==null&&(We=ne(dr,We,hr),Vn===null?rn=dr:Vn.sibling=dr,Vn=dr);return Fn&&pn(Je,hr),rn}for(Ln=N(Je,Ln);!dr.done;hr++,dr=st.next())dr=Qr(Ln,Je,hr,dr.value,Vt),dr!==null&&(d&&dr.alternate!==null&&Ln.delete(dr.key===null?hr:dr.key),We=ne(dr,We,hr),Vn===null?rn=dr:Vn.sibling=dr,Vn=dr);return d&&Ln.forEach(function(Nse){return g(Je,Nse)}),Fn&&pn(Je,hr),rn}function mc(Je,We,st,Vt){if(typeof st=="object"&&st!==null&&st.type===u&&st.key===null&&(st=st.props.children),typeof st=="object"&&st!==null){switch(st.$$typeof){case l:e:{for(var rn=st.key,Vn=We;Vn!==null;){if(Vn.key===rn){if(rn=st.type,rn===u){if(Vn.tag===7){E(Je,Vn.sibling),We=V(Vn,st.props.children),We.return=Je,Je=We;break e}}else if(Vn.elementType===rn||typeof rn=="object"&&rn!==null&&rn.$$typeof===_&&$f(rn)===Vn.type){E(Je,Vn.sibling),We=V(Vn,st.props),We.ref=ms(Je,Vn,st),We.return=Je,Je=We;break e}E(Je,Vn);break}else g(Je,Vn);Vn=Vn.sibling}st.type===u?(We=dp(st.props.children,Je.mode,Vt,st.key),We.return=Je,Je=We):(Vt=Qx(st.type,st.key,st.props,null,Je.mode,Vt),Vt.ref=ms(Je,We,st),Vt.return=Je,Je=Vt)}return Ie(Je);case c:e:{for(Vn=st.key;We!==null;){if(We.key===Vn)if(We.tag===4&&We.stateNode.containerInfo===st.containerInfo&&We.stateNode.implementation===st.implementation){E(Je,We.sibling),We=V(We,st.children||[]),We.return=Je,Je=We;break e}else{E(Je,We);break}else g(Je,We);We=We.sibling}We=IM(st,Je.mode,Vt),We.return=Je,Je=We}return Ie(Je);case _:return Vn=st._init,mc(Je,We,Vn(st._payload),Vt)}if(fe(st))return on(Je,We,st,Vt);if(L(st))return Xa(Je,We,st,Vt);qf(Je,st)}return typeof st=="string"&&st!==""||typeof st=="number"?(st=""+st,We!==null&&We.tag===6?(E(Je,We.sibling),We=V(We,st),We.return=Je,Je=We):(E(Je,We),We=MM(st,Je.mode,Vt),We.return=Je,Je=We),Ie(Je)):E(Je,We)}return mc}var Fs=Yd(!0),FA=Yd(!1),Qu={},Ca=Wr(Qu),Zo=Wr(Qu),el=Wr(Qu);function oi(d){if(d===Qu)throw Error(a(174));return d}function Rs(d,g){kt(el,g),kt(Zo,d),kt(Ca,Qu),d=me(g),un(Ca),kt(Ca,d)}function Po(){un(Ca),un(Zo),un(el)}function ac(d){var g=oi(el.current),E=oi(Ca.current);g=J(E,d.type,g),E!==g&&(kt(Zo,d),kt(Ca,g))}function Ml(d){Zo.current===d&&(un(Ca),un(Zo))}var _r=Wr(0);function tl(d){for(var g=d;g!==null;){if(g.tag===13){var E=g.memoizedState;if(E!==null&&(E=E.dehydrated,E===null||Gr(E)||Dr(E)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var li=[];function RA(){for(var d=0;d<li.length;d++){var g=li[d];ve?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}li.length=0}var gs=o.ReactCurrentDispatcher,ci=o.ReactCurrentBatchConfig,Il=0,kr=null,Qi=null,qr=null,oc=!1,nl=!1,Pl=0,Xf=0;function vi(){throw Error(a(321))}function lc(d,g){if(g===null)return!1;for(var E=0;E<g.length&&E<d.length;E++)if(!Oi(d[E],g[E]))return!1;return!0}function UA(d,g,E,N,V,ne){if(Il=ne,kr=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,gs.current=d===null||d.memoizedState===null?np:bM,d=E(N,V),nl){ne=0;do{if(nl=!1,Pl=0,25<=ne)throw Error(a(301));ne+=1,qr=Qi=null,g.updateQueue=null,gs.current=EM,d=E(N,V)}while(nl)}if(gs.current=eh,g=Qi!==null&&Qi.next!==null,Il=0,qr=Qi=kr=null,oc=!1,g)throw Error(a(300));return d}function Wa(){var d=Pl!==0;return Pl=0,d}function Hi(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qr===null?kr.memoizedState=qr=d:qr=qr.next=d,qr}function Kn(){if(Qi===null){var d=kr.alternate;d=d!==null?d.memoizedState:null}else d=Qi.next;var g=qr===null?kr.memoizedState:qr.next;if(g!==null)qr=g,Qi=d;else{if(d===null)throw Error(a(310));Qi=d,d={memoizedState:Qi.memoizedState,baseState:Qi.baseState,baseQueue:Qi.baseQueue,queue:Qi.queue,next:null},qr===null?kr.memoizedState=qr=d:qr=qr.next=d}return qr}function sr(d,g){return typeof g=="function"?g(d):g}function $r(d){var g=Kn(),E=g.queue;if(E===null)throw Error(a(311));E.lastRenderedReducer=d;var N=Qi,V=N.baseQueue,ne=E.pending;if(ne!==null){if(V!==null){var Ie=V.next;V.next=ne.next,ne.next=Ie}N.baseQueue=V=ne,E.pending=null}if(V!==null){ne=V.next,N=N.baseState;var He=Ie=null,ot=null,Pt=ne;do{var Zt=Pt.lane;if((Il&Zt)===Zt)ot!==null&&(ot=ot.next={lane:0,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null}),N=Pt.hasEagerState?Pt.eagerState:d(N,Pt.action);else{var Nn={lane:Zt,action:Pt.action,hasEagerState:Pt.hasEagerState,eagerState:Pt.eagerState,next:null};ot===null?(He=ot=Nn,Ie=N):ot=ot.next=Nn,kr.lanes|=Zt,QA|=Zt}Pt=Pt.next}while(Pt!==null&&Pt!==ne);ot===null?Ie=N:ot.next=He,Oi(N,g.memoizedState)||(ea=!0),g.memoizedState=N,g.baseState=Ie,g.baseQueue=ot,E.lastRenderedState=N}if(d=E.interleaved,d!==null){V=d;do ne=V.lane,kr.lanes|=ne,QA|=ne,V=V.next;while(V!==d)}else V===null&&(E.lanes=0);return[g.memoizedState,E.dispatch]}function yi(d){var g=Kn(),E=g.queue;if(E===null)throw Error(a(311));E.lastRenderedReducer=d;var N=E.dispatch,V=E.pending,ne=g.memoizedState;if(V!==null){E.pending=null;var Ie=V=V.next;do ne=d(ne,Ie.action),Ie=Ie.next;while(Ie!==V);Oi(ne,g.memoizedState)||(ea=!0),g.memoizedState=ne,g.baseQueue===null&&(g.baseState=ne),E.lastRenderedState=ne}return[ne,N]}function cc(){}function Yf(d,g){var E=kr,N=Kn(),V=g(),ne=!Oi(N.memoizedState,V);if(ne&&(N.memoizedState=V,ea=!0),N=N.queue,Hu(Ag.bind(null,E,N,d),[d]),N.getSnapshot!==g||ne||qr!==null&&qr.memoizedState.tag&1){if(E.flags|=2048,Js(9,Jd.bind(null,E,N,V,g),void 0,null),Ti===null)throw Error(a(349));Il&30||DA(E,g,V)}return V}function DA(d,g,E){d.flags|=16384,d={getSnapshot:g,value:E},g=kr.updateQueue,g===null?(g={lastEffect:null,stores:null},kr.updateQueue=g,g.stores=[d]):(E=g.stores,E===null?g.stores=[d]:E.push(d))}function Jd(d,g,E,N){g.value=E,g.getSnapshot=N,Zd(g)&&aa(d,1,-1)}function Ag(d,g,E){return E(function(){Zd(g)&&aa(d,1,-1)})}function Zd(d){var g=d.getSnapshot;d=d.value;try{var E=g();return!Oi(d,E)}catch{return!0}}function Ba(d){var g=Hi();return typeof d=="function"&&(d=d()),g.memoizedState=g.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:sr,lastRenderedState:d},g.queue=d,d=d.dispatch=xM.bind(null,kr,d),[g.memoizedState,d]}function Js(d,g,E,N){return d={tag:d,create:g,destroy:E,deps:N,next:null},g=kr.updateQueue,g===null?(g={lastEffect:null,stores:null},kr.updateQueue=g,g.lastEffect=d.next=d):(E=g.lastEffect,E===null?g.lastEffect=d.next=d:(N=E.next,E.next=d,d.next=N,g.lastEffect=d)),d}function ep(){return Kn().memoizedState}function OA(d,g,E,N){var V=Hi();kr.flags|=d,V.memoizedState=Js(1|g,E,void 0,N===void 0?null:N)}function tp(d,g,E,N){var V=Kn();N=N===void 0?null:N;var ne=void 0;if(Qi!==null){var Ie=Qi.memoizedState;if(ne=Ie.destroy,N!==null&&lc(N,Ie.deps)){V.memoizedState=Js(g,E,ne,N);return}}kr.flags|=d,V.memoizedState=Js(1|g,E,ne,N)}function Jf(d,g){return OA(8390656,8,d,g)}function Hu(d,g){return tp(2048,8,d,g)}function fg(d,g){return tp(4,2,d,g)}function wy(d,g){return tp(4,4,d,g)}function hg(d,g){if(typeof g=="function")return d=d(),g(d),function(){g(null)};if(g!=null)return d=d(),g.current=d,function(){g.current=null}}function dg(d,g,E){return E=E!=null?E.concat([d]):null,tp(4,4,hg.bind(null,g,d),E)}function Zf(){}function pg(d,g){var E=Kn();g=g===void 0?null:g;var N=E.memoizedState;return N!==null&&g!==null&&lc(g,N[1])?N[0]:(E.memoizedState=[d,g],d)}function bx(d,g){var E=Kn();g=g===void 0?null:g;var N=E.memoizedState;return N!==null&&g!==null&&lc(g,N[1])?N[0]:(d=d(),E.memoizedState=[d,g],d)}function wM(d,g){var E=zn;zn=E!==0&&4>E?E:4,d(!0);var N=ci.transition;ci.transition={};try{d(!1),g()}finally{zn=E,ci.transition=N}}function _y(){return Kn().memoizedState}function _M(d,g,E){var N=dc(d);E={lane:N,action:E,hasEagerState:!1,eagerState:null,next:null},Ex(d)?Sx(g,E):(Cx(d,g,E),E=ys(),d=aa(d,N,E),d!==null&&mg(d,g,N))}function xM(d,g,E){var N=dc(d),V={lane:N,action:E,hasEagerState:!1,eagerState:null,next:null};if(Ex(d))Sx(g,V);else{Cx(d,g,V);var ne=d.alternate;if(d.lanes===0&&(ne===null||ne.lanes===0)&&(ne=g.lastRenderedReducer,ne!==null))try{var Ie=g.lastRenderedState,He=ne(Ie,E);if(V.hasEagerState=!0,V.eagerState=He,Oi(He,Ie))return}catch{}finally{}E=ys(),d=aa(d,N,E),d!==null&&mg(d,g,N)}}function Ex(d){var g=d.alternate;return d===kr||g!==null&&g===kr}function Sx(d,g){nl=oc=!0;var E=d.pending;E===null?g.next=g:(g.next=E.next,E.next=g),d.pending=g}function Cx(d,g,E){Ti!==null&&d.mode&1&&!(Rn&2)?(d=g.interleaved,d===null?(E.next=E,Yi===null?Yi=[g]:Yi.push(g)):(E.next=d.next,d.next=E),g.interleaved=E):(d=g.pending,d===null?E.next=E:(E.next=d.next,d.next=E),g.pending=E)}function mg(d,g,E){if(E&4194240){var N=g.lanes;N&=d.pendingLanes,E|=N,g.lanes=E,Tr(d,E)}}var eh={readContext:Xi,useCallback:vi,useContext:vi,useEffect:vi,useImperativeHandle:vi,useInsertionEffect:vi,useLayoutEffect:vi,useMemo:vi,useReducer:vi,useRef:vi,useState:vi,useDebugValue:vi,useDeferredValue:vi,useTransition:vi,useMutableSource:vi,useSyncExternalStore:vi,useId:vi,unstable_isNewReconciler:!1},np={readContext:Xi,useCallback:function(d,g){return Hi().memoizedState=[d,g===void 0?null:g],d},useContext:Xi,useEffect:Jf,useImperativeHandle:function(d,g,E){return E=E!=null?E.concat([d]):null,OA(4194308,4,hg.bind(null,g,d),E)},useLayoutEffect:function(d,g){return OA(4194308,4,d,g)},useInsertionEffect:function(d,g){return OA(4,2,d,g)},useMemo:function(d,g){var E=Hi();return g=g===void 0?null:g,d=d(),E.memoizedState=[d,g],d},useReducer:function(d,g,E){var N=Hi();return g=E!==void 0?E(g):g,N.memoizedState=N.baseState=g,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:g},N.queue=d,d=d.dispatch=_M.bind(null,kr,d),[N.memoizedState,d]},useRef:function(d){var g=Hi();return d={current:d},g.memoizedState=d},useState:Ba,useDebugValue:Zf,useDeferredValue:function(d){var g=Ba(d),E=g[0],N=g[1];return Jf(function(){var V=ci.transition;ci.transition={};try{N(d)}finally{ci.transition=V}},[d]),E},useTransition:function(){var d=Ba(!1),g=d[0];return d=wM.bind(null,d[1]),Hi().memoizedState=d,[g,d]},useMutableSource:function(){},useSyncExternalStore:function(d,g,E){var N=kr,V=Hi();if(Fn){if(E===void 0)throw Error(a(407));E=E()}else{if(E=g(),Ti===null)throw Error(a(349));Il&30||DA(N,g,E)}V.memoizedState=E;var ne={value:E,getSnapshot:g};return V.queue=ne,Jf(Ag.bind(null,N,ne,d),[d]),N.flags|=2048,Js(9,Jd.bind(null,N,ne,E,g),void 0,null),E},useId:function(){var d=Hi(),g=Ti.identifierPrefix;if(Fn){var E=gt,N=qe;E=(N&~(1<<32-Ei(N)-1)).toString(32)+E,g=":"+g+"R"+E,E=Pl++,0<E&&(g+="H"+E.toString(32)),g+=":"}else E=Xf++,g=":"+g+"r"+E.toString(32)+":";return d.memoizedState=g},unstable_isNewReconciler:!1},bM={readContext:Xi,useCallback:pg,useContext:Xi,useEffect:Hu,useImperativeHandle:dg,useInsertionEffect:fg,useLayoutEffect:wy,useMemo:bx,useReducer:$r,useRef:ep,useState:function(){return $r(sr)},useDebugValue:Zf,useDeferredValue:function(d){var g=$r(sr),E=g[0],N=g[1];return Hu(function(){var V=ci.transition;ci.transition={};try{N(d)}finally{ci.transition=V}},[d]),E},useTransition:function(){var d=$r(sr)[0],g=Kn().memoizedState;return[d,g]},useMutableSource:cc,useSyncExternalStore:Yf,useId:_y,unstable_isNewReconciler:!1},EM={readContext:Xi,useCallback:pg,useContext:Xi,useEffect:Hu,useImperativeHandle:dg,useInsertionEffect:fg,useLayoutEffect:wy,useMemo:bx,useReducer:yi,useRef:ep,useState:function(){return yi(sr)},useDebugValue:Zf,useDeferredValue:function(d){var g=yi(sr),E=g[0],N=g[1];return Hu(function(){var V=ci.transition;ci.transition={};try{N(d)}finally{ci.transition=V}},[d]),E},useTransition:function(){var d=yi(sr)[0],g=Kn().memoizedState;return[d,g]},useMutableSource:cc,useSyncExternalStore:Yf,useId:_y,unstable_isNewReconciler:!1};function gg(d,g){try{var E="",N=g;do E+=Bo(N),N=N.return;while(N);var V=E}catch(ne){V=`
Error generating stack: `+ne.message+`
`+ne.stack}return{value:d,source:g,stack:V}}function xy(d,g){try{console.error(g.value)}catch(E){setTimeout(function(){throw E})}}var SM=typeof WeakMap=="function"?WeakMap:Map;function Bx(d,g,E){E=Ys(-1,E),E.tag=3,E.payload={element:null};var N=g.value;return E.callback=function(){xg||(xg=!0,ip=N),xy(d,g)},E}function Tx(d,g,E){E=Ys(-1,E),E.tag=3;var N=d.type.getDerivedStateFromError;if(typeof N=="function"){var V=g.value;E.payload=function(){return N(V)},E.callback=function(){xy(d,g)}}var ne=d.stateNode;return ne!==null&&typeof ne.componentDidCatch=="function"&&(E.callback=function(){xy(d,g),typeof N!="function"&&(Ia===null?Ia=new Set([this]):Ia.add(this));var Ie=g.stack;this.componentDidCatch(g.value,{componentStack:Ie!==null?Ie:""})}),E}function $c(d,g,E){var N=d.pingCache;if(N===null){N=d.pingCache=new SM;var V=new Set;N.set(g,V)}else V=N.get(g),V===void 0&&(V=new Set,N.set(g,V));V.has(E)||(V.add(E),d=Ox.bind(null,d,g,E),g.then(d,d))}function rl(d){do{var g;if((g=d.tag===13)&&(g=d.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return d;d=d.return}while(d!==null);return null}function uc(d,g,E,N,V){return d.mode&1?(d.flags|=65536,d.lanes=V,d):(d===g?d.flags|=65536:(d.flags|=128,E.flags|=131072,E.flags&=-52805,E.tag===1&&(E.alternate===null?E.tag=17:(g=Ys(-1,1),g.tag=2,Io(E,g))),E.lanes|=1),d)}function Ac(d){d.flags|=4}function by(d,g){if(d!==null&&d.child===g.child)return!0;if(g.flags&16)return!1;for(d=g.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var il,Zs,vg,yg;if(Ee)il=function(d,g){for(var E=g.child;E!==null;){if(E.tag===5||E.tag===6)k(d,E.stateNode);else if(E.tag!==4&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===g)break;for(;E.sibling===null;){if(E.return===null||E.return===g)return;E=E.return}E.sibling.return=E.return,E=E.sibling}},Zs=function(){},vg=function(d,g,E,N,V){if(d=d.memoizedProps,d!==N){var ne=g.stateNode,Ie=oi(Ca.current);E=j(ne,E,d,N,V,Ie),(g.updateQueue=E)&&Ac(g)}},yg=function(d,g,E,N){E!==N&&Ac(g)};else if(ie){il=function(d,g,E,N){for(var V=g.child;V!==null;){if(V.tag===5){var ne=V.stateNode;E&&N&&(ne=Tn(ne,V.type,V.memoizedProps,V)),k(d,ne)}else if(V.tag===6)ne=V.stateNode,E&&N&&(ne=Gn(ne,V.memoizedProps,V)),k(d,ne);else if(V.tag!==4){if(V.tag===22&&V.memoizedState!==null)ne=V.child,ne!==null&&(ne.return=V),il(d,V,!0,!0);else if(V.child!==null){V.child.return=V,V=V.child;continue}}if(V===g)break;for(;V.sibling===null;){if(V.return===null||V.return===g)return;V=V.return}V.sibling.return=V.return,V=V.sibling}};var Ey=function(d,g,E,N){for(var V=g.child;V!==null;){if(V.tag===5){var ne=V.stateNode;E&&N&&(ne=Tn(ne,V.type,V.memoizedProps,V)),Mt(d,ne)}else if(V.tag===6)ne=V.stateNode,E&&N&&(ne=Gn(ne,V.memoizedProps,V)),Mt(d,ne);else if(V.tag!==4){if(V.tag===22&&V.memoizedState!==null)ne=V.child,ne!==null&&(ne.return=V),Ey(d,V,!0,!0);else if(V.child!==null){V.child.return=V,V=V.child;continue}}if(V===g)break;for(;V.sibling===null;){if(V.return===null||V.return===g)return;V=V.return}V.sibling.return=V.return,V=V.sibling}};Zs=function(d,g){var E=g.stateNode;if(!by(d,g)){d=E.containerInfo;var N=xt(d);Ey(N,g,!1,!1),E.pendingChildren=N,Ac(g),vn(d,N)}},vg=function(d,g,E,N,V){var ne=d.stateNode,Ie=d.memoizedProps;if((d=by(d,g))&&Ie===N)g.stateNode=ne;else{var He=g.stateNode,ot=oi(Ca.current),Pt=null;Ie!==N&&(Pt=j(He,E,Ie,N,V,ot)),d&&Pt===null?g.stateNode=ne:(ne=Et(ne,Pt,E,Ie,N,g,d,He),$(ne,E,N,V,ot)&&Ac(g),g.stateNode=ne,d?Ac(g):il(ne,g,!1,!1))}},yg=function(d,g,E,N){E!==N?(d=oi(el.current),E=oi(Ca.current),g.stateNode=q(N,d,E,g),Ac(g)):g.stateNode=d.stateNode}}else Zs=function(){},vg=function(){},yg=function(){};function th(d,g){if(!Fn)switch(d.tailMode){case"hidden":g=d.tail;for(var E=null;g!==null;)g.alternate!==null&&(E=g),g=g.sibling;E===null?d.tail=null:E.sibling=null;break;case"collapsed":E=d.tail;for(var N=null;E!==null;)E.alternate!==null&&(N=E),E=E.sibling;N===null?g||d.tail===null?d.tail=null:d.tail.sibling=null:N.sibling=null}}function Us(d){var g=d.alternate!==null&&d.alternate.child===d.child,E=0,N=0;if(g)for(var V=d.child;V!==null;)E|=V.lanes|V.childLanes,N|=V.subtreeFlags&14680064,N|=V.flags&14680064,V.return=d,V=V.sibling;else for(V=d.child;V!==null;)E|=V.lanes|V.childLanes,N|=V.subtreeFlags,N|=V.flags,V.return=d,V=V.sibling;return d.subtreeFlags|=N,d.childLanes=E,g}function Mx(d,g,E){var N=g.pendingProps;switch(ir(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Us(g),null;case 1:return Kr(g.type)&&Rr(),Us(g),null;case 3:return N=g.stateNode,Po(),un(wr),un(Jt),RA(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(d===null||d.child===null)&&(sc(g)?Ac(g):d===null||d.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,ki!==null&&(cp(ki),ki=null))),Zs(d,g),Us(g),null;case 5:Ml(g),E=oi(el.current);var V=g.type;if(d!==null&&g.stateNode!=null)vg(d,g,V,N,E),d.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!N){if(g.stateNode===null)throw Error(a(166));return Us(g),null}if(d=oi(Ca.current),sc(g)){if(!Te)throw Error(a(175));d=Ks(g.stateNode,g.type,g.memoizedProps,E,d,g,!Ga),g.updateQueue=d,d!==null&&Ac(g)}else{var ne=re(V,N,E,d,g);il(ne,g,!1,!1),g.stateNode=ne,$(ne,V,N,E,d)&&Ac(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Us(g),null;case 6:if(d&&g.stateNode!=null)yg(d,g,d.memoizedProps,N);else{if(typeof N!="string"&&g.stateNode===null)throw Error(a(166));if(d=oi(el.current),E=oi(Ca.current),sc(g)){if(!Te)throw Error(a(176));if(d=g.stateNode,N=g.memoizedProps,(E=Is(d,N,g,!Ga))&&(V=Un,V!==null))switch(ne=(V.mode&1)!==0,V.tag){case 3:$t(V.stateNode.containerInfo,d,N,ne);break;case 5:sn(V.type,V.memoizedProps,V.stateNode,d,N,ne)}E&&Ac(g)}else g.stateNode=q(N,d,E,g)}return Us(g),null;case 13:if(un(_r),N=g.memoizedState,Fn&&ai!==null&&g.mode&1&&!(g.flags&128)){for(d=ai;d;)d=Br(d);return Tl(),g.flags|=98560,g}if(N!==null&&N.dehydrated!==null){if(N=sc(g),d===null){if(!N)throw Error(a(318));if(!Te)throw Error(a(344));if(d=g.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(a(317));Ps(d,g)}else Tl(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;return Us(g),null}return ki!==null&&(cp(ki),ki=null),g.flags&128?(g.lanes=E,g):(N=N!==null,E=!1,d===null?sc(g):E=d.memoizedState!==null,N&&!E&&(g.child.flags|=8192,g.mode&1&&(d===null||_r.current&1?Yr===0&&(Yr=3):Ny())),g.updateQueue!==null&&(g.flags|=4),Us(g),null);case 4:return Po(),Zs(d,g),d===null&&_e(g.stateNode.containerInfo),Us(g),null;case 10:return Sl(g.type._context),Us(g),null;case 17:return Kr(g.type)&&Rr(),Us(g),null;case 19:if(un(_r),V=g.memoizedState,V===null)return Us(g),null;if(N=(g.flags&128)!==0,ne=V.rendering,ne===null)if(N)th(V,!1);else{if(Yr!==0||d!==null&&d.flags&128)for(d=g.child;d!==null;){if(ne=tl(d),ne!==null){for(g.flags|=128,th(V,!1),d=ne.updateQueue,d!==null&&(g.updateQueue=d,g.flags|=4),g.subtreeFlags=0,d=E,N=g.child;N!==null;)E=N,V=d,E.flags&=14680066,ne=E.alternate,ne===null?(E.childLanes=0,E.lanes=V,E.child=null,E.subtreeFlags=0,E.memoizedProps=null,E.memoizedState=null,E.updateQueue=null,E.dependencies=null,E.stateNode=null):(E.childLanes=ne.childLanes,E.lanes=ne.lanes,E.child=ne.child,E.subtreeFlags=0,E.deletions=null,E.memoizedProps=ne.memoizedProps,E.memoizedState=ne.memoizedState,E.updateQueue=ne.updateQueue,E.type=ne.type,V=ne.dependencies,E.dependencies=V===null?null:{lanes:V.lanes,firstContext:V.firstContext}),N=N.sibling;return kt(_r,_r.current&1|2),g.child}d=d.sibling}V.tail!==null&&si()>VA&&(g.flags|=128,N=!0,th(V,!1),g.lanes=4194304)}else{if(!N)if(d=tl(ne),d!==null){if(g.flags|=128,N=!0,d=d.updateQueue,d!==null&&(g.updateQueue=d,g.flags|=4),th(V,!0),V.tail===null&&V.tailMode==="hidden"&&!ne.alternate&&!Fn)return Us(g),null}else 2*si()-V.renderingStartTime>VA&&E!==1073741824&&(g.flags|=128,N=!0,th(V,!1),g.lanes=4194304);V.isBackwards?(ne.sibling=g.child,g.child=ne):(d=V.last,d!==null?d.sibling=ne:g.child=ne,V.last=ne)}return V.tail!==null?(g=V.tail,V.rendering=g,V.tail=g.sibling,V.renderingStartTime=si(),g.sibling=null,d=_r.current,kt(_r,N?d&1|2:d&1),g):(Us(g),null);case 22:case 23:return Cg(),N=g.memoizedState!==null,d!==null&&d.memoizedState!==null!==N&&(g.flags|=8192),N&&g.mode&1?ra&1073741824&&(Us(g),Ee&&g.subtreeFlags&6&&(g.flags|=8192)):Us(g),null;case 24:return null;case 25:return null}throw Error(a(156,g.tag))}var CM=o.ReactCurrentOwner,ea=!1;function vs(d,g,E,N){g.child=d===null?FA(g,null,E,N):Fs(g,d.child,E,N)}function nh(d,g,E,N,V){E=E.render;var ne=g.ref;return Jo(g,V),N=UA(d,g,E,N,ne,V),E=Wa(),d!==null&&!ea?(g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~V,ce(d,g,V)):(Fn&&E&&bn(g),g.flags|=1,vs(d,g,N,V),g.child)}function wg(d,g,E,N,V){if(d===null){var ne=E.type;return typeof ne=="function"&&!TM(ne)&&ne.defaultProps===void 0&&E.compare===null&&E.defaultProps===void 0?(g.tag=15,g.type=ne,Ix(d,g,ne,N,V)):(d=Qx(E.type,null,N,g,g.mode,V),d.ref=g.ref,d.return=g,g.child=d)}if(ne=d.child,!(d.lanes&V)){var Ie=ne.memoizedProps;if(E=E.compare,E=E!==null?E:Yo,E(Ie,N)&&d.ref===g.ref)return ce(d,g,V)}return g.flags|=1,d=lh(ne,N),d.ref=g.ref,d.return=g,g.child=d}function Ix(d,g,E,N,V){if(d!==null&&Yo(d.memoizedProps,N)&&d.ref===g.ref)if(ea=!1,(d.lanes&V)!==0)d.flags&131072&&(ea=!0);else return g.lanes=d.lanes,ce(d,g,V);return Cy(d,g,E,N,V)}function Sy(d,g,E){var N=g.pendingProps,V=N.children,ne=d!==null?d.memoizedState:null;if(N.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null},kt(ia,ra),ra|=E;else if(E&1073741824)g.memoizedState={baseLanes:0,cachePool:null},N=ne!==null?ne.baseLanes:E,kt(ia,ra),ra|=N;else return d=ne!==null?ne.baseLanes|E:E,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:d,cachePool:null},g.updateQueue=null,kt(ia,ra),ra|=d,null;else ne!==null?(N=ne.baseLanes|E,g.memoizedState=null):N=E,kt(ia,ra),ra|=N;return vs(d,g,V,E),g.child}function Px(d,g){var E=g.ref;(d===null&&E!==null||d!==null&&d.ref!==E)&&(g.flags|=512,g.flags|=2097152)}function Cy(d,g,E,N,V){var ne=Kr(E)?qs:Jt.current;return ne=Ns(g,ne),Jo(g,V),E=UA(d,g,E,N,ne,V),N=Wa(),d!==null&&!ea?(g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~V,ce(d,g,V)):(Fn&&N&&bn(g),g.flags|=1,vs(d,g,E,V),g.child)}function Nx(d,g,E,N,V){if(Kr(E)){var ne=!0;Qn(g)}else ne=!1;if(Jo(g,V),g.stateNode===null)d!==null&&(d.alternate=null,g.alternate=null,g.flags|=2),Fe(g,E,N),it(g,E,N,V),N=!0;else if(d===null){var Ie=g.stateNode,He=g.memoizedProps;Ie.props=He;var ot=Ie.context,Pt=E.contextType;typeof Pt=="object"&&Pt!==null?Pt=Xi(Pt):(Pt=Kr(E)?qs:Jt.current,Pt=Ns(g,Pt));var Zt=E.getDerivedStateFromProps,Nn=typeof Zt=="function"||typeof Ie.getSnapshotBeforeUpdate=="function";Nn||typeof Ie.UNSAFE_componentWillReceiveProps!="function"&&typeof Ie.componentWillReceiveProps!="function"||(He!==N||ot!==Pt)&&Qe(g,Ie,N,Pt),Xs=!1;var mn=g.memoizedState;Ie.state=mn,Bl(g,N,Ie,V),ot=g.memoizedState,He!==N||mn!==ot||wr.current||Xs?(typeof Zt=="function"&&(U(g,E,Zt,N),ot=g.memoizedState),(He=Xs||Me(g,E,He,N,mn,ot,Pt))?(Nn||typeof Ie.UNSAFE_componentWillMount!="function"&&typeof Ie.componentWillMount!="function"||(typeof Ie.componentWillMount=="function"&&Ie.componentWillMount(),typeof Ie.UNSAFE_componentWillMount=="function"&&Ie.UNSAFE_componentWillMount()),typeof Ie.componentDidMount=="function"&&(g.flags|=4194308)):(typeof Ie.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=N,g.memoizedState=ot),Ie.props=N,Ie.state=ot,Ie.context=Pt,N=He):(typeof Ie.componentDidMount=="function"&&(g.flags|=4194308),N=!1)}else{Ie=g.stateNode,ic(d,g),He=g.memoizedProps,Pt=g.type===g.elementType?He:yr(g.type,He),Ie.props=Pt,Nn=g.pendingProps,mn=Ie.context,ot=E.contextType,typeof ot=="object"&&ot!==null?ot=Xi(ot):(ot=Kr(E)?qs:Jt.current,ot=Ns(g,ot));var Qr=E.getDerivedStateFromProps;(Zt=typeof Qr=="function"||typeof Ie.getSnapshotBeforeUpdate=="function")||typeof Ie.UNSAFE_componentWillReceiveProps!="function"&&typeof Ie.componentWillReceiveProps!="function"||(He!==Nn||mn!==ot)&&Qe(g,Ie,N,ot),Xs=!1,mn=g.memoizedState,Ie.state=mn,Bl(g,N,Ie,V);var on=g.memoizedState;He!==Nn||mn!==on||wr.current||Xs?(typeof Qr=="function"&&(U(g,E,Qr,N),on=g.memoizedState),(Pt=Xs||Me(g,E,Pt,N,mn,on,ot)||!1)?(Zt||typeof Ie.UNSAFE_componentWillUpdate!="function"&&typeof Ie.componentWillUpdate!="function"||(typeof Ie.componentWillUpdate=="function"&&Ie.componentWillUpdate(N,on,ot),typeof Ie.UNSAFE_componentWillUpdate=="function"&&Ie.UNSAFE_componentWillUpdate(N,on,ot)),typeof Ie.componentDidUpdate=="function"&&(g.flags|=4),typeof Ie.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof Ie.componentDidUpdate!="function"||He===d.memoizedProps&&mn===d.memoizedState||(g.flags|=4),typeof Ie.getSnapshotBeforeUpdate!="function"||He===d.memoizedProps&&mn===d.memoizedState||(g.flags|=1024),g.memoizedProps=N,g.memoizedState=on),Ie.props=N,Ie.state=on,Ie.context=ot,N=Pt):(typeof Ie.componentDidUpdate!="function"||He===d.memoizedProps&&mn===d.memoizedState||(g.flags|=4),typeof Ie.getSnapshotBeforeUpdate!="function"||He===d.memoizedProps&&mn===d.memoizedState||(g.flags|=1024),N=!1)}return By(d,g,E,N,ne,V)}function By(d,g,E,N,V,ne){Px(d,g);var Ie=(g.flags&128)!==0;if(!N&&!Ie)return V&&Di(g,E,!1),ce(d,g,ne);N=g.stateNode,CM.current=g;var He=Ie&&typeof E.getDerivedStateFromError!="function"?null:N.render();return g.flags|=1,d!==null&&Ie?(g.child=Fs(g,d.child,null,ne),g.child=Fs(g,null,He,ne)):vs(d,g,He,ne),g.memoizedState=N.state,V&&Di(g,E,!0),g.child}function Lx(d){var g=d.stateNode;g.pendingContext?ii(d,g.pendingContext,g.pendingContext!==g.context):g.context&&ii(d,g.context,!1),Rs(d,g.containerInfo)}function Fx(d,g,E,N,V){return Tl(),LA(V),g.flags|=256,vs(d,g,E,N),g.child}var rp={dehydrated:null,treeContext:null,retryLane:0};function kA(d){return{baseLanes:d,cachePool:null}}function Rx(d,g,E){var N=g.pendingProps,V=_r.current,ne=!1,Ie=(g.flags&128)!==0,He;if((He=Ie)||(He=d!==null&&d.memoizedState===null?!1:(V&2)!==0),He?(ne=!0,g.flags&=-129):(d===null||d.memoizedState!==null)&&(V|=1),kt(_r,V&1),d===null)return Ji(g),d=g.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(g.mode&1?Dr(d)?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(V=N.children,d=N.fallback,ne?(N=g.mode,ne=g.child,V={mode:"hidden",children:V},!(N&1)&&ne!==null?(ne.childLanes=0,ne.pendingProps=V):ne=Hx(V,N,0,null),d=dp(d,N,E,null),ne.return=g,d.return=g,ne.sibling=d,g.child=ne,g.child.memoizedState=kA(E),g.memoizedState=rp,d):Ty(g,V));if(V=d.memoizedState,V!==null){if(He=V.dehydrated,He!==null){if(Ie)return g.flags&256?(g.flags&=-257,C(d,g,E,Error(a(422)))):g.memoizedState!==null?(g.child=d.child,g.flags|=128,null):(ne=N.fallback,V=g.mode,N=Hx({mode:"visible",children:N.children},V,0,null),ne=dp(ne,V,E,null),ne.flags|=2,N.return=g,ne.return=g,N.sibling=ne,g.child=N,g.mode&1&&Fs(g,d.child,null,E),g.child.memoizedState=kA(E),g.memoizedState=rp,ne);if(!(g.mode&1))g=C(d,g,E,null);else if(Dr(He))g=C(d,g,E,Error(a(419)));else if(N=(E&d.childLanes)!==0,ea||N){if(N=Ti,N!==null){switch(E&-E){case 4:ne=2;break;case 16:ne=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ne=32;break;case 536870912:ne=268435456;break;default:ne=0}N=ne&(N.suspendedLanes|E)?0:ne,N!==0&&N!==V.retryLane&&(V.retryLane=N,aa(d,N,-1))}Ny(),g=C(d,g,E,Error(a(421)))}else Gr(He)?(g.flags|=128,g.child=d.child,g=Ly.bind(null,d),Cr(He,g),g=null):(E=V.treeContext,Te&&(ai=$i(He),Un=g,Fn=!0,ki=null,Ga=!1,E!==null&&(Z[de++]=qe,Z[de++]=gt,Z[de++]=Oe,qe=E.id,gt=E.overflow,Oe=g)),g=Ty(g,g.pendingProps.children),g.flags|=4096);return g}return ne?(N=x(d,g,N.children,N.fallback,E),ne=g.child,V=d.child.memoizedState,ne.memoizedState=V===null?kA(E):{baseLanes:V.baseLanes|E,cachePool:null},ne.childLanes=d.childLanes&~E,g.memoizedState=rp,N):(E=My(d,g,N.children,E),g.memoizedState=null,E)}return ne?(N=x(d,g,N.children,N.fallback,E),ne=g.child,V=d.child.memoizedState,ne.memoizedState=V===null?kA(E):{baseLanes:V.baseLanes|E,cachePool:null},ne.childLanes=d.childLanes&~E,g.memoizedState=rp,N):(E=My(d,g,N.children,E),g.memoizedState=null,E)}function Ty(d,g){return g=Hx({mode:"visible",children:g},d.mode,0,null),g.return=d,d.child=g}function My(d,g,E,N){var V=d.child;return d=V.sibling,E=lh(V,{mode:"visible",children:E}),!(g.mode&1)&&(E.lanes=N),E.return=g,E.sibling=null,d!==null&&(N=g.deletions,N===null?(g.deletions=[d],g.flags|=16):N.push(d)),g.child=E}function x(d,g,E,N,V){var ne=g.mode;d=d.child;var Ie=d.sibling,He={mode:"hidden",children:E};return!(ne&1)&&g.child!==d?(E=g.child,E.childLanes=0,E.pendingProps=He,g.deletions=null):(E=lh(d,He),E.subtreeFlags=d.subtreeFlags&14680064),Ie!==null?N=lh(Ie,N):(N=dp(N,ne,V,null),N.flags|=2),N.return=g,E.return=g,E.sibling=N,g.child=E,N}function C(d,g,E,N){return N!==null&&LA(N),Fs(g,d.child,null,E),d=Ty(g,g.pendingProps.children),d.flags|=2,g.memoizedState=null,d}function O(d,g,E){d.lanes|=g;var N=d.alternate;N!==null&&(N.lanes|=g),nc(d.return,g,E)}function K(d,g,E,N,V){var ne=d.memoizedState;ne===null?d.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:N,tail:E,tailMode:V}:(ne.isBackwards=g,ne.rendering=null,ne.renderingStartTime=0,ne.last=N,ne.tail=E,ne.tailMode=V)}function oe(d,g,E){var N=g.pendingProps,V=N.revealOrder,ne=N.tail;if(vs(d,g,N.children,E),N=_r.current,N&2)N=N&1|2,g.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=g.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&O(d,E,g);else if(d.tag===19)O(d,E,g);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===g)break e;for(;d.sibling===null;){if(d.return===null||d.return===g)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}N&=1}if(kt(_r,N),!(g.mode&1))g.memoizedState=null;else switch(V){case"forwards":for(E=g.child,V=null;E!==null;)d=E.alternate,d!==null&&tl(d)===null&&(V=E),E=E.sibling;E=V,E===null?(V=g.child,g.child=null):(V=E.sibling,E.sibling=null),K(g,!1,V,E,ne);break;case"backwards":for(E=null,V=g.child,g.child=null;V!==null;){if(d=V.alternate,d!==null&&tl(d)===null){g.child=V;break}d=V.sibling,V.sibling=E,E=V,V=d}K(g,!0,E,null,ne);break;case"together":K(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function ce(d,g,E){if(d!==null&&(g.dependencies=d.dependencies),QA|=g.lanes,!(E&g.childLanes))return null;if(d!==null&&g.child!==d.child)throw Error(a(153));if(g.child!==null){for(d=g.child,E=lh(d,d.pendingProps),g.child=E,E.return=g;d.sibling!==null;)d=d.sibling,E=E.sibling=lh(d,d.pendingProps),E.return=g;E.sibling=null}return g.child}function Ae(d,g,E){switch(g.tag){case 3:Lx(g),Tl();break;case 5:ac(g);break;case 1:Kr(g.type)&&Qn(g);break;case 4:Rs(g,g.stateNode.containerInfo);break;case 10:Kc(g,g.type._context,g.memoizedProps.value);break;case 13:var N=g.memoizedState;if(N!==null)return N.dehydrated!==null?(kt(_r,_r.current&1),g.flags|=128,null):E&g.child.childLanes?Rx(d,g,E):(kt(_r,_r.current&1),d=ce(d,g,E),d!==null?d.sibling:null);kt(_r,_r.current&1);break;case 19:if(N=(E&g.childLanes)!==0,d.flags&128){if(N)return oe(d,g,E);g.flags|=128}var V=g.memoizedState;if(V!==null&&(V.rendering=null,V.tail=null,V.lastEffect=null),kt(_r,_r.current),N)break;return null;case 22:case 23:return g.lanes=0,Sy(d,g,E)}return ce(d,g,E)}function pe(d,g){switch(ir(g),g.tag){case 1:return Kr(g.type)&&Rr(),d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 3:return Po(),un(wr),un(Jt),RA(),d=g.flags,d&65536&&!(d&128)?(g.flags=d&-65537|128,g):null;case 5:return Ml(g),null;case 13:if(un(_r),d=g.memoizedState,d!==null&&d.dehydrated!==null){if(g.alternate===null)throw Error(a(340));Tl()}return d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 19:return un(_r),null;case 4:return Po(),null;case 10:return Sl(g.type._context),null;case 22:case 23:return Cg(),null;case 24:return null;default:return null}}var we=!1,Se=!1,Ue=typeof WeakSet=="function"?WeakSet:Set,Ne=null;function $e(d,g){var E=d.ref;if(E!==null)if(typeof E=="function")try{E(null)}catch(N){oa(d,g,N)}else E.current=null}function Ve(d,g,E){try{E()}catch(N){oa(d,g,N)}}var pt=!1;function rt(d,g){for(le(d.containerInfo),Ne=g;Ne!==null;)if(d=Ne,g=d.child,(d.subtreeFlags&1028)!==0&&g!==null)g.return=d,Ne=g;else for(;Ne!==null;){d=Ne;try{var E=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(E!==null){var N=E.memoizedProps,V=E.memoizedState,ne=d.stateNode,Ie=ne.getSnapshotBeforeUpdate(d.elementType===d.type?N:yr(d.type,N),V);ne.__reactInternalSnapshotBeforeUpdate=Ie}break;case 3:Ee&&Bt(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(He){oa(d,d.return,He)}if(g=d.sibling,g!==null){g.return=d.return,Ne=g;break}Ne=d.return}return E=pt,pt=!1,E}function Re(d,g,E){var N=g.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var V=N=N.next;do{if((V.tag&d)===d){var ne=V.destroy;V.destroy=void 0,ne!==void 0&&Ve(g,E,ne)}V=V.next}while(V!==N)}}function De(d,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var E=g=g.next;do{if((E.tag&d)===d){var N=E.create;E.destroy=N()}E=E.next}while(E!==g)}}function At(d){var g=d.ref;if(g!==null){var E=d.stateNode;switch(d.tag){case 5:d=ue(E);break;default:d=E}typeof g=="function"?g(d):g.current=d}}function wt(d,g,E){if(Ea&&typeof Ea.onCommitFiberUnmount=="function")try{Ea.onCommitFiberUnmount(bl,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(d=g.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var N=d=d.next;do{var V=N,ne=V.destroy;V=V.tag,ne!==void 0&&(V&2||V&4)&&Ve(g,E,ne),N=N.next}while(N!==d)}break;case 1:if($e(g,E),d=g.stateNode,typeof d.componentWillUnmount=="function")try{d.props=g.memoizedProps,d.state=g.memoizedState,d.componentWillUnmount()}catch(Ie){oa(g,E,Ie)}break;case 5:$e(g,E);break;case 4:Ee?$n(d,g,E):ie&&ie&&(g=g.stateNode.containerInfo,E=xt(g),ln(g,E))}}function dt(d,g,E){for(var N=g;;)if(wt(d,N,E),N.child===null||Ee&&N.tag===4){if(N===g)break;for(;N.sibling===null;){if(N.return===null||N.return===g)return;N=N.return}N.sibling.return=N.return,N=N.sibling}else N.child.return=N,N=N.child}function Ht(d){var g=d.alternate;g!==null&&(d.alternate=null,Ht(g)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(g=d.stateNode,g!==null&&ze(g)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function Rt(d){return d.tag===5||d.tag===3||d.tag===4}function An(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||Rt(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function Ot(d){if(Ee){e:{for(var g=d.return;g!==null;){if(Rt(g))break e;g=g.return}throw Error(a(160))}var E=g;switch(E.tag){case 5:g=E.stateNode,E.flags&32&&(ut(g),E.flags&=-33),E=An(d),lr(d,E,g);break;case 3:case 4:g=E.stateNode.containerInfo,E=An(d),rr(d,E,g);break;default:throw Error(a(161))}}}function rr(d,g,E){var N=d.tag;if(N===5||N===6)d=d.stateNode,g?Qt(E,d,g):bt(E,d);else if(N!==4&&(d=d.child,d!==null))for(rr(d,g,E),d=d.sibling;d!==null;)rr(d,g,E),d=d.sibling}function lr(d,g,E){var N=d.tag;if(N===5||N===6)d=d.stateNode,g?Nt(E,d,g):Tt(E,d);else if(N!==4&&(d=d.child,d!==null))for(lr(d,g,E),d=d.sibling;d!==null;)lr(d,g,E),d=d.sibling}function $n(d,g,E){for(var N=g,V=!1,ne,Ie;;){if(!V){V=N.return;e:for(;;){if(V===null)throw Error(a(160));switch(ne=V.stateNode,V.tag){case 5:Ie=!1;break e;case 3:ne=ne.containerInfo,Ie=!0;break e;case 4:ne=ne.containerInfo,Ie=!0;break e}V=V.return}V=!0}if(N.tag===5||N.tag===6)dt(d,N,E),Ie?Pe(ne,N.stateNode):Ct(ne,N.stateNode);else if(N.tag===18)Ie?Xe(ne,N.stateNode):et(ne,N.stateNode);else if(N.tag===4){if(N.child!==null){ne=N.stateNode.containerInfo,Ie=!0,N.child.return=N,N=N.child;continue}}else if(wt(d,N,E),N.child!==null){N.child.return=N,N=N.child;continue}if(N===g)break;for(;N.sibling===null;){if(N.return===null||N.return===g)return;N=N.return,N.tag===4&&(V=!1)}N.sibling.return=N.return,N=N.sibling}}function Hn(d,g){if(Ee){switch(g.tag){case 0:case 11:case 14:case 15:Re(3,g,g.return),De(3,g),Re(5,g,g.return);return;case 1:return;case 5:var E=g.stateNode;if(E!=null){var N=g.memoizedProps;d=d!==null?d.memoizedProps:N;var V=g.type,ne=g.updateQueue;g.updateQueue=null,ne!==null&&Gt(E,ne,V,d,N,g)}return;case 6:if(g.stateNode===null)throw Error(a(162));E=g.memoizedProps,Ze(g.stateNode,d!==null?d.memoizedProps:E,E);return;case 3:Te&&d!==null&&d.memoizedState.isDehydrated&&Ge(g.stateNode.containerInfo);return;case 12:return;case 13:fr(g);return;case 19:fr(g);return;case 17:return}throw Error(a(163))}switch(g.tag){case 0:case 11:case 14:case 15:Re(3,g,g.return),De(3,g),Re(5,g,g.return);return;case 12:return;case 13:fr(g);return;case 19:fr(g);return;case 3:Te&&d!==null&&d.memoizedState.isDehydrated&&Ge(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(ie){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,ln(g.containerInfo,g.pendingChildren);break e}throw Error(a(163))}}function fr(d){var g=d.updateQueue;if(g!==null){d.updateQueue=null;var E=d.stateNode;E===null&&(E=d.stateNode=new Ue),g.forEach(function(N){var V=Fy.bind(null,d,N);E.has(N)||(E.add(N),N.then(V,V))})}}function xr(d,g){for(Ne=g;Ne!==null;){g=Ne;var E=g.deletions;if(E!==null)for(var N=0;N<E.length;N++){var V=E[N];try{var ne=d;Ee?$n(ne,V,g):dt(ne,V,g);var Ie=V.alternate;Ie!==null&&(Ie.return=null),V.return=null}catch(rn){oa(V,g,rn)}}if(E=g.child,g.subtreeFlags&12854&&E!==null)E.return=g,Ne=E;else for(;Ne!==null;){g=Ne;try{var He=g.flags;if(He&32&&Ee&&ut(g.stateNode),He&512){var ot=g.alternate;if(ot!==null){var Pt=ot.ref;Pt!==null&&(typeof Pt=="function"?Pt(null):Pt.current=null)}}if(He&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var Zt=g.alternate;(Zt===null||Zt.memoizedState===null)&&(ih=si())}break;case 22:var Nn=g.memoizedState!==null,mn=g.alternate,Qr=mn!==null&&mn.memoizedState!==null;if(E=g,Ee){e:if(N=E,V=Nn,ne=null,Ee)for(var on=N;;){if(on.tag===5){if(ne===null){ne=on;var Xa=on.stateNode;V?_t(Xa):lt(on.stateNode,on.memoizedProps)}}else if(on.tag===6){if(ne===null){var mc=on.stateNode;V?Ft(mc):Le(mc,on.memoizedProps)}}else if((on.tag!==22&&on.tag!==23||on.memoizedState===null||on===N)&&on.child!==null){on.child.return=on,on=on.child;continue}if(on===N)break;for(;on.sibling===null;){if(on.return===null||on.return===N)break e;ne===on&&(ne=null),on=on.return}ne===on&&(ne=null),on.sibling.return=on.return,on=on.sibling}}if(Nn&&!Qr&&E.mode&1){Ne=E;for(var Je=E.child;Je!==null;){for(E=Ne=Je;Ne!==null;){N=Ne;var We=N.child;switch(N.tag){case 0:case 11:case 14:case 15:Re(4,N,N.return);break;case 1:$e(N,N.return);var st=N.stateNode;if(typeof st.componentWillUnmount=="function"){var Vt=N.return;try{st.props=N.memoizedProps,st.state=N.memoizedState,st.componentWillUnmount()}catch(rn){oa(N,Vt,rn)}}break;case 5:$e(N,N.return);break;case 22:if(N.memoizedState!==null){Ci(E);continue}}We!==null?(We.return=N,Ne=We):Ci(E)}Je=Je.sibling}}}switch(He&4102){case 2:Ot(g),g.flags&=-3;break;case 6:Ot(g),g.flags&=-3,Hn(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,Hn(g.alternate,g);break;case 4:Hn(g.alternate,g)}}catch(rn){oa(g,g.return,rn)}if(E=g.sibling,E!==null){E.return=g.return,Ne=E;break}Ne=g.return}}}function Mn(d,g,E){Ne=d,Si(d)}function Si(d,g,E){for(var N=(d.mode&1)!==0;Ne!==null;){var V=Ne,ne=V.child;if(V.tag===22&&N){var Ie=V.memoizedState!==null||we;if(!Ie){var He=V.alternate,ot=He!==null&&He.memoizedState!==null||Se;He=we;var Pt=Se;if(we=Ie,(Se=ot)&&!Pt)for(Ne=V;Ne!==null;)Ie=Ne,ot=Ie.child,Ie.tag===22&&Ie.memoizedState!==null?Ma(V):ot!==null?(ot.return=Ie,Ne=ot):Ma(V);for(;ne!==null;)Ne=ne,Si(ne),ne=ne.sibling;Ne=V,we=He,Se=Pt}Ta(d)}else V.subtreeFlags&8772&&ne!==null?(ne.return=V,Ne=ne):Ta(d)}}function Ta(d){for(;Ne!==null;){var g=Ne;if(g.flags&8772){var E=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:Se||De(5,g);break;case 1:var N=g.stateNode;if(g.flags&4&&!Se)if(E===null)N.componentDidMount();else{var V=g.elementType===g.type?E.memoizedProps:yr(g.type,E.memoizedProps);N.componentDidUpdate(V,E.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var ne=g.updateQueue;ne!==null&&Ls(g,ne,N);break;case 3:var Ie=g.updateQueue;if(Ie!==null){if(E=null,g.child!==null)switch(g.child.tag){case 5:E=ue(g.child.stateNode);break;case 1:E=g.child.stateNode}Ls(g,Ie,E)}break;case 5:var He=g.stateNode;E===null&&g.flags&4&&ht(He,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(Te&&g.memoizedState===null){var ot=g.alternate;if(ot!==null){var Pt=ot.memoizedState;if(Pt!==null){var Zt=Pt.dehydrated;Zt!==null&&Ye(Zt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}Se||g.flags&512&&At(g)}catch(Nn){oa(g,g.return,Nn)}}if(g===d){Ne=null;break}if(E=g.sibling,E!==null){E.return=g.return,Ne=E;break}Ne=g.return}}function Ci(d){for(;Ne!==null;){var g=Ne;if(g===d){Ne=null;break}var E=g.sibling;if(E!==null){E.return=g.return,Ne=E;break}Ne=g.return}}function Ma(d){for(;Ne!==null;){var g=Ne;try{switch(g.tag){case 0:case 11:case 15:var E=g.return;try{De(4,g)}catch(ot){oa(g,E,ot)}break;case 1:var N=g.stateNode;if(typeof N.componentDidMount=="function"){var V=g.return;try{N.componentDidMount()}catch(ot){oa(g,V,ot)}}var ne=g.return;try{At(g)}catch(ot){oa(g,ne,ot)}break;case 5:var Ie=g.return;try{At(g)}catch(ot){oa(g,Ie,ot)}}}catch(ot){oa(g,g.return,ot)}if(g===d){Ne=null;break}var He=g.sibling;if(He!==null){He.return=g.return,Ne=He;break}Ne=g.return}}var ar=0,ta=1,na=2,Bi=3,Vi=4;if(typeof Symbol=="function"&&Symbol.for){var Zi=Symbol.for;ar=Zi("selector.component"),ta=Zi("selector.has_pseudo_class"),na=Zi("selector.role"),Bi=Zi("selector.test_id"),Vi=Zi("selector.text")}function Ka(d){var g=ye(d);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(a(364));return g}if(d=Be(d),d===null)throw Error(a(362));return d.stateNode.current}function sl(d,g){switch(g.$$typeof){case ar:if(d.type===g.value)return!0;break;case ta:e:{g=g.value,d=[d,0];for(var E=0;E<d.length;){var N=d[E++],V=d[E++],ne=g[V];if(N.tag!==5||!je(N)){for(;ne!=null&&sl(N,ne);)V++,ne=g[V];if(V===g.length){g=!0;break e}else for(N=N.child;N!==null;)d.push(N,V),N=N.sibling}}g=!1}return g;case na:if(d.tag===5&&ft(d.stateNode,g.value))return!0;break;case Vi:if((d.tag===5||d.tag===6)&&(d=Ke(d),d!==null&&0<=d.indexOf(g.value)))return!0;break;case Bi:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function zi(d){switch(d.$$typeof){case ar:return"<"+(S(d.value)||"Unknown")+">";case ta:return":has("+(zi(d)||"")+")";case na:return'[role="'+d.value+'"]';case Vi:return'"'+d.value+'"';case Bi:return'[data-testname="'+d.value+'"]';default:throw Error(a(365))}}function fc(d,g){var E=[];d=[d,0];for(var N=0;N<d.length;){var V=d[N++],ne=d[N++],Ie=g[ne];if(V.tag!==5||!je(V)){for(;Ie!=null&&sl(V,Ie);)ne++,Ie=g[ne];if(ne===g.length)E.push(V);else for(V=V.child;V!==null;)d.push(V,ne),V=V.sibling}}return E}function Xc(d,g){if(!te)throw Error(a(363));d=Ka(d),d=fc(d,g),g=[],d=Array.from(d);for(var E=0;E<d.length;){var N=d[E++];if(N.tag===5)je(N)||g.push(N.stateNode);else for(N=N.child;N!==null;)d.push(N),N=N.sibling}return g}var rh=Math.ceil,Nl=o.ReactCurrentDispatcher,Xr=o.ReactCurrentOwner,ui=o.ReactCurrentBatchConfig,Rn=0,Ti=null,Ai=null,Mi=0,ra=0,ia=Wr(0),Yr=0,hc=null,QA=0,HA=0,_g=0,Vu=null,sa=null,ih=0,VA=1/0;function sh(){VA=si()+500}var xg=!1,ip=null,Ia=null,bg=!1,zu=null,Eg=0,ah=0,oh=null,sp=-1,ap=0;function ys(){return Rn&6?si():sp!==-1?sp:sp=si()}function dc(d){return d.mode&1?Rn&2&&Mi!==0?Mi&-Mi:PA.transition!==null?(ap===0&&(d=Ko,Ko<<=1,!(Ko&4194240)&&(Ko=64),ap=d),ap):(d=zn,d!==0?d:se()):1}function aa(d,g,E){if(50<ah)throw ah=0,oh=null,Error(a(185));var N=op(d,g);return N===null?null:($o(N,g,E),(!(Rn&2)||N!==Ti)&&(N===Ti&&(!(Rn&2)&&(HA|=g),Yr===4&&Yc(N,Mi)),qa(N,E),g===1&&Rn===0&&!(d.mode&1)&&(sh(),nr&&$s())),N)}function op(d,g){d.lanes|=g;var E=d.alternate;for(E!==null&&(E.lanes|=g),E=d,d=d.return;d!==null;)d.childLanes|=g,E=d.alternate,E!==null&&(E.childLanes|=g),E=d,d=d.return;return E.tag===3?E.stateNode:null}function qa(d,g){var E=d.callbackNode;$d(d,g);var N=Ru(d,d===Ti?Mi:0);if(N===0)E!==null&&xl(E),d.callbackNode=null,d.callbackPriority=0;else if(g=N&-N,d.callbackPriority!==g){if(E!=null&&xl(E),g===1)d.tag===0?IA(Iy.bind(null,d)):Gc(Iy.bind(null,d)),be?z(function(){Rn===0&&$s()}):dn(ba,$s),E=null;else{switch(Uu(N)){case 1:E=ba;break;case 4:E=Du;break;case 16:E=zc;break;case 536870912:E=Ou;break;default:E=zc}E=DO(E,lp.bind(null,d))}d.callbackPriority=g,d.callbackNode=E}}function lp(d,g){if(sp=-1,ap=0,Rn&6)throw Error(a(327));var E=d.callbackNode;if($a()&&d.callbackNode!==E)return null;var N=Ru(d,d===Ti?Mi:0);if(N===0)return null;if(N&30||N&d.expiredLanes||g)g=up(d,N);else{g=N;var V=Rn;Rn|=2;var ne=Py();(Ti!==d||Mi!==g)&&(sh(),al(d,g));do try{Ap();break}catch(He){Dx(d,He)}while(!0);Mo(),Nl.current=ne,Rn=V,Ai!==null?g=0:(Ti=null,Mi=0,g=Yr)}if(g!==0){if(g===2&&(V=So(d),V!==0&&(N=V,g=Sg(d,V))),g===1)throw E=hc,al(d,0),Yc(d,N),qa(d,si()),E;if(g===6)Yc(d,N);else{if(V=d.current.alternate,!(N&30)&&!ju(V)&&(g=up(d,N),g===2&&(ne=So(d),ne!==0&&(N=ne,g=Sg(d,ne))),g===1))throw E=hc,al(d,0),Yc(d,N),qa(d,si()),E;switch(d.finishedWork=V,d.finishedLanes=N,g){case 0:case 1:throw Error(a(345));case 2:Pa(d,sa);break;case 3:if(Yc(d,N),(N&130023424)===N&&(g=ih+500-si(),10<g)){if(Ru(d,0)!==0)break;if(V=d.suspendedLanes,(V&N)!==N){ys(),d.pingedLanes|=d.suspendedLanes&V;break}d.timeoutHandle=W(Pa.bind(null,d,sa),g);break}Pa(d,sa);break;case 4:if(Yc(d,N),(N&4194240)===N)break;for(g=d.eventTimes,V=-1;0<N;){var Ie=31-Ei(N);ne=1<<Ie,Ie=g[Ie],Ie>V&&(V=Ie),N&=~ne}if(N=V,N=si()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*rh(N/1960))-N,10<N){d.timeoutHandle=W(Pa.bind(null,d,sa),N);break}Pa(d,sa);break;case 5:Pa(d,sa);break;default:throw Error(a(329))}}}return qa(d,si()),d.callbackNode===E?lp.bind(null,d):null}function Sg(d,g){var E=Vu;return d.current.memoizedState.isDehydrated&&(al(d,g).flags|=256),d=up(d,g),d!==2&&(g=sa,sa=E,g!==null&&cp(g)),d}function cp(d){sa===null?sa=d:sa.push.apply(sa,d)}function ju(d){for(var g=d;;){if(g.flags&16384){var E=g.updateQueue;if(E!==null&&(E=E.stores,E!==null))for(var N=0;N<E.length;N++){var V=E[N],ne=V.getSnapshot;V=V.value;try{if(!Oi(ne(),V))return!1}catch{return!1}}}if(E=g.child,g.subtreeFlags&16384&&E!==null)E.return=g,g=E;else{if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Yc(d,g){for(g&=~_g,g&=~HA,d.suspendedLanes|=g,d.pingedLanes&=~g,d=d.expirationTimes;0<g;){var E=31-Ei(g),N=1<<E;d[E]=-1,g&=~N}}function Iy(d){if(Rn&6)throw Error(a(327));$a();var g=Ru(d,0);if(!(g&1))return qa(d,si()),null;var E=up(d,g);if(d.tag!==0&&E===2){var N=So(d);N!==0&&(g=N,E=Sg(d,N))}if(E===1)throw E=hc,al(d,0),Yc(d,g),qa(d,si()),E;if(E===6)throw Error(a(345));return d.finishedWork=d.current.alternate,d.finishedLanes=g,Pa(d,sa),qa(d,si()),null}function Ux(d){zu!==null&&zu.tag===0&&!(Rn&6)&&$a();var g=Rn;Rn|=1;var E=ui.transition,N=zn;try{if(ui.transition=null,zn=1,d)return d()}finally{zn=N,ui.transition=E,Rn=g,!(Rn&6)&&$s()}}function Cg(){ra=ia.current,un(ia)}function al(d,g){d.finishedWork=null,d.finishedLanes=0;var E=d.timeoutHandle;if(E!==he&&(d.timeoutHandle=he,ge(E)),Ai!==null)for(E=Ai.return;E!==null;){var N=E;switch(ir(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&Rr();break;case 3:Po(),un(wr),un(Jt),RA();break;case 5:Ml(N);break;case 4:Po();break;case 13:un(_r);break;case 19:un(_r);break;case 10:Sl(N.type._context);break;case 22:case 23:Cg()}E=E.return}if(Ti=d,Ai=d=lh(d.current,null),Mi=ra=g,Yr=0,hc=null,_g=HA=QA=0,sa=Vu=null,Yi!==null){for(g=0;g<Yi.length;g++)if(E=Yi[g],N=E.interleaved,N!==null){E.interleaved=null;var V=N.next,ne=E.pending;if(ne!==null){var Ie=ne.next;ne.next=V,N.next=Ie}E.pending=N}Yi=null}return d}function Dx(d,g){do{var E=Ai;try{if(Mo(),gs.current=eh,oc){for(var N=kr.memoizedState;N!==null;){var V=N.queue;V!==null&&(V.pending=null),N=N.next}oc=!1}if(Il=0,qr=Qi=kr=null,nl=!1,Pl=0,Xr.current=null,E===null||E.return===null){Yr=1,hc=g,Ai=null;break}e:{var ne=d,Ie=E.return,He=E,ot=g;if(g=Mi,He.flags|=32768,ot!==null&&typeof ot=="object"&&typeof ot.then=="function"){var Pt=ot,Zt=He,Nn=Zt.tag;if(!(Zt.mode&1)&&(Nn===0||Nn===11||Nn===15)){var mn=Zt.alternate;mn?(Zt.updateQueue=mn.updateQueue,Zt.memoizedState=mn.memoizedState,Zt.lanes=mn.lanes):(Zt.updateQueue=null,Zt.memoizedState=null)}var Qr=rl(Ie);if(Qr!==null){Qr.flags&=-257,uc(Qr,Ie,He,ne,g),Qr.mode&1&&$c(ne,Pt,g),g=Qr,ot=Pt;var on=g.updateQueue;if(on===null){var Xa=new Set;Xa.add(ot),g.updateQueue=Xa}else on.add(ot);break e}else{if(!(g&1)){$c(ne,Pt,g),Ny();break e}ot=Error(a(426))}}else if(Fn&&He.mode&1){var mc=rl(Ie);if(mc!==null){!(mc.flags&65536)&&(mc.flags|=256),uc(mc,Ie,He,ne,g),LA(ot);break e}}ne=ot,Yr!==4&&(Yr=2),Vu===null?Vu=[ne]:Vu.push(ne),ot=gg(ot,He),He=Ie;do{switch(He.tag){case 3:He.flags|=65536,g&=-g,He.lanes|=g;var Je=Bx(He,ot,g);Cl(He,Je);break e;case 1:ne=ot;var We=He.type,st=He.stateNode;if(!(He.flags&128)&&(typeof We.getDerivedStateFromError=="function"||st!==null&&typeof st.componentDidCatch=="function"&&(Ia===null||!Ia.has(st)))){He.flags|=65536,g&=-g,He.lanes|=g;var Vt=Tx(He,ne,g);Cl(He,Vt);break e}}He=He.return}while(He!==null)}fp(E)}catch(rn){g=rn,Ai===E&&E!==null&&(Ai=E=E.return);continue}break}while(!0)}function Py(){var d=Nl.current;return Nl.current=eh,d===null?eh:d}function Ny(){(Yr===0||Yr===3||Yr===2)&&(Yr=4),Ti===null||!(QA&268435455)&&!(HA&268435455)||Yc(Ti,Mi)}function up(d,g){var E=Rn;Rn|=2;var N=Py();Ti===d&&Mi===g||al(d,g);do try{BM();break}catch(V){Dx(d,V)}while(!0);if(Mo(),Rn=E,Nl.current=N,Ai!==null)throw Error(a(261));return Ti=null,Mi=0,Yr}function BM(){for(;Ai!==null;)Bg(Ai)}function Ap(){for(;Ai!==null&&!Xd();)Bg(Ai)}function Bg(d){var g=UO(d.alternate,d,ra);d.memoizedProps=d.pendingProps,g===null?fp(d):Ai=g,Xr.current=null}function fp(d){var g=d;do{var E=g.alternate;if(d=g.return,g.flags&32768){if(E=pe(E,g),E!==null){E.flags&=32767,Ai=E;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{Yr=6,Ai=null;return}}else if(E=Mx(E,g,ra),E!==null){Ai=E;return}if(g=g.sibling,g!==null){Ai=g;return}Ai=g=d}while(g!==null);Yr===0&&(Yr=5)}function Pa(d,g){var E=zn,N=ui.transition;try{ui.transition=null,zn=1,Gu(d,g,E)}finally{ui.transition=N,zn=E}return null}function Gu(d,g,E){do $a();while(zu!==null);if(Rn&6)throw Error(a(327));var N=d.finishedWork,V=d.finishedLanes;if(N===null)return null;if(d.finishedWork=null,d.finishedLanes=0,N===d.current)throw Error(a(177));d.callbackNode=null,d.callbackPriority=0;var ne=N.lanes|N.childLanes;if(ec(d,ne),d===Ti&&(Ai=Ti=null,Mi=0),!(N.subtreeFlags&2064)&&!(N.flags&2064)||bg||(bg=!0,DO(zc,function(){return $a(),null})),ne=(N.flags&15990)!==0,N.subtreeFlags&15990||ne){ne=ui.transition,ui.transition=null;var Ie=zn;zn=1;var He=Rn;Rn|=4,Xr.current=null,rt(d,N),xr(d,N),ee(d.containerInfo),d.current=N,Mn(N),Xo(),Rn=He,zn=Ie,ui.transition=ne}else d.current=N;if(bg&&(bg=!1,zu=d,Eg=V),ne=d.pendingLanes,ne===0&&(Ia=null),El(N.stateNode),qa(d,si()),g!==null)for(E=d.onRecoverableError,N=0;N<g.length;N++)E(g[N]);if(xg)throw xg=!1,d=ip,ip=null,d;return Eg&1&&d.tag!==0&&$a(),ne=d.pendingLanes,ne&1?d===oh?ah++:(ah=0,oh=d):ah=0,$s(),null}function $a(){if(zu!==null){var d=Uu(Eg),g=ui.transition,E=zn;try{if(ui.transition=null,zn=16>d?16:d,zu===null)var N=!1;else{if(d=zu,zu=null,Eg=0,Rn&6)throw Error(a(331));var V=Rn;for(Rn|=4,Ne=d.current;Ne!==null;){var ne=Ne,Ie=ne.child;if(Ne.flags&16){var He=ne.deletions;if(He!==null){for(var ot=0;ot<He.length;ot++){var Pt=He[ot];for(Ne=Pt;Ne!==null;){var Zt=Ne;switch(Zt.tag){case 0:case 11:case 15:Re(8,Zt,ne)}var Nn=Zt.child;if(Nn!==null)Nn.return=Zt,Ne=Nn;else for(;Ne!==null;){Zt=Ne;var mn=Zt.sibling,Qr=Zt.return;if(Ht(Zt),Zt===Pt){Ne=null;break}if(mn!==null){mn.return=Qr,Ne=mn;break}Ne=Qr}}}var on=ne.alternate;if(on!==null){var Xa=on.child;if(Xa!==null){on.child=null;do{var mc=Xa.sibling;Xa.sibling=null,Xa=mc}while(Xa!==null)}}Ne=ne}}if(ne.subtreeFlags&2064&&Ie!==null)Ie.return=ne,Ne=Ie;else e:for(;Ne!==null;){if(ne=Ne,ne.flags&2048)switch(ne.tag){case 0:case 11:case 15:Re(9,ne,ne.return)}var Je=ne.sibling;if(Je!==null){Je.return=ne.return,Ne=Je;break e}Ne=ne.return}}var We=d.current;for(Ne=We;Ne!==null;){Ie=Ne;var st=Ie.child;if(Ie.subtreeFlags&2064&&st!==null)st.return=Ie,Ne=st;else e:for(Ie=We;Ne!==null;){if(He=Ne,He.flags&2048)try{switch(He.tag){case 0:case 11:case 15:De(9,He)}}catch(rn){oa(He,He.return,rn)}if(He===Ie){Ne=null;break e}var Vt=He.sibling;if(Vt!==null){Vt.return=He.return,Ne=Vt;break e}Ne=He.return}}if(Rn=V,$s(),Ea&&typeof Ea.onPostCommitFiberRoot=="function")try{Ea.onPostCommitFiberRoot(bl,d)}catch{}N=!0}return N}finally{zn=E,ui.transition=g}}return!1}function hp(d,g,E){g=gg(E,g),g=Bx(d,g,1),Io(d,g),g=ys(),d=op(d,1),d!==null&&($o(d,1,g),qa(d,g))}function oa(d,g,E){if(d.tag===3)hp(d,d,E);else for(;g!==null;){if(g.tag===3){hp(g,d,E);break}else if(g.tag===1){var N=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Ia===null||!Ia.has(N))){d=gg(E,d),d=Tx(g,d,1),Io(g,d),d=ys(),g=op(g,1),g!==null&&($o(g,1,d),qa(g,d));break}}g=g.return}}function Ox(d,g,E){var N=d.pingCache;N!==null&&N.delete(g),g=ys(),d.pingedLanes|=d.suspendedLanes&E,Ti===d&&(Mi&E)===E&&(Yr===4||Yr===3&&(Mi&130023424)===Mi&&500>si()-ih?al(d,0):_g|=E),qa(d,g)}function kx(d,g){g===0&&(d.mode&1?(g=qo,qo<<=1,!(qo&130023424)&&(qo=4194304)):g=1);var E=ys();d=op(d,g),d!==null&&($o(d,g,E),qa(d,E))}function Ly(d){var g=d.memoizedState,E=0;g!==null&&(E=g.retryLane),kx(d,E)}function Fy(d,g){var E=0;switch(d.tag){case 13:var N=d.stateNode,V=d.memoizedState;V!==null&&(E=V.retryLane);break;case 19:N=d.stateNode;break;default:throw Error(a(314))}N!==null&&N.delete(g),kx(d,E)}var UO;UO=function(d,g,E){if(d!==null)if(d.memoizedProps!==g.pendingProps||wr.current)ea=!0;else{if(!(d.lanes&E)&&!(g.flags&128))return ea=!1,Ae(d,g,E);ea=!!(d.flags&131072)}else ea=!1,Fn&&g.flags&1048576&&jn(g,Q,g.index);switch(g.lanes=0,g.tag){case 2:var N=g.type;d!==null&&(d.alternate=null,g.alternate=null,g.flags|=2),d=g.pendingProps;var V=Ns(g,Jt.current);Jo(g,E),V=UA(null,g,N,d,V,E);var ne=Wa();return g.flags|=1,typeof V=="object"&&V!==null&&typeof V.render=="function"&&V.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,Kr(N)?(ne=!0,Qn(g)):ne=!1,g.memoizedState=V.state!==null&&V.state!==void 0?V.state:null,rc(g),V.updater=ae,g.stateNode=V,V._reactInternals=g,it(g,N,d,E),g=By(null,g,N,!0,ne,E)):(g.tag=0,Fn&&ne&&bn(g),vs(null,g,V,E),g=g.child),g;case 16:N=g.elementType;e:{switch(d!==null&&(d.alternate=null,g.alternate=null,g.flags|=2),d=g.pendingProps,V=N._init,N=V(N._payload),g.type=N,V=g.tag=Tse(N),d=yr(N,d),V){case 0:g=Cy(null,g,N,d,E);break e;case 1:g=Nx(null,g,N,d,E);break e;case 11:g=nh(null,g,N,d,E);break e;case 14:g=wg(null,g,N,yr(N.type,d),E);break e}throw Error(a(306,N,""))}return g;case 0:return N=g.type,V=g.pendingProps,V=g.elementType===N?V:yr(N,V),Cy(d,g,N,V,E);case 1:return N=g.type,V=g.pendingProps,V=g.elementType===N?V:yr(N,V),Nx(d,g,N,V,E);case 3:e:{if(Lx(g),d===null)throw Error(a(387));N=g.pendingProps,ne=g.memoizedState,V=ne.element,ic(d,g),Bl(g,N,null,E);var Ie=g.memoizedState;if(N=Ie.element,Te&&ne.isDehydrated)if(ne={element:N,isDehydrated:!1,cache:Ie.cache,transitions:Ie.transitions},g.updateQueue.baseState=ne,g.memoizedState=ne,g.flags&256){V=Error(a(423)),g=Fx(d,g,N,E,V);break e}else if(N!==V){V=Error(a(424)),g=Fx(d,g,N,E,V);break e}else for(Te&&(ai=za(g.stateNode.containerInfo),Un=g,Fn=!0,ki=null,Ga=!1),E=FA(g,null,N,E),g.child=E;E;)E.flags=E.flags&-3|4096,E=E.sibling;else{if(Tl(),N===V){g=ce(d,g,E);break e}vs(d,g,N,E)}g=g.child}return g;case 5:return ac(g),d===null&&Ji(g),N=g.type,V=g.pendingProps,ne=d!==null?d.memoizedProps:null,Ie=V.children,G(N,V)?Ie=null:ne!==null&&G(N,ne)&&(g.flags|=32),Px(d,g),vs(d,g,Ie,E),g.child;case 6:return d===null&&Ji(g),null;case 13:return Rx(d,g,E);case 4:return Rs(g,g.stateNode.containerInfo),N=g.pendingProps,d===null?g.child=Fs(g,null,N,E):vs(d,g,N,E),g.child;case 11:return N=g.type,V=g.pendingProps,V=g.elementType===N?V:yr(N,V),nh(d,g,N,V,E);case 7:return vs(d,g,g.pendingProps,E),g.child;case 8:return vs(d,g,g.pendingProps.children,E),g.child;case 12:return vs(d,g,g.pendingProps.children,E),g.child;case 10:e:{if(N=g.type._context,V=g.pendingProps,ne=g.memoizedProps,Ie=V.value,Kc(g,N,Ie),ne!==null)if(Oi(ne.value,Ie)){if(ne.children===V.children&&!wr.current){g=ce(d,g,E);break e}}else for(ne=g.child,ne!==null&&(ne.return=g);ne!==null;){var He=ne.dependencies;if(He!==null){Ie=ne.child;for(var ot=He.firstContext;ot!==null;){if(ot.context===N){if(ne.tag===1){ot=Ys(-1,E&-E),ot.tag=2;var Pt=ne.updateQueue;if(Pt!==null){Pt=Pt.shared;var Zt=Pt.pending;Zt===null?ot.next=ot:(ot.next=Zt.next,Zt.next=ot),Pt.pending=ot}}ne.lanes|=E,ot=ne.alternate,ot!==null&&(ot.lanes|=E),nc(ne.return,E,g),He.lanes|=E;break}ot=ot.next}}else if(ne.tag===10)Ie=ne.type===g.type?null:ne.child;else if(ne.tag===18){if(Ie=ne.return,Ie===null)throw Error(a(341));Ie.lanes|=E,He=Ie.alternate,He!==null&&(He.lanes|=E),nc(Ie,E,g),Ie=ne.sibling}else Ie=ne.child;if(Ie!==null)Ie.return=ne;else for(Ie=ne;Ie!==null;){if(Ie===g){Ie=null;break}if(ne=Ie.sibling,ne!==null){ne.return=Ie.return,Ie=ne;break}Ie=Ie.return}ne=Ie}vs(d,g,V.children,E),g=g.child}return g;case 9:return V=g.type,N=g.pendingProps.children,Jo(g,E),V=Xi(V),N=N(V),g.flags|=1,vs(d,g,N,E),g.child;case 14:return N=g.type,V=yr(N,g.pendingProps),V=yr(N.type,V),wg(d,g,N,V,E);case 15:return Ix(d,g,g.type,g.pendingProps,E);case 17:return N=g.type,V=g.pendingProps,V=g.elementType===N?V:yr(N,V),d!==null&&(d.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,Kr(N)?(d=!0,Qn(g)):d=!1,Jo(g,E),Fe(g,N,V),it(g,N,V,E),By(null,g,N,!0,d,E);case 19:return oe(d,g,E);case 22:return Sy(d,g,E)}throw Error(a(156,g.tag))};function DO(d,g){return dn(d,g)}function Bse(d,g,E,N){this.tag=d,this.key=E,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function pc(d,g,E,N){return new Bse(d,g,E,N)}function TM(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Tse(d){if(typeof d=="function")return TM(d)?1:0;if(d!=null){if(d=d.$$typeof,d===y)return 11;if(d===w)return 14}return 2}function lh(d,g){var E=d.alternate;return E===null?(E=pc(d.tag,g,d.key,d.mode),E.elementType=d.elementType,E.type=d.type,E.stateNode=d.stateNode,E.alternate=d,d.alternate=E):(E.pendingProps=g,E.type=d.type,E.flags=0,E.subtreeFlags=0,E.deletions=null),E.flags=d.flags&14680064,E.childLanes=d.childLanes,E.lanes=d.lanes,E.child=d.child,E.memoizedProps=d.memoizedProps,E.memoizedState=d.memoizedState,E.updateQueue=d.updateQueue,g=d.dependencies,E.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},E.sibling=d.sibling,E.index=d.index,E.ref=d.ref,E}function Qx(d,g,E,N,V,ne){var Ie=2;if(N=d,typeof d=="function")TM(d)&&(Ie=1);else if(typeof d=="string")Ie=5;else e:switch(d){case u:return dp(E.children,V,ne,g);case A:Ie=8,V|=8;break;case f:return d=pc(12,E,g,V|2),d.elementType=f,d.lanes=ne,d;case v:return d=pc(13,E,g,V),d.elementType=v,d.lanes=ne,d;case m:return d=pc(19,E,g,V),d.elementType=m,d.lanes=ne,d;case B:return Hx(E,V,ne,g);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case h:Ie=10;break e;case p:Ie=9;break e;case y:Ie=11;break e;case w:Ie=14;break e;case _:Ie=16,N=null;break e}throw Error(a(130,d==null?d:typeof d,""))}return g=pc(Ie,E,g,V),g.elementType=d,g.type=N,g.lanes=ne,g}function dp(d,g,E,N){return d=pc(7,d,N,g),d.lanes=E,d}function Hx(d,g,E,N){return d=pc(22,d,N,g),d.elementType=B,d.lanes=E,d.stateNode={},d}function MM(d,g,E){return d=pc(6,d,null,g),d.lanes=E,d}function IM(d,g,E){return g=pc(4,d.children!==null?d.children:[],d.key,g),g.lanes=E,g.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},g}function Mse(d,g,E,N,V){this.tag=g,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=he,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Zl(0),this.expirationTimes=Zl(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Zl(0),this.identifierPrefix=N,this.onRecoverableError=V,Te&&(this.mutableSourceEagerHydrationData=null)}function OO(d,g,E,N,V,ne,Ie,He,ot){return d=new Mse(d,g,E,He,ot),g===1?(g=1,ne===!0&&(g|=8)):g=0,ne=pc(3,null,null,g),d.current=ne,ne.stateNode=d,ne.memoizedState={element:N,isDehydrated:E,cache:null,transitions:null},rc(ne),d}function kO(d){if(!d)return ps;d=d._reactInternals;e:{if(T(d)!==d||d.tag!==1)throw Error(a(170));var g=d;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(Kr(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(a(171))}if(d.tag===1){var E=d.type;if(Kr(E))return Eo(d,E,g)}return g}function QO(d){var g=d._reactInternals;if(g===void 0)throw typeof d.render=="function"?Error(a(188)):(d=Object.keys(d).join(","),Error(a(268,d)));return d=D(g),d===null?null:d.stateNode}function HO(d,g){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var E=d.retryLane;d.retryLane=E!==0&&E<g?E:g}}function PM(d,g){HO(d,g),(d=d.alternate)&&HO(d,g)}function Ise(d){return d=D(d),d===null?null:d.stateNode}function Pse(){return null}return n.attemptContinuousHydration=function(d){if(d.tag===13){var g=ys();aa(d,134217728,g),PM(d,134217728)}},n.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var g=ys(),E=dc(d);aa(d,E,g),PM(d,E)}},n.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var g=d.stateNode;if(g.current.memoizedState.isDehydrated){var E=xa(g.pendingLanes);E!==0&&(Tr(g,E|1),qa(g,si()),!(Rn&6)&&(sh(),$s()))}break;case 13:var N=ys();Ux(function(){return aa(d,1,N)}),PM(d,1)}},n.batchedUpdates=function(d,g){var E=Rn;Rn|=1;try{return d(g)}finally{Rn=E,Rn===0&&(sh(),nr&&$s())}},n.createComponentSelector=function(d){return{$$typeof:ar,value:d}},n.createContainer=function(d,g,E,N,V,ne,Ie){return OO(d,g,!1,null,E,N,V,ne,Ie)},n.createHasPseudoClassSelector=function(d){return{$$typeof:ta,value:d}},n.createHydrationContainer=function(d,g,E,N,V,ne,Ie,He,ot){return d=OO(E,N,!0,d,V,ne,Ie,He,ot),d.context=kO(null),E=d.current,N=ys(),V=dc(E),ne=Ys(N,V),ne.callback=g??null,Io(E,ne),d.current.lanes=V,$o(d,V,N),qa(d,N),d},n.createPortal=function(d,g,E){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:N==null?null:""+N,children:d,containerInfo:g,implementation:E}},n.createRoleSelector=function(d){return{$$typeof:na,value:d}},n.createTestNameSelector=function(d){return{$$typeof:Bi,value:d}},n.createTextSelector=function(d){return{$$typeof:Vi,value:d}},n.deferredUpdates=function(d){var g=zn,E=ui.transition;try{return ui.transition=null,zn=16,d()}finally{zn=g,ui.transition=E}},n.discreteUpdates=function(d,g,E,N,V){var ne=zn,Ie=ui.transition;try{return ui.transition=null,zn=1,d(g,E,N,V)}finally{zn=ne,ui.transition=Ie,Rn===0&&sh()}},n.findAllNodes=Xc,n.findBoundingRects=function(d,g){if(!te)throw Error(a(363));g=Xc(d,g),d=[];for(var E=0;E<g.length;E++)d.push(ke(g[E]));for(g=d.length-1;0<g;g--){E=d[g];for(var N=E.x,V=N+E.width,ne=E.y,Ie=ne+E.height,He=g-1;0<=He;He--)if(g!==He){var ot=d[He],Pt=ot.x,Zt=Pt+ot.width,Nn=ot.y,mn=Nn+ot.height;if(N>=Pt&&ne>=Nn&&V<=Zt&&Ie<=mn){d.splice(g,1);break}else if(N!==Pt||E.width!==ot.width||mn<ne||Nn>Ie){if(!(ne!==Nn||E.height!==ot.height||Zt<N||Pt>V)){Pt>N&&(ot.width+=Pt-N,ot.x=N),Zt<V&&(ot.width=V-Pt),d.splice(g,1);break}}else{Nn>ne&&(ot.height+=Nn-ne,ot.y=ne),mn<Ie&&(ot.height=Ie-Nn),d.splice(g,1);break}}}return d},n.findHostInstance=QO,n.findHostInstanceWithNoPortals=function(d){return d=P(d),d=d!==null?X(d):null,d===null?null:d.stateNode},n.findHostInstanceWithWarning=function(d){return QO(d)},n.flushControlled=function(d){var g=Rn;Rn|=1;var E=ui.transition,N=zn;try{ui.transition=null,zn=1,d()}finally{zn=N,ui.transition=E,Rn=g,Rn===0&&(sh(),$s())}},n.flushPassiveEffects=$a,n.flushSync=Ux,n.focusWithin=function(d,g){if(!te)throw Error(a(363));for(d=Ka(d),g=fc(d,g),g=Array.from(g),d=0;d<g.length;){var E=g[d++];if(!je(E)){if(E.tag===5&&nt(E.stateNode))return!0;for(E=E.child;E!==null;)g.push(E),E=E.sibling}}return!1},n.getCurrentUpdatePriority=function(){return zn},n.getFindAllNodesFailureDescription=function(d,g){if(!te)throw Error(a(363));var E=0,N=[];d=[Ka(d),0];for(var V=0;V<d.length;){var ne=d[V++],Ie=d[V++],He=g[Ie];if((ne.tag!==5||!je(ne))&&(sl(ne,He)&&(N.push(zi(He)),Ie++,Ie>E&&(E=Ie)),Ie<g.length))for(ne=ne.child;ne!==null;)d.push(ne,Ie),ne=ne.sibling}if(E<g.length){for(d=[];E<g.length;E++)d.push(zi(g[E]));return`findAllNodes was able to match part of the selector:
  `+(N.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},n.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return ue(d.child.stateNode);default:return d.child.stateNode}},n.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:Ise,findFiberByHostInstance:d.findFiberByHostInstance||Pse,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)d=!0;else{try{bl=g.inject(d),Ea=g}catch{}d=!!g.checkDCE}}return d},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(d,g,E,N){if(!te)throw Error(a(363));d=Xc(d,g);var V=ct(d,E,N).disconnect;return{disconnect:function(){V()}}},n.registerMutableSourceForHydration=function(d,g){var E=g._getVersion;E=E(g._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[g,E]:d.mutableSourceEagerHydrationData.push(g,E)},n.runWithPriority=function(d,g){var E=zn;try{return zn=d,g()}finally{zn=E}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(d,g,E,N){var V=g.current,ne=ys(),Ie=dc(V);return E=kO(E),g.context===null?g.context=E:g.pendingContext=E,g=Ys(ne,Ie),g.payload={element:d},N=N===void 0?null:N,N!==null&&(g.callback=N),Io(V,g),d=aa(V,Ie,ne),d!==null&&ja(d,V,Ie),Ie},n};HX.exports=P1e;var N1e=HX.exports;const L1e=Of(N1e),T4={},F1e=t=>void Object.assign(T4,t);function R1e(t,e){function n(u,{args:A=[],attach:f,...h},p){let y=`${u[0].toUpperCase()}${u.slice(1)}`,v;if(u==="primitive"){if(h.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const m=h.object;v=u0(m,{type:u,root:p,attach:f,primitive:!0})}else{const m=T4[y];if(!m)throw new Error(`R3F: ${y} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(A))throw new Error("R3F: The args prop must be an array!");v=u0(new m(...A),{type:u,root:p,attach:f,memoizedProps:{args:A}})}return v.__r3f.attach===void 0&&(v.isBufferGeometry?v.__r3f.attach="geometry":v.isMaterial&&(v.__r3f.attach="material")),y!=="inject"&&i5(v,h),v}function r(u,A){let f=!1;if(A){var h,p;(h=A.__r3f)!=null&&h.attach?r5(u,A,A.__r3f.attach):A.isObject3D&&u.isObject3D&&(u.add(A),f=!0),f||(p=u.__r3f)==null||p.objects.push(A),A.__r3f||u0(A,{}),A.__r3f.parent=u,yN(A),A0(A)}}function i(u,A,f){let h=!1;if(A){var p,y;if((p=A.__r3f)!=null&&p.attach)r5(u,A,A.__r3f.attach);else if(A.isObject3D&&u.isObject3D){A.parent=u,A.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:A});const v=u.children.filter(w=>w!==A),m=v.indexOf(f);u.children=[...v.slice(0,m),A,...v.slice(m)],h=!0}h||(y=u.__r3f)==null||y.objects.push(A),A.__r3f||u0(A,{}),A.__r3f.parent=u,yN(A),A0(A)}}function s(u,A,f=!1){u&&[...u].forEach(h=>a(A,h,f))}function a(u,A,f){if(A){var h,p,y;if(A.__r3f&&(A.__r3f.parent=null),(h=u.__r3f)!=null&&h.objects&&(u.__r3f.objects=u.__r3f.objects.filter(B=>B!==A)),(p=A.__r3f)!=null&&p.attach)GH(u,A,A.__r3f.attach);else if(A.isObject3D&&u.isObject3D){var v;u.remove(A),(v=A.__r3f)!=null&&v.root&&z1e(v2(A),A)}const w=(y=A.__r3f)==null?void 0:y.primitive,_=!w&&(f===void 0?A.dispose!==null:f);if(!w){var m;s((m=A.__r3f)==null?void 0:m.objects,A,_),s(A.children,A,_)}if(delete A.__r3f,_&&A.dispose&&A.type!=="Scene"){const B=()=>{try{A.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?gN.unstable_scheduleCallback(gN.unstable_IdlePriority,B):B()}A0(u)}}function o(u,A,f,h){var p;const y=(p=u.__r3f)==null?void 0:p.parent;if(!y)return;const v=n(A,f,u.__r3f.root);if(u.children){for(const m of u.children)m.__r3f&&r(v,m);u.children=u.children.filter(m=>!m.__r3f)}u.__r3f.objects.forEach(m=>r(v,m)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||a(y,u),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),r(y,v),v.raycast&&v.__r3f.eventCount&&v2(v).getState().internal.interaction.push(v),[h,h.alternate].forEach(m=>{m!==null&&(m.stateNode=v,m.ref&&(typeof m.ref=="function"?m.ref(v):m.ref.current=v))})}const l=()=>{};return{reconciler:L1e({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,A)=>{if(!A)return;const f=u.getState().scene;f.__r3f&&(f.__r3f.root=u,r(f,A))},removeChildFromContainer:(u,A)=>{A&&a(u.getState().scene,A)},insertInContainerBefore:(u,A,f)=>{if(!A||!f)return;const h=u.getState().scene;h.__r3f&&i(h,A,f)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var A;return!!((A=u==null?void 0:u.__r3f)!=null?A:{}).handlers},prepareUpdate(u,A,f,h){var p;if(((p=u==null?void 0:u.__r3f)!=null?p:{}).primitive&&h.object&&h.object!==u)return[!0];{const{args:v=[],children:m,...w}=h,{args:_=[],children:B,...R}=f;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((S,M)=>S!==_[M]))return[!0];const L=XX(u,w,R,!0);return L.changes.length?[!1,L]:null}},commitUpdate(u,[A,f],h,p,y,v){A?o(u,h,y,v):i5(u,f)},commitMount(u,A,f,h){var p;const y=(p=u.__r3f)!=null?p:{};u.raycast&&y.handlers&&y.eventCount&&v2(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>u0(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var A;const{attach:f,parent:h}=(A=u.__r3f)!=null?A:{};f&&h&&GH(h,u,f),u.isObject3D&&(u.visible=!1),A0(u)},unhideInstance(u,A){var f;const{attach:h,parent:p}=(f=u.__r3f)!=null?f:{};h&&p&&r5(p,u,h),(u.isObject3D&&A.visible==null||A.visible)&&(u.visible=!0),A0(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():H0.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&ei.fun(performance.now)?performance.now:ei.fun(Date.now)?Date.now:()=>0,scheduleTimeout:ei.fun(setTimeout)?setTimeout:void 0,cancelTimeout:ei.fun(clearTimeout)?clearTimeout:void 0}),applyProps:i5}}var HH,VH;const n5=t=>"colorSpace"in t||"outputColorSpace"in t,jX=()=>{var t;return(t=T4.ColorManagement)!=null?t:null},GX=t=>t&&t.isOrthographicCamera,U1e=t=>t&&t.hasOwnProperty("current"),X_=typeof window<"u"&&((HH=window.document)!=null&&HH.createElement||((VH=window.navigator)==null?void 0:VH.product)==="ReactNative")?Y.useLayoutEffect:Y.useEffect;function WX(t){const e=Y.useRef(t);return X_(()=>void(e.current=t),[t]),e}function D1e({set:t}){return X_(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class KX extends Y.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}KX.getDerivedStateFromError=()=>({error:!0});const qX="__default",zH=new Map,O1e=t=>t&&!!t.memoized&&!!t.changes;function $X(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const n1=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function v2(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const ei={obj:t=>t===Object(t)&&!ei.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(ei.str(t)||ei.num(t)||ei.boo(t))return t===e;const s=ei.obj(t);if(s&&r==="reference")return t===e;const a=ei.arr(t);if(a&&n==="reference")return t===e;if((a||s)&&t===e)return!0;let o;for(o in t)if(!(o in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(o in i?e:t)if(!ei.equ(t[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:t)if(t[o]!==e[o])return!1;if(ei.und(o)){if(a&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function k1e(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function Q1e(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function u0(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function vN(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,a)=>s[a],t),{target:n,key:i}}else return{target:n,key:e}}const jH=/-\d+$/;function r5(t,e,n){if(ei.str(n)){if(jH.test(n)){const s=n.replace(jH,""),{target:a,key:o}=vN(t,s);Array.isArray(a[o])||(a[o]=[])}const{target:r,key:i}=vN(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function GH(t,e,n){var r,i;if(ei.str(n)){const{target:s,key:a}=vN(t,n),o=e.__r3f.previousAttach;o===void 0?delete s[a]:s[a]=o}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function XX(t,{children:e,key:n,ref:r,...i},{children:s,key:a,ref:o,...l}={},c=!1){const u=t.__r3f,A=Object.entries(i),f=[];if(c){const p=Object.keys(l);for(let y=0;y<p.length;y++)i.hasOwnProperty(p[y])||A.unshift([p[y],qX+"remove"])}A.forEach(([p,y])=>{var v;if((v=t.__r3f)!=null&&v.primitive&&p==="object"||ei.equ(y,l[p]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(p))return f.push([p,y,!0,[]]);let m=[];p.includes("-")&&(m=p.split("-")),f.push([p,y,!1,m]);for(const w in i){const _=i[w];w.startsWith(`${p}-`)&&f.push([w,_,!1,w.split("-")])}});const h={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(h.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(h.attach=u.memoizedProps.attach),{memoized:h,changes:f}}function i5(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:o}=O1e(e)?e:XX(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let f=0;f<o.length;f++){let[h,p,y,v]=o[f];if(n5(t)){const B="srgb",R="srgb-linear";h==="encoding"?(h="colorSpace",p=p===3001?B:R):h==="outputEncoding"&&(h="outputColorSpace",p=p===3001?B:R)}let m=t,w=m[h];if(v.length&&(w=v.reduce((_,B)=>_[B],t),!(w&&w.set))){const[_,...B]=v.reverse();m=B.reverse().reduce((R,L)=>R[L],t),h=_}if(p===qX+"remove")if(m.constructor){let _=zH.get(m.constructor);_||(_=new m.constructor,zH.set(m.constructor,_)),p=_[h]}else p=0;if(y&&r)p?r.handlers[h]=p:delete r.handlers[h],r.eventCount=Object.keys(r.handlers).length;else if(w&&w.set&&(w.copy||w instanceof Am)){if(Array.isArray(p))w.fromArray?w.fromArray(p):w.set(...p);else if(w.copy&&p&&p.constructor&&w.constructor===p.constructor)w.copy(p);else if(p!==void 0){var c;const _=(c=w)==null?void 0:c.isColor;!_&&w.setScalar?w.setScalar(p):w instanceof Am&&p instanceof Am?w.mask=p.mask:w.set(p),!jX()&&s&&!s.linear&&_&&w.convertSRGBToLinear()}}else{var u;if(m[h]=p,(u=m[h])!=null&&u.isTexture&&m[h].format===Do&&m[h].type===sA&&s){const _=m[h];n5(_)&&n5(s.gl)?_.colorSpace=s.gl.outputColorSpace:_.encoding=s.gl.outputEncoding}}A0(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const f=v2(t).getState().internal,h=f.interaction.indexOf(t);h>-1&&f.interaction.splice(h,1),r.eventCount&&f.interaction.push(t)}return!(o.length===1&&o[0][0]==="onUpdate")&&o.length&&(n=t.__r3f)!=null&&n.parent&&yN(t),t}function A0(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function yN(t){t.onUpdate==null||t.onUpdate(t)}function H1e(t,e){t.manual||(GX(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function tE(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function V1e(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return H0.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return H0.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return H0.ContinuousEventPriority;default:return H0.DefaultEventPriority}}function YX(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function z1e(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{YX(n.capturedMap,e,r,i)})}function j1e(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],A=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+A*A))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var A;return(A=c.__r3f)==null?void 0:A.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),A=new Set,f=[],h=c?c(u.internal.interaction):u.internal.interaction;for(let m=0;m<h.length;m++){const w=n1(h[m]);w&&(w.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function p(m){const w=n1(m);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var _;w.events.compute==null||w.events.compute(l,w,(_=w.previousRoot)==null?void 0:_.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(m,!0):[]}let y=h.flatMap(p).sort((m,w)=>{const _=n1(m.object),B=n1(w.object);return!_||!B?m.distance-w.distance:B.events.priority-_.events.priority||m.distance-w.distance}).filter(m=>{const w=tE(m);return A.has(w)?!1:(A.add(w),!0)});u.events.filter&&(y=u.events.filter(y,u));for(const m of y){let w=m.object;for(;w;){var v;(v=w.__r3f)!=null&&v.eventCount&&f.push({...m,eventObject:w}),w=w.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let m of u.internal.capturedMap.get(l.pointerId).values())A.has(tE(m.intersection))||f.push(m.intersection);return f}function i(l,c,u,A){const f=t.getState();if(l.length){const h={stopped:!1};for(const p of l){const y=n1(p.object)||f,{raycaster:v,pointer:m,camera:w,internal:_}=y,B=new Ce(m.x,m.y,0).unproject(w),R=F=>{var P,D;return(P=(D=_.capturedMap.get(F))==null?void 0:D.has(p.eventObject))!=null?P:!1},L=F=>{const P={intersection:p,target:c.target};_.capturedMap.has(F)?_.capturedMap.get(F).set(p.eventObject,P):_.capturedMap.set(F,new Map([[p.eventObject,P]])),c.target.setPointerCapture(F)},S=F=>{const P=_.capturedMap.get(F);P&&YX(_.capturedMap,p.eventObject,P,F)};let M={};for(let F in c){let P=c[F];typeof P!="function"&&(M[F]=P)}let T={...p,...M,pointer:m,intersections:l,stopped:h.stopped,delta:u,unprojectedPoint:B,ray:v.ray,camera:w,stopPropagation(){const F="pointerId"in c&&_.capturedMap.get(c.pointerId);if((!F||F.has(p.eventObject))&&(T.stopped=h.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(P=>P.eventObject===p.eventObject))){const P=l.slice(0,l.indexOf(p));s([...P,p])}},target:{hasPointerCapture:R,setPointerCapture:L,releasePointerCapture:S},currentTarget:{hasPointerCapture:R,setPointerCapture:L,releasePointerCapture:S},nativeEvent:c};if(A(T),h.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(A=>A.object===u.object&&A.index===u.index&&A.instanceId===u.instanceId)){const f=u.eventObject.__r3f,h=f==null?void 0:f.handlers;if(c.hovered.delete(tE(u)),f!=null&&f.eventCount){const p={...u,intersections:l};h.onPointerOut==null||h.onPointerOut(p),h.onPointerLeave==null||h.onPointerLeave(p)}}}function a(l,c){for(let u=0;u<c.length;u++){const A=c[u].__r3f;A==null||A.handlers.onPointerMissed==null||A.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:A,internal:f}=t.getState();f.lastEvent.current=u;const h=l==="onPointerMove",p=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(u,h?n:void 0),m=p?e(u):0;l==="onPointerDown"&&(f.initialClick=[u.offsetX,u.offsetY],f.initialHits=v.map(_=>_.eventObject)),p&&!v.length&&m<=2&&(a(u,f.interaction),A&&A(u)),h&&s(v);function w(_){const B=_.eventObject,R=B.__r3f,L=R==null?void 0:R.handlers;if(R!=null&&R.eventCount)if(h){if(L.onPointerOver||L.onPointerEnter||L.onPointerOut||L.onPointerLeave){const S=tE(_),M=f.hovered.get(S);M?M.stopped&&_.stopPropagation():(f.hovered.set(S,_),L.onPointerOver==null||L.onPointerOver(_),L.onPointerEnter==null||L.onPointerEnter(_))}L.onPointerMove==null||L.onPointerMove(_)}else{const S=L[l];S?(!p||f.initialHits.includes(B))&&(a(u,f.interaction.filter(M=>!f.initialHits.includes(M))),S(_)):p&&f.initialHits.includes(B)&&a(u,f.interaction.filter(M=>!f.initialHits.includes(M)))}}i(v,u,m,w)}}return{handlePointer:o}}const JX=t=>!!(t!=null&&t.render),ZX=Y.createContext(null),G1e=(t,e)=>{const n=w1e((o,l)=>{const c=new Ce,u=new Ce,A=new Ce;function f(m=l().camera,w=u,_=l().size){const{width:B,height:R,top:L,left:S}=_,M=B/R;w.isVector3?A.copy(w):A.set(...w);const T=m.getWorldPosition(c).distanceTo(A);if(GX(m))return{width:B/m.zoom,height:R/m.zoom,top:L,left:S,factor:1,distance:T,aspect:M};{const F=m.fov*Math.PI/180,P=2*Math.tan(F/2)*T,D=P*(B/R);return{width:D,height:P,top:L,left:S,factor:B/D,distance:T,aspect:M}}}let h;const p=m=>o(w=>({performance:{...w.performance,current:m}})),y=new tt;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(m=1)=>t(l(),m),advance:(m,w)=>e(m,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new E4,pointer:y,mouse:y,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const m=l();h&&clearTimeout(h),m.performance.current!==m.performance.min&&p(m.performance.min),h=setTimeout(()=>p(l().performance.max),m.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:m=>o(w=>({...w,events:{...w.events,...m}})),setSize:(m,w,_,B,R)=>{const L=l().camera,S={width:m,height:w,top:B||0,left:R||0,updateStyle:_};o(M=>({size:S,viewport:{...M.viewport,...f(L,u,S)}}))},setDpr:m=>o(w=>{const _=$X(m);return{viewport:{...w.viewport,dpr:_,initialDpr:w.viewport.initialDpr||_}}}),setFrameloop:(m="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,m!=="never"&&(w.start(),w.elapsedTime=0),o(()=>({frameloop:m}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:Y.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(m,w,_)=>{const B=l().internal;return B.priority=B.priority+(w>0?1:0),B.subscribers.push({ref:m,priority:w,store:_}),B.subscribers=B.subscribers.sort((R,L)=>R.priority-L.priority),()=>{const R=l().internal;R!=null&&R.subscribers&&(R.priority=R.priority-(w>0?1:0),R.subscribers=R.subscribers.filter(L=>L.ref!==m))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:u,set:A}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var f;i=l,s=c.dpr,H1e(o,l),u.setPixelRatio(c.dpr);const h=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,h)}o!==a&&(a=o,A(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(o)}})))}),n.subscribe(o=>t(o)),n};let nE,W1e=new Set,K1e=new Set,q1e=new Set;function s5(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function r1(t,e){switch(t){case"before":return s5(W1e,e);case"after":return s5(K1e,e);case"tail":return s5(q1e,e)}}let a5,o5;function l5(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),a5=e.internal.subscribers,nE=0;nE<a5.length;nE++)o5=a5[nE],o5.ref.current(o5.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function $1e(t){let e=!1,n=!1,r,i,s;function a(c){i=requestAnimationFrame(a),e=!0,r=0,r1("before",c),n=!0;for(const A of t.values()){var u;s=A.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(r+=l5(c,s))}if(n=!1,r1("after",c),r===0)return r1("tail",c),e=!1,cancelAnimationFrame(i)}function o(c,u=1){var A;if(!c)return t.forEach(f=>o(f.store.getState(),u));(A=c.gl.xr)!=null&&A.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(c,u=!0,A,f){if(u&&r1("before",c),A)l5(c,A,f);else for(const h of t.values())l5(c,h.store.getState());u&&r1("after",c)}return{loop:a,invalidate:o,advance:l}}function eY(){const t=Y.useContext(ZX);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function vh(t=n=>n,e){return eY()(t,e)}function tY(t,e=0){const n=eY(),r=n.getState().internal.subscribe,i=WX(t);return X_(()=>r(i,e,n),[e,r,n]),null}const WH=new WeakMap;function nY(t,e){return function(n,...r){let i=WH.get(n);return i||(i=new n,WH.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((a,o)=>i.load(s,l=>{l.scene&&Object.assign(l,k1e(l.scene)),a(l)},e,l=>o(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function M4(t,e,n,r){const i=Array.isArray(e)?e:[e],s=x1e(nY(n,r),[t,...i],{equal:ei.equ});return Array.isArray(e)?s:s[0]}M4.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return b1e(nY(n),[t,...r])};M4.clear=function(t,e){const n=Array.isArray(e)?e:[e];return E1e([t,...n])};const bv=new Map,{invalidate:KH,advance:qH}=$1e(bv),{reconciler:SS,applyProps:Xg}=R1e(bv,V1e),Yg={objects:"shallow",strict:!1},X1e=(t,e)=>{const n=typeof t=="function"?t(e):t;return JX(n)?n:new a4({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Y1e(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:a,updateStyle:o=n}=e;return{width:r,height:i,top:s,left:a,updateStyle:o}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function J1e(t){const e=bv.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||G1e(KH,qH),a=n||SS.createContainer(s,H0.ConcurrentRoot,null,!1,null,"",i,null);e||bv.set(t,{fiber:a,store:s});let o,l=!1,c;return{configure(u={}){let{gl:A,size:f,scene:h,events:p,onCreated:y,shadows:v=!1,linear:m=!1,flat:w=!1,legacy:_=!1,orthographic:B=!1,frameloop:R="always",dpr:L=[1,2],performance:S,raycaster:M,camera:T,onPointerMissed:F}=u,P=s.getState(),D=P.gl;P.gl||P.set({gl:D=X1e(A,t)});let H=P.raycaster;H||P.set({raycaster:H=new LX});const{params:X,...fe}=M||{};if(ei.equ(fe,H,Yg)||Xg(H,{...fe}),ei.equ(X,H.params,Yg)||Xg(H,{params:{...H.params,...X}}),!P.camera||P.camera===c&&!ei.equ(c,T,Yg)){c=T;const ee=T instanceof V_,re=ee?T:B?new od(0,0,0,0,.1,1e3):new os(75,0,.1,1e3);ee||(re.position.z=5,T&&(Xg(re,T),("aspect"in T||"left"in T||"right"in T||"bottom"in T||"top"in T)&&(re.manual=!0,re.updateProjectionMatrix())),!P.camera&&!(T!=null&&T.rotation)&&re.lookAt(0,0,0)),P.set({camera:re}),H.camera=re}if(!P.scene){let ee;h!=null&&h.isScene?ee=h:(ee=new o4,h&&Xg(ee,h)),P.set({scene:u0(ee)})}if(!P.xr){var ue;const ee=($,j)=>{const G=s.getState();G.frameloop!=="never"&&qH($,!0,G,j)},re=()=>{const $=s.getState();$.gl.xr.enabled=$.gl.xr.isPresenting,$.gl.xr.setAnimationLoop($.gl.xr.isPresenting?ee:null),$.gl.xr.isPresenting||KH($)},k={connect(){const $=s.getState().gl;$.xr.addEventListener("sessionstart",re),$.xr.addEventListener("sessionend",re)},disconnect(){const $=s.getState().gl;$.xr.removeEventListener("sessionstart",re),$.xr.removeEventListener("sessionend",re)}};typeof((ue=D.xr)==null?void 0:ue.addEventListener)=="function"&&k.connect(),P.set({xr:k})}if(D.shadowMap){const ee=D.shadowMap.enabled,re=D.shadowMap.type;if(D.shadowMap.enabled=!!v,ei.boo(v))D.shadowMap.type=Y1;else if(ei.str(v)){var me;const k={basic:Eq,percentage:hB,soft:Y1,variance:au};D.shadowMap.type=(me=k[v])!=null?me:Y1}else ei.obj(v)&&Object.assign(D.shadowMap,v);(ee!==D.shadowMap.enabled||re!==D.shadowMap.type)&&(D.shadowMap.needsUpdate=!0)}const J=jX();J&&("enabled"in J?J.enabled=!_:"legacyMode"in J&&(J.legacyMode=_)),l||Xg(D,{outputEncoding:m?3e3:3001,toneMapping:w?iA:kR}),P.legacy!==_&&P.set(()=>({legacy:_})),P.linear!==m&&P.set(()=>({linear:m})),P.flat!==w&&P.set(()=>({flat:w})),A&&!ei.fun(A)&&!JX(A)&&!ei.equ(A,D,Yg)&&Xg(D,A),p&&!P.events.handlers&&P.set({events:p(s)});const le=Y1e(t,f);return ei.equ(le,P.size,Yg)||P.setSize(le.width,le.height,le.updateStyle,le.top,le.left),L&&P.viewport.dpr!==$X(L)&&P.setDpr(L),P.frameloop!==R&&P.setFrameloop(R),P.onPointerMissed||P.set({onPointerMissed:F}),S&&!ei.equ(S,P.performance,Yg)&&P.set(ee=>({performance:{...ee.performance,...S}})),o=y,l=!0,this},render(u){return l||this.configure(),SS.updateContainer(cu.jsx(Z1e,{store:s,children:u,onCreated:o,rootElement:t}),a,null,()=>{}),s},unmount(){rY(t)}}}function Z1e({store:t,children:e,onCreated:n,rootElement:r}){return X_(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),cu.jsx(ZX.Provider,{value:t,children:e})}function rY(t,e){const n=bv.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),SS.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,a,o,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Q1e(i),bv.delete(t)}catch{}},500)})}}SS.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:Y.version});const c5={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function ewe(t){const{handlePointer:e}=j1e(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(c5).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([a,o])=>{const[l,c]=c5[a];n.addEventListener(l,o,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,a])=>{if(r&&r.connected instanceof HTMLElement){const[o]=c5[s];r.connected.removeEventListener(o,a)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function $H(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function twe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=Y.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=Y.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=Y.useRef(!1);Y.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[A,f,h]=Y.useMemo(()=>{const m=()=>{if(!o.current.element)return;const{left:w,top:_,width:B,height:R,bottom:L,right:S,x:M,y:T}=o.current.element.getBoundingClientRect(),F={left:w,top:_,width:B,height:R,bottom:L,right:S,x:M,y:T};o.current.element instanceof HTMLElement&&r&&(F.height=o.current.element.offsetHeight,F.width=o.current.element.offsetWidth),Object.freeze(F),u.current&&!swe(o.current.lastBounds,F)&&a(o.current.lastBounds=F)};return[m,c?$H(m,c):m,l?$H(m,l):m]},[a,r,l,c]);function p(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(m=>m.removeEventListener("scroll",h,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function y(){o.current.element&&(o.current.resizeObserver=new i(h),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(m=>m.addEventListener("scroll",h,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{h()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const v=m=>{!m||m===o.current.element||(p(),o.current.element=m,o.current.scrollContainers=iY(m),y())};return rwe(h,!!e),nwe(f),Y.useEffect(()=>{p(),y()},[e,h,f]),Y.useEffect(()=>p,[]),[v,s,A]}function nwe(t){Y.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function rwe(t,e){Y.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function iY(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...iY(t.parentElement)]}const iwe=["x","y","top","bottom","left","right","width","height"],swe=(t,e)=>iwe.every(n=>t[n]===e[n]);var awe=Object.defineProperty,owe=Object.defineProperties,lwe=Object.getOwnPropertyDescriptors,XH=Object.getOwnPropertySymbols,cwe=Object.prototype.hasOwnProperty,uwe=Object.prototype.propertyIsEnumerable,YH=(t,e,n)=>e in t?awe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,JH=(t,e)=>{for(var n in e||(e={}))cwe.call(e,n)&&YH(t,n,e[n]);if(XH)for(var n of XH(e))uwe.call(e,n)&&YH(t,n,e[n]);return t},Awe=(t,e)=>owe(t,lwe(e)),ZH,e8;typeof window<"u"&&((ZH=window.document)!=null&&ZH.createElement||((e8=window.navigator)==null?void 0:e8.product)==="ReactNative")?Y.useLayoutEffect:Y.useEffect;function sY(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=sY(r,e,n);if(i)return i;r=r.sibling}}function aY(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const t8=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=t8;return}return t8.apply(this,arguments)};const I4=aY(Y.createContext(null));class oY extends Y.Component{render(){return Y.createElement(I4.Provider,{value:this._reactInternals},this.props.children)}}function fwe(){const t=Y.useContext(I4);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Y.useId();return Y.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=sY(r,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function hwe(){const t=fwe(),[e]=Y.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==I4&&!e.has(i)&&e.set(i,Y.useContext(aY(i)))}n=n.return}return e}function dwe(){const t=hwe();return Y.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>Y.createElement(e,null,Y.createElement(n.Provider,Awe(JH({},r),{value:t.get(n)}))),e=>Y.createElement(oY,JH({},e))),[t])}const pwe=Y.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:a=ewe,eventSource:o,eventPrefix:l,shadows:c,linear:u,flat:A,legacy:f,orthographic:h,frameloop:p,dpr:y,performance:v,raycaster:m,camera:w,scene:_,onPointerMissed:B,onCreated:R,...L},S){Y.useMemo(()=>F1e(g1e),[]);const M=dwe(),[T,F]=twe({scroll:!0,debounce:{scroll:50,resize:0},...r}),P=Y.useRef(null),D=Y.useRef(null);Y.useImperativeHandle(S,()=>P.current);const H=WX(B),[X,fe]=Y.useState(!1),[ue,me]=Y.useState(!1);if(X)throw X;if(ue)throw ue;const J=Y.useRef(null);X_(()=>{const ee=P.current;F.width>0&&F.height>0&&ee&&(J.current||(J.current=J1e(ee)),J.current.configure({gl:s,events:a,shadows:c,linear:u,flat:A,legacy:f,orthographic:h,frameloop:p,dpr:y,performance:v,raycaster:m,camera:w,scene:_,size:F,onPointerMissed:(...re)=>H.current==null?void 0:H.current(...re),onCreated:re=>{re.events.connect==null||re.events.connect(o?U1e(o)?o.current:o:D.current),l&&re.setEvents({compute:(k,$)=>{const j=k[l+"X"],G=k[l+"Y"];$.pointer.set(j/$.size.width*2-1,-(G/$.size.height)*2+1),$.raycaster.setFromCamera($.pointer,$.camera)}}),R==null||R(re)}}),J.current.render(cu.jsx(M,{children:cu.jsx(KX,{set:me,children:cu.jsx(Y.Suspense,{fallback:cu.jsx(D1e,{set:fe}),children:e??null})})})))}),Y.useEffect(()=>{const ee=P.current;if(ee)return()=>rY(ee)},[]);const le=o?"none":"auto";return cu.jsx("div",{ref:D,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:le,...i},...L,children:cu.jsx("div",{ref:T,style:{width:"100%",height:"100%"},children:cu.jsx("canvas",{ref:P,style:{display:"block"},children:n})})})}),lY=Y.forwardRef(function(e,n){return cu.jsx(oY,{children:cu.jsx(pwe,{...e,ref:n})})});function CS(){return CS=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CS.apply(null,arguments)}var mwe=Object.defineProperty,gwe=(t,e,n)=>e in t?mwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vwe=(t,e,n)=>(gwe(t,e+"",n),n);class ywe{constructor(){vwe(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}var wwe=Object.defineProperty,_we=(t,e,n)=>e in t?wwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,gn=(t,e,n)=>(_we(t,typeof e!="symbol"?e+"":e,n),n);const rE=new qm,n8=new ef,xwe=Math.cos(70*(Math.PI/180)),r8=(t,e)=>(t%e+e)%e;let bwe=class extends ywe{constructor(e,n){super(),gn(this,"object"),gn(this,"domElement"),gn(this,"enabled",!0),gn(this,"target",new Ce),gn(this,"minDistance",0),gn(this,"maxDistance",1/0),gn(this,"minZoom",0),gn(this,"maxZoom",1/0),gn(this,"minPolarAngle",0),gn(this,"maxPolarAngle",Math.PI),gn(this,"minAzimuthAngle",-1/0),gn(this,"maxAzimuthAngle",1/0),gn(this,"enableDamping",!1),gn(this,"dampingFactor",.05),gn(this,"enableZoom",!0),gn(this,"zoomSpeed",1),gn(this,"enableRotate",!0),gn(this,"rotateSpeed",1),gn(this,"enablePan",!0),gn(this,"panSpeed",1),gn(this,"screenSpacePanning",!0),gn(this,"keyPanSpeed",7),gn(this,"zoomToCursor",!1),gn(this,"autoRotate",!1),gn(this,"autoRotateSpeed",2),gn(this,"reverseOrbit",!1),gn(this,"reverseHorizontalOrbit",!1),gn(this,"reverseVerticalOrbit",!1),gn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),gn(this,"mouseButtons",{LEFT:Np.ROTATE,MIDDLE:Np.DOLLY,RIGHT:Np.PAN}),gn(this,"touches",{ONE:Lp.ROTATE,TWO:Lp.DOLLY_PAN}),gn(this,"target0"),gn(this,"position0"),gn(this,"zoom0"),gn(this,"_domElementKeyEvents",null),gn(this,"getPolarAngle"),gn(this,"getAzimuthalAngle"),gn(this,"setPolarAngle"),gn(this,"setAzimuthalAngle"),gn(this,"getDistance"),gn(this,"getZoomScale"),gn(this,"listenToKeyEvents"),gn(this,"stopListenToKeyEvents"),gn(this,"saveState"),gn(this,"reset"),gn(this,"update"),gn(this,"connect"),gn(this,"dispose"),gn(this,"dollyIn"),gn(this,"dollyOut"),gn(this,"getScale"),gn(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=Pe=>{let ut=r8(Pe,2*Math.PI),_t=u.phi;_t<0&&(_t+=2*Math.PI),ut<0&&(ut+=2*Math.PI);let Ft=Math.abs(ut-_t);2*Math.PI-Ft<Ft&&(ut<_t?ut+=2*Math.PI:_t+=2*Math.PI),A.phi=ut-_t,r.update()},this.setAzimuthalAngle=Pe=>{let ut=r8(Pe,2*Math.PI),_t=u.theta;_t<0&&(_t+=2*Math.PI),ut<0&&(ut+=2*Math.PI);let Ft=Math.abs(ut-_t);2*Math.PI-Ft<Ft&&(ut<_t?ut+=2*Math.PI:_t+=2*Math.PI),A.theta=ut-_t,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=Pe=>{Pe.addEventListener("keydown",Tt),this._domElementKeyEvents=Pe},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Tt),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=o.NONE},this.update=(()=>{const Pe=new Ce,ut=new Ce(0,1,0),_t=new go().setFromUnitVectors(e.up,ut),Ft=_t.clone().invert(),lt=new Ce,Le=new go,Bt=2*Math.PI;return function(){const xt=r.object.position;_t.setFromUnitVectors(e.up,ut),Ft.copy(_t).invert(),Pe.copy(xt).sub(r.target),Pe.applyQuaternion(_t),u.setFromVector3(Pe),r.autoRotate&&l===o.NONE&&X(D()),r.enableDamping?(u.theta+=A.theta*r.dampingFactor,u.phi+=A.phi*r.dampingFactor):(u.theta+=A.theta,u.phi+=A.phi);let Mt=r.minAzimuthAngle,vn=r.maxAzimuthAngle;isFinite(Mt)&&isFinite(vn)&&(Mt<-Math.PI?Mt+=Bt:Mt>Math.PI&&(Mt-=Bt),vn<-Math.PI?vn+=Bt:vn>Math.PI&&(vn-=Bt),Mt<=vn?u.theta=Math.max(Mt,Math.min(vn,u.theta)):u.theta=u.theta>(Mt+vn)/2?Math.max(Mt,u.theta):Math.min(vn,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(h,r.dampingFactor):r.target.add(h),r.zoomToCursor&&T||r.object.isOrthographicCamera?u.radius=$(u.radius):u.radius=$(u.radius*f),Pe.setFromSpherical(u),Pe.applyQuaternion(Ft),xt.copy(r.target).add(Pe),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(A.theta*=1-r.dampingFactor,A.phi*=1-r.dampingFactor,h.multiplyScalar(1-r.dampingFactor)):(A.set(0,0,0),h.set(0,0,0));let ln=!1;if(r.zoomToCursor&&T){let Tn=null;if(r.object instanceof os&&r.object.isPerspectiveCamera){const Gn=Pe.length();Tn=$(Gn*f);const St=Gn-Tn;r.object.position.addScaledVector(S,St),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const Gn=new Ce(M.x,M.y,0);Gn.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix(),ln=!0;const St=new Ce(M.x,M.y,0);St.unproject(r.object),r.object.position.sub(St).add(Gn),r.object.updateMatrixWorld(),Tn=Pe.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Tn!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Tn).add(r.object.position):(rE.origin.copy(r.object.position),rE.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(rE.direction))<xwe?e.lookAt(r.target):(n8.setFromNormalAndCoplanarPoint(r.object.up,r.target),rE.intersectPlane(n8,r.target))))}else r.object instanceof od&&r.object.isOrthographicCamera&&(ln=f!==1,ln&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix()));return f=1,T=!1,ln||lt.distanceToSquared(r.object.position)>c||8*(1-Le.dot(r.object.quaternion))>c?(r.dispatchEvent(i),lt.copy(r.object.position),Le.copy(r.object.quaternion),ln=!1,!0):!1}})(),this.connect=Pe=>{r.domElement=Pe,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",ht),r.domElement.addEventListener("pointerdown",ke),r.domElement.addEventListener("pointercancel",je),r.domElement.addEventListener("wheel",ct)},this.dispose=()=>{var Pe,ut,_t,Ft,lt,Le;r.domElement&&(r.domElement.style.touchAction="auto"),(Pe=r.domElement)==null||Pe.removeEventListener("contextmenu",ht),(ut=r.domElement)==null||ut.removeEventListener("pointerdown",ke),(_t=r.domElement)==null||_t.removeEventListener("pointercancel",je),(Ft=r.domElement)==null||Ft.removeEventListener("wheel",ct),(lt=r.domElement)==null||lt.ownerDocument.removeEventListener("pointermove",Ke),(Le=r.domElement)==null||Le.ownerDocument.removeEventListener("pointerup",je),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Tt)};const r=this,i={type:"change"},s={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const c=1e-6,u=new ES,A=new ES;let f=1;const h=new Ce,p=new tt,y=new tt,v=new tt,m=new tt,w=new tt,_=new tt,B=new tt,R=new tt,L=new tt,S=new Ce,M=new tt;let T=!1;const F=[],P={};function D(){return 2*Math.PI/60/60*r.autoRotateSpeed}function H(){return Math.pow(.95,r.zoomSpeed)}function X(Pe){r.reverseOrbit||r.reverseHorizontalOrbit?A.theta+=Pe:A.theta-=Pe}function fe(Pe){r.reverseOrbit||r.reverseVerticalOrbit?A.phi+=Pe:A.phi-=Pe}const ue=(()=>{const Pe=new Ce;return function(_t,Ft){Pe.setFromMatrixColumn(Ft,0),Pe.multiplyScalar(-_t),h.add(Pe)}})(),me=(()=>{const Pe=new Ce;return function(_t,Ft){r.screenSpacePanning===!0?Pe.setFromMatrixColumn(Ft,1):(Pe.setFromMatrixColumn(Ft,0),Pe.crossVectors(r.object.up,Pe)),Pe.multiplyScalar(_t),h.add(Pe)}})(),J=(()=>{const Pe=new Ce;return function(_t,Ft){const lt=r.domElement;if(lt&&r.object instanceof os&&r.object.isPerspectiveCamera){const Le=r.object.position;Pe.copy(Le).sub(r.target);let Bt=Pe.length();Bt*=Math.tan(r.object.fov/2*Math.PI/180),ue(2*_t*Bt/lt.clientHeight,r.object.matrix),me(2*Ft*Bt/lt.clientHeight,r.object.matrix)}else lt&&r.object instanceof od&&r.object.isOrthographicCamera?(ue(_t*(r.object.right-r.object.left)/r.object.zoom/lt.clientWidth,r.object.matrix),me(Ft*(r.object.top-r.object.bottom)/r.object.zoom/lt.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function le(Pe){r.object instanceof os&&r.object.isPerspectiveCamera||r.object instanceof od&&r.object.isOrthographicCamera?f=Pe:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function ee(Pe){le(f/Pe)}function re(Pe){le(f*Pe)}function k(Pe){if(!r.zoomToCursor||!r.domElement)return;T=!0;const ut=r.domElement.getBoundingClientRect(),_t=Pe.clientX-ut.left,Ft=Pe.clientY-ut.top,lt=ut.width,Le=ut.height;M.x=_t/lt*2-1,M.y=-(Ft/Le)*2+1,S.set(M.x,M.y,1).unproject(r.object).sub(r.object.position).normalize()}function $(Pe){return Math.max(r.minDistance,Math.min(r.maxDistance,Pe))}function j(Pe){p.set(Pe.clientX,Pe.clientY)}function G(Pe){k(Pe),B.set(Pe.clientX,Pe.clientY)}function q(Pe){m.set(Pe.clientX,Pe.clientY)}function W(Pe){y.set(Pe.clientX,Pe.clientY),v.subVectors(y,p).multiplyScalar(r.rotateSpeed);const ut=r.domElement;ut&&(X(2*Math.PI*v.x/ut.clientHeight),fe(2*Math.PI*v.y/ut.clientHeight)),p.copy(y),r.update()}function ge(Pe){R.set(Pe.clientX,Pe.clientY),L.subVectors(R,B),L.y>0?ee(H()):L.y<0&&re(H()),B.copy(R),r.update()}function he(Pe){w.set(Pe.clientX,Pe.clientY),_.subVectors(w,m).multiplyScalar(r.panSpeed),J(_.x,_.y),m.copy(w),r.update()}function ve(Pe){k(Pe),Pe.deltaY<0?re(H()):Pe.deltaY>0&&ee(H()),r.update()}function Ee(Pe){let ut=!1;switch(Pe.code){case r.keys.UP:J(0,r.keyPanSpeed),ut=!0;break;case r.keys.BOTTOM:J(0,-r.keyPanSpeed),ut=!0;break;case r.keys.LEFT:J(r.keyPanSpeed,0),ut=!0;break;case r.keys.RIGHT:J(-r.keyPanSpeed,0),ut=!0;break}ut&&(Pe.preventDefault(),r.update())}function ie(){if(F.length==1)p.set(F[0].pageX,F[0].pageY);else{const Pe=.5*(F[0].pageX+F[1].pageX),ut=.5*(F[0].pageY+F[1].pageY);p.set(Pe,ut)}}function Te(){if(F.length==1)m.set(F[0].pageX,F[0].pageY);else{const Pe=.5*(F[0].pageX+F[1].pageX),ut=.5*(F[0].pageY+F[1].pageY);m.set(Pe,ut)}}function ye(){const Pe=F[0].pageX-F[1].pageX,ut=F[0].pageY-F[1].pageY,_t=Math.sqrt(Pe*Pe+ut*ut);B.set(0,_t)}function _e(){r.enableZoom&&ye(),r.enablePan&&Te()}function se(){r.enableZoom&&ye(),r.enableRotate&&ie()}function ze(Pe){if(F.length==1)y.set(Pe.pageX,Pe.pageY);else{const _t=Ct(Pe),Ft=.5*(Pe.pageX+_t.x),lt=.5*(Pe.pageY+_t.y);y.set(Ft,lt)}v.subVectors(y,p).multiplyScalar(r.rotateSpeed);const ut=r.domElement;ut&&(X(2*Math.PI*v.x/ut.clientHeight),fe(2*Math.PI*v.y/ut.clientHeight)),p.copy(y)}function be(Pe){if(F.length==1)w.set(Pe.pageX,Pe.pageY);else{const ut=Ct(Pe),_t=.5*(Pe.pageX+ut.x),Ft=.5*(Pe.pageY+ut.y);w.set(_t,Ft)}_.subVectors(w,m).multiplyScalar(r.panSpeed),J(_.x,_.y),m.copy(w)}function z(Pe){const ut=Ct(Pe),_t=Pe.pageX-ut.x,Ft=Pe.pageY-ut.y,lt=Math.sqrt(_t*_t+Ft*Ft);R.set(0,lt),L.set(0,Math.pow(R.y/B.y,r.zoomSpeed)),ee(L.y),B.copy(R)}function te(Pe){r.enableZoom&&z(Pe),r.enablePan&&be(Pe)}function Be(Pe){r.enableZoom&&z(Pe),r.enableRotate&&ze(Pe)}function ke(Pe){var ut,_t;r.enabled!==!1&&(F.length===0&&((ut=r.domElement)==null||ut.ownerDocument.addEventListener("pointermove",Ke),(_t=r.domElement)==null||_t.ownerDocument.addEventListener("pointerup",je)),Gt(Pe),Pe.pointerType==="touch"?bt(Pe):ft(Pe))}function Ke(Pe){r.enabled!==!1&&(Pe.pointerType==="touch"?Ze(Pe):nt(Pe))}function je(Pe){var ut,_t,Ft;Nt(Pe),F.length===0&&((ut=r.domElement)==null||ut.releasePointerCapture(Pe.pointerId),(_t=r.domElement)==null||_t.ownerDocument.removeEventListener("pointermove",Ke),(Ft=r.domElement)==null||Ft.ownerDocument.removeEventListener("pointerup",je)),r.dispatchEvent(a),l=o.NONE}function ft(Pe){let ut;switch(Pe.button){case 0:ut=r.mouseButtons.LEFT;break;case 1:ut=r.mouseButtons.MIDDLE;break;case 2:ut=r.mouseButtons.RIGHT;break;default:ut=-1}switch(ut){case Np.DOLLY:if(r.enableZoom===!1)return;G(Pe),l=o.DOLLY;break;case Np.ROTATE:if(Pe.ctrlKey||Pe.metaKey||Pe.shiftKey){if(r.enablePan===!1)return;q(Pe),l=o.PAN}else{if(r.enableRotate===!1)return;j(Pe),l=o.ROTATE}break;case Np.PAN:if(Pe.ctrlKey||Pe.metaKey||Pe.shiftKey){if(r.enableRotate===!1)return;j(Pe),l=o.ROTATE}else{if(r.enablePan===!1)return;q(Pe),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(s)}function nt(Pe){if(r.enabled!==!1)switch(l){case o.ROTATE:if(r.enableRotate===!1)return;W(Pe);break;case o.DOLLY:if(r.enableZoom===!1)return;ge(Pe);break;case o.PAN:if(r.enablePan===!1)return;he(Pe);break}}function ct(Pe){r.enabled===!1||r.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(Pe.preventDefault(),r.dispatchEvent(s),ve(Pe),r.dispatchEvent(a))}function Tt(Pe){r.enabled===!1||r.enablePan===!1||Ee(Pe)}function bt(Pe){switch(Qt(Pe),F.length){case 1:switch(r.touches.ONE){case Lp.ROTATE:if(r.enableRotate===!1)return;ie(),l=o.TOUCH_ROTATE;break;case Lp.PAN:if(r.enablePan===!1)return;Te(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(r.touches.TWO){case Lp.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;_e(),l=o.TOUCH_DOLLY_PAN;break;case Lp.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;se(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(s)}function Ze(Pe){switch(Qt(Pe),l){case o.TOUCH_ROTATE:if(r.enableRotate===!1)return;ze(Pe),r.update();break;case o.TOUCH_PAN:if(r.enablePan===!1)return;be(Pe),r.update();break;case o.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;te(Pe),r.update();break;case o.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Be(Pe),r.update();break;default:l=o.NONE}}function ht(Pe){r.enabled!==!1&&Pe.preventDefault()}function Gt(Pe){F.push(Pe)}function Nt(Pe){delete P[Pe.pointerId];for(let ut=0;ut<F.length;ut++)if(F[ut].pointerId==Pe.pointerId){F.splice(ut,1);return}}function Qt(Pe){let ut=P[Pe.pointerId];ut===void 0&&(ut=new tt,P[Pe.pointerId]=ut),ut.set(Pe.pageX,Pe.pageY)}function Ct(Pe){const ut=Pe.pointerId===F[0].pointerId?F[1]:F[0];return P[ut.pointerId]}this.dollyIn=(Pe=H())=>{re(Pe),r.update()},this.dollyOut=(Pe=H())=>{ee(Pe),r.update()},this.getScale=()=>f,this.setScale=Pe=>{le(Pe),r.update()},this.getZoomScale=()=>H(),n!==void 0&&this.connect(n),this.update()}};const Ewe=()=>parseInt(O_.replace(/\D+/g,"")),Swe=Ewe(),cY=Y.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:a,onStart:o,onEnd:l,...c},u)=>{const A=vh(L=>L.invalidate),f=vh(L=>L.camera),h=vh(L=>L.gl),p=vh(L=>L.events),y=vh(L=>L.setEvents),v=vh(L=>L.set),m=vh(L=>L.get),w=vh(L=>L.performance),_=e||f,B=r||p.connected||h.domElement,R=Y.useMemo(()=>new bwe(_),[_]);return tY(()=>{R.enabled&&R.update()},-1),Y.useEffect(()=>(s&&R.connect(s===!0?B:s),R.connect(B),()=>void R.dispose()),[s,B,n,R,A]),Y.useEffect(()=>{const L=T=>{A(),n&&w.regress(),a&&a(T)},S=T=>{o&&o(T)},M=T=>{l&&l(T)};return R.addEventListener("change",L),R.addEventListener("start",S),R.addEventListener("end",M),()=>{R.removeEventListener("start",S),R.removeEventListener("end",M),R.removeEventListener("change",L)}},[a,o,l,R,A,y]),Y.useEffect(()=>{if(t){const L=m().controls;return v({controls:R}),()=>v({controls:L})}},[t,R]),Y.createElement("primitive",CS({ref:u,object:R,enableDamping:i},c))}),Cwe="modulepreload",Bwe=function(t){return"/"+t},i8={},wN=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Bwe(l),l in i8)return;i8[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const A=document.createElement("link");if(A.rel=c?"stylesheet":Cwe,c||(A.as="script"),A.crossOrigin="",A.href=l,o&&A.setAttribute("nonce",o),document.head.appendChild(A),c)return new Promise((f,h)=>{A.addEventListener("load",f),A.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function Twe(t,e){const n=t+"Geometry";return Y.forwardRef(({args:r,children:i,...s},a)=>{const o=Y.useRef(null);return Y.useImperativeHandle(a,()=>o.current),Y.useLayoutEffect(()=>void(e==null?void 0:e(o.current))),Y.createElement("mesh",CS({ref:o},s),Y.createElement(n,{attach:"geometry",args:r}),i)})}const Mwe=Twe("sphere");class Iwe extends Eu{constructor(){super({uniforms:{time:{value:0},fade:{value:1}},vertexShader:`
      uniform float time;
      attribute float size;
      varying vec3 vColor;
      void main() {
        vColor = color;
        vec4 mvPosition = modelViewMatrix * vec4(position, 0.5);
        gl_PointSize = size * (30.0 / -mvPosition.z) * (3.0 + sin(time + 100.0));
        gl_Position = projectionMatrix * mvPosition;
      }`,fragmentShader:`
      uniform sampler2D pointTexture;
      uniform float fade;
      varying vec3 vColor;
      void main() {
        float opacity = 1.0;
        if (fade == 1.0) {
          float d = distance(gl_PointCoord, vec2(0.5, 0.5));
          opacity = 1.0 / (1.0 + exp(16.0 * (d - 0.25)));
        }
        gl_FragColor = vec4(vColor, opacity);

        #include <tonemapping_fragment>
	      #include <${Swe>=154?"colorspace_fragment":"encodings_fragment"}>
      }`})}}const Pwe=t=>new Ce().setFromSpherical(new ES(t,Math.acos(1-Math.random()*2),Math.random()*2*Math.PI)),Nwe=Y.forwardRef(({radius:t=100,depth:e=50,count:n=5e3,saturation:r=0,factor:i=4,fade:s=!1,speed:a=1},o)=>{const l=Y.useRef(),[c,u,A]=Y.useMemo(()=>{const h=[],p=[],y=Array.from({length:n},()=>(.5+.5*Math.random())*i),v=new Kt;let m=t+e;const w=e/n;for(let _=0;_<n;_++)m-=w*Math.random(),h.push(...Pwe(m).toArray()),v.setHSL(_/n,r,.9),p.push(v.r,v.g,v.b);return[new Float32Array(h),new Float32Array(p),new Float32Array(y)]},[n,e,i,t,r]);tY(h=>l.current&&(l.current.uniforms.time.value=h.clock.elapsedTime*a));const[f]=Y.useState(()=>new Iwe);return Y.createElement("points",{ref:o},Y.createElement("bufferGeometry",null,Y.createElement("bufferAttribute",{attach:"attributes-position",args:[c,3]}),Y.createElement("bufferAttribute",{attach:"attributes-color",args:[u,3]}),Y.createElement("bufferAttribute",{attach:"attributes-size",args:[A,1]})),Y.createElement("primitive",{ref:l,object:f,attach:"material",blending:gS,"uniforms-fade-value":s,depthWrite:!1,transparent:!0,vertexColors:!0}))});var uY={exports:{}},AY={},fY={exports:{}},hY={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev=Y;function Lwe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Fwe=typeof Object.is=="function"?Object.is:Lwe,Rwe=Ev.useState,Uwe=Ev.useEffect,Dwe=Ev.useLayoutEffect,Owe=Ev.useDebugValue;function kwe(t,e){var n=e(),r=Rwe({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return Dwe(function(){i.value=n,i.getSnapshot=e,u5(i)&&s({inst:i})},[t,n,e]),Uwe(function(){return u5(i)&&s({inst:i}),t(function(){u5(i)&&s({inst:i})})},[t]),Owe(n),n}function u5(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Fwe(t,n)}catch{return!0}}function Qwe(t,e){return e()}var Hwe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Qwe:kwe;hY.useSyncExternalStore=Ev.useSyncExternalStore!==void 0?Ev.useSyncExternalStore:Hwe;fY.exports=hY;var Vwe=fY.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HB=Y,zwe=Vwe;function jwe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Gwe=typeof Object.is=="function"?Object.is:jwe,Wwe=zwe.useSyncExternalStore,Kwe=HB.useRef,qwe=HB.useEffect,$we=HB.useMemo,Xwe=HB.useDebugValue;AY.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Kwe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=$we(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&a.hasValue){var p=a.value;if(i(p,h))return A=p}return A=h}if(p=A,Gwe(u,h))return p;var y=r(h);return i!==void 0&&i(p,y)?(u=h,p):(u=h,A=y)}var c=!1,u,A,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var o=Wwe(t,s[0],s[1]);return qwe(function(){a.hasValue=!0,a.value=o},[o]),Xwe(o),o};uY.exports=AY;var Ywe=uY.exports;const Jwe=bs;class P4 extends Wo{constructor(e){super(e),this.defaultDPI=90,this.defaultUnit="px"}load(e,n,r,i){const s=this,a=new vA(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(o))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this;function r(j,G){if(j.nodeType!==1)return;const q=B(j);let W=!1,ge=null;switch(j.nodeName){case"svg":G=p(j,G);break;case"style":s(j);break;case"g":G=p(j,G);break;case"path":G=p(j,G),j.hasAttribute("d")&&(ge=i(j));break;case"rect":G=p(j,G),ge=l(j);break;case"polygon":G=p(j,G),ge=c(j);break;case"polyline":G=p(j,G),ge=u(j);break;case"circle":G=p(j,G),ge=A(j);break;case"ellipse":G=p(j,G),ge=f(j);break;case"line":G=p(j,G),ge=h(j);break;case"defs":W=!0;break;case"use":G=p(j,G);const Ee=(j.getAttributeNS("http://www.w3.org/1999/xlink","href")||"").substring(1),ie=j.viewportElement.getElementById(Ee);ie?r(ie,G):console.warn("SVGLoader: 'use node' references non-existent node id: "+Ee);break}ge&&(G.fill!==void 0&&G.fill!=="none"&&ge.color.setStyle(G.fill,Jwe),L(ge,re),D.push(ge),ge.userData={node:j,style:G});const he=j.childNodes;for(let ve=0;ve<he.length;ve++){const Ee=he[ve];W&&Ee.nodeName!=="style"&&Ee.nodeName!=="defs"||r(Ee,G)}q&&(X.pop(),X.length>0?re.copy(X[X.length-1]):re.identity())}function i(j){const G=new Ch,q=new tt,W=new tt,ge=new tt;let he=!0,ve=!1;const Ee=j.getAttribute("d");if(Ee===""||Ee==="none")return null;const ie=Ee.match(/[a-df-z][^a-df-z]*/ig);for(let Te=0,ye=ie.length;Te<ye;Te++){const _e=ie[Te],se=_e.charAt(0),ze=_e.slice(1).trim();he===!0&&(ve=!0,he=!1);let be;switch(se){case"M":be=v(ze);for(let z=0,te=be.length;z<te;z+=2)q.x=be[z+0],q.y=be[z+1],W.x=q.x,W.y=q.y,z===0?G.moveTo(q.x,q.y):G.lineTo(q.x,q.y),z===0&&ge.copy(q);break;case"H":be=v(ze);for(let z=0,te=be.length;z<te;z++)q.x=be[z],W.x=q.x,W.y=q.y,G.lineTo(q.x,q.y),z===0&&ve===!0&&ge.copy(q);break;case"V":be=v(ze);for(let z=0,te=be.length;z<te;z++)q.y=be[z],W.x=q.x,W.y=q.y,G.lineTo(q.x,q.y),z===0&&ve===!0&&ge.copy(q);break;case"L":be=v(ze);for(let z=0,te=be.length;z<te;z+=2)q.x=be[z+0],q.y=be[z+1],W.x=q.x,W.y=q.y,G.lineTo(q.x,q.y),z===0&&ve===!0&&ge.copy(q);break;case"C":be=v(ze);for(let z=0,te=be.length;z<te;z+=6)G.bezierCurveTo(be[z+0],be[z+1],be[z+2],be[z+3],be[z+4],be[z+5]),W.x=be[z+2],W.y=be[z+3],q.x=be[z+4],q.y=be[z+5],z===0&&ve===!0&&ge.copy(q);break;case"S":be=v(ze);for(let z=0,te=be.length;z<te;z+=4)G.bezierCurveTo(y(q.x,W.x),y(q.y,W.y),be[z+0],be[z+1],be[z+2],be[z+3]),W.x=be[z+0],W.y=be[z+1],q.x=be[z+2],q.y=be[z+3],z===0&&ve===!0&&ge.copy(q);break;case"Q":be=v(ze);for(let z=0,te=be.length;z<te;z+=4)G.quadraticCurveTo(be[z+0],be[z+1],be[z+2],be[z+3]),W.x=be[z+0],W.y=be[z+1],q.x=be[z+2],q.y=be[z+3],z===0&&ve===!0&&ge.copy(q);break;case"T":be=v(ze);for(let z=0,te=be.length;z<te;z+=2){const Be=y(q.x,W.x),ke=y(q.y,W.y);G.quadraticCurveTo(Be,ke,be[z+0],be[z+1]),W.x=Be,W.y=ke,q.x=be[z+0],q.y=be[z+1],z===0&&ve===!0&&ge.copy(q)}break;case"A":be=v(ze,[3,4],7);for(let z=0,te=be.length;z<te;z+=7){if(be[z+5]==q.x&&be[z+6]==q.y)continue;const Be=q.clone();q.x=be[z+5],q.y=be[z+6],W.x=q.x,W.y=q.y,a(G,be[z],be[z+1],be[z+2],be[z+3],be[z+4],Be,q),z===0&&ve===!0&&ge.copy(q)}break;case"m":be=v(ze);for(let z=0,te=be.length;z<te;z+=2)q.x+=be[z+0],q.y+=be[z+1],W.x=q.x,W.y=q.y,z===0?G.moveTo(q.x,q.y):G.lineTo(q.x,q.y),z===0&&ge.copy(q);break;case"h":be=v(ze);for(let z=0,te=be.length;z<te;z++)q.x+=be[z],W.x=q.x,W.y=q.y,G.lineTo(q.x,q.y),z===0&&ve===!0&&ge.copy(q);break;case"v":be=v(ze);for(let z=0,te=be.length;z<te;z++)q.y+=be[z],W.x=q.x,W.y=q.y,G.lineTo(q.x,q.y),z===0&&ve===!0&&ge.copy(q);break;case"l":be=v(ze);for(let z=0,te=be.length;z<te;z+=2)q.x+=be[z+0],q.y+=be[z+1],W.x=q.x,W.y=q.y,G.lineTo(q.x,q.y),z===0&&ve===!0&&ge.copy(q);break;case"c":be=v(ze);for(let z=0,te=be.length;z<te;z+=6)G.bezierCurveTo(q.x+be[z+0],q.y+be[z+1],q.x+be[z+2],q.y+be[z+3],q.x+be[z+4],q.y+be[z+5]),W.x=q.x+be[z+2],W.y=q.y+be[z+3],q.x+=be[z+4],q.y+=be[z+5],z===0&&ve===!0&&ge.copy(q);break;case"s":be=v(ze);for(let z=0,te=be.length;z<te;z+=4)G.bezierCurveTo(y(q.x,W.x),y(q.y,W.y),q.x+be[z+0],q.y+be[z+1],q.x+be[z+2],q.y+be[z+3]),W.x=q.x+be[z+0],W.y=q.y+be[z+1],q.x+=be[z+2],q.y+=be[z+3],z===0&&ve===!0&&ge.copy(q);break;case"q":be=v(ze);for(let z=0,te=be.length;z<te;z+=4)G.quadraticCurveTo(q.x+be[z+0],q.y+be[z+1],q.x+be[z+2],q.y+be[z+3]),W.x=q.x+be[z+0],W.y=q.y+be[z+1],q.x+=be[z+2],q.y+=be[z+3],z===0&&ve===!0&&ge.copy(q);break;case"t":be=v(ze);for(let z=0,te=be.length;z<te;z+=2){const Be=y(q.x,W.x),ke=y(q.y,W.y);G.quadraticCurveTo(Be,ke,q.x+be[z+0],q.y+be[z+1]),W.x=Be,W.y=ke,q.x=q.x+be[z+0],q.y=q.y+be[z+1],z===0&&ve===!0&&ge.copy(q)}break;case"a":be=v(ze,[3,4],7);for(let z=0,te=be.length;z<te;z+=7){if(be[z+5]==0&&be[z+6]==0)continue;const Be=q.clone();q.x+=be[z+5],q.y+=be[z+6],W.x=q.x,W.y=q.y,a(G,be[z],be[z+1],be[z+2],be[z+3],be[z+4],Be,q),z===0&&ve===!0&&ge.copy(q)}break;case"Z":case"z":G.currentPath.autoClose=!0,G.currentPath.curves.length>0&&(q.copy(ge),G.currentPath.currentPoint.copy(q),he=!0);break;default:console.warn(_e)}ve=!1}return G}function s(j){if(!(!j.sheet||!j.sheet.cssRules||!j.sheet.cssRules.length))for(let G=0;G<j.sheet.cssRules.length;G++){const q=j.sheet.cssRules[G];if(q.type!==1)continue;const W=q.selectorText.split(/,/gm).filter(Boolean).map(ge=>ge.trim());for(let ge=0;ge<W.length;ge++){const he=Object.fromEntries(Object.entries(q.style).filter(([,ve])=>ve!==""));H[W[ge]]=Object.assign(H[W[ge]]||{},he)}}}function a(j,G,q,W,ge,he,ve,Ee){if(G==0||q==0){j.lineTo(Ee.x,Ee.y);return}W=W*Math.PI/180,G=Math.abs(G),q=Math.abs(q);const ie=(ve.x-Ee.x)/2,Te=(ve.y-Ee.y)/2,ye=Math.cos(W)*ie+Math.sin(W)*Te,_e=-Math.sin(W)*ie+Math.cos(W)*Te;let se=G*G,ze=q*q;const be=ye*ye,z=_e*_e,te=be/se+z/ze;if(te>1){const Ze=Math.sqrt(te);G=Ze*G,q=Ze*q,se=G*G,ze=q*q}const Be=se*z+ze*be,ke=(se*ze-Be)/Be;let Ke=Math.sqrt(Math.max(0,ke));ge===he&&(Ke=-Ke);const je=Ke*G*_e/q,ft=-Ke*q*ye/G,nt=Math.cos(W)*je-Math.sin(W)*ft+(ve.x+Ee.x)/2,ct=Math.sin(W)*je+Math.cos(W)*ft+(ve.y+Ee.y)/2,Tt=o(1,0,(ye-je)/G,(_e-ft)/q),bt=o((ye-je)/G,(_e-ft)/q,(-ye-je)/G,(-_e-ft)/q)%(Math.PI*2);j.currentPath.absellipse(nt,ct,G,q,Tt,Tt+bt,he===0,W)}function o(j,G,q,W){const ge=j*q+G*W,he=Math.sqrt(j*j+G*G)*Math.sqrt(q*q+W*W);let ve=Math.acos(Math.max(-1,Math.min(1,ge/he)));return j*W-G*q<0&&(ve=-ve),ve}function l(j){const G=_(j.getAttribute("x")||0),q=_(j.getAttribute("y")||0),W=_(j.getAttribute("rx")||j.getAttribute("ry")||0),ge=_(j.getAttribute("ry")||j.getAttribute("rx")||0),he=_(j.getAttribute("width")),ve=_(j.getAttribute("height")),Ee=1-.551915024494,ie=new Ch;return ie.moveTo(G+W,q),ie.lineTo(G+he-W,q),(W!==0||ge!==0)&&ie.bezierCurveTo(G+he-W*Ee,q,G+he,q+ge*Ee,G+he,q+ge),ie.lineTo(G+he,q+ve-ge),(W!==0||ge!==0)&&ie.bezierCurveTo(G+he,q+ve-ge*Ee,G+he-W*Ee,q+ve,G+he-W,q+ve),ie.lineTo(G+W,q+ve),(W!==0||ge!==0)&&ie.bezierCurveTo(G+W*Ee,q+ve,G,q+ve-ge*Ee,G,q+ve-ge),ie.lineTo(G,q+ge),(W!==0||ge!==0)&&ie.bezierCurveTo(G,q+ge*Ee,G+W*Ee,q,G+W,q),ie}function c(j){function G(he,ve,Ee){const ie=_(ve),Te=_(Ee);ge===0?W.moveTo(ie,Te):W.lineTo(ie,Te),ge++}const q=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,W=new Ch;let ge=0;return j.getAttribute("points").replace(q,G),W.currentPath.autoClose=!0,W}function u(j){function G(he,ve,Ee){const ie=_(ve),Te=_(Ee);ge===0?W.moveTo(ie,Te):W.lineTo(ie,Te),ge++}const q=/([+-]?\d*\.?\d+(?:e[+-]?\d+)?)(?:,|\s)([+-]?\d*\.?\d+(?:e[+-]?\d+)?)/g,W=new Ch;let ge=0;return j.getAttribute("points").replace(q,G),W.currentPath.autoClose=!1,W}function A(j){const G=_(j.getAttribute("cx")||0),q=_(j.getAttribute("cy")||0),W=_(j.getAttribute("r")||0),ge=new ld;ge.absarc(G,q,W,0,Math.PI*2);const he=new Ch;return he.subPaths.push(ge),he}function f(j){const G=_(j.getAttribute("cx")||0),q=_(j.getAttribute("cy")||0),W=_(j.getAttribute("rx")||0),ge=_(j.getAttribute("ry")||0),he=new ld;he.absellipse(G,q,W,ge,0,Math.PI*2);const ve=new Ch;return ve.subPaths.push(he),ve}function h(j){const G=_(j.getAttribute("x1")||0),q=_(j.getAttribute("y1")||0),W=_(j.getAttribute("x2")||0),ge=_(j.getAttribute("y2")||0),he=new Ch;return he.moveTo(G,q),he.lineTo(W,ge),he.currentPath.autoClose=!1,he}function p(j,G){G=Object.assign({},G);let q={};if(j.hasAttribute("class")){const ve=j.getAttribute("class").split(/\s/).filter(Boolean).map(Ee=>Ee.trim());for(let Ee=0;Ee<ve.length;Ee++)q=Object.assign(q,H["."+ve[Ee]])}j.hasAttribute("id")&&(q=Object.assign(q,H["#"+j.getAttribute("id")]));function W(ve,Ee,ie){ie===void 0&&(ie=function(ye){return ye.startsWith("url")&&console.warn("SVGLoader: url access in attributes is not implemented."),ye}),j.hasAttribute(ve)&&(G[Ee]=ie(j.getAttribute(ve))),q[ve]&&(G[Ee]=ie(q[ve])),j.style&&j.style[ve]!==""&&(G[Ee]=ie(j.style[ve]))}function ge(ve){return Math.max(0,Math.min(1,_(ve)))}function he(ve){return Math.max(0,_(ve))}return W("fill","fill"),W("fill-opacity","fillOpacity",ge),W("fill-rule","fillRule"),W("opacity","opacity",ge),W("stroke","stroke"),W("stroke-opacity","strokeOpacity",ge),W("stroke-width","strokeWidth",he),W("stroke-linejoin","strokeLineJoin"),W("stroke-linecap","strokeLineCap"),W("stroke-miterlimit","strokeMiterLimit",he),W("visibility","visibility"),G}function y(j,G){return j-(G-j)}function v(j,G,q){if(typeof j!="string")throw new TypeError("Invalid input: "+typeof j);const W={WHITESPACE:/[ \t\r\n]/,DIGIT:/[\d]/,SIGN:/[-+]/,POINT:/\./,COMMA:/,/,EXP:/e/i,FLAGS:/[01]/},ge=0,he=1,ve=2,Ee=3;let ie=ge,Te=!0,ye="",_e="";const se=[];function ze(Be,ke,Ke){const je=new SyntaxError('Unexpected character "'+Be+'" at index '+ke+".");throw je.partial=Ke,je}function be(){ye!==""&&(_e===""?se.push(Number(ye)):se.push(Number(ye)*Math.pow(10,Number(_e)))),ye="",_e=""}let z;const te=j.length;for(let Be=0;Be<te;Be++){if(z=j[Be],Array.isArray(G)&&G.includes(se.length%q)&&W.FLAGS.test(z)){ie=he,ye=z,be();continue}if(ie===ge){if(W.WHITESPACE.test(z))continue;if(W.DIGIT.test(z)||W.SIGN.test(z)){ie=he,ye=z;continue}if(W.POINT.test(z)){ie=ve,ye=z;continue}W.COMMA.test(z)&&(Te&&ze(z,Be,se),Te=!0)}if(ie===he){if(W.DIGIT.test(z)){ye+=z;continue}if(W.POINT.test(z)){ye+=z,ie=ve;continue}if(W.EXP.test(z)){ie=Ee;continue}W.SIGN.test(z)&&ye.length===1&&W.SIGN.test(ye[0])&&ze(z,Be,se)}if(ie===ve){if(W.DIGIT.test(z)){ye+=z;continue}if(W.EXP.test(z)){ie=Ee;continue}W.POINT.test(z)&&ye[ye.length-1]==="."&&ze(z,Be,se)}if(ie===Ee){if(W.DIGIT.test(z)){_e+=z;continue}if(W.SIGN.test(z)){if(_e===""){_e+=z;continue}_e.length===1&&W.SIGN.test(_e)&&ze(z,Be,se)}}W.WHITESPACE.test(z)?(be(),ie=ge,Te=!1):W.COMMA.test(z)?(be(),ie=ge,Te=!0):W.SIGN.test(z)?(be(),ie=he,ye=z):W.POINT.test(z)?(be(),ie=ve,ye=z):ze(z,Be,se)}return be(),se}const m=["mm","cm","in","pt","pc","px"],w={mm:{mm:1,cm:.1,in:1/25.4,pt:72/25.4,pc:6/25.4,px:-1},cm:{mm:10,cm:1,in:1/2.54,pt:72/2.54,pc:6/2.54,px:-1},in:{mm:25.4,cm:2.54,in:1,pt:72,pc:6,px:-1},pt:{mm:25.4/72,cm:2.54/72,in:1/72,pt:1,pc:6/72,px:-1},pc:{mm:25.4/6,cm:2.54/6,in:1/6,pt:72/6,pc:1,px:-1},px:{px:1}};function _(j){let G="px";if(typeof j=="string"||j instanceof String)for(let W=0,ge=m.length;W<ge;W++){const he=m[W];if(j.endsWith(he)){G=he,j=j.substring(0,j.length-he.length);break}}let q;return G==="px"&&n.defaultUnit!=="px"?q=w.in[n.defaultUnit]/n.defaultDPI:(q=w[G][n.defaultUnit],q<0&&(q=w[G].in*n.defaultDPI)),q*parseFloat(j)}function B(j){if(!(j.hasAttribute("transform")||j.nodeName==="use"&&(j.hasAttribute("x")||j.hasAttribute("y"))))return null;const G=R(j);return X.length>0&&G.premultiply(X[X.length-1]),re.copy(G),X.push(G),G}function R(j){const G=new Cn,q=fe;if(j.nodeName==="use"&&(j.hasAttribute("x")||j.hasAttribute("y"))){const W=_(j.getAttribute("x")),ge=_(j.getAttribute("y"));G.translate(W,ge)}if(j.hasAttribute("transform")){const W=j.getAttribute("transform").split(")");for(let ge=W.length-1;ge>=0;ge--){const he=W[ge].trim();if(he==="")continue;const ve=he.indexOf("("),Ee=he.length;if(ve>0&&ve<Ee){const ie=he.slice(0,ve),Te=v(he.slice(ve+1));switch(q.identity(),ie){case"translate":if(Te.length>=1){const ye=Te[0];let _e=0;Te.length>=2&&(_e=Te[1]),q.translate(ye,_e)}break;case"rotate":if(Te.length>=1){let ye=0,_e=0,se=0;ye=Te[0]*Math.PI/180,Te.length>=3&&(_e=Te[1],se=Te[2]),ue.makeTranslation(-_e,-se),me.makeRotation(ye),J.multiplyMatrices(me,ue),ue.makeTranslation(_e,se),q.multiplyMatrices(ue,J)}break;case"scale":if(Te.length>=1){const ye=Te[0];let _e=ye;Te.length>=2&&(_e=Te[1]),q.scale(ye,_e)}break;case"skewX":Te.length===1&&q.set(1,Math.tan(Te[0]*Math.PI/180),0,0,1,0,0,0,1);break;case"skewY":Te.length===1&&q.set(1,0,0,Math.tan(Te[0]*Math.PI/180),1,0,0,0,1);break;case"matrix":Te.length===6&&q.set(Te[0],Te[2],Te[4],Te[1],Te[3],Te[5],0,0,1);break}}G.premultiply(q)}}return G}function L(j,G){function q(ve){ee.set(ve.x,ve.y,1).applyMatrix3(G),ve.set(ee.x,ee.y)}function W(ve){const Ee=ve.xRadius,ie=ve.yRadius,Te=Math.cos(ve.aRotation),ye=Math.sin(ve.aRotation),_e=new Ce(Ee*Te,Ee*ye,0),se=new Ce(-ie*ye,ie*Te,0),ze=_e.applyMatrix3(G),be=se.applyMatrix3(G),z=fe.set(ze.x,be.x,0,ze.y,be.y,0,0,0,1),te=ue.copy(z).invert(),Ke=me.copy(te).transpose().multiply(te).elements,je=P(Ke[0],Ke[1],Ke[4]),ft=Math.sqrt(je.rt1),nt=Math.sqrt(je.rt2);if(ve.xRadius=1/ft,ve.yRadius=1/nt,ve.aRotation=Math.atan2(je.sn,je.cs),!((ve.aEndAngle-ve.aStartAngle)%(2*Math.PI)<Number.EPSILON)){const Tt=ue.set(ft,0,0,0,nt,0,0,0,1),bt=me.set(je.cs,je.sn,0,-je.sn,je.cs,0,0,0,1),Ze=Tt.multiply(bt).multiply(z),ht=Gt=>{const{x:Nt,y:Qt}=new Ce(Math.cos(Gt),Math.sin(Gt),0).applyMatrix3(Ze);return Math.atan2(Qt,Nt)};ve.aStartAngle=ht(ve.aStartAngle),ve.aEndAngle=ht(ve.aEndAngle),S(G)&&(ve.aClockwise=!ve.aClockwise)}}function ge(ve){const Ee=T(G),ie=F(G);ve.xRadius*=Ee,ve.yRadius*=ie;const Te=Ee>Number.EPSILON?Math.atan2(G.elements[1],G.elements[0]):Math.atan2(-G.elements[3],G.elements[4]);ve.aRotation+=Te,S(G)&&(ve.aStartAngle*=-1,ve.aEndAngle*=-1,ve.aClockwise=!ve.aClockwise)}const he=j.subPaths;for(let ve=0,Ee=he.length;ve<Ee;ve++){const Te=he[ve].curves;for(let ye=0;ye<Te.length;ye++){const _e=Te[ye];_e.isLineCurve?(q(_e.v1),q(_e.v2)):_e.isCubicBezierCurve?(q(_e.v0),q(_e.v1),q(_e.v2),q(_e.v3)):_e.isQuadraticBezierCurve?(q(_e.v0),q(_e.v1),q(_e.v2)):_e.isEllipseCurve&&(le.set(_e.aX,_e.aY),q(le),_e.aX=le.x,_e.aY=le.y,M(G)?W(_e):ge(_e))}}}function S(j){const G=j.elements;return G[0]*G[4]-G[1]*G[3]<0}function M(j){const G=j.elements,q=G[0]*G[3]+G[1]*G[4];if(q===0)return!1;const W=T(j),ge=F(j);return Math.abs(q/(W*ge))>Number.EPSILON}function T(j){const G=j.elements;return Math.sqrt(G[0]*G[0]+G[1]*G[1])}function F(j){const G=j.elements;return Math.sqrt(G[3]*G[3]+G[4]*G[4])}function P(j,G,q){let W,ge,he,ve,Ee;const ie=j+q,Te=j-q,ye=Math.sqrt(Te*Te+4*G*G);return ie>0?(W=.5*(ie+ye),Ee=1/W,ge=j*Ee*q-G*Ee*G):ie<0?ge=.5*(ie-ye):(W=.5*ye,ge=-.5*ye),Te>0?he=Te+ye:he=Te-ye,Math.abs(he)>2*Math.abs(G)?(Ee=-2*G/he,ve=1/Math.sqrt(1+Ee*Ee),he=Ee*ve):Math.abs(G)===0?(he=1,ve=0):(Ee=-.5*he/G,he=1/Math.sqrt(1+Ee*Ee),ve=Ee*he),Te>0&&(Ee=he,he=-ve,ve=Ee),{rt1:W,rt2:ge,cs:he,sn:ve}}const D=[],H={},X=[],fe=new Cn,ue=new Cn,me=new Cn,J=new Cn,le=new tt,ee=new Ce,re=new Cn,k=new DOMParser().parseFromString(e,"image/svg+xml");return r(k.documentElement,{fill:"#000",fillOpacity:1,strokeOpacity:1,strokeWidth:1,strokeLineJoin:"miter",strokeLineCap:"butt",strokeMiterLimit:4}),{paths:D,xml:k.documentElement}}static createShapes(e){const r={ORIGIN:0,DESTINATION:1,BETWEEN:2,LEFT:3,RIGHT:4,BEHIND:5,BEYOND:6},i={loc:r.ORIGIN,t:0};function s(y,v,m,w){const _=y.x,B=v.x,R=m.x,L=w.x,S=y.y,M=v.y,T=m.y,F=w.y,P=(L-R)*(S-T)-(F-T)*(_-R),D=(B-_)*(S-T)-(M-S)*(_-R),H=(F-T)*(B-_)-(L-R)*(M-S),X=P/H,fe=D/H;if(H===0&&P!==0||X<=0||X>=1||fe<0||fe>1)return null;if(P===0&&H===0){for(let ue=0;ue<2;ue++)if(a(ue===0?m:w,y,v),i.loc==r.ORIGIN){const me=ue===0?m:w;return{x:me.x,y:me.y,t:i.t}}else if(i.loc==r.BETWEEN){const me=+(_+i.t*(B-_)).toPrecision(10),J=+(S+i.t*(M-S)).toPrecision(10);return{x:me,y:J,t:i.t}}return null}else{for(let J=0;J<2;J++)if(a(J===0?m:w,y,v),i.loc==r.ORIGIN){const le=J===0?m:w;return{x:le.x,y:le.y,t:i.t}}const ue=+(_+X*(B-_)).toPrecision(10),me=+(S+X*(M-S)).toPrecision(10);return{x:ue,y:me,t:X}}}function a(y,v,m){const w=m.x-v.x,_=m.y-v.y,B=y.x-v.x,R=y.y-v.y,L=w*R-B*_;if(y.x===v.x&&y.y===v.y){i.loc=r.ORIGIN,i.t=0;return}if(y.x===m.x&&y.y===m.y){i.loc=r.DESTINATION,i.t=1;return}if(L<-Number.EPSILON){i.loc=r.LEFT;return}if(L>Number.EPSILON){i.loc=r.RIGHT;return}if(w*B<0||_*R<0){i.loc=r.BEHIND;return}if(Math.sqrt(w*w+_*_)<Math.sqrt(B*B+R*R)){i.loc=r.BEYOND;return}let S;w!==0?S=B/w:S=R/_,i.loc=r.BETWEEN,i.t=S}function o(y,v){const m=[],w=[];for(let _=1;_<y.length;_++){const B=y[_-1],R=y[_];for(let L=1;L<v.length;L++){const S=v[L-1],M=v[L],T=s(B,R,S,M);T!==null&&m.find(F=>F.t<=T.t+Number.EPSILON&&F.t>=T.t-Number.EPSILON)===void 0&&(m.push(T),w.push(new tt(T.x,T.y)))}}return w}function l(y,v,m){const w=new tt;v.getCenter(w);const _=[];return m.forEach(B=>{B.boundingBox.containsPoint(w)&&o(y,B.points).forEach(L=>{_.push({identifier:B.identifier,isCW:B.isCW,point:L})})}),_.sort((B,R)=>B.point.x-R.point.x),_}function c(y,v,m,w,_){(_==null||_==="")&&(_="nonzero");const B=new tt;y.boundingBox.getCenter(B);const R=[new tt(m,B.y),new tt(w,B.y)],L=l(R,y.boundingBox,v);L.sort((D,H)=>D.point.x-H.point.x);const S=[],M=[];L.forEach(D=>{D.identifier===y.identifier?S.push(D):M.push(D)});const T=S[0].point.x,F=[];let P=0;for(;P<M.length&&M[P].point.x<T;)F.length>0&&F[F.length-1]===M[P].identifier?F.pop():F.push(M[P].identifier),P++;if(F.push(y.identifier),_==="evenodd"){const D=F.length%2===0,H=F[F.length-2];return{identifier:y.identifier,isHole:D,for:H}}else if(_==="nonzero"){let D=!0,H=null,X=null;for(let fe=0;fe<F.length;fe++){const ue=F[fe];D?(X=v[ue].isCW,D=!1,H=ue):X!==v[ue].isCW&&(X=v[ue].isCW,D=!0)}return{identifier:y.identifier,isHole:D,for:H}}else console.warn('fill-rule: "'+_+'" is currently not implemented.')}let u=999999999,A=-999999999,f=e.subPaths.map(y=>{const v=y.getPoints();let m=-999999999,w=999999999,_=-999999999,B=999999999;for(let R=0;R<v.length;R++){const L=v[R];L.y>m&&(m=L.y),L.y<w&&(w=L.y),L.x>_&&(_=L.x),L.x<B&&(B=L.x)}return A<=_&&(A=_+1),u>=B&&(u=B-1),{curves:y.curves,points:v,isCW:wu.isClockWise(v),identifier:-1,boundingBox:new FX(new tt(B,w),new tt(_,m))}});f=f.filter(y=>y.points.length>1);for(let y=0;y<f.length;y++)f[y].identifier=y;const h=f.map(y=>c(y,f,u,A,e.userData?e.userData.style.fillRule:void 0)),p=[];return f.forEach(y=>{if(!h[y.identifier].isHole){const m=new cd;m.curves=y.curves,h.filter(_=>_.isHole&&_.for===y.identifier).forEach(_=>{const B=f[_.identifier],R=new ld;R.curves=B.curves,m.holes.push(R)}),p.push(m)}}),p}static getStrokeStyle(e,n,r,i,s){return e=e!==void 0?e:1,n=n!==void 0?n:"#000",r=r!==void 0?r:"miter",i=i!==void 0?i:"butt",s=s!==void 0?s:4,{strokeColor:n,strokeWidth:e,strokeLineJoin:r,strokeLineCap:i,strokeMiterLimit:s}}static pointsToStroke(e,n,r,i){const s=[],a=[],o=[];if(P4.pointsToStrokeWithBuffers(e,n,r,i,s,a,o)===0)return null;const l=new kn;return l.setAttribute("position",new tn(s,3)),l.setAttribute("normal",new tn(a,3)),l.setAttribute("uv",new tn(o,2)),l}static pointsToStrokeWithBuffers(e,n,r,i,s,a,o,l){const c=new tt,u=new tt,A=new tt,f=new tt,h=new tt,p=new tt,y=new tt,v=new tt,m=new tt,w=new tt,_=new tt,B=new tt,R=new tt,L=new tt,S=new tt,M=new tt,T=new tt;r=r!==void 0?r:12,i=i!==void 0?i:.001,l=l!==void 0?l:0,e=Te(e);const F=e.length;if(F<2)return 0;const P=e[0].equals(e[F-1]);let D,H=e[0],X;const fe=n.strokeWidth/2,ue=1/(F-1);let me=0,J,le,ee,re,k=!1,$=0,j=l*3,G=l*2;q(e[0],e[1],c).multiplyScalar(fe),v.copy(e[0]).sub(c),m.copy(e[0]).add(c),w.copy(v),_.copy(m);for(let ye=1;ye<F;ye++){D=e[ye],ye===F-1?P?X=e[1]:X=void 0:X=e[ye+1];const _e=c;if(q(H,D,_e),A.copy(_e).multiplyScalar(fe),B.copy(D).sub(A),R.copy(D).add(A),J=me+ue,le=!1,X!==void 0){q(D,X,u),A.copy(u).multiplyScalar(fe),L.copy(D).sub(A),S.copy(D).add(A),ee=!0,A.subVectors(X,H),_e.dot(A)<0&&(ee=!1),ye===1&&(k=ee),A.subVectors(X,D),A.normalize();const se=Math.abs(_e.dot(A));if(se>Number.EPSILON){const ze=fe/se;A.multiplyScalar(-ze),f.subVectors(D,H),h.copy(f).setLength(ze).add(A),M.copy(h).negate();const be=h.length(),z=f.length();f.divideScalar(z),p.subVectors(X,D);const te=p.length();switch(p.divideScalar(te),f.dot(M)<z&&p.dot(M)<te&&(le=!0),T.copy(h).add(D),M.add(D),re=!1,le?ee?(S.copy(M),R.copy(M)):(L.copy(M),B.copy(M)):he(),n.strokeLineJoin){case"bevel":ve(ee,le,J);break;case"round":Ee(ee,le),ee?ge(D,B,L,J,0):ge(D,S,R,J,1);break;case"miter":case"miter-clip":default:const Be=fe*n.strokeMiterLimit/be;if(Be<1)if(n.strokeLineJoin!=="miter-clip"){ve(ee,le,J);break}else Ee(ee,le),ee?(p.subVectors(T,B).multiplyScalar(Be).add(B),y.subVectors(T,L).multiplyScalar(Be).add(L),W(B,J,0),W(p,J,0),W(D,J,.5),W(D,J,.5),W(p,J,0),W(y,J,0),W(D,J,.5),W(y,J,0),W(L,J,0)):(p.subVectors(T,R).multiplyScalar(Be).add(R),y.subVectors(T,S).multiplyScalar(Be).add(S),W(R,J,1),W(p,J,1),W(D,J,.5),W(D,J,.5),W(p,J,1),W(y,J,1),W(D,J,.5),W(y,J,1),W(S,J,1));else le?(ee?(W(m,me,1),W(v,me,0),W(T,J,0),W(m,me,1),W(T,J,0),W(M,J,1)):(W(m,me,1),W(v,me,0),W(T,J,1),W(v,me,0),W(M,J,0),W(T,J,1)),ee?L.copy(T):S.copy(T)):ee?(W(B,J,0),W(T,J,0),W(D,J,.5),W(D,J,.5),W(T,J,0),W(L,J,0)):(W(R,J,1),W(T,J,1),W(D,J,.5),W(D,J,.5),W(T,J,1),W(S,J,1)),re=!0;break}}else he()}else he();!P&&ye===F-1&&ie(e[0],w,_,ee,!0,me),me=J,H=D,v.copy(L),m.copy(S)}if(!P)ie(D,B,R,ee,!1,J);else if(le&&s){let ye=T,_e=M;k!==ee&&(ye=M,_e=T),ee?(re||k)&&(_e.toArray(s,0*3),_e.toArray(s,3*3),re&&ye.toArray(s,1*3)):(re||!k)&&(_e.toArray(s,1*3),_e.toArray(s,3*3),re&&ye.toArray(s,0*3))}return $;function q(ye,_e,se){return se.subVectors(_e,ye),se.set(-se.y,se.x).normalize()}function W(ye,_e,se){s&&(s[j]=ye.x,s[j+1]=ye.y,s[j+2]=0,a&&(a[j]=0,a[j+1]=0,a[j+2]=1),j+=3,o&&(o[G]=_e,o[G+1]=se,G+=2)),$+=3}function ge(ye,_e,se,ze,be){c.copy(_e).sub(ye).normalize(),u.copy(se).sub(ye).normalize();let z=Math.PI;const te=c.dot(u);Math.abs(te)<1&&(z=Math.abs(Math.acos(te))),z/=r,A.copy(_e);for(let Be=0,ke=r-1;Be<ke;Be++)f.copy(A).rotateAround(ye,z),W(A,ze,be),W(f,ze,be),W(ye,ze,.5),A.copy(f);W(f,ze,be),W(se,ze,be),W(ye,ze,.5)}function he(){W(m,me,1),W(v,me,0),W(B,J,0),W(m,me,1),W(B,J,1),W(R,J,0)}function ve(ye,_e,se){_e?ye?(W(m,me,1),W(v,me,0),W(B,J,0),W(m,me,1),W(B,J,0),W(M,J,1),W(B,se,0),W(L,se,0),W(M,se,.5)):(W(m,me,1),W(v,me,0),W(R,J,1),W(v,me,0),W(M,J,0),W(R,J,1),W(R,se,1),W(M,se,0),W(S,se,1)):ye?(W(B,se,0),W(L,se,0),W(D,se,.5)):(W(R,se,1),W(S,se,0),W(D,se,.5))}function Ee(ye,_e){_e&&(ye?(W(m,me,1),W(v,me,0),W(B,J,0),W(m,me,1),W(B,J,0),W(M,J,1),W(B,me,0),W(D,J,.5),W(M,J,1),W(D,J,.5),W(L,me,0),W(M,J,1)):(W(m,me,1),W(v,me,0),W(R,J,1),W(v,me,0),W(M,J,0),W(R,J,1),W(R,me,1),W(M,J,0),W(D,J,.5),W(D,J,.5),W(M,J,0),W(S,me,1)))}function ie(ye,_e,se,ze,be,z){switch(n.strokeLineCap){case"round":be?ge(ye,se,_e,z,.5):ge(ye,_e,se,z,.5);break;case"square":if(be)c.subVectors(_e,ye),u.set(c.y,-c.x),A.addVectors(c,u).add(ye),f.subVectors(u,c).add(ye),ze?(A.toArray(s,1*3),f.toArray(s,0*3),f.toArray(s,3*3)):(A.toArray(s,1*3),A.toArray(s,3*3),f.toArray(s,0*3));else{c.subVectors(se,ye),u.set(c.y,-c.x),A.addVectors(c,u).add(ye),f.subVectors(u,c).add(ye);const te=s.length;ze?(A.toArray(s,te-1*3),f.toArray(s,te-2*3),f.toArray(s,te-4*3)):(f.toArray(s,te-2*3),A.toArray(s,te-1*3),f.toArray(s,te-4*3))}break}}function Te(ye){let _e=!1;for(let ze=1,be=ye.length-1;ze<be;ze++)if(ye[ze].distanceTo(ye[ze+1])<i){_e=!0;break}if(!_e)return ye;const se=[];se.push(ye[0]);for(let ze=1,be=ye.length-1;ze<be;ze++)ye[ze].distanceTo(ye[ze+1])>=i&&se.push(ye[ze]);return se.push(ye[ye.length-1]),se}}}function Zwe(){const t=M4(P4,"/symbol.svg"),e=Y.useMemo(()=>t.paths.flatMap(n=>n.toShapes(!0)),[t]);return I.createElement("group",{scale:[.02,-.01,.02],position:[-10,2,-4]},e.map((n,r)=>I.createElement("mesh",{key:r},I.createElement("shapeGeometry",{args:[n]}),I.createElement("meshBasicMaterial",{color:"#4fc3f7",wireframe:!0}))))}function e_e(){return I.createElement(lY,{className:"absolute top-0 left-0 w-full h-full z-0"},I.createElement("ambientLight",{intensity:.5}),I.createElement("directionalLight",{position:[0,5,5]}),I.createElement(cY,{enableZoom:!1}),I.createElement(Zwe,null))}function t_e(){const t=Gm(),e=Y.useRef(!1),n=Y.useRef({x:0,y:0}),r=a=>{e.current=!1,n.current={x:a.clientX,y:a.clientY}},i=a=>{const o=Math.abs(a.clientX-n.current.x),l=Math.abs(a.clientY-n.current.y);(o>5||l>5)&&(e.current=!0)},s=()=>{e.current||t("/explore")};return I.createElement("div",{className:"cursor-pointer w-full h-[400px] md:h-[500px]",onPointerDown:r,onPointerMove:i,onPointerUp:s},I.createElement(lY,null,I.createElement("ambientLight",{intensity:.5}),I.createElement("directionalLight",{position:[5,5,5]}),I.createElement(cY,{enableZoom:!0,enablePan:!1}),I.createElement(Nwe,{radius:100,depth:50,count:2e3,factor:4,fade:!0,speed:2}),I.createElement(Mwe,{args:[2.5,64,64]},I.createElement("meshStandardMaterial",{map:new yX().load("/images/earth-texture.jpg"),metalness:.4,roughness:.7}))))}function BS({children:t,className:e=""}){return I.createElement("div",{className:`bg-white/10 backdrop-blur p-4 rounded-xl shadow ${e}`},t)}function TS({children:t,className:e=""}){return I.createElement("div",{className:e},t)}function rw({children:t,onClick:e,className:n="",...r}){return I.createElement("button",{onClick:e,className:`bg-blue-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition ${n}`,...r},t)}const Jg=[{question:"Which Indian state is known as the 'Land of Five Rivers'?",options:["Punjab","Kerala","Assam","Haryana"],answer:"Punjab",fact:"Punjab is named after the five rivers that flow through it: Sutlej, Beas, Ravi, Chenab, and Jhelum."},{question:"Which is the highest mountain peak in India?",options:["Mount Everest","Kanchenjunga","Nanda Devi","Trisul"],answer:"Kanchenjunga",fact:"Kanchenjunga is the third highest mountain in the world, and the highest in India, located in Sikkim."},{question:"Which town is famous for its toy-making tradition in South India?",options:["Channapatna","Kanchipuram","Madurai","Coorg"],answer:"Channapatna",fact:"Channapatna in Karnataka is known as the 'Toy Town of India' for its centuries-old tradition of handcrafted wooden toys."},{question:"Which Indian city is known as the 'City of Lakes'?",options:["Udaipur","Hyderabad","Bhopal","Nainital"],answer:"Udaipur",fact:"Udaipur in Rajasthan is known for its stunning lakes and royal heritage, especially Lake Pichola."},{question:"Where is the living root bridge found in India?",options:["Sikkim","Manipur","Meghalaya","Arunachal Pradesh"],answer:"Meghalaya",fact:"These bridges in Meghalaya are made by training tree roots to grow across streams, forming living walkways."}];function n_e({clickSound:t,correctSound:e,wrongSound:n}){const[r,i]=Y.useState(0),[s,a]=Y.useState(0),[o,l]=Y.useState(!1),[c,u]=Y.useState(!1),A=y=>{t.play(),y===Jg[r].answer?(e.play(),a(s+1),u(!0)):(n.play(),f())},f=()=>{u(!1),r+1<Jg.length?i(r+1):l(!0)},h=()=>{t.play(),a(0),i(0),l(!1),u(!1)},p={backgroundColor:"var(--accent)",color:"var(--text)"};return I.createElement(Pi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-xl mx-auto mb-20"},o?I.createElement(BS,{className:"bg-green-100 text-black"},I.createElement(TS,{className:"p-6 text-center"},I.createElement("h3",{className:"text-xl font-semibold mb-2"}," Your Score: ",s,"/",Jg.length),I.createElement(rw,{onClick:h,style:p},"Play Again"))):I.createElement(BS,null,I.createElement(TS,{className:"p-6"},I.createElement("h3",{className:"text-xl font-semibold mb-4"},Jg[r].question),I.createElement("div",{className:"grid grid-cols-2 gap-4"},Jg[r].options.map((y,v)=>I.createElement(rw,{key:v,onClick:()=>A(y),style:p},y))),c&&I.createElement(I.Fragment,null,I.createElement("p",{className:"mt-4 text-green-300 text-sm"}," ",Jg[r].fact),I.createElement(rw,{className:"mt-4",onClick:f,style:p},"Next Question ")))))}var N4={};(function t(e,n,r,i){var s=!!(e.Worker&&e.Blob&&e.Promise&&e.OffscreenCanvas&&e.OffscreenCanvasRenderingContext2D&&e.HTMLCanvasElement&&e.HTMLCanvasElement.prototype.transferControlToOffscreen&&e.URL&&e.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=function(){if(!e.OffscreenCanvas)return!1;var ee=new OffscreenCanvas(1,1),re=ee.getContext("2d");re.fillRect(0,0,1,1);var k=ee.transferToImageBitmap();try{re.createPattern(k,"no-repeat")}catch{return!1}return!0}();function l(){}function c(ee){var re=n.exports.Promise,k=re!==void 0?re:e.Promise;return typeof k=="function"?new k(ee):(ee(l,l),null)}var u=function(ee,re){return{transform:function(k){if(ee)return k;if(re.has(k))return re.get(k);var $=new OffscreenCanvas(k.width,k.height),j=$.getContext("2d");return j.drawImage(k,0,0),re.set(k,$),$},clear:function(){re.clear()}}}(o,new Map),A=function(){var ee=Math.floor(16.666666666666668),re,k,$={},j=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(re=function(G){var q=Math.random();return $[q]=requestAnimationFrame(function W(ge){j===ge||j+ee-1<ge?(j=ge,delete $[q],G()):$[q]=requestAnimationFrame(W)}),q},k=function(G){$[G]&&cancelAnimationFrame($[G])}):(re=function(G){return setTimeout(G,ee)},k=function(G){return clearTimeout(G)}),{frame:re,cancel:k}}(),f=function(){var ee,re,k={};function $(j){function G(q,W){j.postMessage({options:q||{},callback:W})}j.init=function(W){var ge=W.transferControlToOffscreen();j.postMessage({canvas:ge},[ge])},j.fire=function(W,ge,he){if(re)return G(W,null),re;var ve=Math.random().toString(36).slice(2);return re=c(function(Ee){function ie(Te){Te.data.callback===ve&&(delete k[ve],j.removeEventListener("message",ie),re=null,u.clear(),he(),Ee())}j.addEventListener("message",ie),G(W,ve),k[ve]=ie.bind(null,{data:{callback:ve}})}),re},j.reset=function(){j.postMessage({reset:!0});for(var W in k)k[W](),delete k[W]}}return function(){if(ee)return ee;if(!r&&s){var j=["var CONFETTI, SIZE = {}, module = {};","("+t.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{ee=new Worker(URL.createObjectURL(new Blob([j])))}catch(G){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",G),null}$(ee)}return ee}}(),h={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function p(ee,re){return re?re(ee):ee}function y(ee){return ee!=null}function v(ee,re,k){return p(ee&&y(ee[re])?ee[re]:h[re],k)}function m(ee){return ee<0?0:Math.floor(ee)}function w(ee,re){return Math.floor(Math.random()*(re-ee))+ee}function _(ee){return parseInt(ee,16)}function B(ee){return ee.map(R)}function R(ee){var re=String(ee).replace(/[^0-9a-f]/gi,"");return re.length<6&&(re=re[0]+re[0]+re[1]+re[1]+re[2]+re[2]),{r:_(re.substring(0,2)),g:_(re.substring(2,4)),b:_(re.substring(4,6))}}function L(ee){var re=v(ee,"origin",Object);return re.x=v(re,"x",Number),re.y=v(re,"y",Number),re}function S(ee){ee.width=document.documentElement.clientWidth,ee.height=document.documentElement.clientHeight}function M(ee){var re=ee.getBoundingClientRect();ee.width=re.width,ee.height=re.height}function T(ee){var re=document.createElement("canvas");return re.style.position="fixed",re.style.top="0px",re.style.left="0px",re.style.pointerEvents="none",re.style.zIndex=ee,re}function F(ee,re,k,$,j,G,q,W,ge){ee.save(),ee.translate(re,k),ee.rotate(G),ee.scale($,j),ee.arc(0,0,1,q,W,ge),ee.restore()}function P(ee){var re=ee.angle*(Math.PI/180),k=ee.spread*(Math.PI/180);return{x:ee.x,y:ee.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:ee.startVelocity*.5+Math.random()*ee.startVelocity,angle2D:-re+(.5*k-Math.random()*k),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:ee.color,shape:ee.shape,tick:0,totalTicks:ee.ticks,decay:ee.decay,drift:ee.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:ee.gravity*3,ovalScalar:.6,scalar:ee.scalar,flat:ee.flat}}function D(ee,re){re.x+=Math.cos(re.angle2D)*re.velocity+re.drift,re.y+=Math.sin(re.angle2D)*re.velocity+re.gravity,re.velocity*=re.decay,re.flat?(re.wobble=0,re.wobbleX=re.x+10*re.scalar,re.wobbleY=re.y+10*re.scalar,re.tiltSin=0,re.tiltCos=0,re.random=1):(re.wobble+=re.wobbleSpeed,re.wobbleX=re.x+10*re.scalar*Math.cos(re.wobble),re.wobbleY=re.y+10*re.scalar*Math.sin(re.wobble),re.tiltAngle+=.1,re.tiltSin=Math.sin(re.tiltAngle),re.tiltCos=Math.cos(re.tiltAngle),re.random=Math.random()+2);var k=re.tick++/re.totalTicks,$=re.x+re.random*re.tiltCos,j=re.y+re.random*re.tiltSin,G=re.wobbleX+re.random*re.tiltCos,q=re.wobbleY+re.random*re.tiltSin;if(ee.fillStyle="rgba("+re.color.r+", "+re.color.g+", "+re.color.b+", "+(1-k)+")",ee.beginPath(),a&&re.shape.type==="path"&&typeof re.shape.path=="string"&&Array.isArray(re.shape.matrix))ee.fill(me(re.shape.path,re.shape.matrix,re.x,re.y,Math.abs(G-$)*.1,Math.abs(q-j)*.1,Math.PI/10*re.wobble));else if(re.shape.type==="bitmap"){var W=Math.PI/10*re.wobble,ge=Math.abs(G-$)*.1,he=Math.abs(q-j)*.1,ve=re.shape.bitmap.width*re.scalar,Ee=re.shape.bitmap.height*re.scalar,ie=new DOMMatrix([Math.cos(W)*ge,Math.sin(W)*ge,-Math.sin(W)*he,Math.cos(W)*he,re.x,re.y]);ie.multiplySelf(new DOMMatrix(re.shape.matrix));var Te=ee.createPattern(u.transform(re.shape.bitmap),"no-repeat");Te.setTransform(ie),ee.globalAlpha=1-k,ee.fillStyle=Te,ee.fillRect(re.x-ve/2,re.y-Ee/2,ve,Ee),ee.globalAlpha=1}else if(re.shape==="circle")ee.ellipse?ee.ellipse(re.x,re.y,Math.abs(G-$)*re.ovalScalar,Math.abs(q-j)*re.ovalScalar,Math.PI/10*re.wobble,0,2*Math.PI):F(ee,re.x,re.y,Math.abs(G-$)*re.ovalScalar,Math.abs(q-j)*re.ovalScalar,Math.PI/10*re.wobble,0,2*Math.PI);else if(re.shape==="star")for(var ye=Math.PI/2*3,_e=4*re.scalar,se=8*re.scalar,ze=re.x,be=re.y,z=5,te=Math.PI/z;z--;)ze=re.x+Math.cos(ye)*se,be=re.y+Math.sin(ye)*se,ee.lineTo(ze,be),ye+=te,ze=re.x+Math.cos(ye)*_e,be=re.y+Math.sin(ye)*_e,ee.lineTo(ze,be),ye+=te;else ee.moveTo(Math.floor(re.x),Math.floor(re.y)),ee.lineTo(Math.floor(re.wobbleX),Math.floor(j)),ee.lineTo(Math.floor(G),Math.floor(q)),ee.lineTo(Math.floor($),Math.floor(re.wobbleY));return ee.closePath(),ee.fill(),re.tick<re.totalTicks}function H(ee,re,k,$,j){var G=re.slice(),q=ee.getContext("2d"),W,ge,he=c(function(ve){function Ee(){W=ge=null,q.clearRect(0,0,$.width,$.height),u.clear(),j(),ve()}function ie(){r&&!($.width===i.width&&$.height===i.height)&&($.width=ee.width=i.width,$.height=ee.height=i.height),!$.width&&!$.height&&(k(ee),$.width=ee.width,$.height=ee.height),q.clearRect(0,0,$.width,$.height),G=G.filter(function(Te){return D(q,Te)}),G.length?W=A.frame(ie):Ee()}W=A.frame(ie),ge=Ee});return{addFettis:function(ve){return G=G.concat(ve),he},canvas:ee,promise:he,reset:function(){W&&A.cancel(W),ge&&ge()}}}function X(ee,re){var k=!ee,$=!!v(re||{},"resize"),j=!1,G=v(re,"disableForReducedMotion",Boolean),q=s&&!!v(re||{},"useWorker"),W=q?f():null,ge=k?S:M,he=ee&&W?!!ee.__confetti_initialized:!1,ve=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,Ee;function ie(ye,_e,se){for(var ze=v(ye,"particleCount",m),be=v(ye,"angle",Number),z=v(ye,"spread",Number),te=v(ye,"startVelocity",Number),Be=v(ye,"decay",Number),ke=v(ye,"gravity",Number),Ke=v(ye,"drift",Number),je=v(ye,"colors",B),ft=v(ye,"ticks",Number),nt=v(ye,"shapes"),ct=v(ye,"scalar"),Tt=!!v(ye,"flat"),bt=L(ye),Ze=ze,ht=[],Gt=ee.width*bt.x,Nt=ee.height*bt.y;Ze--;)ht.push(P({x:Gt,y:Nt,angle:be,spread:z,startVelocity:te,color:je[Ze%je.length],shape:nt[w(0,nt.length)],ticks:ft,decay:Be,gravity:ke,drift:Ke,scalar:ct,flat:Tt}));return Ee?Ee.addFettis(ht):(Ee=H(ee,ht,ge,_e,se),Ee.promise)}function Te(ye){var _e=G||v(ye,"disableForReducedMotion",Boolean),se=v(ye,"zIndex",Number);if(_e&&ve)return c(function(te){te()});k&&Ee?ee=Ee.canvas:k&&!ee&&(ee=T(se),document.body.appendChild(ee)),$&&!he&&ge(ee);var ze={width:ee.width,height:ee.height};W&&!he&&W.init(ee),he=!0,W&&(ee.__confetti_initialized=!0);function be(){if(W){var te={getBoundingClientRect:function(){if(!k)return ee.getBoundingClientRect()}};ge(te),W.postMessage({resize:{width:te.width,height:te.height}});return}ze.width=ze.height=null}function z(){Ee=null,$&&(j=!1,e.removeEventListener("resize",be)),k&&ee&&(document.body.contains(ee)&&document.body.removeChild(ee),ee=null,he=!1)}return $&&!j&&(j=!0,e.addEventListener("resize",be,!1)),W?W.fire(ye,ze,z):ie(ye,ze,z)}return Te.reset=function(){W&&W.reset(),Ee&&Ee.reset()},Te}var fe;function ue(){return fe||(fe=X(null,{useWorker:!0,resize:!0})),fe}function me(ee,re,k,$,j,G,q){var W=new Path2D(ee),ge=new Path2D;ge.addPath(W,new DOMMatrix(re));var he=new Path2D;return he.addPath(ge,new DOMMatrix([Math.cos(q)*j,Math.sin(q)*j,-Math.sin(q)*G,Math.cos(q)*G,k,$])),he}function J(ee){if(!a)throw new Error("path confetti are not supported in this browser");var re,k;typeof ee=="string"?re=ee:(re=ee.path,k=ee.matrix);var $=new Path2D(re),j=document.createElement("canvas"),G=j.getContext("2d");if(!k){for(var q=1e3,W=q,ge=q,he=0,ve=0,Ee,ie,Te=0;Te<q;Te+=2)for(var ye=0;ye<q;ye+=2)G.isPointInPath($,Te,ye,"nonzero")&&(W=Math.min(W,Te),ge=Math.min(ge,ye),he=Math.max(he,Te),ve=Math.max(ve,ye));Ee=he-W,ie=ve-ge;var _e=10,se=Math.min(_e/Ee,_e/ie);k=[se,0,0,se,-Math.round(Ee/2+W)*se,-Math.round(ie/2+ge)*se]}return{type:"path",path:re,matrix:k}}function le(ee){var re,k=1,$="#000000",j='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof ee=="string"?re=ee:(re=ee.text,k="scalar"in ee?ee.scalar:k,j="fontFamily"in ee?ee.fontFamily:j,$="color"in ee?ee.color:$);var G=10*k,q=""+G+"px "+j,W=new OffscreenCanvas(G,G),ge=W.getContext("2d");ge.font=q;var he=ge.measureText(re),ve=Math.ceil(he.actualBoundingBoxRight+he.actualBoundingBoxLeft),Ee=Math.ceil(he.actualBoundingBoxAscent+he.actualBoundingBoxDescent),ie=2,Te=he.actualBoundingBoxLeft+ie,ye=he.actualBoundingBoxAscent+ie;ve+=ie+ie,Ee+=ie+ie,W=new OffscreenCanvas(ve,Ee),ge=W.getContext("2d"),ge.font=q,ge.fillStyle=$,ge.fillText(re,Te,ye);var _e=1/k;return{type:"bitmap",bitmap:W.transferToImageBitmap(),matrix:[_e,0,0,_e,-ve*_e/2,-Ee*_e/2]}}n.exports=function(){return ue().apply(this,arguments)},n.exports.reset=function(){ue().reset()},n.exports.create=X,n.exports.shapeFromPath=J,n.exports.shapeFromText=le})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),N4,!1);const r_e=N4.exports;N4.exports.create;function i_e(t){Y.useEffect(()=>{t&&r_e({particleCount:150,spread:90})},[t])}function s_e({clickSound:t,correctSound:e,wrongSound:n}){const r=[{image:"/images/hampi.jpg",correct:"Hampi",options:["Hampi","Udaipur","Mahabalipuram","Khajuraho"]},{image:"/images/kerala back water.avif",correct:"Alleppey",options:["Alleppey","Kerala","Munnar","Kullu"]},{image:"/images/mawlynnong.jpg",correct:"Mawlynnong",options:["Mawlynnong","Mawsynram","Cherrapunji","Ziro"]},{image:"/images/ladakh.jpg",correct:"Ladakh",options:["Spiti Valley","Leh","Ladakh","Srinagar"]},{image:"/images/jaisalmer-fort.jpg",correct:"Jaisalmer Fort",options:["Mehrangarh Fort","Jaisalmer Fort","Amber Fort","Gwalior Fort"]},{image:"/images/valley-of-flowers.jpg",correct:"Valley of Flowers",options:["Valley of Flowers","Nanda Devi","Auli","Kedarnath"]}],[i,s]=Y.useState(0),[a,o]=Y.useState({player1:0,player2:0}),[l,c]=Y.useState("player1"),[u,A]=Y.useState(!1),f=r.length,h=a.player1>a.player2?"Player 1":a.player2>a.player1?"Player 2":"Tie";i_e(u);const p=w=>{t.play(),w===r[i].correct?(e.play(),o(B=>({...B,[l]:B[l]+1}))):n.play();const _=l==="player1"?"player2":"player1";i+1<f?(s(i+1),c(_)):A(!0)},y=()=>{t.play(),s(0),o({player1:0,player2:0}),c("player1"),A(!1)},v=r[i],m={backgroundColor:"var(--accent)",color:"var(--text)"};return I.createElement(Pi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"max-w-xl mx-auto mb-20"},u?I.createElement(BS,{className:"bg-gray-800 text-white"},I.createElement(TS,{className:"p-6 text-center"},I.createElement("h3",{className:"text-xl font-bold mb-2"}," Game Over"),I.createElement("p",{className:"mb-1"},"Player 1 Score: ",I.createElement("strong",null,a.player1)),I.createElement("p",{className:"mb-3"},"Player 2 Score: ",I.createElement("strong",null,a.player2)),I.createElement("p",{className:"text-lg font-semibold"},h==="Tie"?" It's a Tie!":` ${h} Wins!`),I.createElement(rw,{className:"mt-4",onClick:y,style:m},"Play Again"))):I.createElement(BS,null,I.createElement(TS,{className:"p-4"},I.createElement("p",{className:"text-md text-gray-300 mb-2"}," Turn: ",I.createElement("strong",null,l==="player1"?"Player 1":"Player 2")),I.createElement("img",{src:v.image,alt:"Guess the place",className:"w-full h-64 object-cover rounded-xl mb-4"}),I.createElement("div",{className:"grid grid-cols-2 gap-4"},v.options.map((w,_)=>I.createElement(rw,{key:_,onClick:()=>p(w),style:m},w))))))}function a_e(){return I.createElement("section",{className:"w-full bg-gradient-to-r from-pink-600 to-purple-700 text-white py-6 px-4 text-center shadow-md z-20 relative"},I.createElement("h1",{className:"text-3xl md:text-4xl font-extrabold mb-2 animate-pulse"}," PackPalGo is Coming Soon!"),I.createElement("p",{className:"text-md md:text-lg font-medium max-w-2xl mx-auto mb-4"},"Your go-to platform to discover hidden gems, connect with travel buddies, and create unforgettable trips. Launching soon!"),I.createElement("a",{href:"https://docs.google.com/forms/d/e/1FAIpQLSdrC7PFcIhxDR4rqGHrxdvKmivxk-i6wdrCqanGi8aG6JSXuQ/viewform?usp=dialog",target:"_blank",rel:"noopener noreferrer",className:"inline-block bg-white text-pink-700 font-semibold px-6 py-2 rounded-full hover:bg-pink-100 transition"},"Join Waitlist"))}function o_e(){return I.createElement("section",{className:"bg-black text-white py-24 px-6"},I.createElement("div",{className:"max-w-5xl mx-auto text-center space-y-6"},I.createElement("h2",{className:"text-4xl font-bold text-cyan-400 mb-4"}," About PackPalGo"),I.createElement("p",{className:"text-lg leading-relaxed max-w-3xl mx-auto"},"PackPalGo is a social travel platform built for explorers, backpackers, and wanderlusters. Our mission is to make travel more accessible, social, and fun by letting you:"),I.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 text-left mt-10"},I.createElement("div",{className:"bg-gray-800 p-6 rounded-xl shadow-md hover:bg-gray-700 transition"},I.createElement("h3",{className:"text-xl font-semibold text-yellow-300"}," Discover Hidden Gems"),I.createElement("p",{className:"text-sm mt-2"},"Explore offbeat local experiences across India curated by real travelers.")),I.createElement("div",{className:"bg-gray-800 p-6 rounded-xl shadow-md hover:bg-gray-700 transition"},I.createElement("h3",{className:"text-xl font-semibold text-green-300"}," Connect With Strangers"),I.createElement("p",{className:"text-sm mt-2"},"Join or create travel groups based on destination, interest, and time.")),I.createElement("div",{className:"bg-gray-800 p-6 rounded-xl shadow-md hover:bg-gray-700 transition"},I.createElement("h3",{className:"text-xl font-semibold text-pink-300"}," We're Launching Soon!"),I.createElement("p",{className:"text-sm mt-2"},"Were building something exciting! Stay tuned for quizzes, maps, and more.")))))}function l_e(){return I.createElement("footer",{className:"bg-black text-white text-center py-10 border-t border-gray-700"},I.createElement("p",{className:"text-sm mb-2"}," ",new Date().getFullYear()," PackPalGo  Built for explorers, dreamers, and wanderers."),I.createElement("a",{href:"https://www.instagram.com/packpalgo?igsh=bmxhZDcyZmtia3U0",target:"_blank",rel:"noopener noreferrer",className:"text-sm text-blue-400 hover:underline"},"Follow us on Instagram @packpalgo"))}const _N=new Audio("/sounds/background.mp3");_N.loop=!0;const s8=new Audio("/sounds/click.mp3"),a8=new Audio("/sounds/correct.mp3"),o8=new Audio("/sounds/wrong.mp3"),i1=({children:t,onClick:e,className:n="",style:r={}})=>I.createElement("button",{onClick:e,className:`px-4 py-2 rounded-lg transition min-w-32 max-w-[160px] mx-auto w-full ${n}`,style:r},t);function c_e(){const{theme:t,toggleTheme:e}=OR(),n=["dark","beach","sunset","jungle"],[r,i]=Y.useState(!1),s=Gm(),a=()=>{r?_N.pause():_N.play(),i(!r)};return I.createElement("main",{className:"relative min-h-screen overflow-x-hidden",style:{color:"var(--text)"}},I.createElement("select",{value:t,onChange:o=>e(o.target.value),className:"absolute top-6 right-6 bg-gray-800 text-white border border-gray-600 p-2 rounded z-50"},n.map(o=>I.createElement("option",{key:o,value:o},o.charAt(0).toUpperCase()+o.slice(1)))),I.createElement("section",{className:"relative z-10 py-40 text-center bg-cover bg-center",style:{backgroundImage:"var(--bg-image)"}},I.createElement("div",{className:"absolute inset-0 bg-black/50 z-0 pointer-events-none"}),I.createElement("div",{className:"relative z-10"},I.createElement(e_e,null),I.createElement(Pi.h1,{className:"text-5xl md:text-7xl font-extrabold mb-4 drop-shadow-lg",initial:{opacity:0,y:40},animate:{opacity:1,y:0},transition:{duration:1}},"The Pre-Trip Portal"),I.createElement(Pi.p,{className:"text-xl md:text-2xl max-w-2xl mx-auto mb-8 drop-shadow",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:1}},"Before you pack, lets play and plan!"),I.createElement(Pi.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},transition:{delay:1,duration:.5},className:"grid grid-cols-2 gap-4 max-w-xs sm:max-w-md mx-auto justify-center"},I.createElement(i1,{style:{backgroundColor:"var(--accent)",color:"var(--text)"},onClick:()=>s("/budget-calculator")}," Budget Calculator"),I.createElement(i1,{style:{backgroundColor:"var(--accent)",color:"var(--text)"},onClick:()=>s("/things-to-carry")}," Pack list"),I.createElement(i1,{style:{backgroundColor:"var(--accent)",color:"var(--text)"},onClick:()=>s("/itinerary-planner")}," Itinerary Planner"),I.createElement(i1,{style:{backgroundColor:"var(--accent)",color:"var(--text)"},onClick:()=>s("/gosplit")}," GoSplit")),I.createElement(i1,{className:"mt-4 text-sm",onClick:a,style:{backgroundColor:"var(--accent)",color:"var(--text)"}},r?" Mute Music":" Play Music"),I.createElement("div",{className:"flex justify-center mt-6"},I.createElement("span",{className:"animate-bounce-slow text-4xl text-white/80 drop-shadow-lg cursor-pointer select-none"},I.createElement("svg",{width:"36",height:"46",viewBox:"0 0 26 26",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"mx-auto"},I.createElement("path",{d:"M12 5v14m0 0l-7-7m7 7l7-7",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})))))),I.createElement(a_e,null),I.createElement("section",{className:"relative z-10 py-10 text-center bg-cover bg-center",style:{backgroundImage:"var(--bg-image)"}},I.createElement("div",{className:"absolute inset-0 backdrop-blur-sm bg-black/50 z-0 pointer-events-none"}),I.createElement("div",{className:"relative z-10"},I.createElement(Pi.h2,{className:"text-4xl font-bold mb-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6}}," Spin the Globe  Double tap to Explore."),I.createElement(Pi.p,{className:"text-lg mb-10 max-w-xl mx-auto",initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},transition:{delay:.2}},"Rotate and zoom the interactive globe to get inspired."),I.createElement(t_e,null))),I.createElement("section",{className:"relative z-10 py-32 text-center"},I.createElement(Pi.h2,{className:"text-4xl font-bold mb-6",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},transition:{duration:.6}}," Travel Games"),I.createElement(Pi.p,{className:"text-lg mb-12 max-w-xl mx-auto",initial:{opacity:0,y:10},whileInView:{opacity:1,y:0},transition:{delay:.2}},"Play trivia, guess hidden places, and challenge your travel buddies."),I.createElement(n_e,{clickSound:s8,correctSound:a8,wrongSound:o8}),I.createElement(s_e,{clickSound:s8,correctSound:a8,wrongSound:o8})),I.createElement("section",{className:"relative z-10 py-0 text-center",style:{color:"var(--text)"}},I.createElement(o_e,null)),I.createElement("section",{className:"relative z-10 py-0 text-center",style:{color:"var(--text)"}},I.createElement(l_e,null)))}const u_e=[{name:"Ziro Valley",location:"Arunachal Pradesh",tags:["nature","culture","festival"],image:"/images/Ziro-Valley.webp",fact:"Apatani tribal culture and a peaceful valley with rolling rice fields.",mapLink:"https://www.google.com/maps?q=Ziro+Valley,+Arunachal+Pradesh"},{name:"Dzukou Valley",location:"Nagaland",tags:["trekking","flora","remote"],image:"/images/Dzukou Valley.webp",fact:"Remote and lush green valley famous for Dzukou lilies and solitude.",mapLink:"https://www.google.com/maps?q=Dzukou+Valley,+Nagaland"},{name:"Tirthan Valley",location:"Himachal Pradesh",tags:["rivers","eco-tourism","fishing"],image:"/images/tirthan.jpeg",fact:"Less touristy Himachali valley with riverside stays and trout fishing.",mapLink:"https://www.google.com/maps?q=Tirthan+Valley,+Himachal+Pradesh"},{name:"Kalap Village",location:"Uttarakhand",tags:["remote","village-life","Himalayas"],image:"/images/Kalap Village.jpg",fact:"Remote Himalayan village with no roads, offering authentic local life.",mapLink:"https://www.google.com/maps?q=Kalap+Village,+Uttarkashi"},{name:"Majuli Island",location:"Assam",tags:["island","culture","monasteries"],image:"/images/Majuli Island.jpg",fact:"Worlds largest river island with neo-Vaishnavite monasteries and traditions.",mapLink:"https://www.google.com/maps?q=Majuli+Island,+Assam"},{name:"Butterfly Beach",location:"Goa",tags:["beach","hidden","boating"],image:"/images/butterfly-beach.jpg",fact:"Hidden crescent beach only reachable by boat or trek.",mapLink:"https://www.google.com/maps?q=Butterfly+Beach,+Goa"},{name:"Kanatal",location:"Uttarakhand",tags:["offbeat","hills","camping"],image:"/images/kanatal.jpg",fact:"Quiet hill village near Mussoorie with apple orchards and trails.",mapLink:"https://www.google.com/maps?q=Kanatal,+Uttarakhand"},{name:"Patan",location:"Gujarat",tags:["heritage","architecture","stepwell"],image:"/images/patan.jpg",fact:"Home to the intricately carved Rani ki Vav stepwell.",mapLink:"https://www.google.com/maps?q=Patan,+Gujarat"},{name:"Sandakphu",location:"West Bengal",tags:["trekking","Himalayas","viewpoints"],image:"/images/sandakphu.jpg",fact:"Trek to view 4 of the worlds 5 highest peaks including Everest.",mapLink:"https://www.google.com/maps?q=Sandakphu"},{name:"Gokarna",location:"Karnataka",tags:["beach","spiritual","peaceful"],image:"/images/gokarna.jpg",fact:"Spiritual beach town with hidden coves and peaceful vibes.",mapLink:"https://www.google.com/maps?q=Gokarna"}],A_e=[{name:"Masala Dosa",image:"/images/masala-dosa.jpg",fact:"Crispy fermented rice crepe stuffed with spiced potatoes.",location:"Bengaluru, Karnataka",tags:["breakfast","south indian","crispy"]},{name:"Hyderabadi Biryani",image:"/images/hyderabadi-biryani.jpg",fact:"Aromatic rice dish layered with marinated meat and saffron.",location:"Hyderabad, Telangana",tags:["biryani","spicy","rice"]},{name:"Sarson Da Saag with Makki Di Roti",image:"/images/sarson-saag.jpg",fact:"A hearty winter delicacy made from mustard greens and served with cornmeal flatbread and white butter.",location:"Amritsar, Punjab",tags:["punjabi","winter","green"]},{name:"Rogan Josh",image:"/images/rogan-josh.jpg",fact:"A rich, aromatic lamb curry from Kashmir.",location:"Srinagar, Jammu & Kashmir",tags:["kashmiri","curry","lamb"]},{name:"Sandesh",image:"/images/sandesh.jpg",fact:"A delicate Bengali sweet made from chhena and sugar.",location:"Kolkata, West Bengal",tags:["sweet","bengali","dessert"]},{name:"Laal Maas",image:"/images/laal-maas.jpg",fact:"A fiery Rajasthani mutton curry cooked with red chillies and rustic spices  not for the faint-hearted.",location:"Jodhpur, Rajasthan",tags:["spicy","rajasthani","mutton"]},{name:"Appam with Stew",image:"/images/appam-stew.jpg",fact:"A soft rice pancake paired with aromatic coconut-based vegetable or chicken stew  Keralas breakfast gem.",location:"Alleppey, Kerala",tags:["kerala","coconut","breakfast"]}],l8=({title:t,data:e})=>I.createElement("section",{className:"mb-16"},I.createElement("h2",{className:"text-3xl font-semibold mb-6 text-center"},t),I.createElement("div",{className:"grid gap-8 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3"},e.map((n,r)=>I.createElement("a",{key:r,href:n.mapLink||"#",target:"_blank",rel:"noopener noreferrer",className:"bg-gray-800 rounded-2xl shadow-xl overflow-hidden hover:scale-105 transform transition block"},I.createElement("img",{src:n.image,alt:n.name,className:"w-full h-48 object-cover"}),I.createElement("div",{className:"p-4"},I.createElement("h3",{className:"text-xl font-bold mb-1"},n.name),n.location&&I.createElement("p",{className:"text-sm text-cyan-300 mb-1"}," ",n.location),I.createElement("p",{className:"text-sm text-gray-300"},n.fact),n.tags&&I.createElement("div",{className:"mt-2 flex flex-wrap gap-1"},n.tags.map((i,s)=>I.createElement("span",{key:s,className:"text-xs bg-gray-700 px-2 py-1 rounded-full text-white"},"#",i)))))))," ");function f_e(){return I.createElement("main",{className:"min-h-screen bg-gradient-to-br from-gray-900 to-black text-white p-6 sm:p-10"},I.createElement("h1",{className:"text-4xl font-bold mb-10 text-center"},"Explore India"),I.createElement(l8,{title:"Hidden Gems",data:u_e}),I.createElement(l8,{title:"Must-Try Foods",data:A_e}))}/*!
 * html2canvas 1.4.1 <https://html2canvas.hertzen.com>
 * Copyright (c) 2022 Niklas von Hertzen <https://hertzen.com>
 * Released under MIT License
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var xN=function(t,e){return xN=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},xN(t,e)};function Pu(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");xN(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var bN=function(){return bN=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bN.apply(this,arguments)};function Fo(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{c(r.next(u))}catch(A){a(A)}}function l(u){try{c(r.throw(u))}catch(A){a(A)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((r=r.apply(t,[])).next())})}function oo(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}function iE(t,e,n){if(arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||e)}var Tf=function(){function t(e,n,r,i){this.left=e,this.top=n,this.width=r,this.height=i}return t.prototype.add=function(e,n,r,i){return new t(this.left+e,this.top+n,this.width+r,this.height+i)},t.fromClientRect=function(e,n){return new t(n.left+e.windowBounds.left,n.top+e.windowBounds.top,n.width,n.height)},t.fromDOMRectList=function(e,n){var r=Array.from(n).find(function(i){return i.width!==0});return r?new t(r.left+e.windowBounds.left,r.top+e.windowBounds.top,r.width,r.height):t.EMPTY},t.EMPTY=new t(0,0,0,0),t}(),VB=function(t,e){return Tf.fromClientRect(t,e.getBoundingClientRect())},h_e=function(t){var e=t.body,n=t.documentElement;if(!e||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(e.scrollWidth,n.scrollWidth),Math.max(e.offsetWidth,n.offsetWidth),Math.max(e.clientWidth,n.clientWidth)),i=Math.max(Math.max(e.scrollHeight,n.scrollHeight),Math.max(e.offsetHeight,n.offsetHeight),Math.max(e.clientHeight,n.clientHeight));return new Tf(0,0,r,i)},zB=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},ns=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var a=t[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},c8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d_e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var sE=0;sE<c8.length;sE++)d_e[c8.charCodeAt(sE)]=sE;var u8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var aE=0;aE<u8.length;aE++)E1[u8.charCodeAt(aE)]=aE;var p_e=function(t){var e=t.length*.75,n=t.length,r,i=0,s,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)s=E1[t.charCodeAt(r)],a=E1[t.charCodeAt(r+1)],o=E1[t.charCodeAt(r+2)],l=E1[t.charCodeAt(r+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|l&63;return c},m_e=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},g_e=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},hm=5,L4=11,A5=2,v_e=L4-hm,dY=65536>>hm,y_e=1<<hm,f5=y_e-1,w_e=1024>>hm,__e=dY+w_e,x_e=__e,b_e=32,E_e=x_e+b_e,S_e=65536>>L4,C_e=1<<v_e,B_e=C_e-1,A8=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},T_e=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},M_e=function(t,e){var n=p_e(t),r=Array.isArray(n)?g_e(n):new Uint32Array(n),i=Array.isArray(n)?m_e(n):new Uint16Array(n),s=24,a=A8(i,s/2,r[4]/2),o=r[5]===2?A8(i,(s+r[4])/2):T_e(r,Math.ceil((s+r[4])/4));return new I_e(r[0],r[1],r[2],r[3],a,o)},I_e=function(){function t(e,n,r,i,s,a){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>hm],n=(n<<A5)+(e&f5),this.data[n];if(e<=65535)return n=this.index[dY+(e-55296>>hm)],n=(n<<A5)+(e&f5),this.data[n];if(e<this.highStart)return n=E_e-S_e+(e>>L4),n=this.index[n],n+=e>>hm&B_e,n=this.index[n],n=(n<<A5)+(e&f5),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),f8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",P_e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var oE=0;oE<f8.length;oE++)P_e[f8.charCodeAt(oE)]=oE;var N_e="KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA==",h8=50,L_e=1,pY=2,mY=3,F_e=4,R_e=5,d8=7,gY=8,p8=9,jh=10,EN=11,m8=12,SN=13,U_e=14,S1=15,CN=16,lE=17,s1=18,D_e=19,g8=20,BN=21,a1=22,h5=23,Zg=24,Rl=25,C1=26,B1=27,e0=28,O_e=29,Vp=30,k_e=31,cE=32,uE=33,TN=34,MN=35,IN=36,i_=37,PN=38,y2=39,w2=40,d5=41,vY=42,Q_e=43,H_e=[9001,65288],yY="!",Xn="",AE="",NN=M_e(N_e),$A=[Vp,IN],LN=[L_e,pY,mY,R_e],wY=[jh,gY],v8=[B1,C1],V_e=LN.concat(wY),y8=[PN,y2,w2,TN,MN],z_e=[S1,SN],j_e=function(t,e){e===void 0&&(e="strict");var n=[],r=[],i=[];return t.forEach(function(s,a){var o=NN.get(s);if(o>h8?(i.push(!0),o-=h8):i.push(!1),["normal","auto","loose"].indexOf(e)!==-1&&[8208,8211,12316,12448].indexOf(s)!==-1)return r.push(a),n.push(CN);if(o===F_e||o===EN){if(a===0)return r.push(a),n.push(Vp);var l=n[a-1];return V_e.indexOf(l)===-1?(r.push(r[a-1]),n.push(l)):(r.push(a),n.push(Vp))}if(r.push(a),o===k_e)return n.push(e==="strict"?BN:i_);if(o===vY||o===O_e)return n.push(Vp);if(o===Q_e)return s>=131072&&s<=196605||s>=196608&&s<=262141?n.push(i_):n.push(Vp);n.push(o)}),[r,n,i]},p5=function(t,e,n,r){var i=r[n];if(Array.isArray(t)?t.indexOf(i)!==-1:t===i)for(var s=n;s<=r.length;){s++;var a=r[s];if(a===e)return!0;if(a!==jh)break}if(i===jh)for(var s=n;s>0;){s--;var o=r[s];if(Array.isArray(t)?t.indexOf(o)!==-1:t===o)for(var l=n;l<=r.length;){l++;var a=r[l];if(a===e)return!0;if(a!==jh)break}if(o!==jh)break}return!1},w8=function(t,e){for(var n=t;n>=0;){var r=e[n];if(r===jh)n--;else return r}return 0},G_e=function(t,e,n,r,i){if(n[r]===0)return Xn;var s=r-1;if(Array.isArray(i)&&i[s]===!0)return Xn;var a=s-1,o=s+1,l=e[s],c=a>=0?e[a]:0,u=e[o];if(l===pY&&u===mY)return Xn;if(LN.indexOf(l)!==-1)return yY;if(LN.indexOf(u)!==-1||wY.indexOf(u)!==-1)return Xn;if(w8(s,e)===gY)return AE;if(NN.get(t[s])===EN||(l===cE||l===uE)&&NN.get(t[o])===EN||l===d8||u===d8||l===p8||[jh,SN,S1].indexOf(l)===-1&&u===p8||[lE,s1,D_e,Zg,e0].indexOf(u)!==-1||w8(s,e)===a1||p5(h5,a1,s,e)||p5([lE,s1],BN,s,e)||p5(m8,m8,s,e))return Xn;if(l===jh)return AE;if(l===h5||u===h5)return Xn;if(u===CN||l===CN)return AE;if([SN,S1,BN].indexOf(u)!==-1||l===U_e||c===IN&&z_e.indexOf(l)!==-1||l===e0&&u===IN||u===g8||$A.indexOf(u)!==-1&&l===Rl||$A.indexOf(l)!==-1&&u===Rl||l===B1&&[i_,cE,uE].indexOf(u)!==-1||[i_,cE,uE].indexOf(l)!==-1&&u===C1||$A.indexOf(l)!==-1&&v8.indexOf(u)!==-1||v8.indexOf(l)!==-1&&$A.indexOf(u)!==-1||[B1,C1].indexOf(l)!==-1&&(u===Rl||[a1,S1].indexOf(u)!==-1&&e[o+1]===Rl)||[a1,S1].indexOf(l)!==-1&&u===Rl||l===Rl&&[Rl,e0,Zg].indexOf(u)!==-1)return Xn;if([Rl,e0,Zg,lE,s1].indexOf(u)!==-1)for(var A=s;A>=0;){var f=e[A];if(f===Rl)return Xn;if([e0,Zg].indexOf(f)!==-1)A--;else break}if([B1,C1].indexOf(u)!==-1)for(var A=[lE,s1].indexOf(l)!==-1?a:s;A>=0;){var f=e[A];if(f===Rl)return Xn;if([e0,Zg].indexOf(f)!==-1)A--;else break}if(PN===l&&[PN,y2,TN,MN].indexOf(u)!==-1||[y2,TN].indexOf(l)!==-1&&[y2,w2].indexOf(u)!==-1||[w2,MN].indexOf(l)!==-1&&u===w2||y8.indexOf(l)!==-1&&[g8,C1].indexOf(u)!==-1||y8.indexOf(u)!==-1&&l===B1||$A.indexOf(l)!==-1&&$A.indexOf(u)!==-1||l===Zg&&$A.indexOf(u)!==-1||$A.concat(Rl).indexOf(l)!==-1&&u===a1&&H_e.indexOf(t[o])===-1||$A.concat(Rl).indexOf(u)!==-1&&l===s1)return Xn;if(l===d5&&u===d5){for(var h=n[s],p=1;h>0&&(h--,e[h]===d5);)p++;if(p%2!==0)return Xn}return l===cE&&u===uE?Xn:AE},W_e=function(t,e){e||(e={lineBreak:"normal",wordBreak:"normal"});var n=j_e(t,e.lineBreak),r=n[0],i=n[1],s=n[2];(e.wordBreak==="break-all"||e.wordBreak==="break-word")&&(i=i.map(function(o){return[Rl,Vp,vY].indexOf(o)!==-1?i_:o}));var a=e.wordBreak==="keep-all"?s.map(function(o,l){return o&&t[l]>=19968&&t[l]<=40959}):void 0;return[r,i,a]},K_e=function(){function t(e,n,r,i){this.codePoints=e,this.required=n===yY,this.start=r,this.end=i}return t.prototype.slice=function(){return ns.apply(void 0,this.codePoints.slice(this.start,this.end))},t}(),q_e=function(t,e){var n=zB(t),r=W_e(n,e),i=r[0],s=r[1],a=r[2],o=n.length,l=0,c=0;return{next:function(){if(c>=o)return{done:!0,value:null};for(var u=Xn;c<o&&(u=G_e(n,s,i,++c,a))===Xn;);if(u!==Xn||c===o){var A=new K_e(n,u,l,c);return l=c,{value:A,done:!1}}return{done:!0,value:null}}}},$_e=1,X_e=2,Y_=4,_8=8,MS=10,x8=47,iw=92,Y_e=9,J_e=32,fE=34,o1=61,Z_e=35,exe=36,txe=37,hE=39,dE=40,l1=41,nxe=95,ul=45,rxe=33,ixe=60,sxe=62,axe=64,oxe=91,lxe=93,cxe=61,uxe=123,pE=63,Axe=125,b8=124,fxe=126,hxe=128,E8=65533,m5=42,Zp=43,dxe=44,pxe=58,mxe=59,s_=46,gxe=0,vxe=8,yxe=11,wxe=14,_xe=31,xxe=127,Ku=-1,_Y=48,xY=97,bY=101,bxe=102,Exe=117,Sxe=122,EY=65,SY=69,CY=70,Cxe=85,Bxe=90,uo=function(t){return t>=_Y&&t<=57},Txe=function(t){return t>=55296&&t<=57343},t0=function(t){return uo(t)||t>=EY&&t<=CY||t>=xY&&t<=bxe},Mxe=function(t){return t>=xY&&t<=Sxe},Ixe=function(t){return t>=EY&&t<=Bxe},Pxe=function(t){return Mxe(t)||Ixe(t)},Nxe=function(t){return t>=hxe},mE=function(t){return t===MS||t===Y_e||t===J_e},IS=function(t){return Pxe(t)||Nxe(t)||t===nxe},S8=function(t){return IS(t)||uo(t)||t===ul},Lxe=function(t){return t>=gxe&&t<=vxe||t===yxe||t>=wxe&&t<=_xe||t===xxe},Nh=function(t,e){return t!==iw?!1:e!==MS},gE=function(t,e,n){return t===ul?IS(e)||Nh(e,n):IS(t)?!0:!!(t===iw&&Nh(t,e))},g5=function(t,e,n){return t===Zp||t===ul?uo(e)?!0:e===s_&&uo(n):uo(t===s_?e:t)},Fxe=function(t){var e=0,n=1;(t[e]===Zp||t[e]===ul)&&(t[e]===ul&&(n=-1),e++);for(var r=[];uo(t[e]);)r.push(t[e++]);var i=r.length?parseInt(ns.apply(void 0,r),10):0;t[e]===s_&&e++;for(var s=[];uo(t[e]);)s.push(t[e++]);var a=s.length,o=a?parseInt(ns.apply(void 0,s),10):0;(t[e]===SY||t[e]===bY)&&e++;var l=1;(t[e]===Zp||t[e]===ul)&&(t[e]===ul&&(l=-1),e++);for(var c=[];uo(t[e]);)c.push(t[e++]);var u=c.length?parseInt(ns.apply(void 0,c),10):0;return n*(i+o*Math.pow(10,-a))*Math.pow(10,l*u)},Rxe={type:2},Uxe={type:3},Dxe={type:4},Oxe={type:13},kxe={type:8},Qxe={type:21},Hxe={type:9},Vxe={type:10},zxe={type:11},jxe={type:12},Gxe={type:14},vE={type:23},Wxe={type:1},Kxe={type:25},qxe={type:24},$xe={type:26},Xxe={type:27},Yxe={type:28},Jxe={type:29},Zxe={type:31},FN={type:32},BY=function(){function t(){this._value=[]}return t.prototype.write=function(e){this._value=this._value.concat(zB(e))},t.prototype.read=function(){for(var e=[],n=this.consumeToken();n!==FN;)e.push(n),n=this.consumeToken();return e},t.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case fE:return this.consumeStringToken(fE);case Z_e:var n=this.peekCodePoint(0),r=this.peekCodePoint(1),i=this.peekCodePoint(2);if(S8(n)||Nh(r,i)){var s=gE(n,r,i)?X_e:$_e,a=this.consumeName();return{type:5,value:a,flags:s}}break;case exe:if(this.peekCodePoint(0)===o1)return this.consumeCodePoint(),Oxe;break;case hE:return this.consumeStringToken(hE);case dE:return Rxe;case l1:return Uxe;case m5:if(this.peekCodePoint(0)===o1)return this.consumeCodePoint(),Gxe;break;case Zp:if(g5(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case dxe:return Dxe;case ul:var o=e,l=this.peekCodePoint(0),c=this.peekCodePoint(1);if(g5(o,l,c))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(gE(o,l,c))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(l===ul&&c===sxe)return this.consumeCodePoint(),this.consumeCodePoint(),qxe;break;case s_:if(g5(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case x8:if(this.peekCodePoint(0)===m5)for(this.consumeCodePoint();;){var u=this.consumeCodePoint();if(u===m5&&(u=this.consumeCodePoint(),u===x8))return this.consumeToken();if(u===Ku)return this.consumeToken()}break;case pxe:return $xe;case mxe:return Xxe;case ixe:if(this.peekCodePoint(0)===rxe&&this.peekCodePoint(1)===ul&&this.peekCodePoint(2)===ul)return this.consumeCodePoint(),this.consumeCodePoint(),Kxe;break;case axe:var A=this.peekCodePoint(0),f=this.peekCodePoint(1),h=this.peekCodePoint(2);if(gE(A,f,h)){var a=this.consumeName();return{type:7,value:a}}break;case oxe:return Yxe;case iw:if(Nh(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case lxe:return Jxe;case cxe:if(this.peekCodePoint(0)===o1)return this.consumeCodePoint(),kxe;break;case uxe:return zxe;case Axe:return jxe;case Exe:case Cxe:var p=this.peekCodePoint(0),y=this.peekCodePoint(1);return p===Zp&&(t0(y)||y===pE)&&(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case b8:if(this.peekCodePoint(0)===o1)return this.consumeCodePoint(),Hxe;if(this.peekCodePoint(0)===b8)return this.consumeCodePoint(),Qxe;break;case fxe:if(this.peekCodePoint(0)===o1)return this.consumeCodePoint(),Vxe;break;case Ku:return FN}return mE(e)?(this.consumeWhiteSpace(),Zxe):uo(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):IS(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:ns(e)}},t.prototype.consumeCodePoint=function(){var e=this._value.shift();return typeof e>"u"?-1:e},t.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},t.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},t.prototype.consumeUnicodeRangeToken=function(){for(var e=[],n=this.consumeCodePoint();t0(n)&&e.length<6;)e.push(n),n=this.consumeCodePoint();for(var r=!1;n===pE&&e.length<6;)e.push(n),n=this.consumeCodePoint(),r=!0;if(r){var i=parseInt(ns.apply(void 0,e.map(function(l){return l===pE?_Y:l})),16),s=parseInt(ns.apply(void 0,e.map(function(l){return l===pE?CY:l})),16);return{type:30,start:i,end:s}}var a=parseInt(ns.apply(void 0,e),16);if(this.peekCodePoint(0)===ul&&t0(this.peekCodePoint(1))){this.consumeCodePoint(),n=this.consumeCodePoint();for(var o=[];t0(n)&&o.length<6;)o.push(n),n=this.consumeCodePoint();var s=parseInt(ns.apply(void 0,o),16);return{type:30,start:a,end:s}}else return{type:30,start:a,end:a}},t.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return e.toLowerCase()==="url"&&this.peekCodePoint(0)===dE?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===dE?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},t.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ku)return{type:22,value:""};var n=this.peekCodePoint(0);if(n===hE||n===fE){var r=this.consumeStringToken(this.consumeCodePoint());return r.type===0&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===Ku||this.peekCodePoint(0)===l1)?(this.consumeCodePoint(),{type:22,value:r.value}):(this.consumeBadUrlRemnants(),vE)}for(;;){var i=this.consumeCodePoint();if(i===Ku||i===l1)return{type:22,value:ns.apply(void 0,e)};if(mE(i))return this.consumeWhiteSpace(),this.peekCodePoint(0)===Ku||this.peekCodePoint(0)===l1?(this.consumeCodePoint(),{type:22,value:ns.apply(void 0,e)}):(this.consumeBadUrlRemnants(),vE);if(i===fE||i===hE||i===dE||Lxe(i))return this.consumeBadUrlRemnants(),vE;if(i===iw)if(Nh(i,this.peekCodePoint(0)))e.push(this.consumeEscapedCodePoint());else return this.consumeBadUrlRemnants(),vE;else e.push(i)}},t.prototype.consumeWhiteSpace=function(){for(;mE(this.peekCodePoint(0));)this.consumeCodePoint()},t.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===l1||e===Ku)return;Nh(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},t.prototype.consumeStringSlice=function(e){for(var n=5e4,r="";e>0;){var i=Math.min(n,e);r+=ns.apply(void 0,this._value.splice(0,i)),e-=i}return this._value.shift(),r},t.prototype.consumeStringToken=function(e){var n="",r=0;do{var i=this._value[r];if(i===Ku||i===void 0||i===e)return n+=this.consumeStringSlice(r),{type:0,value:n};if(i===MS)return this._value.splice(0,r),Wxe;if(i===iw){var s=this._value[r+1];s!==Ku&&s!==void 0&&(s===MS?(n+=this.consumeStringSlice(r),r=-1,this._value.shift()):Nh(i,s)&&(n+=this.consumeStringSlice(r),n+=ns(this.consumeEscapedCodePoint()),r=-1))}r++}while(!0)},t.prototype.consumeNumber=function(){var e=[],n=Y_,r=this.peekCodePoint(0);for((r===Zp||r===ul)&&e.push(this.consumeCodePoint());uo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0);var i=this.peekCodePoint(1);if(r===s_&&uo(i))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=_8;uo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());r=this.peekCodePoint(0),i=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((r===SY||r===bY)&&((i===Zp||i===ul)&&uo(s)||uo(i)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),n=_8;uo(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[Fxe(e),n]},t.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),n=e[0],r=e[1],i=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);if(gE(i,s,a)){var o=this.consumeName();return{type:15,number:n,flags:r,unit:o}}return i===txe?(this.consumeCodePoint(),{type:16,number:n,flags:r}):{type:17,number:n,flags:r}},t.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(t0(e)){for(var n=ns(e);t0(this.peekCodePoint(0))&&n.length<6;)n+=ns(this.consumeCodePoint());mE(this.peekCodePoint(0))&&this.consumeCodePoint();var r=parseInt(n,16);return r===0||Txe(r)||r>1114111?E8:r}return e===Ku?E8:e},t.prototype.consumeName=function(){for(var e="";;){var n=this.consumeCodePoint();if(S8(n))e+=ns(n);else if(Nh(n,this.peekCodePoint(0)))e+=ns(this.consumeEscapedCodePoint());else return this.reconsumeCodePoint(n),e}},t}(),TY=function(){function t(e){this._tokens=e}return t.create=function(e){var n=new BY;return n.write(e),new t(n.read())},t.parseValue=function(e){return t.create(e).parseComponentValue()},t.parseValues=function(e){return t.create(e).parseComponentValues()},t.prototype.parseComponentValue=function(){for(var e=this.consumeToken();e.type===31;)e=this.consumeToken();if(e.type===32)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var n=this.consumeComponentValue();do e=this.consumeToken();while(e.type===31);if(e.type===32)return n;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},t.prototype.parseComponentValues=function(){for(var e=[];;){var n=this.consumeComponentValue();if(n.type===32)return e;e.push(n),e.push()}},t.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},t.prototype.consumeSimpleBlock=function(e){for(var n={type:e,values:[]},r=this.consumeToken();;){if(r.type===32||tbe(r,e))return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue()),r=this.consumeToken()}},t.prototype.consumeFunction=function(e){for(var n={name:e.value,values:[],type:18};;){var r=this.consumeToken();if(r.type===32||r.type===3)return n;this.reconsumeToken(r),n.values.push(this.consumeComponentValue())}},t.prototype.consumeToken=function(){var e=this._tokens.shift();return typeof e>"u"?FN:e},t.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},t}(),J_=function(t){return t.type===15},ey=function(t){return t.type===17},Ur=function(t){return t.type===20},ebe=function(t){return t.type===0},RN=function(t,e){return Ur(t)&&t.value===e},MY=function(t){return t.type!==31},Sv=function(t){return t.type!==31&&t.type!==4},EA=function(t){var e=[],n=[];return t.forEach(function(r){if(r.type===4){if(n.length===0)throw new Error("Error parsing function args, zero tokens for arg");e.push(n),n=[];return}r.type!==31&&n.push(r)}),n.length&&e.push(n),e},tbe=function(t,e){return e===11&&t.type===12||e===28&&t.type===29?!0:e===2&&t.type===3},Sd=function(t){return t.type===17||t.type===15},Es=function(t){return t.type===16||Sd(t)},IY=function(t){return t.length>1?[t[0],t[1]]:[t[0]]},Oa={type:17,number:0,flags:Y_},F4={type:16,number:50,flags:Y_},Gh={type:16,number:100,flags:Y_},T1=function(t,e,n){var r=t[0],i=t[1];return[ti(r,e),ti(typeof i<"u"?i:r,n)]},ti=function(t,e){if(t.type===16)return t.number/100*e;if(J_(t))switch(t.unit){case"rem":case"em":return 16*t.number;case"px":default:return t.number}return t.number},PY="deg",NY="grad",LY="rad",FY="turn",jB={name:"angle",parse:function(t,e){if(e.type===15)switch(e.unit){case PY:return Math.PI*e.number/180;case NY:return Math.PI/200*e.number;case LY:return e.number;case FY:return Math.PI*2*e.number}throw new Error("Unsupported angle type")}},RY=function(t){return t.type===15&&(t.unit===PY||t.unit===NY||t.unit===LY||t.unit===FY)},UY=function(t){var e=t.filter(Ur).map(function(n){return n.value}).join(" ");switch(e){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Oa,Oa];case"to top":case"bottom":return Nc(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Oa,Gh];case"to right":case"left":return Nc(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Gh,Gh];case"to bottom":case"top":return Nc(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Gh,Oa];case"to left":case"right":return Nc(270)}return 0},Nc=function(t){return Math.PI*t/180},ud={name:"color",parse:function(t,e){if(e.type===18){var n=nbe[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported color function "'+e.name+'"');return n(t,e.values)}if(e.type===5){if(e.value.length===3){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3);return Wh(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),1)}if(e.value.length===4){var r=e.value.substring(0,1),i=e.value.substring(1,2),s=e.value.substring(2,3),a=e.value.substring(3,4);return Wh(parseInt(r+r,16),parseInt(i+i,16),parseInt(s+s,16),parseInt(a+a,16)/255)}if(e.value.length===6){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6);return Wh(parseInt(r,16),parseInt(i,16),parseInt(s,16),1)}if(e.value.length===8){var r=e.value.substring(0,2),i=e.value.substring(2,4),s=e.value.substring(4,6),a=e.value.substring(6,8);return Wh(parseInt(r,16),parseInt(i,16),parseInt(s,16),parseInt(a,16)/255)}}if(e.type===20){var o=vf[e.value.toUpperCase()];if(typeof o<"u")return o}return vf.TRANSPARENT}},Ad=function(t){return(255&t)===0},ua=function(t){var e=255&t,n=255&t>>8,r=255&t>>16,i=255&t>>24;return e<255?"rgba("+i+","+r+","+n+","+e/255+")":"rgb("+i+","+r+","+n+")"},Wh=function(t,e,n,r){return(t<<24|e<<16|n<<8|Math.round(r*255)<<0)>>>0},C8=function(t,e){if(t.type===17)return t.number;if(t.type===16){var n=e===3?1:255;return e===3?t.number/100*n:Math.round(t.number/100*n)}return 0},B8=function(t,e){var n=e.filter(Sv);if(n.length===3){var r=n.map(C8),i=r[0],s=r[1],a=r[2];return Wh(i,s,a,1)}if(n.length===4){var o=n.map(C8),i=o[0],s=o[1],a=o[2],l=o[3];return Wh(i,s,a,l)}return 0};function v5(t,e,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(e-t)*n*6+t:n<1/2?e:n<2/3?(e-t)*6*(2/3-n)+t:t}var T8=function(t,e){var n=e.filter(Sv),r=n[0],i=n[1],s=n[2],a=n[3],o=(r.type===17?Nc(r.number):jB.parse(t,r))/(Math.PI*2),l=Es(i)?i.number/100:0,c=Es(s)?s.number/100:0,u=typeof a<"u"&&Es(a)?ti(a,1):1;if(l===0)return Wh(c*255,c*255,c*255,1);var A=c<=.5?c*(l+1):c+l-c*l,f=c*2-A,h=v5(f,A,o+1/3),p=v5(f,A,o),y=v5(f,A,o-1/3);return Wh(h*255,p*255,y*255,u)},nbe={hsl:T8,hsla:T8,rgb:B8,rgba:B8},sw=function(t,e){return ud.parse(t,TY.create(e).parseComponentValue())},vf={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},rbe={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Ur(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},ibe={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},GB=function(t,e){var n=ud.parse(t,e[0]),r=e[1];return r&&Es(r)?{color:n,stop:r}:{color:n,stop:null}},M8=function(t,e){var n=t[0],r=t[t.length-1];n.stop===null&&(n.stop=Oa),r.stop===null&&(r.stop=Gh);for(var i=[],s=0,a=0;a<t.length;a++){var o=t[a].stop;if(o!==null){var l=ti(o,e);l>s?i.push(l):i.push(s),s=l}else i.push(null)}for(var c=null,a=0;a<i.length;a++){var u=i[a];if(u===null)c===null&&(c=a);else if(c!==null){for(var A=a-c,f=i[c-1],h=(u-f)/(A+1),p=1;p<=A;p++)i[c+p-1]=h*p;c=null}}return t.map(function(y,v){var m=y.color;return{color:m,stop:Math.max(Math.min(1,i[v]/e),0)}})},sbe=function(t,e,n){var r=e/2,i=n/2,s=ti(t[0],e)-r,a=i-ti(t[1],n);return(Math.atan2(a,s)+Math.PI*2)%(Math.PI*2)},abe=function(t,e,n){var r=typeof t=="number"?t:sbe(t,e,n),i=Math.abs(e*Math.sin(r))+Math.abs(n*Math.cos(r)),s=e/2,a=n/2,o=i/2,l=Math.sin(r-Math.PI/2)*o,c=Math.cos(r-Math.PI/2)*o;return[i,s-c,s+c,a-l,a+l]},iu=function(t,e){return Math.sqrt(t*t+e*e)},I8=function(t,e,n,r,i){var s=[[0,0],[0,e],[t,0],[t,e]];return s.reduce(function(a,o){var l=o[0],c=o[1],u=iu(n-l,r-c);return(i?u<a.optimumDistance:u>a.optimumDistance)?{optimumCorner:o,optimumDistance:u}:a},{optimumDistance:i?1/0:-1/0,optimumCorner:null}).optimumCorner},obe=function(t,e,n,r,i){var s=0,a=0;switch(t.size){case 0:t.shape===0?s=a=Math.min(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.min(Math.abs(e),Math.abs(e-r)),a=Math.min(Math.abs(n),Math.abs(n-i)));break;case 2:if(t.shape===0)s=a=Math.min(iu(e,n),iu(e,n-i),iu(e-r,n),iu(e-r,n-i));else if(t.shape===1){var o=Math.min(Math.abs(n),Math.abs(n-i))/Math.min(Math.abs(e),Math.abs(e-r)),l=I8(r,i,e,n,!0),c=l[0],u=l[1];s=iu(c-e,(u-n)/o),a=o*s}break;case 1:t.shape===0?s=a=Math.max(Math.abs(e),Math.abs(e-r),Math.abs(n),Math.abs(n-i)):t.shape===1&&(s=Math.max(Math.abs(e),Math.abs(e-r)),a=Math.max(Math.abs(n),Math.abs(n-i)));break;case 3:if(t.shape===0)s=a=Math.max(iu(e,n),iu(e,n-i),iu(e-r,n),iu(e-r,n-i));else if(t.shape===1){var o=Math.max(Math.abs(n),Math.abs(n-i))/Math.max(Math.abs(e),Math.abs(e-r)),A=I8(r,i,e,n,!1),c=A[0],u=A[1];s=iu(c-e,(u-n)/o),a=o*s}break}return Array.isArray(t.size)&&(s=ti(t.size[0],r),a=t.size.length===2?ti(t.size[1],i):s),[s,a]},lbe=function(t,e){var n=Nc(180),r=[];return EA(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&a.value==="to"){n=UY(i);return}else if(RY(a)){n=jB.parse(t,a);return}}var o=GB(t,i);r.push(o)}),{angle:n,stops:r,type:1}},yE=function(t,e){var n=Nc(180),r=[];return EA(e).forEach(function(i,s){if(s===0){var a=i[0];if(a.type===20&&["top","left","right","bottom"].indexOf(a.value)!==-1){n=UY(i);return}else if(RY(a)){n=(jB.parse(t,a)+Nc(270))%Nc(360);return}}var o=GB(t,i);r.push(o)}),{angle:n,stops:r,type:1}},cbe=function(t,e){var n=Nc(180),r=[],i=1,s=0,a=3,o=[];return EA(e).forEach(function(l,c){var u=l[0];if(c===0){if(Ur(u)&&u.value==="linear"){i=1;return}else if(Ur(u)&&u.value==="radial"){i=2;return}}if(u.type===18){if(u.name==="from"){var A=ud.parse(t,u.values[0]);r.push({stop:Oa,color:A})}else if(u.name==="to"){var A=ud.parse(t,u.values[0]);r.push({stop:Gh,color:A})}else if(u.name==="color-stop"){var f=u.values.filter(Sv);if(f.length===2){var A=ud.parse(t,f[1]),h=f[0];ey(h)&&r.push({stop:{type:16,number:h.number*100,flags:h.flags},color:A})}}}}),i===1?{angle:(n+Nc(180))%Nc(360),stops:r,type:i}:{size:a,shape:s,stops:r,position:o,type:i}},DY="closest-side",OY="farthest-side",kY="closest-corner",QY="farthest-corner",HY="circle",VY="ellipse",zY="cover",jY="contain",ube=function(t,e){var n=0,r=3,i=[],s=[];return EA(e).forEach(function(a,o){var l=!0;if(o===0){var c=!1;l=a.reduce(function(A,f){if(c)if(Ur(f))switch(f.value){case"center":return s.push(F4),A;case"top":case"left":return s.push(Oa),A;case"right":case"bottom":return s.push(Gh),A}else(Es(f)||Sd(f))&&s.push(f);else if(Ur(f))switch(f.value){case HY:return n=0,!1;case VY:return n=1,!1;case"at":return c=!0,!1;case DY:return r=0,!1;case zY:case OY:return r=1,!1;case jY:case kY:return r=2,!1;case QY:return r=3,!1}else if(Sd(f)||Es(f))return Array.isArray(r)||(r=[]),r.push(f),!1;return A},l)}if(l){var u=GB(t,a);i.push(u)}}),{size:r,shape:n,stops:i,position:s,type:2}},wE=function(t,e){var n=0,r=3,i=[],s=[];return EA(e).forEach(function(a,o){var l=!0;if(o===0?l=a.reduce(function(u,A){if(Ur(A))switch(A.value){case"center":return s.push(F4),!1;case"top":case"left":return s.push(Oa),!1;case"right":case"bottom":return s.push(Gh),!1}else if(Es(A)||Sd(A))return s.push(A),!1;return u},l):o===1&&(l=a.reduce(function(u,A){if(Ur(A))switch(A.value){case HY:return n=0,!1;case VY:return n=1,!1;case jY:case DY:return r=0,!1;case OY:return r=1,!1;case kY:return r=2,!1;case zY:case QY:return r=3,!1}else if(Sd(A)||Es(A))return Array.isArray(r)||(r=[]),r.push(A),!1;return u},l)),l){var c=GB(t,a);i.push(c)}}),{size:r,shape:n,stops:i,position:s,type:2}},Abe=function(t){return t.type===1},fbe=function(t){return t.type===2},R4={name:"image",parse:function(t,e){if(e.type===22){var n={url:e.value,type:0};return t.cache.addImage(e.value),n}if(e.type===18){var r=GY[e.name];if(typeof r>"u")throw new Error('Attempting to parse an unsupported image function "'+e.name+'"');return r(t,e.values)}throw new Error("Unsupported image type "+e.type)}};function hbe(t){return!(t.type===20&&t.value==="none")&&(t.type!==18||!!GY[t.name])}var GY={"linear-gradient":lbe,"-moz-linear-gradient":yE,"-ms-linear-gradient":yE,"-o-linear-gradient":yE,"-webkit-linear-gradient":yE,"radial-gradient":ube,"-moz-radial-gradient":wE,"-ms-radial-gradient":wE,"-o-radial-gradient":wE,"-webkit-radial-gradient":wE,"-webkit-gradient":cbe},dbe={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e.filter(function(r){return Sv(r)&&hbe(r)}).map(function(r){return R4.parse(t,r)})}},pbe={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(t,e){return e.map(function(n){if(Ur(n))switch(n.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},mbe={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(t,e){return EA(e).map(function(n){return n.filter(Es)}).map(IY)}},gbe={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(t,e){return EA(e).map(function(n){return n.filter(Ur).map(function(r){return r.value}).join(" ")}).map(vbe)}},vbe=function(t){switch(t){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;case"repeat":default:return 0}},Z0;(function(t){t.AUTO="auto",t.CONTAIN="contain",t.COVER="cover"})(Z0||(Z0={}));var ybe={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(t,e){return EA(e).map(function(n){return n.filter(wbe)})}},wbe=function(t){return Ur(t)||Es(t)},WB=function(t){return{name:"border-"+t+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},_be=WB("top"),xbe=WB("right"),bbe=WB("bottom"),Ebe=WB("left"),KB=function(t){return{name:"border-radius-"+t,initialValue:"0 0",prefix:!1,type:1,parse:function(e,n){return IY(n.filter(Es))}}},Sbe=KB("top-left"),Cbe=KB("top-right"),Bbe=KB("bottom-right"),Tbe=KB("bottom-left"),qB=function(t){return{name:"border-"+t+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,n){switch(n){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},Mbe=qB("top"),Ibe=qB("right"),Pbe=qB("bottom"),Nbe=qB("left"),$B=function(t){return{name:"border-"+t+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,n){return J_(n)?n.number:0}}},Lbe=$B("top"),Fbe=$B("right"),Rbe=$B("bottom"),Ube=$B("left"),Dbe={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Obe={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(t,e){switch(e){case"rtl":return 1;case"ltr":default:return 0}}},kbe={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(t,e){return e.filter(Ur).reduce(function(n,r){return n|Qbe(r.value)},0)}},Qbe=function(t){switch(t){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},Hbe={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},Vbe={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(t,e){return e.type===20&&e.value==="normal"?0:e.type===17||e.type===15?e.number:0}},PS;(function(t){t.NORMAL="normal",t.STRICT="strict"})(PS||(PS={}));var zbe={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"strict":return PS.STRICT;case"normal":default:return PS.NORMAL}}},jbe={name:"line-height",initialValue:"normal",prefix:!1,type:4},P8=function(t,e){return Ur(t)&&t.value==="normal"?1.2*e:t.type===17?e*t.number:Es(t)?ti(t,e):e},Gbe={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(t,e){return e.type===20&&e.value==="none"?null:R4.parse(t,e)}},Wbe={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(t,e){switch(e){case"inside":return 0;case"outside":default:return 1}}},UN={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":return 22;case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;case"none":default:return-1}}},XB=function(t){return{name:"margin-"+t,initialValue:"0",prefix:!1,type:4}},Kbe=XB("top"),qbe=XB("right"),$be=XB("bottom"),Xbe=XB("left"),Ybe={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(t,e){return e.filter(Ur).map(function(n){switch(n.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;case"visible":default:return 0}})}},Jbe={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-word":return"break-word";case"normal":default:return"normal"}}},YB=function(t){return{name:"padding-"+t,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Zbe=YB("top"),eEe=YB("right"),tEe=YB("bottom"),nEe=YB("left"),rEe={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(t,e){switch(e){case"right":return 2;case"center":case"justify":return 1;case"left":default:return 0}}},iEe={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(t,e){switch(e){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},sEe={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&RN(e[0],"none")?[]:EA(e).map(function(n){for(var r={color:vf.TRANSPARENT,offsetX:Oa,offsetY:Oa,blur:Oa},i=0,s=0;s<n.length;s++){var a=n[s];Sd(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:r.blur=a,i++):r.color=ud.parse(t,a)}return r})}},aEe={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},oEe={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(t,e){if(e.type===20&&e.value==="none")return null;if(e.type===18){var n=uEe[e.name];if(typeof n>"u")throw new Error('Attempting to parse an unsupported transform function "'+e.name+'"');return n(e.values)}return null}},lEe=function(t){var e=t.filter(function(n){return n.type===17}).map(function(n){return n.number});return e.length===6?e:null},cEe=function(t){var e=t.filter(function(l){return l.type===17}).map(function(l){return l.number}),n=e[0],r=e[1];e[2],e[3];var i=e[4],s=e[5];e[6],e[7],e[8],e[9],e[10],e[11];var a=e[12],o=e[13];return e[14],e[15],e.length===16?[n,r,i,s,a,o]:null},uEe={matrix:lEe,matrix3d:cEe},N8={type:16,number:50,flags:Y_},AEe=[N8,N8],fEe={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(t,e){var n=e.filter(Es);return n.length!==2?AEe:[n[0],n[1]]}},hEe={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(t,e){switch(e){case"hidden":return 1;case"collapse":return 2;case"visible":default:return 0}}},aw;(function(t){t.NORMAL="normal",t.BREAK_ALL="break-all",t.KEEP_ALL="keep-all"})(aw||(aw={}));var dEe={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"break-all":return aw.BREAK_ALL;case"keep-all":return aw.KEEP_ALL;case"normal":default:return aw.NORMAL}}},pEe={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(t,e){if(e.type===20)return{auto:!0,order:0};if(ey(e))return{auto:!1,order:e.number};throw new Error("Invalid z-index number parsed")}},WY={name:"time",parse:function(t,e){if(e.type===15)switch(e.unit.toLowerCase()){case"s":return 1e3*e.number;case"ms":return e.number}throw new Error("Unsupported time type")}},mEe={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(t,e){return ey(e)?e.number:1}},gEe={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},vEe={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(t,e){return e.filter(Ur).map(function(n){switch(n.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(n){return n!==0})}},yEe={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(t,e){var n=[],r=[];return e.forEach(function(i){switch(i.type){case 20:case 0:n.push(i.value);break;case 17:n.push(i.number.toString());break;case 4:r.push(n.join(" ")),n.length=0;break}}),n.length&&r.push(n.join(" ")),r.map(function(i){return i.indexOf(" ")===-1?i:"'"+i+"'"})}},wEe={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},_Ee={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(t,e){if(ey(e))return e.number;if(Ur(e))switch(e.value){case"bold":return 700;case"normal":default:return 400}return 400}},xEe={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.filter(Ur).map(function(n){return n.value})}},bEe={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(t,e){switch(e){case"oblique":return"oblique";case"italic":return"italic";case"normal":default:return"normal"}}},Os=function(t,e){return(t&e)!==0},EEe={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(t,e){if(e.length===0)return[];var n=e[0];return n.type===20&&n.value==="none"?[]:e}},SEe={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;for(var r=[],i=e.filter(MY),s=0;s<i.length;s++){var a=i[s],o=i[s+1];if(a.type===20){var l=o&&ey(o)?o.number:1;r.push({counter:a.value,increment:l})}}return r}},CEe={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return[];for(var n=[],r=e.filter(MY),i=0;i<r.length;i++){var s=r[i],a=r[i+1];if(Ur(s)&&s.value!=="none"){var o=a&&ey(a)?a.number:0;n.push({counter:s.value,reset:o})}}return n}},BEe={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(t,e){return e.filter(J_).map(function(n){return WY.parse(t,n)})}},TEe={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(t,e){if(e.length===0)return null;var n=e[0];if(n.type===20&&n.value==="none")return null;var r=[],i=e.filter(ebe);if(i.length%2!==0)return null;for(var s=0;s<i.length;s+=2){var a=i[s].value,o=i[s+1].value;r.push({open:a,close:o})}return r}},L8=function(t,e,n){if(!t)return"";var r=t[Math.min(e,t.length-1)];return r?n?r.open:r.close:""},MEe={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(t,e){return e.length===1&&RN(e[0],"none")?[]:EA(e).map(function(n){for(var r={color:255,offsetX:Oa,offsetY:Oa,blur:Oa,spread:Oa,inset:!1},i=0,s=0;s<n.length;s++){var a=n[s];RN(a,"inset")?r.inset=!0:Sd(a)?(i===0?r.offsetX=a:i===1?r.offsetY=a:i===2?r.blur=a:r.spread=a,i++):r.color=ud.parse(t,a)}return r})}},IEe={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(t,e){var n=[0,1,2],r=[];return e.filter(Ur).forEach(function(i){switch(i.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2);break}}),n.forEach(function(i){r.indexOf(i)===-1&&r.push(i)}),r}},PEe={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},NEe={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(t,e){return J_(e)?e.number:0}},LEe=function(){function t(e,n){var r,i;this.animationDuration=Wt(e,BEe,n.animationDuration),this.backgroundClip=Wt(e,rbe,n.backgroundClip),this.backgroundColor=Wt(e,ibe,n.backgroundColor),this.backgroundImage=Wt(e,dbe,n.backgroundImage),this.backgroundOrigin=Wt(e,pbe,n.backgroundOrigin),this.backgroundPosition=Wt(e,mbe,n.backgroundPosition),this.backgroundRepeat=Wt(e,gbe,n.backgroundRepeat),this.backgroundSize=Wt(e,ybe,n.backgroundSize),this.borderTopColor=Wt(e,_be,n.borderTopColor),this.borderRightColor=Wt(e,xbe,n.borderRightColor),this.borderBottomColor=Wt(e,bbe,n.borderBottomColor),this.borderLeftColor=Wt(e,Ebe,n.borderLeftColor),this.borderTopLeftRadius=Wt(e,Sbe,n.borderTopLeftRadius),this.borderTopRightRadius=Wt(e,Cbe,n.borderTopRightRadius),this.borderBottomRightRadius=Wt(e,Bbe,n.borderBottomRightRadius),this.borderBottomLeftRadius=Wt(e,Tbe,n.borderBottomLeftRadius),this.borderTopStyle=Wt(e,Mbe,n.borderTopStyle),this.borderRightStyle=Wt(e,Ibe,n.borderRightStyle),this.borderBottomStyle=Wt(e,Pbe,n.borderBottomStyle),this.borderLeftStyle=Wt(e,Nbe,n.borderLeftStyle),this.borderTopWidth=Wt(e,Lbe,n.borderTopWidth),this.borderRightWidth=Wt(e,Fbe,n.borderRightWidth),this.borderBottomWidth=Wt(e,Rbe,n.borderBottomWidth),this.borderLeftWidth=Wt(e,Ube,n.borderLeftWidth),this.boxShadow=Wt(e,MEe,n.boxShadow),this.color=Wt(e,Dbe,n.color),this.direction=Wt(e,Obe,n.direction),this.display=Wt(e,kbe,n.display),this.float=Wt(e,Hbe,n.cssFloat),this.fontFamily=Wt(e,yEe,n.fontFamily),this.fontSize=Wt(e,wEe,n.fontSize),this.fontStyle=Wt(e,bEe,n.fontStyle),this.fontVariant=Wt(e,xEe,n.fontVariant),this.fontWeight=Wt(e,_Ee,n.fontWeight),this.letterSpacing=Wt(e,Vbe,n.letterSpacing),this.lineBreak=Wt(e,zbe,n.lineBreak),this.lineHeight=Wt(e,jbe,n.lineHeight),this.listStyleImage=Wt(e,Gbe,n.listStyleImage),this.listStylePosition=Wt(e,Wbe,n.listStylePosition),this.listStyleType=Wt(e,UN,n.listStyleType),this.marginTop=Wt(e,Kbe,n.marginTop),this.marginRight=Wt(e,qbe,n.marginRight),this.marginBottom=Wt(e,$be,n.marginBottom),this.marginLeft=Wt(e,Xbe,n.marginLeft),this.opacity=Wt(e,mEe,n.opacity);var s=Wt(e,Ybe,n.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=Wt(e,Jbe,n.overflowWrap),this.paddingTop=Wt(e,Zbe,n.paddingTop),this.paddingRight=Wt(e,eEe,n.paddingRight),this.paddingBottom=Wt(e,tEe,n.paddingBottom),this.paddingLeft=Wt(e,nEe,n.paddingLeft),this.paintOrder=Wt(e,IEe,n.paintOrder),this.position=Wt(e,iEe,n.position),this.textAlign=Wt(e,rEe,n.textAlign),this.textDecorationColor=Wt(e,gEe,(r=n.textDecorationColor)!==null&&r!==void 0?r:n.color),this.textDecorationLine=Wt(e,vEe,(i=n.textDecorationLine)!==null&&i!==void 0?i:n.textDecoration),this.textShadow=Wt(e,sEe,n.textShadow),this.textTransform=Wt(e,aEe,n.textTransform),this.transform=Wt(e,oEe,n.transform),this.transformOrigin=Wt(e,fEe,n.transformOrigin),this.visibility=Wt(e,hEe,n.visibility),this.webkitTextStrokeColor=Wt(e,PEe,n.webkitTextStrokeColor),this.webkitTextStrokeWidth=Wt(e,NEe,n.webkitTextStrokeWidth),this.wordBreak=Wt(e,dEe,n.wordBreak),this.zIndex=Wt(e,pEe,n.zIndex)}return t.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&this.visibility===0},t.prototype.isTransparent=function(){return Ad(this.backgroundColor)},t.prototype.isTransformed=function(){return this.transform!==null},t.prototype.isPositioned=function(){return this.position!==0},t.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},t.prototype.isFloating=function(){return this.float!==0},t.prototype.isInlineLevel=function(){return Os(this.display,4)||Os(this.display,33554432)||Os(this.display,268435456)||Os(this.display,536870912)||Os(this.display,67108864)||Os(this.display,134217728)},t}(),FEe=function(){function t(e,n){this.content=Wt(e,EEe,n.content),this.quotes=Wt(e,TEe,n.quotes)}return t}(),F8=function(){function t(e,n){this.counterIncrement=Wt(e,SEe,n.counterIncrement),this.counterReset=Wt(e,CEe,n.counterReset)}return t}(),Wt=function(t,e,n){var r=new BY,i=n!==null&&typeof n<"u"?n.toString():e.initialValue;r.write(i);var s=new TY(r.read());switch(e.type){case 2:var a=s.parseComponentValue();return e.parse(t,Ur(a)?a.value:e.initialValue);case 0:return e.parse(t,s.parseComponentValue());case 1:return e.parse(t,s.parseComponentValues());case 4:return s.parseComponentValue();case 3:switch(e.format){case"angle":return jB.parse(t,s.parseComponentValue());case"color":return ud.parse(t,s.parseComponentValue());case"image":return R4.parse(t,s.parseComponentValue());case"length":var o=s.parseComponentValue();return Sd(o)?o:Oa;case"length-percentage":var l=s.parseComponentValue();return Es(l)?l:Oa;case"time":return WY.parse(t,s.parseComponentValue())}break}},REe="data-html2canvas-debug",UEe=function(t){var e=t.getAttribute(REe);switch(e){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},DN=function(t,e){var n=UEe(t);return n===1||e===n},SA=function(){function t(e,n){if(this.context=e,this.textNodes=[],this.elements=[],this.flags=0,DN(n,3))debugger;this.styles=new LEe(e,window.getComputedStyle(n,null)),QN(n)&&(this.styles.animationDuration.some(function(r){return r>0})&&(n.style.animationDuration="0s"),this.styles.transform!==null&&(n.style.transform="none")),this.bounds=VB(this.context,n),DN(n,4)&&(this.flags|=16)}return t}(),DEe="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",R8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",M1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var _E=0;_E<R8.length;_E++)M1[R8.charCodeAt(_E)]=_E;var OEe=function(t){var e=t.length*.75,n=t.length,r,i=0,s,a,o,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);var c=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&typeof Uint8Array.prototype.slice<"u"?new ArrayBuffer(e):new Array(e),u=Array.isArray(c)?c:new Uint8Array(c);for(r=0;r<n;r+=4)s=M1[t.charCodeAt(r)],a=M1[t.charCodeAt(r+1)],o=M1[t.charCodeAt(r+2)],l=M1[t.charCodeAt(r+3)],u[i++]=s<<2|a>>4,u[i++]=(a&15)<<4|o>>2,u[i++]=(o&3)<<6|l&63;return c},kEe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=2)n.push(t[r+1]<<8|t[r]);return n},QEe=function(t){for(var e=t.length,n=[],r=0;r<e;r+=4)n.push(t[r+3]<<24|t[r+2]<<16|t[r+1]<<8|t[r]);return n},dm=5,U4=11,y5=2,HEe=U4-dm,KY=65536>>dm,VEe=1<<dm,w5=VEe-1,zEe=1024>>dm,jEe=KY+zEe,GEe=jEe,WEe=32,KEe=GEe+WEe,qEe=65536>>U4,$Ee=1<<HEe,XEe=$Ee-1,U8=function(t,e,n){return t.slice?t.slice(e,n):new Uint16Array(Array.prototype.slice.call(t,e,n))},YEe=function(t,e,n){return t.slice?t.slice(e,n):new Uint32Array(Array.prototype.slice.call(t,e,n))},JEe=function(t,e){var n=OEe(t),r=Array.isArray(n)?QEe(n):new Uint32Array(n),i=Array.isArray(n)?kEe(n):new Uint16Array(n),s=24,a=U8(i,s/2,r[4]/2),o=r[5]===2?U8(i,(s+r[4])/2):YEe(r,Math.ceil((s+r[4])/4));return new ZEe(r[0],r[1],r[2],r[3],a,o)},ZEe=function(){function t(e,n,r,i,s,a){this.initialValue=e,this.errorValue=n,this.highStart=r,this.highValueIndex=i,this.index=s,this.data=a}return t.prototype.get=function(e){var n;if(e>=0){if(e<55296||e>56319&&e<=65535)return n=this.index[e>>dm],n=(n<<y5)+(e&w5),this.data[n];if(e<=65535)return n=this.index[KY+(e-55296>>dm)],n=(n<<y5)+(e&w5),this.data[n];if(e<this.highStart)return n=KEe-qEe+(e>>U4),n=this.index[n],n+=e>>dm&XEe,n=this.index[n],n=(n<<y5)+(e&w5),this.data[n];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},t}(),D8="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e2e=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(var xE=0;xE<D8.length;xE++)e2e[D8.charCodeAt(xE)]=xE;var t2e=1,_5=2,x5=3,O8=4,k8=5,n2e=7,Q8=8,b5=9,E5=10,H8=11,V8=12,z8=13,j8=14,S5=15,r2e=function(t){for(var e=[],n=0,r=t.length;n<r;){var i=t.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var s=t.charCodeAt(n++);(s&64512)===56320?e.push(((i&1023)<<10)+(s&1023)+65536):(e.push(i),n--)}else e.push(i)}return e},i2e=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(String.fromCodePoint)return String.fromCodePoint.apply(String,t);var n=t.length;if(!n)return"";for(var r=[],i=-1,s="";++i<n;){var a=t[i];a<=65535?r.push(a):(a-=65536,r.push((a>>10)+55296,a%1024+56320)),(i+1===n||r.length>16384)&&(s+=String.fromCharCode.apply(String,r),r.length=0)}return s},s2e=JEe(DEe),Ec="",C5="",a2e=function(t){return s2e.get(t)},o2e=function(t,e,n){var r=n-2,i=e[r],s=e[n-1],a=e[n];if(s===_5&&a===x5)return Ec;if(s===_5||s===x5||s===O8||a===_5||a===x5||a===O8)return C5;if(s===Q8&&[Q8,b5,H8,V8].indexOf(a)!==-1||(s===H8||s===b5)&&(a===b5||a===E5)||(s===V8||s===E5)&&a===E5||a===z8||a===k8||a===n2e||s===t2e)return Ec;if(s===z8&&a===j8){for(;i===k8;)i=e[--r];if(i===j8)return Ec}if(s===S5&&a===S5){for(var o=0;i===S5;)o++,i=e[--r];if(o%2===0)return Ec}return C5},l2e=function(t){var e=r2e(t),n=e.length,r=0,i=0,s=e.map(a2e);return{next:function(){if(r>=n)return{done:!0,value:null};for(var a=Ec;r<n&&(a=o2e(e,s,++r))===Ec;);if(a!==Ec||r===n){var o=i2e.apply(null,e.slice(i,r));return i=r,{value:o,done:!1}}return{done:!0,value:null}}}},c2e=function(t){for(var e=l2e(t),n=[],r;!(r=e.next()).done;)r.value&&n.push(r.value.slice());return n},u2e=function(t){var e=123;if(t.createRange){var n=t.createRange();if(n.getBoundingClientRect){var r=t.createElement("boundtest");r.style.height=e+"px",r.style.display="block",t.body.appendChild(r),n.selectNode(r);var i=n.getBoundingClientRect(),s=Math.round(i.height);if(t.body.removeChild(r),s===e)return!0}}return!1},A2e=function(t){var e=t.createElement("boundtest");e.style.width="50px",e.style.display="block",e.style.fontSize="12px",e.style.letterSpacing="0px",e.style.wordSpacing="0px",t.body.appendChild(e);var n=t.createRange();e.innerHTML=typeof"".repeat=="function"?"&#128104;".repeat(10):"";var r=e.firstChild,i=zB(r.data).map(function(l){return ns(l)}),s=0,a={},o=i.every(function(l,c){n.setStart(r,s),n.setEnd(r,s+l.length);var u=n.getBoundingClientRect();s+=l.length;var A=u.x>a.x||u.y>a.y;return a=u,c===0?!0:A});return t.body.removeChild(e),o},f2e=function(){return typeof new Image().crossOrigin<"u"},h2e=function(){return typeof new XMLHttpRequest().responseType=="string"},d2e=function(t){var e=new Image,n=t.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;e.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(e,0,0),n.toDataURL()}catch{return!1}return!0},G8=function(t){return t[0]===0&&t[1]===255&&t[2]===0&&t[3]===255},p2e=function(t){var e=t.createElement("canvas"),n=100;e.width=n,e.height=n;var r=e.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var i=new Image,s=e.toDataURL();i.src=s;var a=ON(n,n,0,0,i);return r.fillStyle="red",r.fillRect(0,0,n,n),W8(a).then(function(o){r.drawImage(o,0,0);var l=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var c=t.createElement("div");return c.style.backgroundImage="url("+s+")",c.style.height=n+"px",G8(l)?W8(ON(n,n,0,0,c)):Promise.reject(!1)}).then(function(o){return r.drawImage(o,0,0),G8(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},ON=function(t,e,n,r,i){var s="http://www.w3.org/2000/svg",a=document.createElementNS(s,"svg"),o=document.createElementNS(s,"foreignObject");return a.setAttributeNS(null,"width",t.toString()),a.setAttributeNS(null,"height",e.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),a.appendChild(o),o.appendChild(i),a},W8=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){return e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},Fa={get SUPPORT_RANGE_BOUNDS(){var t=u2e(document);return Object.defineProperty(Fa,"SUPPORT_RANGE_BOUNDS",{value:t}),t},get SUPPORT_WORD_BREAKING(){var t=Fa.SUPPORT_RANGE_BOUNDS&&A2e(document);return Object.defineProperty(Fa,"SUPPORT_WORD_BREAKING",{value:t}),t},get SUPPORT_SVG_DRAWING(){var t=d2e(document);return Object.defineProperty(Fa,"SUPPORT_SVG_DRAWING",{value:t}),t},get SUPPORT_FOREIGNOBJECT_DRAWING(){var t=typeof Array.from=="function"&&typeof window.fetch=="function"?p2e(document):Promise.resolve(!1);return Object.defineProperty(Fa,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:t}),t},get SUPPORT_CORS_IMAGES(){var t=f2e();return Object.defineProperty(Fa,"SUPPORT_CORS_IMAGES",{value:t}),t},get SUPPORT_RESPONSE_TYPE(){var t=h2e();return Object.defineProperty(Fa,"SUPPORT_RESPONSE_TYPE",{value:t}),t},get SUPPORT_CORS_XHR(){var t="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Fa,"SUPPORT_CORS_XHR",{value:t}),t},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var t=!!(typeof Intl<"u"&&Intl.Segmenter);return Object.defineProperty(Fa,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:t}),t}},ow=function(){function t(e,n){this.text=e,this.bounds=n}return t}(),m2e=function(t,e,n,r){var i=y2e(e,n),s=[],a=0;return i.forEach(function(o){if(n.textDecorationLine.length||o.trim().length>0)if(Fa.SUPPORT_RANGE_BOUNDS){var l=K8(r,a,o.length).getClientRects();if(l.length>1){var c=D4(o),u=0;c.forEach(function(f){s.push(new ow(f,Tf.fromDOMRectList(t,K8(r,u+a,f.length).getClientRects()))),u+=f.length})}else s.push(new ow(o,Tf.fromDOMRectList(t,l)))}else{var A=r.splitText(o.length);s.push(new ow(o,g2e(t,r))),r=A}else Fa.SUPPORT_RANGE_BOUNDS||(r=r.splitText(o.length));a+=o.length}),s},g2e=function(t,e){var n=e.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(e.cloneNode(!0));var i=e.parentNode;if(i){i.replaceChild(r,e);var s=VB(t,r);return r.firstChild&&i.replaceChild(r.firstChild,r),s}}return Tf.EMPTY},K8=function(t,e,n){var r=t.ownerDocument;if(!r)throw new Error("Node has no owner document");var i=r.createRange();return i.setStart(t,e),i.setEnd(t,e+n),i},D4=function(t){if(Fa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var e=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(e.segment(t)).map(function(n){return n.segment})}return c2e(t)},v2e=function(t,e){if(Fa.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(t)).map(function(r){return r.segment})}return _2e(t,e)},y2e=function(t,e){return e.letterSpacing!==0?D4(t):v2e(t,e)},w2e=[32,160,4961,65792,65793,4153,4241],_2e=function(t,e){for(var n=q_e(t,{lineBreak:e.lineBreak,wordBreak:e.overflowWrap==="break-word"?"break-word":e.wordBreak}),r=[],i,s=function(){if(i.value){var a=i.value.slice(),o=zB(a),l="";o.forEach(function(c){w2e.indexOf(c)===-1?l+=ns(c):(l.length&&r.push(l),r.push(ns(c)),l="")}),l.length&&r.push(l)}};!(i=n.next()).done;)s();return r},x2e=function(){function t(e,n,r){this.text=b2e(n.data,r.textTransform),this.textBounds=m2e(e,this.text,r,n)}return t}(),b2e=function(t,e){switch(e){case 1:return t.toLowerCase();case 3:return t.replace(E2e,S2e);case 2:return t.toUpperCase();default:return t}},E2e=/(^|\s|:|-|\(|\))([a-z])/g,S2e=function(t,e,n){return t.length>0?e+n.toUpperCase():t},qY=function(t){Pu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.src=r.currentSrc||r.src,i.intrinsicWidth=r.naturalWidth,i.intrinsicHeight=r.naturalHeight,i.context.cache.addImage(i.src),i}return e}(SA),$Y=function(t){Pu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r,i.intrinsicWidth=r.width,i.intrinsicHeight=r.height,i}return e}(SA),XY=function(t){Pu(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=new XMLSerializer,a=VB(n,r);return r.setAttribute("width",a.width+"px"),r.setAttribute("height",a.height+"px"),i.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(r)),i.intrinsicWidth=r.width.baseVal.value,i.intrinsicHeight=r.height.baseVal.value,i.context.cache.addImage(i.svg),i}return e}(SA),YY=function(t){Pu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(SA),kN=function(t){Pu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.start=r.start,i.reversed=typeof r.reversed=="boolean"&&r.reversed===!0,i}return e}(SA),C2e=[{type:15,flags:0,unit:"px",number:3}],B2e=[{type:16,flags:0,number:50}],T2e=function(t){return t.width>t.height?new Tf(t.left+(t.width-t.height)/2,t.top,t.height,t.height):t.width<t.height?new Tf(t.left,t.top+(t.height-t.width)/2,t.width,t.width):t},M2e=function(t){var e=t.type===I2e?new Array(t.value.length+1).join(""):t.value;return e.length===0?t.placeholder||"":e},NS="checkbox",LS="radio",I2e="password",q8=707406591,O4=function(t){Pu(e,t);function e(n,r){var i=t.call(this,n,r)||this;switch(i.type=r.type.toLowerCase(),i.checked=r.checked,i.value=M2e(r),(i.type===NS||i.type===LS)&&(i.styles.backgroundColor=3739148031,i.styles.borderTopColor=i.styles.borderRightColor=i.styles.borderBottomColor=i.styles.borderLeftColor=2779096575,i.styles.borderTopWidth=i.styles.borderRightWidth=i.styles.borderBottomWidth=i.styles.borderLeftWidth=1,i.styles.borderTopStyle=i.styles.borderRightStyle=i.styles.borderBottomStyle=i.styles.borderLeftStyle=1,i.styles.backgroundClip=[0],i.styles.backgroundOrigin=[0],i.bounds=T2e(i.bounds)),i.type){case NS:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=C2e;break;case LS:i.styles.borderTopRightRadius=i.styles.borderTopLeftRadius=i.styles.borderBottomRightRadius=i.styles.borderBottomLeftRadius=B2e;break}return i}return e}(SA),JY=function(t){Pu(e,t);function e(n,r){var i=t.call(this,n,r)||this,s=r.options[r.selectedIndex||0];return i.value=s&&s.text||"",i}return e}(SA),ZY=function(t){Pu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.value=r.value,i}return e}(SA),eJ=function(t){Pu(e,t);function e(n,r){var i=t.call(this,n,r)||this;i.src=r.src,i.width=parseInt(r.width,10)||0,i.height=parseInt(r.height,10)||0,i.backgroundColor=i.styles.backgroundColor;try{if(r.contentWindow&&r.contentWindow.document&&r.contentWindow.document.documentElement){i.tree=nJ(n,r.contentWindow.document.documentElement);var s=r.contentWindow.document.documentElement?sw(n,getComputedStyle(r.contentWindow.document.documentElement).backgroundColor):vf.TRANSPARENT,a=r.contentWindow.document.body?sw(n,getComputedStyle(r.contentWindow.document.body).backgroundColor):vf.TRANSPARENT;i.backgroundColor=Ad(s)?Ad(a)?i.styles.backgroundColor:a:s}}catch{}return i}return e}(SA),P2e=["OL","UL","MENU"],_2=function(t,e,n,r){for(var i=e.firstChild,s=void 0;i;i=s)if(s=i.nextSibling,rJ(i)&&i.data.trim().length>0)n.textNodes.push(new x2e(t,i,n.styles));else if(V0(i))if(oJ(i)&&i.assignedNodes)i.assignedNodes().forEach(function(o){return _2(t,o,n,r)});else{var a=tJ(t,i);a.styles.isVisible()&&(N2e(i,a,r)?a.flags|=4:L2e(a.styles)&&(a.flags|=2),P2e.indexOf(i.tagName)!==-1&&(a.flags|=8),n.elements.push(a),i.slot,i.shadowRoot?_2(t,i.shadowRoot,a,r):!FS(i)&&!iJ(i)&&!RS(i)&&_2(t,i,a,r))}},tJ=function(t,e){return HN(e)?new qY(t,e):sJ(e)?new $Y(t,e):iJ(e)?new XY(t,e):F2e(e)?new YY(t,e):R2e(e)?new kN(t,e):U2e(e)?new O4(t,e):RS(e)?new JY(t,e):FS(e)?new ZY(t,e):aJ(e)?new eJ(t,e):new SA(t,e)},nJ=function(t,e){var n=tJ(t,e);return n.flags|=4,_2(t,e,n,n),n},N2e=function(t,e,n){return e.styles.isPositionedWithZIndex()||e.styles.opacity<1||e.styles.isTransformed()||k4(t)&&n.styles.isTransparent()},L2e=function(t){return t.isPositioned()||t.isFloating()},rJ=function(t){return t.nodeType===Node.TEXT_NODE},V0=function(t){return t.nodeType===Node.ELEMENT_NODE},QN=function(t){return V0(t)&&typeof t.style<"u"&&!x2(t)},x2=function(t){return typeof t.className=="object"},F2e=function(t){return t.tagName==="LI"},R2e=function(t){return t.tagName==="OL"},U2e=function(t){return t.tagName==="INPUT"},D2e=function(t){return t.tagName==="HTML"},iJ=function(t){return t.tagName==="svg"},k4=function(t){return t.tagName==="BODY"},sJ=function(t){return t.tagName==="CANVAS"},$8=function(t){return t.tagName==="VIDEO"},HN=function(t){return t.tagName==="IMG"},aJ=function(t){return t.tagName==="IFRAME"},X8=function(t){return t.tagName==="STYLE"},O2e=function(t){return t.tagName==="SCRIPT"},FS=function(t){return t.tagName==="TEXTAREA"},RS=function(t){return t.tagName==="SELECT"},oJ=function(t){return t.tagName==="SLOT"},Y8=function(t){return t.tagName.indexOf("-")>0},k2e=function(){function t(){this.counters={}}return t.prototype.getCounterValue=function(e){var n=this.counters[e];return n&&n.length?n[n.length-1]:1},t.prototype.getCounterValues=function(e){var n=this.counters[e];return n||[]},t.prototype.pop=function(e){var n=this;e.forEach(function(r){return n.counters[r].pop()})},t.prototype.parse=function(e){var n=this,r=e.counterIncrement,i=e.counterReset,s=!0;r!==null&&r.forEach(function(o){var l=n.counters[o.counter];l&&o.increment!==0&&(s=!1,l.length||l.push(1),l[Math.max(0,l.length-1)]+=o.increment)});var a=[];return s&&i.forEach(function(o){var l=n.counters[o.counter];a.push(o.counter),l||(l=n.counters[o.counter]=[]),l.push(o.reset)}),a},t}(),J8={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Z8={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},Q2e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},H2e={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""]},n0=function(t,e,n,r,i,s){return t<e||t>n?a_(t,i,s.length>0):r.integers.reduce(function(a,o,l){for(;t>=o;)t-=o,a+=r.values[l];return a},"")+s},lJ=function(t,e,n,r){var i="";do n||t--,i=r(t)+i,t/=e;while(t*e>=e);return i},ts=function(t,e,n,r,i){var s=n-e+1;return(t<0?"-":"")+(lJ(Math.abs(t),s,r,function(a){return ns(Math.floor(a%s)+e)})+i)},Cp=function(t,e,n){n===void 0&&(n=". ");var r=e.length;return lJ(Math.abs(t),r,!1,function(i){return e[Math.floor(i%r)]})+n},f0=1,Bh=2,Th=4,I1=8,XA=function(t,e,n,r,i,s){if(t<-9999||t>9999)return a_(t,4,i.length>0);var a=Math.abs(t),o=i;if(a===0)return e[0]+o;for(var l=0;a>0&&l<=4;l++){var c=a%10;c===0&&Os(s,f0)&&o!==""?o=e[c]+o:c>1||c===1&&l===0||c===1&&l===1&&Os(s,Bh)||c===1&&l===1&&Os(s,Th)&&t>100||c===1&&l>1&&Os(s,I1)?o=e[c]+(l>0?n[l-1]:"")+o:c===1&&l>0&&(o=n[l-1]+o),a=Math.floor(a/10)}return(t<0?r:"")+o},eV="",tV="",nV="",B5="",a_=function(t,e,n){var r=n?". ":"",i=n?"":"",s=n?", ":"",a=n?" ":"";switch(e){case 0:return""+a;case 1:return""+a;case 2:return""+a;case 5:var o=ts(t,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return Cp(t,"",i);case 6:return n0(t,1,3999,J8,3,r).toLowerCase();case 7:return n0(t,1,3999,J8,3,r);case 8:return ts(t,945,969,!1,r);case 9:return ts(t,97,122,!1,r);case 10:return ts(t,65,90,!1,r);case 11:return ts(t,1632,1641,!0,r);case 12:case 49:return n0(t,1,9999,Z8,3,r);case 35:return n0(t,1,9999,Z8,3,r).toLowerCase();case 13:return ts(t,2534,2543,!0,r);case 14:case 30:return ts(t,6112,6121,!0,r);case 15:return Cp(t,"",i);case 16:return Cp(t,"",i);case 17:case 48:return XA(t,"",eV,"",i,Bh|Th|I1);case 47:return XA(t,"",tV,"",i,f0|Bh|Th|I1);case 42:return XA(t,"",eV,"",i,Bh|Th|I1);case 41:return XA(t,"",tV,"",i,f0|Bh|Th|I1);case 26:return XA(t,"","",nV,i,0);case 25:return XA(t,"","",nV,i,f0|Bh|Th);case 31:return XA(t,"","",B5,s,f0|Bh|Th);case 33:return XA(t,"","",B5,s,0);case 32:return XA(t,"","",B5,s,f0|Bh|Th);case 18:return ts(t,2406,2415,!0,r);case 20:return n0(t,1,19999,H2e,3,r);case 21:return ts(t,2790,2799,!0,r);case 22:return ts(t,2662,2671,!0,r);case 22:return n0(t,1,10999,Q2e,3,r);case 23:return Cp(t,"");case 24:return Cp(t,"");case 27:return ts(t,3302,3311,!0,r);case 28:return Cp(t,"",i);case 29:return Cp(t,"",i);case 34:return ts(t,3792,3801,!0,r);case 37:return ts(t,6160,6169,!0,r);case 38:return ts(t,4160,4169,!0,r);case 39:return ts(t,2918,2927,!0,r);case 40:return ts(t,1776,1785,!0,r);case 43:return ts(t,3046,3055,!0,r);case 44:return ts(t,3174,3183,!0,r);case 45:return ts(t,3664,3673,!0,r);case 46:return ts(t,3872,3881,!0,r);case 3:default:return ts(t,48,57,!0,r)}},cJ="data-html2canvas-ignore",rV=function(){function t(e,n,r){if(this.context=e,this.options=r,this.scrolledElements=[],this.referenceElement=n,this.counters=new k2e,this.quoteDepth=0,!n.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(n.ownerDocument.documentElement,!1)}return t.prototype.toIFrame=function(e,n){var r=this,i=V2e(e,n);if(!i.contentWindow)return Promise.reject("Unable to find iframe window");var s=e.defaultView.pageXOffset,a=e.defaultView.pageYOffset,o=i.contentWindow,l=o.document,c=G2e(i).then(function(){return Fo(r,void 0,void 0,function(){var u,A;return oo(this,function(f){switch(f.label){case 0:return this.scrolledElements.forEach($2e),o&&(o.scrollTo(n.left,n.top),/(iPad|iPhone|iPod)/g.test(navigator.userAgent)&&(o.scrollY!==n.top||o.scrollX!==n.left)&&(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(o.scrollX-n.left,o.scrollY-n.top,0,0))),u=this.options.onclone,A=this.clonedReferenceElement,typeof A>"u"?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:l.fonts&&l.fonts.ready?[4,l.fonts.ready]:[3,2];case 1:f.sent(),f.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,j2e(l)]:[3,4];case 3:f.sent(),f.label=4;case 4:return typeof u=="function"?[2,Promise.resolve().then(function(){return u(l,A)}).then(function(){return i})]:[2,i]}})})});return l.open(),l.write(K2e(document.doctype)+"<html></html>"),q2e(this.referenceElement.ownerDocument,s,a),l.replaceChild(l.adoptNode(this.documentElement),l.documentElement),l.close(),c},t.prototype.createElementClone=function(e){if(DN(e,2))debugger;if(sJ(e))return this.createCanvasClone(e);if($8(e))return this.createVideoClone(e);if(X8(e))return this.createStyleClone(e);var n=e.cloneNode(!1);return HN(n)&&(HN(e)&&e.currentSrc&&e.currentSrc!==e.src&&(n.src=e.currentSrc,n.srcset=""),n.loading==="lazy"&&(n.loading="eager")),Y8(n)?this.createCustomElementClone(n):n},t.prototype.createCustomElementClone=function(e){var n=document.createElement("html2canvascustomelement");return T5(e.style,n),n},t.prototype.createStyleClone=function(e){try{var n=e.sheet;if(n&&n.cssRules){var r=[].slice.call(n.cssRules,0).reduce(function(s,a){return a&&typeof a.cssText=="string"?s+a.cssText:s},""),i=e.cloneNode(!1);return i.textContent=r,i}}catch(s){if(this.context.logger.error("Unable to access cssRules property",s),s.name!=="SecurityError")throw s}return e.cloneNode(!1)},t.prototype.createCanvasClone=function(e){var n;if(this.options.inlineImages&&e.ownerDocument){var r=e.ownerDocument.createElement("img");try{return r.src=e.toDataURL(),r}catch{this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var i=e.cloneNode(!1);try{i.width=e.width,i.height=e.height;var s=e.getContext("2d"),a=i.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var o=(n=e.getContext("webgl2"))!==null&&n!==void 0?n:e.getContext("webgl");if(o){var l=o.getContextAttributes();(l==null?void 0:l.preserveDrawingBuffer)===!1&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return i}catch{this.context.logger.info("Unable to clone canvas as it is tainted",e)}return i},t.prototype.createVideoClone=function(e){var n=e.ownerDocument.createElement("canvas");n.width=e.offsetWidth,n.height=e.offsetHeight;var r=n.getContext("2d");try{return r&&(r.drawImage(e,0,0,n.width,n.height),this.options.allowTaint||r.getImageData(0,0,n.width,n.height)),n}catch{this.context.logger.info("Unable to clone video as it is tainted",e)}var i=e.ownerDocument.createElement("canvas");return i.width=e.offsetWidth,i.height=e.offsetHeight,i},t.prototype.appendChildNode=function(e,n,r){(!V0(n)||!O2e(n)&&!n.hasAttribute(cJ)&&(typeof this.options.ignoreElements!="function"||!this.options.ignoreElements(n)))&&(!this.options.copyStyles||!V0(n)||!X8(n))&&e.appendChild(this.cloneNode(n,r))},t.prototype.cloneChildNodes=function(e,n,r){for(var i=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(V0(s)&&oJ(s)&&typeof s.assignedNodes=="function"){var a=s.assignedNodes();a.length&&a.forEach(function(o){return i.appendChildNode(n,o,r)})}else this.appendChildNode(n,s,r)},t.prototype.cloneNode=function(e,n){if(rJ(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var r=e.ownerDocument.defaultView;if(r&&V0(e)&&(QN(e)||x2(e))){var i=this.createElementClone(e);i.style.transitionProperty="none";var s=r.getComputedStyle(e),a=r.getComputedStyle(e,":before"),o=r.getComputedStyle(e,":after");this.referenceElement===e&&QN(i)&&(this.clonedReferenceElement=i),k4(i)&&J2e(i);var l=this.counters.parse(new F8(this.context,s)),c=this.resolvePseudoContent(e,i,a,lw.BEFORE);Y8(e)&&(n=!0),$8(e)||this.cloneChildNodes(e,i,n),c&&i.insertBefore(c,i.firstChild);var u=this.resolvePseudoContent(e,i,o,lw.AFTER);return u&&i.appendChild(u),this.counters.pop(l),(s&&(this.options.copyStyles||x2(e))&&!aJ(e)||n)&&T5(s,i),(e.scrollTop!==0||e.scrollLeft!==0)&&this.scrolledElements.push([i,e.scrollLeft,e.scrollTop]),(FS(e)||RS(e))&&(FS(i)||RS(i))&&(i.value=e.value),i}return e.cloneNode(!1)},t.prototype.resolvePseudoContent=function(e,n,r,i){var s=this;if(r){var a=r.content,o=n.ownerDocument;if(!(!o||!a||a==="none"||a==="-moz-alt-content"||r.display==="none")){this.counters.parse(new F8(this.context,r));var l=new FEe(this.context,r),c=o.createElement("html2canvaspseudoelement");T5(r,c),l.content.forEach(function(A){if(A.type===0)c.appendChild(o.createTextNode(A.value));else if(A.type===22){var f=o.createElement("img");f.src=A.value,f.style.opacity="1",c.appendChild(f)}else if(A.type===18){if(A.name==="attr"){var h=A.values.filter(Ur);h.length&&c.appendChild(o.createTextNode(e.getAttribute(h[0].value)||""))}else if(A.name==="counter"){var p=A.values.filter(Sv),y=p[0],v=p[1];if(y&&Ur(y)){var m=s.counters.getCounterValue(y.value),w=v&&Ur(v)?UN.parse(s.context,v.value):3;c.appendChild(o.createTextNode(a_(m,w,!1)))}}else if(A.name==="counters"){var _=A.values.filter(Sv),y=_[0],B=_[1],v=_[2];if(y&&Ur(y)){var R=s.counters.getCounterValues(y.value),L=v&&Ur(v)?UN.parse(s.context,v.value):3,S=B&&B.type===0?B.value:"",M=R.map(function(P){return a_(P,L,!1)}).join(S);c.appendChild(o.createTextNode(M))}}}else if(A.type===20)switch(A.value){case"open-quote":c.appendChild(o.createTextNode(L8(l.quotes,s.quoteDepth++,!0)));break;case"close-quote":c.appendChild(o.createTextNode(L8(l.quotes,--s.quoteDepth,!1)));break;default:c.appendChild(o.createTextNode(A.value))}}),c.className=VN+" "+zN;var u=i===lw.BEFORE?" "+VN:" "+zN;return x2(n)?n.className.baseValue+=u:n.className+=u,c}}},t.destroy=function(e){return e.parentNode?(e.parentNode.removeChild(e),!0):!1},t}(),lw;(function(t){t[t.BEFORE=0]="BEFORE",t[t.AFTER=1]="AFTER"})(lw||(lw={}));var V2e=function(t,e){var n=t.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=e.width.toString(),n.height=e.height.toString(),n.scrolling="no",n.setAttribute(cJ,"true"),t.body.appendChild(n),n},z2e=function(t){return new Promise(function(e){if(t.complete){e();return}if(!t.src){e();return}t.onload=e,t.onerror=e})},j2e=function(t){return Promise.all([].slice.call(t.images,0).map(z2e))},G2e=function(t){return new Promise(function(e,n){var r=t.contentWindow;if(!r)return n("No window assigned for iframe");var i=r.document;r.onload=t.onload=function(){r.onload=t.onload=null;var s=setInterval(function(){i.body.childNodes.length>0&&i.readyState==="complete"&&(clearInterval(s),e(t))},50)}})},W2e=["all","d","content"],T5=function(t,e){for(var n=t.length-1;n>=0;n--){var r=t.item(n);W2e.indexOf(r)===-1&&e.style.setProperty(r,t.getPropertyValue(r))}return e},K2e=function(t){var e="";return t&&(e+="<!DOCTYPE ",t.name&&(e+=t.name),t.internalSubset&&(e+=t.internalSubset),t.publicId&&(e+='"'+t.publicId+'"'),t.systemId&&(e+='"'+t.systemId+'"'),e+=">"),e},q2e=function(t,e,n){t&&t.defaultView&&(e!==t.defaultView.pageXOffset||n!==t.defaultView.pageYOffset)&&t.defaultView.scrollTo(e,n)},$2e=function(t){var e=t[0],n=t[1],r=t[2];e.scrollLeft=n,e.scrollTop=r},X2e=":before",Y2e=":after",VN="___html2canvas___pseudoelement_before",zN="___html2canvas___pseudoelement_after",iV=`{
    content: "" !important;
    display: none !important;
}`,J2e=function(t){Z2e(t,"."+VN+X2e+iV+`
         .`+zN+Y2e+iV)},Z2e=function(t,e){var n=t.ownerDocument;if(n){var r=n.createElement("style");r.textContent=e,t.appendChild(r)}},uJ=function(){function t(){}return t.getOrigin=function(e){var n=t._link;return n?(n.href=e,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},t.isSameOrigin=function(e){return t.getOrigin(e)===t._origin},t.setContext=function(e){t._link=e.document.createElement("a"),t._origin=t.getOrigin(e.location.href)},t._origin="about:blank",t}(),eSe=function(){function t(e,n){this.context=e,this._options=n,this._cache={}}return t.prototype.addImage=function(e){var n=Promise.resolve();return this.has(e)||(I5(e)||iSe(e))&&(this._cache[e]=this.loadImage(e)).catch(function(){}),n},t.prototype.match=function(e){return this._cache[e]},t.prototype.loadImage=function(e){return Fo(this,void 0,void 0,function(){var n,r,i,s,a=this;return oo(this,function(o){switch(o.label){case 0:return n=uJ.isSameOrigin(e),r=!M5(e)&&this._options.useCORS===!0&&Fa.SUPPORT_CORS_IMAGES&&!n,i=!M5(e)&&!n&&!I5(e)&&typeof this._options.proxy=="string"&&Fa.SUPPORT_CORS_XHR&&!r,!n&&this._options.allowTaint===!1&&!M5(e)&&!I5(e)&&!i&&!r?[2]:(s=e,i?[4,this.proxy(s)]:[3,2]);case 1:s=o.sent(),o.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(l,c){var u=new Image;u.onload=function(){return l(u)},u.onerror=c,(sSe(s)||r)&&(u.crossOrigin="anonymous"),u.src=s,u.complete===!0&&setTimeout(function(){return l(u)},500),a._options.imageTimeout>0&&setTimeout(function(){return c("Timed out ("+a._options.imageTimeout+"ms) loading image")},a._options.imageTimeout)})];case 3:return[2,o.sent()]}})})},t.prototype.has=function(e){return typeof this._cache[e]<"u"},t.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},t.prototype.proxy=function(e){var n=this,r=this._options.proxy;if(!r)throw new Error("No proxy defined");var i=e.substring(0,256);return new Promise(function(s,a){var o=Fa.SUPPORT_RESPONSE_TYPE?"blob":"text",l=new XMLHttpRequest;l.onload=function(){if(l.status===200)if(o==="text")s(l.response);else{var A=new FileReader;A.addEventListener("load",function(){return s(A.result)},!1),A.addEventListener("error",function(f){return a(f)},!1),A.readAsDataURL(l.response)}else a("Failed to proxy resource "+i+" with status code "+l.status)},l.onerror=a;var c=r.indexOf("?")>-1?"&":"?";if(l.open("GET",""+r+c+"url="+encodeURIComponent(e)+"&responseType="+o),o!=="text"&&l instanceof XMLHttpRequest&&(l.responseType=o),n._options.imageTimeout){var u=n._options.imageTimeout;l.timeout=u,l.ontimeout=function(){return a("Timed out ("+u+"ms) proxying "+i)}}l.send()})},t}(),tSe=/^data:image\/svg\+xml/i,nSe=/^data:image\/.*;base64,/i,rSe=/^data:image\/.*/i,iSe=function(t){return Fa.SUPPORT_SVG_DRAWING||!aSe(t)},M5=function(t){return rSe.test(t)},sSe=function(t){return nSe.test(t)},I5=function(t){return t.substr(0,4)==="blob"},aSe=function(t){return t.substr(-3).toLowerCase()==="svg"||tSe.test(t)},zt=function(){function t(e,n){this.type=0,this.x=e,this.y=n}return t.prototype.add=function(e,n){return new t(this.x+e,this.y+n)},t}(),r0=function(t,e,n){return new zt(t.x+(e.x-t.x)*n,t.y+(e.y-t.y)*n)},bE=function(){function t(e,n,r,i){this.type=1,this.start=e,this.startControl=n,this.endControl=r,this.end=i}return t.prototype.subdivide=function(e,n){var r=r0(this.start,this.startControl,e),i=r0(this.startControl,this.endControl,e),s=r0(this.endControl,this.end,e),a=r0(r,i,e),o=r0(i,s,e),l=r0(a,o,e);return n?new t(this.start,r,a,l):new t(l,o,s,this.end)},t.prototype.add=function(e,n){return new t(this.start.add(e,n),this.startControl.add(e,n),this.endControl.add(e,n),this.end.add(e,n))},t.prototype.reverse=function(){return new t(this.end,this.endControl,this.startControl,this.start)},t}(),Bc=function(t){return t.type===1},oSe=function(){function t(e){var n=e.styles,r=e.bounds,i=T1(n.borderTopLeftRadius,r.width,r.height),s=i[0],a=i[1],o=T1(n.borderTopRightRadius,r.width,r.height),l=o[0],c=o[1],u=T1(n.borderBottomRightRadius,r.width,r.height),A=u[0],f=u[1],h=T1(n.borderBottomLeftRadius,r.width,r.height),p=h[0],y=h[1],v=[];v.push((s+l)/r.width),v.push((p+A)/r.width),v.push((a+y)/r.height),v.push((c+f)/r.height);var m=Math.max.apply(Math,v);m>1&&(s/=m,a/=m,l/=m,c/=m,A/=m,f/=m,p/=m,y/=m);var w=r.width-l,_=r.height-f,B=r.width-A,R=r.height-y,L=n.borderTopWidth,S=n.borderRightWidth,M=n.borderBottomWidth,T=n.borderLeftWidth,F=ti(n.paddingTop,e.bounds.width),P=ti(n.paddingRight,e.bounds.width),D=ti(n.paddingBottom,e.bounds.width),H=ti(n.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?wi(r.left+T/3,r.top+L/3,s-T/3,a-L/3,br.TOP_LEFT):new zt(r.left+T/3,r.top+L/3),this.topRightBorderDoubleOuterBox=s>0||a>0?wi(r.left+w,r.top+L/3,l-S/3,c-L/3,br.TOP_RIGHT):new zt(r.left+r.width-S/3,r.top+L/3),this.bottomRightBorderDoubleOuterBox=A>0||f>0?wi(r.left+B,r.top+_,A-S/3,f-M/3,br.BOTTOM_RIGHT):new zt(r.left+r.width-S/3,r.top+r.height-M/3),this.bottomLeftBorderDoubleOuterBox=p>0||y>0?wi(r.left+T/3,r.top+R,p-T/3,y-M/3,br.BOTTOM_LEFT):new zt(r.left+T/3,r.top+r.height-M/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?wi(r.left+T*2/3,r.top+L*2/3,s-T*2/3,a-L*2/3,br.TOP_LEFT):new zt(r.left+T*2/3,r.top+L*2/3),this.topRightBorderDoubleInnerBox=s>0||a>0?wi(r.left+w,r.top+L*2/3,l-S*2/3,c-L*2/3,br.TOP_RIGHT):new zt(r.left+r.width-S*2/3,r.top+L*2/3),this.bottomRightBorderDoubleInnerBox=A>0||f>0?wi(r.left+B,r.top+_,A-S*2/3,f-M*2/3,br.BOTTOM_RIGHT):new zt(r.left+r.width-S*2/3,r.top+r.height-M*2/3),this.bottomLeftBorderDoubleInnerBox=p>0||y>0?wi(r.left+T*2/3,r.top+R,p-T*2/3,y-M*2/3,br.BOTTOM_LEFT):new zt(r.left+T*2/3,r.top+r.height-M*2/3),this.topLeftBorderStroke=s>0||a>0?wi(r.left+T/2,r.top+L/2,s-T/2,a-L/2,br.TOP_LEFT):new zt(r.left+T/2,r.top+L/2),this.topRightBorderStroke=s>0||a>0?wi(r.left+w,r.top+L/2,l-S/2,c-L/2,br.TOP_RIGHT):new zt(r.left+r.width-S/2,r.top+L/2),this.bottomRightBorderStroke=A>0||f>0?wi(r.left+B,r.top+_,A-S/2,f-M/2,br.BOTTOM_RIGHT):new zt(r.left+r.width-S/2,r.top+r.height-M/2),this.bottomLeftBorderStroke=p>0||y>0?wi(r.left+T/2,r.top+R,p-T/2,y-M/2,br.BOTTOM_LEFT):new zt(r.left+T/2,r.top+r.height-M/2),this.topLeftBorderBox=s>0||a>0?wi(r.left,r.top,s,a,br.TOP_LEFT):new zt(r.left,r.top),this.topRightBorderBox=l>0||c>0?wi(r.left+w,r.top,l,c,br.TOP_RIGHT):new zt(r.left+r.width,r.top),this.bottomRightBorderBox=A>0||f>0?wi(r.left+B,r.top+_,A,f,br.BOTTOM_RIGHT):new zt(r.left+r.width,r.top+r.height),this.bottomLeftBorderBox=p>0||y>0?wi(r.left,r.top+R,p,y,br.BOTTOM_LEFT):new zt(r.left,r.top+r.height),this.topLeftPaddingBox=s>0||a>0?wi(r.left+T,r.top+L,Math.max(0,s-T),Math.max(0,a-L),br.TOP_LEFT):new zt(r.left+T,r.top+L),this.topRightPaddingBox=l>0||c>0?wi(r.left+Math.min(w,r.width-S),r.top+L,w>r.width+S?0:Math.max(0,l-S),Math.max(0,c-L),br.TOP_RIGHT):new zt(r.left+r.width-S,r.top+L),this.bottomRightPaddingBox=A>0||f>0?wi(r.left+Math.min(B,r.width-T),r.top+Math.min(_,r.height-M),Math.max(0,A-S),Math.max(0,f-M),br.BOTTOM_RIGHT):new zt(r.left+r.width-S,r.top+r.height-M),this.bottomLeftPaddingBox=p>0||y>0?wi(r.left+T,r.top+Math.min(R,r.height-M),Math.max(0,p-T),Math.max(0,y-M),br.BOTTOM_LEFT):new zt(r.left+T,r.top+r.height-M),this.topLeftContentBox=s>0||a>0?wi(r.left+T+H,r.top+L+F,Math.max(0,s-(T+H)),Math.max(0,a-(L+F)),br.TOP_LEFT):new zt(r.left+T+H,r.top+L+F),this.topRightContentBox=l>0||c>0?wi(r.left+Math.min(w,r.width+T+H),r.top+L+F,w>r.width+T+H?0:l-T+H,c-(L+F),br.TOP_RIGHT):new zt(r.left+r.width-(S+P),r.top+L+F),this.bottomRightContentBox=A>0||f>0?wi(r.left+Math.min(B,r.width-(T+H)),r.top+Math.min(_,r.height+L+F),Math.max(0,A-(S+P)),f-(M+D),br.BOTTOM_RIGHT):new zt(r.left+r.width-(S+P),r.top+r.height-(M+D)),this.bottomLeftContentBox=p>0||y>0?wi(r.left+T+H,r.top+R,Math.max(0,p-(T+H)),y-(M+D),br.BOTTOM_LEFT):new zt(r.left+T+H,r.top+r.height-(M+D))}return t}(),br;(function(t){t[t.TOP_LEFT=0]="TOP_LEFT",t[t.TOP_RIGHT=1]="TOP_RIGHT",t[t.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",t[t.BOTTOM_LEFT=3]="BOTTOM_LEFT"})(br||(br={}));var wi=function(t,e,n,r,i){var s=4*((Math.sqrt(2)-1)/3),a=n*s,o=r*s,l=t+n,c=e+r;switch(i){case br.TOP_LEFT:return new bE(new zt(t,c),new zt(t,c-o),new zt(l-a,e),new zt(l,e));case br.TOP_RIGHT:return new bE(new zt(t,e),new zt(t+a,e),new zt(l,c-o),new zt(l,c));case br.BOTTOM_RIGHT:return new bE(new zt(l,e),new zt(l,e+o),new zt(t+a,c),new zt(t,c));case br.BOTTOM_LEFT:default:return new bE(new zt(l,c),new zt(l-a,c),new zt(t,e+o),new zt(t,e))}},US=function(t){return[t.topLeftBorderBox,t.topRightBorderBox,t.bottomRightBorderBox,t.bottomLeftBorderBox]},lSe=function(t){return[t.topLeftContentBox,t.topRightContentBox,t.bottomRightContentBox,t.bottomLeftContentBox]},DS=function(t){return[t.topLeftPaddingBox,t.topRightPaddingBox,t.bottomRightPaddingBox,t.bottomLeftPaddingBox]},cSe=function(){function t(e,n,r){this.offsetX=e,this.offsetY=n,this.matrix=r,this.type=0,this.target=6}return t}(),EE=function(){function t(e,n){this.path=e,this.target=n,this.type=1}return t}(),uSe=function(){function t(e){this.opacity=e,this.type=2,this.target=6}return t}(),ASe=function(t){return t.type===0},AJ=function(t){return t.type===1},fSe=function(t){return t.type===2},sV=function(t,e){return t.length===e.length?t.some(function(n,r){return n===e[r]}):!1},hSe=function(t,e,n,r,i){return t.map(function(s,a){switch(a){case 0:return s.add(e,n);case 1:return s.add(e+r,n);case 2:return s.add(e+r,n+i);case 3:return s.add(e,n+i)}return s})},fJ=function(){function t(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return t}(),hJ=function(){function t(e,n){if(this.container=e,this.parent=n,this.effects=[],this.curves=new oSe(this.container),this.container.styles.opacity<1&&this.effects.push(new uSe(this.container.styles.opacity)),this.container.styles.transform!==null){var r=this.container.bounds.left+this.container.styles.transformOrigin[0].number,i=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new cSe(r,i,s))}if(this.container.styles.overflowX!==0){var a=US(this.curves),o=DS(this.curves);sV(a,o)?this.effects.push(new EE(a,6)):(this.effects.push(new EE(a,2)),this.effects.push(new EE(o,4)))}}return t.prototype.getEffects=function(e){for(var n=[2,3].indexOf(this.container.styles.position)===-1,r=this.parent,i=this.effects.slice(0);r;){var s=r.effects.filter(function(l){return!AJ(l)});if(n||r.container.styles.position!==0||!r.parent){if(i.unshift.apply(i,s),n=[2,3].indexOf(r.container.styles.position)===-1,r.container.styles.overflowX!==0){var a=US(r.curves),o=DS(r.curves);sV(a,o)||i.unshift(new EE(o,6))}}else i.unshift.apply(i,s);r=r.parent}return i.filter(function(l){return Os(l.target,e)})},t}(),jN=function(t,e,n,r){t.container.elements.forEach(function(i){var s=Os(i.flags,4),a=Os(i.flags,2),o=new hJ(i,t);Os(i.styles.display,2048)&&r.push(o);var l=Os(i.flags,8)?[]:r;if(s||a){var c=s||i.styles.isPositioned()?n:e,u=new fJ(o);if(i.styles.isPositioned()||i.styles.opacity<1||i.styles.isTransformed()){var A=i.styles.zIndex.order;if(A<0){var f=0;c.negativeZIndex.some(function(p,y){return A>p.element.container.styles.zIndex.order?(f=y,!1):f>0}),c.negativeZIndex.splice(f,0,u)}else if(A>0){var h=0;c.positiveZIndex.some(function(p,y){return A>=p.element.container.styles.zIndex.order?(h=y+1,!1):h>0}),c.positiveZIndex.splice(h,0,u)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(u)}else i.styles.isFloating()?c.nonPositionedFloats.push(u):c.nonPositionedInlineLevel.push(u);jN(o,u,s?u:n,l)}else i.styles.isInlineLevel()?e.inlineLevel.push(o):e.nonInlineLevel.push(o),jN(o,e,n,l);Os(i.flags,8)&&dJ(i,l)})},dJ=function(t,e){for(var n=t instanceof kN?t.start:1,r=t instanceof kN?t.reversed:!1,i=0;i<e.length;i++){var s=e[i];s.container instanceof YY&&typeof s.container.value=="number"&&s.container.value!==0&&(n=s.container.value),s.listValue=a_(n,s.container.styles.listStyleType,!0),n+=r?-1:1}},dSe=function(t){var e=new hJ(t,null),n=new fJ(e),r=[];return jN(e,n,n,r),dJ(e.container,r),n},aV=function(t,e){switch(e){case 0:return Lc(t.topLeftBorderBox,t.topLeftPaddingBox,t.topRightBorderBox,t.topRightPaddingBox);case 1:return Lc(t.topRightBorderBox,t.topRightPaddingBox,t.bottomRightBorderBox,t.bottomRightPaddingBox);case 2:return Lc(t.bottomRightBorderBox,t.bottomRightPaddingBox,t.bottomLeftBorderBox,t.bottomLeftPaddingBox);case 3:default:return Lc(t.bottomLeftBorderBox,t.bottomLeftPaddingBox,t.topLeftBorderBox,t.topLeftPaddingBox)}},pSe=function(t,e){switch(e){case 0:return Lc(t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox,t.topRightBorderBox,t.topRightBorderDoubleOuterBox);case 1:return Lc(t.topRightBorderBox,t.topRightBorderDoubleOuterBox,t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox);case 2:return Lc(t.bottomRightBorderBox,t.bottomRightBorderDoubleOuterBox,t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox);case 3:default:return Lc(t.bottomLeftBorderBox,t.bottomLeftBorderDoubleOuterBox,t.topLeftBorderBox,t.topLeftBorderDoubleOuterBox)}},mSe=function(t,e){switch(e){case 0:return Lc(t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox,t.topRightBorderDoubleInnerBox,t.topRightPaddingBox);case 1:return Lc(t.topRightBorderDoubleInnerBox,t.topRightPaddingBox,t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox);case 2:return Lc(t.bottomRightBorderDoubleInnerBox,t.bottomRightPaddingBox,t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox);case 3:default:return Lc(t.bottomLeftBorderDoubleInnerBox,t.bottomLeftPaddingBox,t.topLeftBorderDoubleInnerBox,t.topLeftPaddingBox)}},gSe=function(t,e){switch(e){case 0:return SE(t.topLeftBorderStroke,t.topRightBorderStroke);case 1:return SE(t.topRightBorderStroke,t.bottomRightBorderStroke);case 2:return SE(t.bottomRightBorderStroke,t.bottomLeftBorderStroke);case 3:default:return SE(t.bottomLeftBorderStroke,t.topLeftBorderStroke)}},SE=function(t,e){var n=[];return Bc(t)?n.push(t.subdivide(.5,!1)):n.push(t),Bc(e)?n.push(e.subdivide(.5,!0)):n.push(e),n},Lc=function(t,e,n,r){var i=[];return Bc(t)?i.push(t.subdivide(.5,!1)):i.push(t),Bc(n)?i.push(n.subdivide(.5,!0)):i.push(n),Bc(r)?i.push(r.subdivide(.5,!0).reverse()):i.push(r),Bc(e)?i.push(e.subdivide(.5,!1).reverse()):i.push(e),i},pJ=function(t){var e=t.bounds,n=t.styles;return e.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},OS=function(t){var e=t.styles,n=t.bounds,r=ti(e.paddingLeft,n.width),i=ti(e.paddingRight,n.width),s=ti(e.paddingTop,n.width),a=ti(e.paddingBottom,n.width);return n.add(r+e.borderLeftWidth,s+e.borderTopWidth,-(e.borderRightWidth+e.borderLeftWidth+r+i),-(e.borderTopWidth+e.borderBottomWidth+s+a))},vSe=function(t,e){return t===0?e.bounds:t===2?OS(e):pJ(e)},ySe=function(t,e){return t===0?e.bounds:t===2?OS(e):pJ(e)},P5=function(t,e,n){var r=vSe(h0(t.styles.backgroundOrigin,e),t),i=ySe(h0(t.styles.backgroundClip,e),t),s=wSe(h0(t.styles.backgroundSize,e),n,r),a=s[0],o=s[1],l=T1(h0(t.styles.backgroundPosition,e),r.width-a,r.height-o),c=_Se(h0(t.styles.backgroundRepeat,e),l,s,r,i),u=Math.round(r.left+l[0]),A=Math.round(r.top+l[1]);return[c,u,A,a,o]},i0=function(t){return Ur(t)&&t.value===Z0.AUTO},CE=function(t){return typeof t=="number"},wSe=function(t,e,n){var r=e[0],i=e[1],s=e[2],a=t[0],o=t[1];if(!a)return[0,0];if(Es(a)&&o&&Es(o))return[ti(a,n.width),ti(o,n.height)];var l=CE(s);if(Ur(a)&&(a.value===Z0.CONTAIN||a.value===Z0.COVER)){if(CE(s)){var c=n.width/n.height;return c<s!=(a.value===Z0.COVER)?[n.width,n.width/s]:[n.height*s,n.height]}return[n.width,n.height]}var u=CE(r),A=CE(i),f=u||A;if(i0(a)&&(!o||i0(o))){if(u&&A)return[r,i];if(!l&&!f)return[n.width,n.height];if(f&&l){var h=u?r:i*s,p=A?i:r/s;return[h,p]}var y=u?r:n.width,v=A?i:n.height;return[y,v]}if(l){var m=0,w=0;return Es(a)?m=ti(a,n.width):Es(o)&&(w=ti(o,n.height)),i0(a)?m=w*s:(!o||i0(o))&&(w=m/s),[m,w]}var _=null,B=null;if(Es(a)?_=ti(a,n.width):o&&Es(o)&&(B=ti(o,n.height)),_!==null&&(!o||i0(o))&&(B=u&&A?_/r*i:n.height),B!==null&&i0(a)&&(_=u&&A?B/i*r:n.width),_!==null&&B!==null)return[_,B];throw new Error("Unable to calculate background-size for element")},h0=function(t,e){var n=t[e];return typeof n>"u"?t[0]:n},_Se=function(t,e,n,r,i){var s=e[0],a=e[1],o=n[0],l=n[1];switch(t){case 2:return[new zt(Math.round(r.left),Math.round(r.top+a)),new zt(Math.round(r.left+r.width),Math.round(r.top+a)),new zt(Math.round(r.left+r.width),Math.round(l+r.top+a)),new zt(Math.round(r.left),Math.round(l+r.top+a))];case 3:return[new zt(Math.round(r.left+s),Math.round(r.top)),new zt(Math.round(r.left+s+o),Math.round(r.top)),new zt(Math.round(r.left+s+o),Math.round(r.height+r.top)),new zt(Math.round(r.left+s),Math.round(r.height+r.top))];case 1:return[new zt(Math.round(r.left+s),Math.round(r.top+a)),new zt(Math.round(r.left+s+o),Math.round(r.top+a)),new zt(Math.round(r.left+s+o),Math.round(r.top+a+l)),new zt(Math.round(r.left+s),Math.round(r.top+a+l))];default:return[new zt(Math.round(i.left),Math.round(i.top)),new zt(Math.round(i.left+i.width),Math.round(i.top)),new zt(Math.round(i.left+i.width),Math.round(i.height+i.top)),new zt(Math.round(i.left),Math.round(i.height+i.top))]}},xSe="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",oV="Hidden Text",bSe=function(){function t(e){this._data={},this._document=e}return t.prototype.parseMetrics=function(e,n){var r=this._document.createElement("div"),i=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;r.style.visibility="hidden",r.style.fontFamily=e,r.style.fontSize=n,r.style.margin="0",r.style.padding="0",r.style.whiteSpace="nowrap",a.appendChild(r),i.src=xSe,i.width=1,i.height=1,i.style.margin="0",i.style.padding="0",i.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=n,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(oV)),r.appendChild(s),r.appendChild(i);var o=i.offsetTop-s.offsetTop+2;r.removeChild(s),r.appendChild(this._document.createTextNode(oV)),r.style.lineHeight="normal",i.style.verticalAlign="super";var l=i.offsetTop-r.offsetTop+2;return a.removeChild(r),{baseline:o,middle:l}},t.prototype.getMetrics=function(e,n){var r=e+" "+n;return typeof this._data[r]>"u"&&(this._data[r]=this.parseMetrics(e,n)),this._data[r]},t}(),mJ=function(){function t(e,n){this.context=e,this.options=n}return t}(),ESe=1e4,SSe=function(t){Pu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i._activeEffects=[],i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),r.canvas||(i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px"),i.fontMetrics=new bSe(document),i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.ctx.textBaseline="bottom",i._activeEffects=[],i.context.logger.debug("Canvas renderer initialized ("+r.width+"x"+r.height+") with scale "+r.scale),i}return e.prototype.applyEffects=function(n){for(var r=this;this._activeEffects.length;)this.popEffect();n.forEach(function(i){return r.applyEffect(i)})},e.prototype.applyEffect=function(n){this.ctx.save(),fSe(n)&&(this.ctx.globalAlpha=n.opacity),ASe(n)&&(this.ctx.translate(n.offsetX,n.offsetY),this.ctx.transform(n.matrix[0],n.matrix[1],n.matrix[2],n.matrix[3],n.matrix[4],n.matrix[5]),this.ctx.translate(-n.offsetX,-n.offsetY)),AJ(n)&&(this.path(n.path),this.ctx.clip()),this._activeEffects.push(n)},e.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},e.prototype.renderStack=function(n){return Fo(this,void 0,void 0,function(){var r;return oo(this,function(i){switch(i.label){case 0:return r=n.element.container.styles,r.isVisible()?[4,this.renderStackContent(n)]:[3,2];case 1:i.sent(),i.label=2;case 2:return[2]}})})},e.prototype.renderNode=function(n){return Fo(this,void 0,void 0,function(){return oo(this,function(r){switch(r.label){case 0:if(Os(n.container.flags,16))debugger;return n.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(n)]:[3,3];case 1:return r.sent(),[4,this.renderNodeContent(n)];case 2:r.sent(),r.label=3;case 3:return[2]}})})},e.prototype.renderTextWithLetterSpacing=function(n,r,i){var s=this;if(r===0)this.ctx.fillText(n.text,n.bounds.left,n.bounds.top+i);else{var a=D4(n.text);a.reduce(function(o,l){return s.ctx.fillText(l,o,n.bounds.top+i),o+s.ctx.measureText(l).width},n.bounds.left)}},e.prototype.createFontStyle=function(n){var r=n.fontVariant.filter(function(a){return a==="normal"||a==="small-caps"}).join(""),i=ISe(n.fontFamily).join(", "),s=J_(n.fontSize)?""+n.fontSize.number+n.fontSize.unit:n.fontSize.number+"px";return[[n.fontStyle,r,n.fontWeight,s,i].join(" "),i,s]},e.prototype.renderTextNode=function(n,r){return Fo(this,void 0,void 0,function(){var i,s,a,o,l,c,u,A,f=this;return oo(this,function(h){return i=this.createFontStyle(r),s=i[0],a=i[1],o=i[2],this.ctx.font=s,this.ctx.direction=r.direction===1?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",l=this.fontMetrics.getMetrics(a,o),c=l.baseline,u=l.middle,A=r.paintOrder,n.textBounds.forEach(function(p){A.forEach(function(y){switch(y){case 0:f.ctx.fillStyle=ua(r.color),f.renderTextWithLetterSpacing(p,r.letterSpacing,c);var v=r.textShadow;v.length&&p.text.trim().length&&(v.slice(0).reverse().forEach(function(m){f.ctx.shadowColor=ua(m.color),f.ctx.shadowOffsetX=m.offsetX.number*f.options.scale,f.ctx.shadowOffsetY=m.offsetY.number*f.options.scale,f.ctx.shadowBlur=m.blur.number,f.renderTextWithLetterSpacing(p,r.letterSpacing,c)}),f.ctx.shadowColor="",f.ctx.shadowOffsetX=0,f.ctx.shadowOffsetY=0,f.ctx.shadowBlur=0),r.textDecorationLine.length&&(f.ctx.fillStyle=ua(r.textDecorationColor||r.color),r.textDecorationLine.forEach(function(m){switch(m){case 1:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top+c),p.bounds.width,1);break;case 2:f.ctx.fillRect(p.bounds.left,Math.round(p.bounds.top),p.bounds.width,1);break;case 3:f.ctx.fillRect(p.bounds.left,Math.ceil(p.bounds.top+u),p.bounds.width,1);break}}));break;case 1:r.webkitTextStrokeWidth&&p.text.trim().length&&(f.ctx.strokeStyle=ua(r.webkitTextStrokeColor),f.ctx.lineWidth=r.webkitTextStrokeWidth,f.ctx.lineJoin=window.chrome?"miter":"round",f.ctx.strokeText(p.text,p.bounds.left,p.bounds.top+c)),f.ctx.strokeStyle="",f.ctx.lineWidth=0,f.ctx.lineJoin="miter";break}})}),[2]})})},e.prototype.renderReplacedElement=function(n,r,i){if(i&&n.intrinsicWidth>0&&n.intrinsicHeight>0){var s=OS(n),a=DS(r);this.path(a),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(i,0,0,n.intrinsicWidth,n.intrinsicHeight,s.left,s.top,s.width,s.height),this.ctx.restore()}},e.prototype.renderNodeContent=function(n){return Fo(this,void 0,void 0,function(){var r,i,s,a,o,l,w,w,c,u,A,f,B,h,p,R,y,v,m,w,_,B,R;return oo(this,function(L){switch(L.label){case 0:this.applyEffects(n.getEffects(4)),r=n.container,i=n.curves,s=r.styles,a=0,o=r.textNodes,L.label=1;case 1:return a<o.length?(l=o[a],[4,this.renderTextNode(l,s)]):[3,4];case 2:L.sent(),L.label=3;case 3:return a++,[3,1];case 4:if(!(r instanceof qY))return[3,8];L.label=5;case 5:return L.trys.push([5,7,,8]),[4,this.context.cache.match(r.src)];case 6:return w=L.sent(),this.renderReplacedElement(r,i,w),[3,8];case 7:return L.sent(),this.context.logger.error("Error loading image "+r.src),[3,8];case 8:if(r instanceof $Y&&this.renderReplacedElement(r,i,r.canvas),!(r instanceof XY))return[3,12];L.label=9;case 9:return L.trys.push([9,11,,12]),[4,this.context.cache.match(r.svg)];case 10:return w=L.sent(),this.renderReplacedElement(r,i,w),[3,12];case 11:return L.sent(),this.context.logger.error("Error loading svg "+r.svg.substring(0,255)),[3,12];case 12:return r instanceof eJ&&r.tree?(c=new e(this.context,{scale:this.options.scale,backgroundColor:r.backgroundColor,x:0,y:0,width:r.width,height:r.height}),[4,c.render(r.tree)]):[3,14];case 13:u=L.sent(),r.width&&r.height&&this.ctx.drawImage(u,0,0,r.width,r.height,r.bounds.left,r.bounds.top,r.bounds.width,r.bounds.height),L.label=14;case 14:if(r instanceof O4&&(A=Math.min(r.bounds.width,r.bounds.height),r.type===NS?r.checked&&(this.ctx.save(),this.path([new zt(r.bounds.left+A*.39363,r.bounds.top+A*.79),new zt(r.bounds.left+A*.16,r.bounds.top+A*.5549),new zt(r.bounds.left+A*.27347,r.bounds.top+A*.44071),new zt(r.bounds.left+A*.39694,r.bounds.top+A*.5649),new zt(r.bounds.left+A*.72983,r.bounds.top+A*.23),new zt(r.bounds.left+A*.84,r.bounds.top+A*.34085),new zt(r.bounds.left+A*.39363,r.bounds.top+A*.79)]),this.ctx.fillStyle=ua(q8),this.ctx.fill(),this.ctx.restore()):r.type===LS&&r.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(r.bounds.left+A/2,r.bounds.top+A/2,A/4,0,Math.PI*2,!0),this.ctx.fillStyle=ua(q8),this.ctx.fill(),this.ctx.restore())),CSe(r)&&r.value.length){switch(f=this.createFontStyle(s),B=f[0],h=f[1],p=this.fontMetrics.getMetrics(B,h).baseline,this.ctx.font=B,this.ctx.fillStyle=ua(s.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=TSe(r.styles.textAlign),R=OS(r),y=0,r.styles.textAlign){case 1:y+=R.width/2;break;case 2:y+=R.width;break}v=R.add(y,0,0,-R.height/2+1),this.ctx.save(),this.path([new zt(R.left,R.top),new zt(R.left+R.width,R.top),new zt(R.left+R.width,R.top+R.height),new zt(R.left,R.top+R.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new ow(r.value,v),s.letterSpacing,p),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!Os(r.styles.display,2048))return[3,20];if(r.styles.listStyleImage===null)return[3,19];if(m=r.styles.listStyleImage,m.type!==0)return[3,18];w=void 0,_=m.url,L.label=15;case 15:return L.trys.push([15,17,,18]),[4,this.context.cache.match(_)];case 16:return w=L.sent(),this.ctx.drawImage(w,r.bounds.left-(w.width+10),r.bounds.top),[3,18];case 17:return L.sent(),this.context.logger.error("Error loading list-style-image "+_),[3,18];case 18:return[3,20];case 19:n.listValue&&r.styles.listStyleType!==-1&&(B=this.createFontStyle(s)[0],this.ctx.font=B,this.ctx.fillStyle=ua(s.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",R=new Tf(r.bounds.left,r.bounds.top+ti(r.styles.paddingTop,r.bounds.width),r.bounds.width,P8(s.lineHeight,s.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new ow(n.listValue,R),s.letterSpacing,P8(s.lineHeight,s.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),L.label=20;case 20:return[2]}})})},e.prototype.renderStackContent=function(n){return Fo(this,void 0,void 0,function(){var r,i,m,s,a,m,o,l,m,c,u,m,A,f,m,h,p,m,y,v,m;return oo(this,function(w){switch(w.label){case 0:if(Os(n.element.container.flags,16))debugger;return[4,this.renderNodeBackgroundAndBorders(n.element)];case 1:w.sent(),r=0,i=n.negativeZIndex,w.label=2;case 2:return r<i.length?(m=i[r],[4,this.renderStack(m)]):[3,5];case 3:w.sent(),w.label=4;case 4:return r++,[3,2];case 5:return[4,this.renderNodeContent(n.element)];case 6:w.sent(),s=0,a=n.nonInlineLevel,w.label=7;case 7:return s<a.length?(m=a[s],[4,this.renderNode(m)]):[3,10];case 8:w.sent(),w.label=9;case 9:return s++,[3,7];case 10:o=0,l=n.nonPositionedFloats,w.label=11;case 11:return o<l.length?(m=l[o],[4,this.renderStack(m)]):[3,14];case 12:w.sent(),w.label=13;case 13:return o++,[3,11];case 14:c=0,u=n.nonPositionedInlineLevel,w.label=15;case 15:return c<u.length?(m=u[c],[4,this.renderStack(m)]):[3,18];case 16:w.sent(),w.label=17;case 17:return c++,[3,15];case 18:A=0,f=n.inlineLevel,w.label=19;case 19:return A<f.length?(m=f[A],[4,this.renderNode(m)]):[3,22];case 20:w.sent(),w.label=21;case 21:return A++,[3,19];case 22:h=0,p=n.zeroOrAutoZIndexOrTransformedOrOpacity,w.label=23;case 23:return h<p.length?(m=p[h],[4,this.renderStack(m)]):[3,26];case 24:w.sent(),w.label=25;case 25:return h++,[3,23];case 26:y=0,v=n.positiveZIndex,w.label=27;case 27:return y<v.length?(m=v[y],[4,this.renderStack(m)]):[3,30];case 28:w.sent(),w.label=29;case 29:return y++,[3,27];case 30:return[2]}})})},e.prototype.mask=function(n){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(n.slice(0).reverse()),this.ctx.closePath()},e.prototype.path=function(n){this.ctx.beginPath(),this.formatPath(n),this.ctx.closePath()},e.prototype.formatPath=function(n){var r=this;n.forEach(function(i,s){var a=Bc(i)?i.start:i;s===0?r.ctx.moveTo(a.x,a.y):r.ctx.lineTo(a.x,a.y),Bc(i)&&r.ctx.bezierCurveTo(i.startControl.x,i.startControl.y,i.endControl.x,i.endControl.y,i.end.x,i.end.y)})},e.prototype.renderRepeat=function(n,r,i,s){this.path(n),this.ctx.fillStyle=r,this.ctx.translate(i,s),this.ctx.fill(),this.ctx.translate(-i,-s)},e.prototype.resizeImage=function(n,r,i){var s;if(n.width===r&&n.height===i)return n;var a=(s=this.canvas.ownerDocument)!==null&&s!==void 0?s:document,o=a.createElement("canvas");o.width=Math.max(1,r),o.height=Math.max(1,i);var l=o.getContext("2d");return l.drawImage(n,0,0,n.width,n.height,0,0,r,i),o},e.prototype.renderBackgroundImage=function(n){return Fo(this,void 0,void 0,function(){var r,i,s,a,o,l;return oo(this,function(c){switch(c.label){case 0:r=n.styles.backgroundImage.length-1,i=function(u){var A,f,h,F,ue,me,H,X,M,p,F,ue,me,H,X,y,v,m,w,_,B,R,L,S,M,T,F,P,D,H,X,fe,ue,me,J,le,ee,re,k,$,j,G;return oo(this,function(q){switch(q.label){case 0:if(u.type!==0)return[3,5];A=void 0,f=u.url,q.label=1;case 1:return q.trys.push([1,3,,4]),[4,s.context.cache.match(f)];case 2:return A=q.sent(),[3,4];case 3:return q.sent(),s.context.logger.error("Error loading background-image "+f),[3,4];case 4:return A&&(h=P5(n,r,[A.width,A.height,A.width/A.height]),F=h[0],ue=h[1],me=h[2],H=h[3],X=h[4],M=s.ctx.createPattern(s.resizeImage(A,H,X),"repeat"),s.renderRepeat(F,M,ue,me)),[3,6];case 5:Abe(u)?(p=P5(n,r,[null,null,null]),F=p[0],ue=p[1],me=p[2],H=p[3],X=p[4],y=abe(u.angle,H,X),v=y[0],m=y[1],w=y[2],_=y[3],B=y[4],R=document.createElement("canvas"),R.width=H,R.height=X,L=R.getContext("2d"),S=L.createLinearGradient(m,_,w,B),M8(u.stops,v).forEach(function(W){return S.addColorStop(W.stop,ua(W.color))}),L.fillStyle=S,L.fillRect(0,0,H,X),H>0&&X>0&&(M=s.ctx.createPattern(R,"repeat"),s.renderRepeat(F,M,ue,me))):fbe(u)&&(T=P5(n,r,[null,null,null]),F=T[0],P=T[1],D=T[2],H=T[3],X=T[4],fe=u.position.length===0?[F4]:u.position,ue=ti(fe[0],H),me=ti(fe[fe.length-1],X),J=obe(u,ue,me,H,X),le=J[0],ee=J[1],le>0&&ee>0&&(re=s.ctx.createRadialGradient(P+ue,D+me,0,P+ue,D+me,le),M8(u.stops,le*2).forEach(function(W){return re.addColorStop(W.stop,ua(W.color))}),s.path(F),s.ctx.fillStyle=re,le!==ee?(k=n.bounds.left+.5*n.bounds.width,$=n.bounds.top+.5*n.bounds.height,j=ee/le,G=1/j,s.ctx.save(),s.ctx.translate(k,$),s.ctx.transform(1,0,0,j,0,0),s.ctx.translate(-k,-$),s.ctx.fillRect(P,G*(D-$)+$,H,X*G),s.ctx.restore()):s.ctx.fill())),q.label=6;case 6:return r--,[2]}})},s=this,a=0,o=n.styles.backgroundImage.slice(0).reverse(),c.label=1;case 1:return a<o.length?(l=o[a],[5,i(l)]):[3,4];case 2:c.sent(),c.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},e.prototype.renderSolidBorder=function(n,r,i){return Fo(this,void 0,void 0,function(){return oo(this,function(s){return this.path(aV(i,r)),this.ctx.fillStyle=ua(n),this.ctx.fill(),[2]})})},e.prototype.renderDoubleBorder=function(n,r,i,s){return Fo(this,void 0,void 0,function(){var a,o;return oo(this,function(l){switch(l.label){case 0:return r<3?[4,this.renderSolidBorder(n,i,s)]:[3,2];case 1:return l.sent(),[2];case 2:return a=pSe(s,i),this.path(a),this.ctx.fillStyle=ua(n),this.ctx.fill(),o=mSe(s,i),this.path(o),this.ctx.fill(),[2]}})})},e.prototype.renderNodeBackgroundAndBorders=function(n){return Fo(this,void 0,void 0,function(){var r,i,s,a,o,l,c,u,A=this;return oo(this,function(f){switch(f.label){case 0:return this.applyEffects(n.getEffects(2)),r=n.container.styles,i=!Ad(r.backgroundColor)||r.backgroundImage.length,s=[{style:r.borderTopStyle,color:r.borderTopColor,width:r.borderTopWidth},{style:r.borderRightStyle,color:r.borderRightColor,width:r.borderRightWidth},{style:r.borderBottomStyle,color:r.borderBottomColor,width:r.borderBottomWidth},{style:r.borderLeftStyle,color:r.borderLeftColor,width:r.borderLeftWidth}],a=BSe(h0(r.backgroundClip,0),n.curves),i||r.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),Ad(r.backgroundColor)||(this.ctx.fillStyle=ua(r.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(n.container)]):[3,2];case 1:f.sent(),this.ctx.restore(),r.boxShadow.slice(0).reverse().forEach(function(h){A.ctx.save();var p=US(n.curves),y=h.inset?0:ESe,v=hSe(p,-y+(h.inset?1:-1)*h.spread.number,(h.inset?1:-1)*h.spread.number,h.spread.number*(h.inset?-2:2),h.spread.number*(h.inset?-2:2));h.inset?(A.path(p),A.ctx.clip(),A.mask(v)):(A.mask(p),A.ctx.clip(),A.path(v)),A.ctx.shadowOffsetX=h.offsetX.number+y,A.ctx.shadowOffsetY=h.offsetY.number,A.ctx.shadowColor=ua(h.color),A.ctx.shadowBlur=h.blur.number,A.ctx.fillStyle=h.inset?ua(h.color):"rgba(0,0,0,1)",A.ctx.fill(),A.ctx.restore()}),f.label=2;case 2:o=0,l=0,c=s,f.label=3;case 3:return l<c.length?(u=c[l],u.style!==0&&!Ad(u.color)&&u.width>0?u.style!==2?[3,5]:[4,this.renderDashedDottedBorder(u.color,u.width,o,n.curves,2)]:[3,11]):[3,13];case 4:return f.sent(),[3,11];case 5:return u.style!==3?[3,7]:[4,this.renderDashedDottedBorder(u.color,u.width,o,n.curves,3)];case 6:return f.sent(),[3,11];case 7:return u.style!==4?[3,9]:[4,this.renderDoubleBorder(u.color,u.width,o,n.curves)];case 8:return f.sent(),[3,11];case 9:return[4,this.renderSolidBorder(u.color,o,n.curves)];case 10:f.sent(),f.label=11;case 11:o++,f.label=12;case 12:return l++,[3,3];case 13:return[2]}})})},e.prototype.renderDashedDottedBorder=function(n,r,i,s,a){return Fo(this,void 0,void 0,function(){var o,l,c,u,A,f,h,p,y,v,m,w,_,B,R,L,R,L;return oo(this,function(S){return this.ctx.save(),o=gSe(s,i),l=aV(s,i),a===2&&(this.path(l),this.ctx.clip()),Bc(l[0])?(c=l[0].start.x,u=l[0].start.y):(c=l[0].x,u=l[0].y),Bc(l[1])?(A=l[1].end.x,f=l[1].end.y):(A=l[1].x,f=l[1].y),i===0||i===2?h=Math.abs(c-A):h=Math.abs(u-f),this.ctx.beginPath(),a===3?this.formatPath(o):this.formatPath(l.slice(0,2)),p=r<3?r*3:r*2,y=r<3?r*2:r,a===3&&(p=r,y=r),v=!0,h<=p*2?v=!1:h<=p*2+y?(m=h/(2*p+y),p*=m,y*=m):(w=Math.floor((h+y)/(p+y)),_=(h-w*p)/(w-1),B=(h-(w+1)*p)/w,y=B<=0||Math.abs(y-_)<Math.abs(y-B)?_:B),v&&(a===3?this.ctx.setLineDash([0,p+y]):this.ctx.setLineDash([p,y])),a===3?(this.ctx.lineCap="round",this.ctx.lineWidth=r):this.ctx.lineWidth=r*2+1.1,this.ctx.strokeStyle=ua(n),this.ctx.stroke(),this.ctx.setLineDash([]),a===2&&(Bc(l[0])&&(R=l[3],L=l[0],this.ctx.beginPath(),this.formatPath([new zt(R.end.x,R.end.y),new zt(L.start.x,L.start.y)]),this.ctx.stroke()),Bc(l[1])&&(R=l[1],L=l[2],this.ctx.beginPath(),this.formatPath([new zt(R.end.x,R.end.y),new zt(L.start.x,L.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},e.prototype.render=function(n){return Fo(this,void 0,void 0,function(){var r;return oo(this,function(i){switch(i.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=ua(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),r=dSe(n),[4,this.renderStack(r)];case 1:return i.sent(),this.applyEffects([]),[2,this.canvas]}})})},e}(mJ),CSe=function(t){return t instanceof ZY||t instanceof JY?!0:t instanceof O4&&t.type!==LS&&t.type!==NS},BSe=function(t,e){switch(t){case 0:return US(e);case 2:return lSe(e);case 1:default:return DS(e)}},TSe=function(t){switch(t){case 1:return"center";case 2:return"right";case 0:default:return"left"}},MSe=["-apple-system","system-ui"],ISe=function(t){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?t.filter(function(e){return MSe.indexOf(e)===-1}):t},PSe=function(t){Pu(e,t);function e(n,r){var i=t.call(this,n,r)||this;return i.canvas=r.canvas?r.canvas:document.createElement("canvas"),i.ctx=i.canvas.getContext("2d"),i.options=r,i.canvas.width=Math.floor(r.width*r.scale),i.canvas.height=Math.floor(r.height*r.scale),i.canvas.style.width=r.width+"px",i.canvas.style.height=r.height+"px",i.ctx.scale(i.options.scale,i.options.scale),i.ctx.translate(-r.x,-r.y),i.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+r.width+"x"+r.height+" at "+r.x+","+r.y+") with scale "+r.scale),i}return e.prototype.render=function(n){return Fo(this,void 0,void 0,function(){var r,i;return oo(this,function(s){switch(s.label){case 0:return r=ON(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,n),[4,NSe(r)];case 1:return i=s.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=ua(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(i,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},e}(mJ),NSe=function(t){return new Promise(function(e,n){var r=new Image;r.onload=function(){e(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(new XMLSerializer().serializeToString(t))})},LSe=function(){function t(e){var n=e.id,r=e.enabled;this.id=n,this.enabled=r,this.start=Date.now()}return t.prototype.debug=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.debug=="function"?console.debug.apply(console,iE([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.getTime=function(){return Date.now()-this.start},t.prototype.info=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&typeof window<"u"&&window.console&&typeof console.info=="function"&&console.info.apply(console,iE([this.id,this.getTime()+"ms"],e))},t.prototype.warn=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.warn=="function"?console.warn.apply(console,iE([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.prototype.error=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.enabled&&(typeof window<"u"&&window.console&&typeof console.error=="function"?console.error.apply(console,iE([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},t.instances={},t}(),FSe=function(){function t(e,n){var r;this.windowBounds=n,this.instanceName="#"+t.instanceCount++,this.logger=new LSe({id:this.instanceName,enabled:e.logging}),this.cache=(r=e.cache)!==null&&r!==void 0?r:new eSe(this,e)}return t.instanceCount=1,t}(),Q4=function(t,e){return e===void 0&&(e={}),RSe(t,e)};typeof window<"u"&&uJ.setContext(window);var RSe=function(t,e){return Fo(void 0,void 0,void 0,function(){var n,r,i,s,a,o,l,c,u,A,f,h,p,y,v,m,w,_,B,R,S,L,S,M,T,F,P,D,H,X,fe,ue,me,J,le,ee,re,k,$,j;return oo(this,function(G){switch(G.label){case 0:if(!t||typeof t!="object")return[2,Promise.reject("Invalid element provided as first argument")];if(n=t.ownerDocument,!n)throw new Error("Element is not attached to a Document");if(r=n.defaultView,!r)throw new Error("Document is not attached to a Window");return i={allowTaint:(M=e.allowTaint)!==null&&M!==void 0?M:!1,imageTimeout:(T=e.imageTimeout)!==null&&T!==void 0?T:15e3,proxy:e.proxy,useCORS:(F=e.useCORS)!==null&&F!==void 0?F:!1},s=bN({logging:(P=e.logging)!==null&&P!==void 0?P:!0,cache:e.cache},i),a={windowWidth:(D=e.windowWidth)!==null&&D!==void 0?D:r.innerWidth,windowHeight:(H=e.windowHeight)!==null&&H!==void 0?H:r.innerHeight,scrollX:(X=e.scrollX)!==null&&X!==void 0?X:r.pageXOffset,scrollY:(fe=e.scrollY)!==null&&fe!==void 0?fe:r.pageYOffset},o=new Tf(a.scrollX,a.scrollY,a.windowWidth,a.windowHeight),l=new FSe(s,o),c=(ue=e.foreignObjectRendering)!==null&&ue!==void 0?ue:!1,u={allowTaint:(me=e.allowTaint)!==null&&me!==void 0?me:!1,onclone:e.onclone,ignoreElements:e.ignoreElements,inlineImages:c,copyStyles:c},l.logger.debug("Starting document clone with size "+o.width+"x"+o.height+" scrolled to "+-o.left+","+-o.top),A=new rV(l,t,u),f=A.clonedReferenceElement,f?[4,A.toIFrame(n,o)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return h=G.sent(),p=k4(f)||D2e(f)?h_e(f.ownerDocument):VB(l,f),y=p.width,v=p.height,m=p.left,w=p.top,_=USe(l,f,e.backgroundColor),B={canvas:e.canvas,backgroundColor:_,scale:(le=(J=e.scale)!==null&&J!==void 0?J:r.devicePixelRatio)!==null&&le!==void 0?le:1,x:((ee=e.x)!==null&&ee!==void 0?ee:0)+m,y:((re=e.y)!==null&&re!==void 0?re:0)+w,width:(k=e.width)!==null&&k!==void 0?k:Math.ceil(y),height:($=e.height)!==null&&$!==void 0?$:Math.ceil(v)},c?(l.logger.debug("Document cloned, using foreign object rendering"),S=new PSe(l,B),[4,S.render(f)]):[3,3];case 2:return R=G.sent(),[3,5];case 3:return l.logger.debug("Document cloned, element located at "+m+","+w+" with size "+y+"x"+v+" using computed rendering"),l.logger.debug("Starting DOM parsing"),L=nJ(l,f),_===L.styles.backgroundColor&&(L.styles.backgroundColor=vf.TRANSPARENT),l.logger.debug("Starting renderer for element at "+B.x+","+B.y+" with size "+B.width+"x"+B.height),S=new SSe(l,B),[4,S.render(L)];case 4:R=G.sent(),G.label=5;case 5:return(!((j=e.removeContainer)!==null&&j!==void 0)||j)&&(rV.destroy(h)||l.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),l.logger.debug("Finished rendering"),[2,R]}})})},USe=function(t,e,n){var r=e.ownerDocument,i=r.documentElement?sw(t,getComputedStyle(r.documentElement).backgroundColor):vf.TRANSPARENT,s=r.body?sw(t,getComputedStyle(r.body).backgroundColor):vf.TRANSPARENT,a=typeof n=="string"?sw(t,n):n===null?vf.TRANSPARENT:4294967295;return e===r.documentElement?Ad(i)?Ad(s)?a:s:i:a};const DSe=Object.freeze(Object.defineProperty({__proto__:null,default:Q4},Symbol.toStringTag,{value:"Module"}));function OSe(t){return encodeURIComponent(t.join(","))}function kSe(t){return decodeURIComponent(t).split(",").filter(Boolean)}const b2={trekking:{label:" Mountain Trekking",category:"Adventure",items:["Trekking Shoes","Hiking Backpack","Water Bottle","Energy Bars","Map & Compass","Rain Jacket","Sunscreen SPF 50","First Aid Kit","Headlamp","Trekking Poles","Warm Layers","Emergency Whistle"],gradient:"from-emerald-600 via-green-700 to-teal-800",icon:"",difficulty:"Moderate"},beach:{label:" Beach Paradise",category:"Leisure",items:["Swimsuit","Beach Towel","Sunscreen SPF 30","Flip Flops","Sunglasses","Beach Umbrella","Waterproof Phone Case","Beach Ball","Snorkel Gear","Cooler","Beach Chair","Aloe Vera"],gradient:"from-cyan-400 via-blue-500 to-blue-600",icon:"",difficulty:"Easy"},camping:{label:" Wilderness Camping",category:"Adventure",items:["Tent","Sleeping Bag","Camping Stove","Matches/Lighter","Cooking Utensils","Flashlight","Insect Repellent","Portable Chair","Rope","Multi-tool","Water Purification Tablets","Camping Pillow"],gradient:"from-orange-600 via-red-700 to-amber-800",icon:"",difficulty:"Hard"},international:{label:" International Adventure",category:"Travel",items:["Passport","Visa Documents","Travel Insurance","Currency/Cards","Power Adapter","Portable Charger","Travel Pillow","Language Translator App","International SIM Card","Copy of Documents","Emergency Contacts","Travel Locks"],gradient:"from-purple-600 via-indigo-700 to-blue-800",icon:"",difficulty:"Moderate"},europe:{label:" European Tour",category:"Travel",items:["Euro Currency","Rail Pass","Comfortable Walking Shoes","Light Rain Jacket","Portable WiFi","Museum Tickets","City Maps","Universal Adapter","Compact Umbrella","Cross-body Bag","Scarf","Guidebook"],gradient:"from-rose-500 via-pink-600 to-purple-700",icon:"",difficulty:"Easy"},asia:{label:" Asian Experience",category:"Travel",items:["Visa Documents","Anti-malaria Pills","Mosquito Repellent","Stomach Medicine","Cash in Local Currency","Chopsticks","Wet Wipes","Hand Sanitizer","Modest Clothing","Comfortable Sandals","Probiotics","Travel Adapter"],gradient:"from-red-600 via-orange-700 to-yellow-600",icon:"",difficulty:"Moderate"},wedding:{label:" Wedding Guest",category:"Special",items:["Formal Outfit","Dress Shoes","Gift","Camera","Tissues","Breath Mints","Phone Charger","Blazer/Shawl","Comfortable Flats","Makeup Touch-up Kit","Hair Accessories","Plus One Details"],gradient:"from-pink-400 via-rose-500 to-red-600",icon:"",difficulty:"Easy"},business:{label:" Business Trip",category:"Work",items:["Laptop","Chargers","Business Cards","Formal Clothes","Presentation Files","Notebook","Pen","Business Shoes","Ironing Kit","Professional Bag","Watch","Breath Freshener"],gradient:"from-gray-700 via-slate-800 to-zinc-900",icon:"",difficulty:"Easy"},winter:{label:" Winter Wonderland",category:"Seasonal",items:["Heavy Winter Coat","Thermal Underwear","Wool Socks","Winter Boots","Gloves","Scarf","Winter Hat","Hand Warmers","Lip Balm","Moisturizer","Sunglasses","Hot Thermos"],gradient:"from-blue-200 via-cyan-300 to-blue-400",icon:"",difficulty:"Moderate",textDark:!0},monsoon:{label:" Monsoon Travel",category:"Seasonal",items:["Waterproof Jacket","Rain Boots","Umbrella","Quick-dry Clothes","Waterproof Bag","Extra Socks","Plastic Bags","Raincover for Backpack","Waterproof Phone Case","Towel","Change of Clothes","Antifungal Powder"],gradient:"from-slate-600 via-gray-700 to-blue-800",icon:"",difficulty:"Moderate"},skiing:{label:" Ski Adventure",category:"Sports",items:["Ski Equipment","Ski Boots","Ski Goggles","Thermal Layers","Ski Gloves","Helmet","Ski Pass","Sunscreen","Lip Balm","Aprs-ski Clothes","Hot Chocolate Mix","First Aid"],gradient:"from-white via-blue-100 to-blue-300",icon:"",difficulty:"Hard",textDark:!0},diving:{label:" Scuba Diving",category:"Sports",items:["Diving Certification","Diving Suit","Mask & Snorkel","Fins","Diving Computer","Underwater Camera","Reef-safe Sunscreen","Diving Logbook","Quick-dry Towel","Water Shoes","Seasickness Pills","Dive Light"],gradient:"from-teal-500 via-cyan-600 to-blue-700",icon:"",difficulty:"Hard"},family:{label:" Family Vacation",category:"Family",items:["Kids' Clothes","Toys & Games","Snacks","Baby Wipes","First Aid Kit","Entertainment (Tablets)","Stroller","Baby Formula","Diapers","Pacifiers","Kids' Medicine","Emergency Contacts"],gradient:"from-yellow-400 via-orange-500 to-red-500",icon:"",difficulty:"Hard"},roadtrip:{label:" Epic Road Trip",category:"Adventure",items:["Car Documents","GPS/Maps","Car Charger","Snacks","Water Bottles","Playlist","Emergency Kit","Spare Tire Tools","Blanket","Pillow","Games","Camera"],gradient:"from-amber-500 via-orange-600 to-red-700",icon:"",difficulty:"Moderate"},spa:{label:" Spa Retreat",category:"Wellness",items:["Comfortable Robes","Flip Flops","Hair Ties","Face Mask","Yoga Mat","Meditation App","Herbal Tea","Journal","Comfortable Clothes","Essential Oils","Water Bottle","Healthy Snacks"],gradient:"from-green-300 via-emerald-400 to-teal-500",icon:"",difficulty:"Easy",textDark:!0},festival:{label:" Music Festival",category:"Events",items:["Festival Tickets","Portable Charger","Cash","Earplugs","Comfortable Shoes","Bandana","Sunscreen","Water Bottle","Fanny Pack","Wet Wipes","Flag/Totem","Festival Schedule"],gradient:"from-purple-500 via-pink-600 to-red-600",icon:"",difficulty:"Moderate"}},QSe=({templateKey:t,template:e,onSelect:n,delay:r=0})=>{const i=s=>{switch(s){case"Easy":return"bg-green-100 text-green-800";case"Moderate":return"bg-yellow-100 text-yellow-800";case"Hard":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return I.createElement(Pi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r,duration:.5},className:"break-inside-avoid mb-6"},I.createElement("div",{className:`relative overflow-hidden rounded-2xl shadow-lg hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300 cursor-pointer bg-gradient-to-br ${e.gradient} ${e.textDark?"text-gray-800":"text-white"} group`,onClick:()=>n(t)},I.createElement("div",{className:"absolute inset-0 bg-black opacity-0 group-hover:opacity-20 transition-opacity duration-300"}),I.createElement("div",{className:"p-6"},I.createElement("div",{className:"flex items-center justify-between mb-4"},I.createElement("div",{className:"text-4xl"},e.icon),I.createElement("span",{className:`px-3 py-1 rounded-full text-xs font-semibold ${i(e.difficulty)}`},e.difficulty)),I.createElement("h3",{className:"text-xl font-bold mb-2"},e.label),I.createElement("p",{className:`text-sm mb-4 ${e.textDark?"text-gray-600":"text-white/80"}`},e.category),I.createElement("div",{className:"space-y-2 mb-4"},e.items.slice(0,4).map((s,a)=>I.createElement("div",{key:a,className:`flex items-center text-sm ${e.textDark?"text-gray-700":"text-white/90"}`},I.createElement("div",{className:`w-2 h-2 rounded-full mr-3 ${e.textDark?"bg-gray-400":"bg-white/60"}`}),s)),e.items.length>4&&I.createElement("div",{className:`text-sm ${e.textDark?"text-gray-600":"text-white/70"} italic`},"+",e.items.length-4," more items")),I.createElement("div",{className:`text-sm font-semibold ${e.textDark?"text-gray-700":"text-white/90"}`}," ",e.items.length," items total")),I.createElement("div",{className:"absolute bottom-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity duration-300"},I.createElement("div",{className:"bg-white text-gray-800 px-3 py-1 rounded-full text-sm font-semibold shadow-lg"},"Click to customize "))))},HSe=({selectedTemplate:t,items:e,setItems:n,input:r,setInput:i,onClose:s,checklistRef:a})=>{const o=b2[t],l=()=>{r.trim()&&(n([...e,r.trim()]),i(""))},c=f=>{n(e.filter((h,p)=>p!==f))},u=async()=>{const f=await Q4(a.current),h=document.createElement("a");h.download=`${o.label.replace(/[^\w\s]/gi,"")}-checklist.png`,h.href=f.toDataURL(),h.click()},A=()=>{const f=OSe(e),h=`${window.location.origin}/things-to-carry?items=${f}`;navigator.clipboard.writeText(h),alert("Shareable link copied to clipboard!")};return I.createElement(Pi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4"},I.createElement(Pi.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto shadow-2xl"},I.createElement("div",{className:`bg-gradient-to-r ${o.gradient} p-6 text-white rounded-t-2xl`},I.createElement("div",{className:"flex items-center justify-between"},I.createElement("div",null,I.createElement("h2",{className:"text-2xl font-bold flex items-center gap-3"},I.createElement("span",{className:"text-3xl"},o.icon),o.label),I.createElement("p",{className:"text-white/80 mt-1"},o.category,"  ",e.length," items")),I.createElement("button",{onClick:s,className:"bg-white/20 hover:bg-white/30 rounded-full p-2 transition-colors"},""))),I.createElement("div",{ref:a,className:"p-6"},I.createElement("div",{className:"grid gap-3 mb-6"},e.map((f,h)=>I.createElement(Pi.div,{key:h,initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:h*.05},className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors group"},I.createElement("div",{className:"flex items-center gap-3"},I.createElement("input",{type:"checkbox",className:"w-4 h-4 text-blue-600 rounded"}),I.createElement("span",{className:"text-gray-800"},f)),I.createElement("button",{onClick:()=>c(h),className:"text-red-500 hover:text-red-700 opacity-0 group-hover:opacity-100 transition-all text-sm px-2 py-1"},"Remove")))),I.createElement("div",{className:"flex gap-2 mb-6"},I.createElement("input",{value:r,onChange:f=>i(f.target.value),onKeyPress:f=>f.key==="Enter"&&l(),placeholder:"Add custom item...",className:"flex-1 px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-gray-800 placeholder-gray-500"}),I.createElement("button",{onClick:l,className:"bg-blue-500 hover:bg-blue-600 text-white px-6 py-3 rounded-lg transition-colors"},"Add")),I.createElement("div",{className:"flex flex-wrap gap-3"},I.createElement("button",{onClick:u,className:"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg transition-colors flex items-center gap-2"}," Download PDF"),I.createElement("button",{onClick:A,className:"bg-purple-500 hover:bg-purple-600 text-white px-6 py-3 rounded-lg transition-colors flex items-center gap-2"}," Copy Link")))))};function VSe(){const t=dR(),e=Gm(),n=Y.useRef(null),[r,i]=Y.useState(null),[s,a]=Y.useState([]),[o,l]=Y.useState(""),[c,u]=Y.useState(""),[A,f]=Y.useState("All"),h=["All",...new Set(Object.values(b2).map(m=>m.category))],p=Object.entries(b2).filter(([m,w])=>{const _=w.label.toLowerCase().includes(c.toLowerCase())||w.category.toLowerCase().includes(c.toLowerCase())||w.items.some(R=>R.toLowerCase().includes(c.toLowerCase())),B=A==="All"||w.category===A;return _&&B});Y.useEffect(()=>{const w=new URLSearchParams(t.search).get("items");w&&(a(kSe(w)),i("custom"))},[t.search]);const y=m=>{i(m),a([...b2[m].items])},v=()=>{i(null),a([]),l("")};return I.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100"},I.createElement("div",{className:"bg-white shadow-sm border-b"},I.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},I.createElement("div",{className:"flex items-center justify-between mb-6"},I.createElement("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors"}," Back to Home"),I.createElement("h1",{className:"text-4xl font-bold text-gray-800 text-center flex items-center gap-3"},I.createElement("span",{className:"text-4xl"},""),"Pack List Templates"),I.createElement("div",{className:"w-24"})),I.createElement("p",{className:"text-gray-600 text-center text-lg mb-8 max-w-2xl mx-auto"},"Choose from our curated collection of packing templates, or create your own custom list. Never forget anything important again!"),I.createElement("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-center"},I.createElement("input",{type:"text",placeholder:"Search templates...",value:c,onChange:m=>u(m.target.value),className:"w-full md:w-80 px-4 py-3 border border-gray-300 text-black rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"}),I.createElement("select",{value:A,onChange:m=>f(m.target.value),className:"w-full md:w-48 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500"},h.map(m=>I.createElement("option",{key:m,value:m},m)))))),I.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},I.createElement("div",{className:"columns-1 md:columns-2 lg:columns-3 xl:columns-4 gap-6"},p.map(([m,w],_)=>I.createElement(QSe,{key:m,templateKey:m,template:w,onSelect:y,delay:_*.1}))),p.length===0&&I.createElement("div",{className:"text-center py-12"},I.createElement("div",{className:"text-6xl mb-4"},""),I.createElement("h3",{className:"text-xl font-semibold text-gray-700 mb-2"},"No templates found"),I.createElement("p",{className:"text-gray-500"},"Try adjusting your search or filter criteria"))),I.createElement(c0,null,r&&I.createElement(HSe,{selectedTemplate:r,items:s,setItems:a,input:o,setInput:l,onClose:v,checklistRef:n})))}function gJ(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=gJ(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function va(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=gJ(t))&&(r&&(r+=" "),r+=e);return r}var JB={},vJ={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==="__proto__"}t.isUnsafeProperty=e})(vJ);var H4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}t.isDeepKey=e})(H4);var V4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}t.toKey=e})(V4);var ZB={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){const r=[],i=n.length;if(i===0)return r;let s=0,a="",o="",l=!1;for(n.charCodeAt(0)===46&&(r.push(""),s++);s<i;){const c=n[s];o?c==="\\"&&s+1<i?(s++,a+=n[s]):c===o?o="":a+=c:l?c==='"'||c==="'"?o=c:c==="]"?(l=!1,r.push(a),a=""):a+=c:c==="["?(l=!0,a&&(r.push(a),a="")):c==="."?a&&(r.push(a),a=""):a+=c,s++}return a&&r.push(a),r}t.toPath=e})(ZB);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=vJ,n=H4,r=V4,i=ZB;function s(o,l,c){if(o==null)return c;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?n.isDeepKey(l)?s(o,i.toPath(l),c):c:u}case"number":case"symbol":{typeof l=="number"&&(l=r.toKey(l));const u=o[l];return u===void 0?c:u}default:{if(Array.isArray(l))return a(o,l,c);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return c;const u=o[l];return u===void 0?c:u}}}function a(o,l,c){if(l.length===0)return c;let u=o;for(let A=0;A<l.length;A++){if(u==null||e.isUnsafeProperty(l[A]))return c;u=u[l[A]]}return u===void 0?c:u}t.get=s})(JB);var zSe=JB.get;const Cv=Of(zSe);var yJ={exports:{}},jr={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z4=Symbol.for("react.transitional.element"),j4=Symbol.for("react.portal"),eT=Symbol.for("react.fragment"),tT=Symbol.for("react.strict_mode"),nT=Symbol.for("react.profiler"),rT=Symbol.for("react.consumer"),iT=Symbol.for("react.context"),sT=Symbol.for("react.forward_ref"),aT=Symbol.for("react.suspense"),oT=Symbol.for("react.suspense_list"),lT=Symbol.for("react.memo"),cT=Symbol.for("react.lazy"),jSe=Symbol.for("react.view_transition"),GSe=Symbol.for("react.client.reference");function Qc(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case z4:switch(t=t.type,t){case eT:case nT:case tT:case aT:case oT:case jSe:return t;default:switch(t=t&&t.$$typeof,t){case iT:case sT:case cT:case lT:return t;case rT:return t;default:return e}}case j4:return e}}}jr.ContextConsumer=rT;jr.ContextProvider=iT;jr.Element=z4;jr.ForwardRef=sT;jr.Fragment=eT;jr.Lazy=cT;jr.Memo=lT;jr.Portal=j4;jr.Profiler=nT;jr.StrictMode=tT;jr.Suspense=aT;jr.SuspenseList=oT;jr.isContextConsumer=function(t){return Qc(t)===rT};jr.isContextProvider=function(t){return Qc(t)===iT};jr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===z4};jr.isForwardRef=function(t){return Qc(t)===sT};jr.isFragment=function(t){return Qc(t)===eT};jr.isLazy=function(t){return Qc(t)===cT};jr.isMemo=function(t){return Qc(t)===lT};jr.isPortal=function(t){return Qc(t)===j4};jr.isProfiler=function(t){return Qc(t)===nT};jr.isStrictMode=function(t){return Qc(t)===tT};jr.isSuspense=function(t){return Qc(t)===aT};jr.isSuspenseList=function(t){return Qc(t)===oT};jr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===eT||t===nT||t===tT||t===aT||t===oT||typeof t=="object"&&t!==null&&(t.$$typeof===cT||t.$$typeof===lT||t.$$typeof===iT||t.$$typeof===rT||t.$$typeof===sT||t.$$typeof===GSe||t.getModuleId!==void 0)};jr.typeOf=Qc;yJ.exports=jr;var WSe=yJ.exports,Hl=t=>t===0?0:t>0?1:-1,Su=t=>typeof t=="number"&&t!=+t,KSe=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Jn=t=>(typeof t=="number"||t instanceof Number)&&!Su(t),Mf=t=>Jn(t)||typeof t=="string",qSe=0,kS=t=>{var e=++qSe;return"".concat(t||"").concat(e)},aA=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Jn(e)&&typeof e!="string")return r;var s;if(KSe(e)){if(n==null)return r;var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return Su(s)&&(s=r),i&&n!=null&&s>n&&(s=n),s},wJ=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,n={},r=0;r<e;r++)if(!n[t[r]])n[t[r]]=!0;else return!0;return!1},lV=(t,e)=>Jn(t)&&Jn(e)?n=>t+n*(e-t):()=>e;function $Se(t,e,n){if(!(!t||!t.length))return t.find(r=>r&&(typeof e=="function"?e(r):Cv(r,e))===n)}var Lm=t=>t===null||typeof t>"u",Z_=t=>Lm(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1)),XSe=["viewBox","children"],YSe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cV=["points","pathLength"],N5={svg:XSe,polygon:cV,polyline:cV},G4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],JSe=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var n=t;if(Y.isValidElement(t)&&(n=t.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{G4.includes(i)&&(r[i]=s=>n[i](n,s))}),r},ZSe=(t,e,n)=>r=>(t(e,n,r),null),_J=(t,e,n)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var r=null;return Object.keys(t).forEach(i=>{var s=t[i];G4.includes(i)&&typeof s=="function"&&(r||(r={}),r[i]=ZSe(s,e,n))}),r},uV=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",AV=null,L5=null,xJ=t=>{if(t===AV&&Array.isArray(L5))return L5;var e=[];return Y.Children.forEach(t,n=>{Lm(n)||(WSe.isFragment(n)?e=e.concat(xJ(n.props.children)):e.push(n))}),L5=e,AV=t,e};function bJ(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(i=>uV(i)):r=[uV(e)],xJ(t).forEach(i=>{var s=Cv(i,"type.displayName")||Cv(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}var eCe=(t,e,n,r)=>{var i,s=(i=r&&(N5==null?void 0:N5[r]))!==null&&i!==void 0?i:[];return e.startsWith("data-")||typeof t!="function"&&(r&&s.includes(e)||YSe.includes(e))||n&&G4.includes(e)},ga=(t,e,n)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(Y.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var i={};return Object.keys(r).forEach(s=>{var a;eCe((a=r)===null||a===void 0?void 0:a[s],s,e,n)&&(i[s]=r[s])}),i},tCe=["children","width","height","viewBox","className","style","title","desc"];function GN(){return GN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GN.apply(null,arguments)}function nCe(t,e){if(t==null)return{};var n,r,i=rCe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function rCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var W4=Y.forwardRef((t,e)=>{var{children:n,width:r,height:i,viewBox:s,className:a,style:o,title:l,desc:c}=t,u=nCe(t,tCe),A=s||{width:r,height:i,x:0,y:0},f=va("recharts-surface",a);return Y.createElement("svg",GN({},ga(u,!0,"svg"),{className:f,width:r,height:i,style:o,viewBox:"".concat(A.x," ").concat(A.y," ").concat(A.width," ").concat(A.height),ref:e}),Y.createElement("title",null,l),Y.createElement("desc",null,c),n)}),iCe=["children","className"];function WN(){return WN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WN.apply(null,arguments)}function sCe(t,e){if(t==null)return{};var n,r,i=aCe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function aCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var Bv=Y.forwardRef((t,e)=>{var{children:n,className:r}=t,i=sCe(t,iCe),s=va("recharts-layer",r);return Y.createElement("g",WN({className:s},ga(i,!0),{ref:e}),n)}),EJ=Y.createContext(null),oCe=()=>Y.useContext(EJ);function Zr(t){return function(){return t}}const SJ=Math.cos,QS=Math.sin,Nu=Math.sqrt,HS=Math.PI,uT=2*HS,KN=Math.PI,qN=2*KN,Up=1e-6,lCe=qN-Up;function CJ(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function cCe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return CJ;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class uCe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?CJ:cCe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-n,u=a-e,A=o-n,f=u*u+A*A;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Up)if(!(Math.abs(A*l-c*u)>Up)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-a,p=i-o,y=l*l+c*c,v=h*h+p*p,m=Math.sqrt(y),w=Math.sqrt(f),_=s*Math.tan((KN-Math.acos((y+f-v)/(2*m*w)))/2),B=_/w,R=_/m;Math.abs(B-1)>Up&&this._append`L${e+B*u},${n+B*A}`,this._append`A${s},${s},0,0,${+(A*h>u*p)},${this._x1=e+R*l},${this._y1=n+R*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,A=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Up||Math.abs(this._y1-u)>Up)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%qN+qN),f>lCe?this._append`A${r},${r},0,1,${A},${e-o},${n-l}A${r},${r},0,1,${A},${this._x1=c},${this._y1=u}`:f>Up&&this._append`A${r},${r},0,${+(f>=KN)},${A},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function K4(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new uCe(e)}function q4(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function BJ(t){this._context=t}BJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function AT(t){return new BJ(t)}function TJ(t){return t[0]}function MJ(t){return t[1]}function IJ(t,e){var n=Zr(!0),r=null,i=AT,s=null,a=K4(o);t=typeof t=="function"?t:t===void 0?TJ:Zr(t),e=typeof e=="function"?e:e===void 0?MJ:Zr(e);function o(l){var c,u=(l=q4(l)).length,A,f=!1,h;for(r==null&&(s=i(h=a())),c=0;c<=u;++c)!(c<u&&n(A=l[c],c,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(A,c,l),+e(A,c,l));if(h)return s=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Zr(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Zr(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Zr(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function BE(t,e,n){var r=null,i=Zr(!0),s=null,a=AT,o=null,l=K4(c);t=typeof t=="function"?t:t===void 0?TJ:Zr(+t),e=typeof e=="function"?e:Zr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?MJ:Zr(+n);function c(A){var f,h,p,y=(A=q4(A)).length,v,m=!1,w,_=new Array(y),B=new Array(y);for(s==null&&(o=a(w=l())),f=0;f<=y;++f){if(!(f<y&&i(v=A[f],f,A))===m)if(m=!m)h=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=f-1;p>=h;--p)o.point(_[p],B[p]);o.lineEnd(),o.areaEnd()}m&&(_[f]=+t(v,f,A),B[f]=+e(v,f,A),o.point(r?+r(v,f,A):_[f],n?+n(v,f,A):B[f]))}if(w)return o=null,w+""||null}function u(){return IJ().defined(i).curve(a).context(s)}return c.x=function(A){return arguments.length?(t=typeof A=="function"?A:Zr(+A),r=null,c):t},c.x0=function(A){return arguments.length?(t=typeof A=="function"?A:Zr(+A),c):t},c.x1=function(A){return arguments.length?(r=A==null?null:typeof A=="function"?A:Zr(+A),c):r},c.y=function(A){return arguments.length?(e=typeof A=="function"?A:Zr(+A),n=null,c):e},c.y0=function(A){return arguments.length?(e=typeof A=="function"?A:Zr(+A),c):e},c.y1=function(A){return arguments.length?(n=A==null?null:typeof A=="function"?A:Zr(+A),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(A){return arguments.length?(i=typeof A=="function"?A:Zr(!!A),c):i},c.curve=function(A){return arguments.length?(a=A,s!=null&&(o=a(s)),c):a},c.context=function(A){return arguments.length?(A==null?s=o=null:o=a(s=A),c):s},c}class PJ{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function ACe(t){return new PJ(t,!0)}function fCe(t){return new PJ(t,!1)}const $4={draw(t,e){const n=Nu(e/HS);t.moveTo(n,0),t.arc(0,0,n,0,uT)}},hCe={draw(t,e){const n=Nu(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},NJ=Nu(1/3),dCe=NJ*2,pCe={draw(t,e){const n=Nu(e/dCe),r=n*NJ;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},mCe={draw(t,e){const n=Nu(e),r=-n/2;t.rect(r,r,n,n)}},gCe=.8908130915292852,LJ=QS(HS/10)/QS(7*HS/10),vCe=QS(uT/10)*LJ,yCe=-SJ(uT/10)*LJ,wCe={draw(t,e){const n=Nu(e*gCe),r=vCe*n,i=yCe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=uT*s/5,o=SJ(a),l=QS(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},F5=Nu(3),_Ce={draw(t,e){const n=-Nu(e/(F5*3));t.moveTo(0,n*2),t.lineTo(-F5*n,-n),t.lineTo(F5*n,-n),t.closePath()}},yc=-.5,wc=Nu(3)/2,$N=1/Nu(12),xCe=($N/2+1)*3,bCe={draw(t,e){const n=Nu(e/xCe),r=n/2,i=n*$N,s=r,a=n*$N+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(yc*r-wc*i,wc*r+yc*i),t.lineTo(yc*s-wc*a,wc*s+yc*a),t.lineTo(yc*o-wc*l,wc*o+yc*l),t.lineTo(yc*r+wc*i,yc*i-wc*r),t.lineTo(yc*s+wc*a,yc*a-wc*s),t.lineTo(yc*o+wc*l,yc*l-wc*o),t.closePath()}};function ECe(t,e){let n=null,r=K4(i);t=typeof t=="function"?t:Zr(t||$4),e=typeof e=="function"?e:Zr(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Zr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Zr(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function VS(){}function zS(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function FJ(t){this._context=t}FJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:zS(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:zS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function SCe(t){return new FJ(t)}function RJ(t){this._context=t}RJ.prototype={areaStart:VS,areaEnd:VS,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:zS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CCe(t){return new RJ(t)}function UJ(t){this._context=t}UJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:zS(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function BCe(t){return new UJ(t)}function DJ(t){this._context=t}DJ.prototype={areaStart:VS,areaEnd:VS,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function TCe(t){return new DJ(t)}function fV(t){return t<0?-1:1}function hV(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(fV(s)+fV(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function dV(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function R5(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function jS(t){this._context=t}jS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:R5(this,this._t0,dV(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,R5(this,dV(this,n=hV(this,t,e)),n);break;default:R5(this,this._t0,n=hV(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function OJ(t){this._context=new kJ(t)}(OJ.prototype=Object.create(jS.prototype)).point=function(t,e){jS.prototype.point.call(this,e,t)};function kJ(t){this._context=t}kJ.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function MCe(t){return new jS(t)}function ICe(t){return new OJ(t)}function QJ(t){this._context=t}QJ.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=pV(t),i=pV(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function pV(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function PCe(t){return new QJ(t)}function fT(t,e){this._context=t,this._t=e}fT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function NCe(t){return new fT(t,.5)}function LCe(t){return new fT(t,0)}function FCe(t){return new fT(t,1)}function Tv(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function XN(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function RCe(t,e){return t[e]}function UCe(t){const e=[];return e.key=t,e}function DCe(){var t=Zr([]),e=XN,n=Tv,r=RCe;function i(s){var a=Array.from(t.apply(this,arguments),UCe),o,l=a.length,c=-1,u;for(const A of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(A,a[o].key,c,s)]).data=A;for(o=0,u=q4(e(a));o<l;++o)a[u[o]].index=o;return n(a,u),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Zr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Zr(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?XN:typeof s=="function"?s:Zr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??Tv,i):n},i}function OCe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}Tv(t,e)}}function kCe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}Tv(t,e)}}function QCe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var u=t[e[o]],A=u[r][1]||0,f=u[r-1][1]||0,h=(A-f)/2,p=0;p<o;++p){var y=t[e[p]],v=y[r][1]||0,m=y[r-1][1]||0;h+=v-m}l+=A,c+=h*A}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,Tv(t,e)}}var HCe=["type","size","sizeType"];function YN(){return YN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YN.apply(null,arguments)}function mV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function gV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?mV(Object(n),!0).forEach(function(r){VCe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):mV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VCe(t,e,n){return(e=zCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function zCe(t){var e=jCe(t,"string");return typeof e=="symbol"?e:e+""}function jCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GCe(t,e){if(t==null)return{};var n,r,i=WCe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function WCe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var HJ={symbolCircle:$4,symbolCross:hCe,symbolDiamond:pCe,symbolSquare:mCe,symbolStar:wCe,symbolTriangle:_Ce,symbolWye:bCe},KCe=Math.PI/180,qCe=t=>{var e="symbol".concat(Z_(t));return HJ[e]||$4},$Ce=(t,e,n)=>{if(e==="area")return t;switch(n){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var r=18*KCe;return 1.25*t*t*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},XCe=(t,e)=>{HJ["symbol".concat(Z_(t))]=e},X4=t=>{var{type:e="circle",size:n=64,sizeType:r="area"}=t,i=GCe(t,HCe),s=gV(gV({},i),{},{type:e,size:n,sizeType:r}),a=()=>{var A=qCe(e),f=ECe().type(A).size($Ce(n,r,e));return f()},{className:o,cx:l,cy:c}=s,u=ga(s,!0);return l===+l&&c===+c&&n===+n?Y.createElement("path",YN({},u,{className:va("recharts-symbols",o),transform:"translate(".concat(l,", ").concat(c,")"),d:a()})):null};X4.registerSymbol=XCe;function JN(){return JN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},JN.apply(null,arguments)}function vV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function YCe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vV(Object(n),!0).forEach(function(r){Y4(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Y4(t,e,n){return(e=JCe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JCe(t){var e=ZCe(t,"string");return typeof e=="symbol"?e:e+""}function ZCe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _c=32;class J4 extends Y.PureComponent{renderIcon(e,n){var{inactiveColor:r}=this.props,i=_c/2,s=_c/6,a=_c/3,o=e.inactive?r:e.color,l=n??e.type;if(l==="none")return null;if(l==="plainline")return Y.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:e.payload.strokeDasharray,x1:0,y1:i,x2:_c,y2:i,className:"recharts-legend-icon"});if(l==="line")return Y.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(_c,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return Y.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(_c/8,"h").concat(_c,"v").concat(_c*3/4,"h").concat(-_c,"z"),className:"recharts-legend-icon"});if(Y.isValidElement(e.legendIcon)){var c=YCe({},e);return delete c.legendIcon,Y.cloneElement(e.legendIcon,c)}return Y.createElement(X4,{fill:o,cx:i,cy:i,size:_c,sizeType:"diameter",type:l})}renderItems(){var{payload:e,iconSize:n,layout:r,formatter:i,inactiveColor:s,iconType:a}=this.props,o={x:0,y:0,width:_c,height:_c},l={display:r==="horizontal"?"inline-block":"block",marginRight:10},c={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((u,A)=>{var f=u.formatter||i,h=va({"recharts-legend-item":!0,["legend-item-".concat(A)]:!0,inactive:u.inactive});if(u.type==="none")return null;var p=u.inactive?s:u.color,y=f?f(u.value,u,A):u.value;return Y.createElement("li",JN({className:h,style:l,key:"legend-item-".concat(A)},_J(this.props,u,A)),Y.createElement(W4,{width:n,height:n,viewBox:o,style:c,"aria-label":"".concat(y," legend icon")},this.renderIcon(u,a)),Y.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},y))})}render(){var{payload:e,layout:n,align:r}=this.props;if(!e||!e.length)return null;var i={padding:0,margin:0,textAlign:n==="horizontal"?r:"left"};return Y.createElement("ul",{className:"recharts-default-legend",style:i},this.renderItems())}}Y4(J4,"displayName","Legend");Y4(J4,"defaultProps",{align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"});var VJ={},zJ={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){const i=new Map;for(let s=0;s<n.length;s++){const a=n[s],o=r(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(zJ);var Z4={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n}t.identity=e})(Z4);var jJ={},eU={},GJ={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Number.isSafeInteger(n)&&n>=0}t.isLength=e})(GJ);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=GJ;function n(r){return r!=null&&typeof r!="function"&&e.isLength(r.length)}t.isArrayLike=n})(eU);var WJ={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="object"&&n!==null}t.isObjectLike=e})(WJ);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eU,n=WJ;function r(i){return n.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=r})(jJ);var KJ={},qJ={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JB;function n(r){return function(i){return e.get(i,r)}}t.property=n})(qJ);var $J={},U5={},D5={},tU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n!==null&&(typeof n=="object"||typeof n=="function")}t.isObject=e})(tU);var nU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null||typeof n!="object"&&typeof n!="function"}t.isPrimitive=e})(nU);var hT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}t.eq=e})(hT);var yV;function eBe(){return yV||(yV=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rU(),n=tU,r=nU,i=hT;function s(A,f,h){return typeof h!="function"?e.isMatch(A,f):a(A,f,function p(y,v,m,w,_,B){const R=h(y,v,m,w,_,B);return R!==void 0?!!R:a(y,v,p,B)},new Map)}function a(A,f,h,p){if(f===A)return!0;switch(typeof f){case"object":return o(A,f,h,p);case"function":return Object.keys(f).length>0?a(A,{...f},h,p):i.eq(A,f);default:return n.isObject(A)?typeof f=="string"?f==="":!0:i.eq(A,f)}}function o(A,f,h,p){if(f==null)return!0;if(Array.isArray(f))return c(A,f,h,p);if(f instanceof Map)return l(A,f,h,p);if(f instanceof Set)return u(A,f,h,p);const y=Object.keys(f);if(A==null)return y.length===0;if(y.length===0)return!0;if(p&&p.has(f))return p.get(f)===A;p&&p.set(f,A);try{for(let v=0;v<y.length;v++){const m=y[v];if(!r.isPrimitive(A)&&!(m in A)||f[m]===void 0&&A[m]!==void 0||f[m]===null&&A[m]!==null||!h(A[m],f[m],m,A,f,p))return!1}return!0}finally{p&&p.delete(f)}}function l(A,f,h,p){if(f.size===0)return!0;if(!(A instanceof Map))return!1;for(const[y,v]of f.entries()){const m=A.get(y);if(h(m,v,y,A,f,p)===!1)return!1}return!0}function c(A,f,h,p){if(f.length===0)return!0;if(!Array.isArray(A))return!1;const y=new Set;for(let v=0;v<f.length;v++){const m=f[v];let w=!1;for(let _=0;_<A.length;_++){if(y.has(_))continue;const B=A[_];let R=!1;if(h(B,m,v,A,f,p)&&(R=!0),R){y.add(_),w=!0;break}}if(!w)return!1}return!0}function u(A,f,h,p){return f.size===0?!0:A instanceof Set?c([...A],[...f],h,p):!1}t.isMatchWith=s,t.isSetMatch=u}(D5)),D5}var wV;function rU(){return wV||(wV=1,function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eBe();function n(r,i){return e.isMatchWith(r,i,()=>{})}t.isMatch=n}(U5)),U5}var XJ={},iU={},sU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}t.getSymbols=e})(sU);var dT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}t.getTag=e})(dT);var pT={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",c="[object Set]",u="[object Array]",A="[object Function]",f="[object ArrayBuffer]",h="[object Object]",p="[object Error]",y="[object DataView]",v="[object Uint8Array]",m="[object Uint8ClampedArray]",w="[object Uint16Array]",_="[object Uint32Array]",B="[object BigUint64Array]",R="[object Int8Array]",L="[object Int16Array]",S="[object Int32Array]",M="[object BigInt64Array]",T="[object Float32Array]",F="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=f,t.arrayTag=u,t.bigInt64ArrayTag=M,t.bigUint64ArrayTag=B,t.booleanTag=i,t.dataViewTag=y,t.dateTag=o,t.errorTag=p,t.float32ArrayTag=T,t.float64ArrayTag=F,t.functionTag=A,t.int16ArrayTag=L,t.int32ArrayTag=S,t.int8ArrayTag=R,t.mapTag=l,t.numberTag=r,t.objectTag=h,t.regexpTag=e,t.setTag=c,t.stringTag=n,t.symbolTag=a,t.uint16ArrayTag=w,t.uint32ArrayTag=_,t.uint8ArrayTag=v,t.uint8ClampedArrayTag=m})(pT);var YJ={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}t.isTypedArray=e})(YJ);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sU,n=dT,r=pT,i=nU,s=YJ;function a(u,A){return o(u,void 0,u,new Map,A)}function o(u,A,f,h=new Map,p=void 0){const y=p==null?void 0:p(u,A,f,h);if(y!=null)return y;if(i.isPrimitive(u))return u;if(h.has(u))return h.get(u);if(Array.isArray(u)){const v=new Array(u.length);h.set(u,v);for(let m=0;m<u.length;m++)v[m]=o(u[m],m,f,h,p);return Object.hasOwn(u,"index")&&(v.index=u.index),Object.hasOwn(u,"input")&&(v.input=u.input),v}if(u instanceof Date)return new Date(u.getTime());if(u instanceof RegExp){const v=new RegExp(u.source,u.flags);return v.lastIndex=u.lastIndex,v}if(u instanceof Map){const v=new Map;h.set(u,v);for(const[m,w]of u)v.set(m,o(w,m,f,h,p));return v}if(u instanceof Set){const v=new Set;h.set(u,v);for(const m of u)v.add(o(m,void 0,f,h,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(u))return u.subarray();if(s.isTypedArray(u)){const v=new(Object.getPrototypeOf(u)).constructor(u.length);h.set(u,v);for(let m=0;m<u.length;m++)v[m]=o(u[m],m,f,h,p);return v}if(u instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&u instanceof SharedArrayBuffer)return u.slice(0);if(u instanceof DataView){const v=new DataView(u.buffer.slice(0),u.byteOffset,u.byteLength);return h.set(u,v),l(v,u,f,h,p),v}if(typeof File<"u"&&u instanceof File){const v=new File([u],u.name,{type:u.type});return h.set(u,v),l(v,u,f,h,p),v}if(u instanceof Blob){const v=new Blob([u],{type:u.type});return h.set(u,v),l(v,u,f,h,p),v}if(u instanceof Error){const v=new u.constructor;return h.set(u,v),v.message=u.message,v.name=u.name,v.stack=u.stack,v.cause=u.cause,l(v,u,f,h,p),v}if(typeof u=="object"&&c(u)){const v=Object.create(Object.getPrototypeOf(u));return h.set(u,v),l(v,u,f,h,p),v}return u}function l(u,A,f=u,h,p){const y=[...Object.keys(A),...e.getSymbols(A)];for(let v=0;v<y.length;v++){const m=y[v],w=Object.getOwnPropertyDescriptor(u,m);(w==null||w.writable)&&(u[m]=o(A[m],m,f,h,p))}}function c(u){switch(n.getTag(u)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=l})(iU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iU;function n(r){return e.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}t.cloneDeep=n})(XJ);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rU(),n=XJ;function r(i){return i=n.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=r})($J);var JJ={},ZJ={},eZ={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iU,n=pT;function r(i,s){return e.cloneDeepWith(i,(a,o,l,c)=>{const u=s==null?void 0:s(a,o,l,c);if(u!=null)return u;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case n.numberTag:case n.stringTag:case n.booleanTag:{const A=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(A,i),A}case n.argumentsTag:{const A={};return e.copyProperties(A,i),A.length=i.length,A[Symbol.iterator]=i[Symbol.iterator],A}default:return}})}t.cloneDeepWith=r})(eZ);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=eZ;function n(r){return e.cloneDeepWith(r)}t.cloneDeep=n})(ZJ);var tZ={},aU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return e.test(r)}}t.isIndex=n})(aU);var nZ={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dT;function n(r){return r!==null&&typeof r=="object"&&e.getTag(r)==="[object Arguments]"}t.isArguments=n})(nZ);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H4,n=aU,r=nZ,i=ZB;function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let c=a;for(let u=0;u<l.length;u++){const A=l[u];if((c==null||!Object.hasOwn(c,A))&&!((Array.isArray(c)||r.isArguments(c))&&n.isIndex(A)&&A<c.length))return!1;c=c[A]}return!0}t.has=s})(tZ);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rU(),n=V4,r=ZJ,i=JB,s=tZ;function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return l=r.cloneDeep(l),function(c){const u=i.get(c,o);return u===void 0?s.has(c,o):l===void 0?u===void 0:e.isMatch(u,l)}}t.matchesProperty=a})(JJ);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Z4,n=qJ,r=$J,i=JJ;function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):r.matches(a);case"string":case"symbol":case"number":return n.property(a)}}t.iteratee=s})(KJ);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=zJ,n=Z4,r=jJ,i=KJ;function s(a,o=n.identity){return r.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})(VJ);var tBe=VJ.uniqBy;const _V=Of(tBe);function rZ(t,e,n){return e===!0?_V(t,n):typeof e=="function"?_V(t,e):t}var oU=Y.createContext(null),nBe=t=>t,ya=()=>{var t=Y.useContext(oU);return t?t.store.dispatch:nBe},E2=()=>{},rBe=()=>E2,iBe=(t,e)=>t===e;function Wn(t){var e=Y.useContext(oU);return Ywe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:rBe,e?e.store.getState:E2,e?e.store.getState:E2,e?t:E2,iBe)}function sBe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function aBe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function oBe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var xV=t=>Array.isArray(t)?t:[t];function lBe(t){const e=Array.isArray(t[0])?t[0]:t;return oBe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function cBe(t,e){const n=[],{length:r}=t;for(let i=0;i<r;i++)n.push(t[i].apply(null,e));return n}var uBe=class{constructor(t){this.value=t}deref(){return this.value}},ABe=typeof WeakRef<"u"?WeakRef:uBe,fBe=0,bV=1;function TE(){return{s:fBe,v:void 0,o:null,p:null}}function iZ(t,e={}){let n=TE();const{resultEqualityCheck:r}=e;let i,s=0;function a(){var A;let o=n;const{length:l}=arguments;for(let f=0,h=l;f<h;f++){const p=arguments[f];if(typeof p=="function"||typeof p=="object"&&p!==null){let y=o.o;y===null&&(o.o=y=new WeakMap);const v=y.get(p);v===void 0?(o=TE(),y.set(p,o)):o=v}else{let y=o.p;y===null&&(o.p=y=new Map);const v=y.get(p);v===void 0?(o=TE(),y.set(p,o)):o=v}}const c=o;let u;if(o.s===bV)u=o.v;else if(u=t.apply(null,arguments),s++,r){const f=((A=i==null?void 0:i.deref)==null?void 0:A.call(i))??i;f!=null&&r(f,u)&&(u=f,s!==0&&s--),i=typeof u=="object"&&u!==null||typeof u=="function"?new ABe(u):u}return c.s=bV,c.v=u,u}return a.clearCache=()=>{n=TE(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function hBe(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...i)=>{let s=0,a=0,o,l={},c=i.pop();typeof c=="object"&&(l=c,c=i.pop()),sBe(c,`createSelector expects an output function after the inputs, but received: [${typeof c}]`);const u={...n,...l},{memoize:A,memoizeOptions:f=[],argsMemoize:h=iZ,argsMemoizeOptions:p=[]}=u,y=xV(f),v=xV(p),m=lBe(i),w=A(function(){return s++,c.apply(null,arguments)},...y),_=h(function(){a++;const R=cBe(m,arguments);return o=w.apply(null,R),o},...v);return Object.assign(_,{resultFunc:c,memoizedResultFunc:w,dependencies:m,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:A,argsMemoize:h})};return Object.assign(r,{withTypes:()=>r}),r}var at=hBe(iZ),dBe=Object.assign((t,e=at)=>{aBe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(s=>t[s]);return e(r,(...s)=>s.reduce((a,o,l)=>(a[n[l]]=o,a),{}))},{withTypes:()=>dBe}),sZ={},aZ={},oZ={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,s)=>{if(r!==i){const a=e(r),o=e(i);if(a===o&&a===0){if(r<i)return s==="desc"?1:-1;if(r>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=n})(oZ);var lZ={},lU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"||n instanceof Symbol}t.isSymbol=e})(lU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lU,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(r.test(s)||!n.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(lZ);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oZ,n=lZ,r=ZB;function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(h=>String(h));const c=(h,p)=>{let y=h;for(let v=0;v<p.length&&y!=null;++v)y=y[p[v]];return y},u=(h,p)=>p==null||h==null?p:typeof h=="object"&&"key"in h?Object.hasOwn(p,h.key)?p[h.key]:c(p,h.path):typeof h=="function"?h(p):Array.isArray(h)?c(p,h):typeof p=="object"?p[h]:p,A=a.map(h=>(Array.isArray(h)&&h.length===1&&(h=h[0]),h==null||typeof h=="function"||Array.isArray(h)||n.isKey(h)?h:{key:h,path:r.toPath(h)}));return s.map(h=>({original:h,criteria:A.map(p=>u(p,h))})).slice().sort((h,p)=>{for(let y=0;y<A.length;y++){const v=e.compareValues(h.criteria[y],p.criteria[y],o[y]);if(v!==0)return v}return 0}).map(h=>h.original)}t.orderBy=i})(aZ);var cZ={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n,r=1){const i=[],s=Math.floor(r),a=(o,l)=>{for(let c=0;c<o.length;c++){const u=o[c];Array.isArray(u)&&l<s?a(u,l+1):i.push(u)}};return a(n,0),i}t.flatten=e})(cZ);var cU={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aU,n=eU,r=tU,i=hT;function s(a,o,l){return r.isObject(l)&&(typeof o=="number"&&n.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}t.isIterateeCall=s})(cU);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=aZ,n=cZ,r=cU;function i(s,...a){const o=a.length;return o>1&&r.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&r.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,n.flatten(a),["asc"])}t.sortBy=i})(sZ);var pBe=sZ.sortBy;const mT=Of(pBe);var uZ=t=>t.legend.settings,mBe=t=>t.legend.size,gBe=t=>t.legend.payload,vBe=at([gBe,uZ],(t,e)=>{var{itemSorter:n}=e,r=t.flat(1);return n?mT(r,n):r});function yBe(){return Wn(vBe)}var ME=1;function AZ(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,n]=Y.useState({height:0,left:0,top:0,width:0}),r=Y.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>ME||Math.abs(a.left-e.left)>ME||Math.abs(a.top-e.top)>ME||Math.abs(a.width-e.width)>ME)&&n({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,r]}function Na(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var wBe=typeof Symbol=="function"&&Symbol.observable||"@@observable",EV=wBe,O5=()=>Math.random().toString(36).substring(7).split("").join("."),_Be={INIT:`@@redux/INIT${O5()}`,REPLACE:`@@redux/REPLACE${O5()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${O5()}`},GS=_Be;function uU(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function fZ(t,e,n){if(typeof t!="function")throw new Error(Na(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Na(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Na(1));return n(fZ)(t,e)}let r=t,i=e,s=new Map,a=s,o=0,l=!1;function c(){a===s&&(a=new Map,s.forEach((v,m)=>{a.set(m,v)}))}function u(){if(l)throw new Error(Na(3));return i}function A(v){if(typeof v!="function")throw new Error(Na(4));if(l)throw new Error(Na(5));let m=!0;c();const w=o++;return a.set(w,v),function(){if(m){if(l)throw new Error(Na(6));m=!1,c(),a.delete(w),s=null}}}function f(v){if(!uU(v))throw new Error(Na(7));if(typeof v.type>"u")throw new Error(Na(8));if(typeof v.type!="string")throw new Error(Na(17));if(l)throw new Error(Na(9));try{l=!0,i=r(i,v)}finally{l=!1}return(s=a).forEach(w=>{w()}),v}function h(v){if(typeof v!="function")throw new Error(Na(10));r=v,f({type:GS.REPLACE})}function p(){const v=A;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error(Na(11));function w(){const B=m;B.next&&B.next(u())}return w(),{unsubscribe:v(w)}},[EV](){return this}}}return f({type:GS.INIT}),{dispatch:f,subscribe:A,getState:u,replaceReducer:h,[EV]:p}}function xBe(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:GS.INIT})>"u")throw new Error(Na(12));if(typeof n(void 0,{type:GS.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Na(13))})}function hZ(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(n[a]=t[a])}const r=Object.keys(n);let i;try{xBe(n)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const c={};for(let u=0;u<r.length;u++){const A=r[u],f=n[A],h=a[A],p=f(h,o);if(typeof p>"u")throw o&&o.type,new Error(Na(14));c[A]=p,l=l||p!==h}return l=l||r.length!==Object.keys(a).length,l?c:a}}function WS(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function bBe(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Na(15))};const a={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},o=t.map(l=>l(a));return s=WS(...o)(i.dispatch),{...i,dispatch:s}}}function dZ(t){return uU(t)&&"type"in t&&typeof t.type=="string"}var pZ=Symbol.for("immer-nothing"),SV=Symbol.for("immer-draftable"),$l=Symbol.for("immer-state");function fu(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Mv=Object.getPrototypeOf;function Fm(t){return!!t&&!!t[$l]}function If(t){var e;return t?mZ(t)||Array.isArray(t)||!!t[SV]||!!((e=t.constructor)!=null&&e[SV])||vT(t)||yT(t):!1}var EBe=Object.prototype.constructor.toString();function mZ(t){if(!t||typeof t!="object")return!1;const e=Mv(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===EBe}function KS(t,e){gT(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function gT(t){const e=t[$l];return e?e.type_:Array.isArray(t)?1:vT(t)?2:yT(t)?3:0}function ZN(t,e){return gT(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function gZ(t,e,n){const r=gT(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function SBe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function vT(t){return t instanceof Map}function yT(t){return t instanceof Set}function Dp(t){return t.copy_||t.base_}function eL(t,e){if(vT(t))return new Map(t);if(yT(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=mZ(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[$l];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const a=i[s],o=r[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(Mv(t),r)}else{const r=Mv(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function AU(t,e=!1){return wT(t)||Fm(t)||!If(t)||(gT(t)>1&&(t.set=t.add=t.clear=t.delete=CBe),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>AU(r,!0))),t}function CBe(){fu(2)}function wT(t){return Object.isFrozen(t)}var BBe={};function Rm(t){const e=BBe[t];return e||fu(0,t),e}var o_;function vZ(){return o_}function TBe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function CV(t,e){e&&(Rm("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function tL(t){nL(t),t.drafts_.forEach(MBe),t.drafts_=null}function nL(t){t===o_&&(o_=t.parent_)}function BV(t){return o_=TBe(o_,t)}function MBe(t){const e=t[$l];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function TV(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[$l].modified_&&(tL(e),fu(4)),If(t)&&(t=qS(e,t),e.parent_||$S(e,t)),e.patches_&&Rm("Patches").generateReplacementPatches_(n[$l].base_,t,e.patches_,e.inversePatches_)):t=qS(e,n,[]),tL(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==pZ?t:void 0}function qS(t,e,n){if(wT(e))return e;const r=e[$l];if(!r)return KS(e,(i,s)=>MV(t,r,e,i,s,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return $S(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,a=!1;r.type_===3&&(s=new Set(i),i.clear(),a=!0),KS(s,(o,l)=>MV(t,r,i,o,l,n,a)),$S(t,i,!1),n&&t.patches_&&Rm("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function MV(t,e,n,r,i,s,a){if(Fm(i)){const o=s&&e&&e.type_!==3&&!ZN(e.assigned_,r)?s.concat(r):void 0,l=qS(t,i,o);if(gZ(n,r,l),Fm(l))t.canAutoFreeze_=!1;else return}else a&&n.add(i);if(If(i)&&!wT(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;qS(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&$S(t,i)}}function $S(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&AU(e,n)}function IBe(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:vZ(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=fU;n&&(i=[r],s=l_);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return r.draft_=o,r.revoke_=a,o}var fU={get(t,e){if(e===$l)return t;const n=Dp(t);if(!ZN(n,e))return PBe(t,n,e);const r=n[e];return t.finalized_||!If(r)?r:r===k5(t.base_,e)?(Q5(t),t.copy_[e]=iL(r,t)):r},has(t,e){return e in Dp(t)},ownKeys(t){return Reflect.ownKeys(Dp(t))},set(t,e,n){const r=yZ(Dp(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=k5(Dp(t),e),s=i==null?void 0:i[$l];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(SBe(n,i)&&(n!==void 0||ZN(t.base_,e)))return!0;Q5(t),rL(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return k5(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Q5(t),rL(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=Dp(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){fu(11)},getPrototypeOf(t){return Mv(t.base_)},setPrototypeOf(){fu(12)}},l_={};KS(fU,(t,e)=>{l_[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});l_.deleteProperty=function(t,e){return l_.set.call(this,t,e,void 0)};l_.set=function(t,e,n){return fU.set.call(this,t[0],e,n,t[0])};function k5(t,e){const n=t[$l];return(n?Dp(n):t)[e]}function PBe(t,e,n){var i;const r=yZ(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function yZ(t,e){if(!(e in t))return;let n=Mv(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Mv(n)}}function rL(t){t.modified_||(t.modified_=!0,t.parent_&&rL(t.parent_))}function Q5(t){t.copy_||(t.copy_=eL(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var NBe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const s=n;n=e;const a=this;return function(l=s,...c){return a.produce(l,u=>n.call(this,u,...c))}}typeof n!="function"&&fu(6),r!==void 0&&typeof r!="function"&&fu(7);let i;if(If(e)){const s=BV(this),a=iL(e,void 0);let o=!0;try{i=n(a),o=!1}finally{o?tL(s):nL(s)}return CV(s,r),TV(i,s)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===pZ&&(i=void 0),this.autoFreeze_&&AU(i,!0),r){const s=[],a=[];Rm("Patches").generateReplacementPatches_(e,i,s,a),r(s,a)}return i}else fu(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let r,i;return[this.produce(e,n,(a,o)=>{r=a,i=o}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){If(t)||fu(8),Fm(t)&&(t=yf(t));const e=BV(this),n=iL(t,void 0);return n[$l].isManual_=!0,nL(e),n}finishDraft(t,e){const n=t&&t[$l];(!n||!n.isManual_)&&fu(9);const{scope_:r}=n;return CV(r,e),TV(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=Rm("Patches").applyPatches_;return Fm(t)?r(t,e):this.produce(t,i=>r(i,e))}};function iL(t,e){const n=vT(t)?Rm("MapSet").proxyMap_(t,e):yT(t)?Rm("MapSet").proxySet_(t,e):IBe(t,e);return(e?e.scope_:vZ()).drafts_.push(n),n}function yf(t){return Fm(t)||fu(10,t),wZ(t)}function wZ(t){if(!If(t)||wT(t))return t;const e=t[$l];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=eL(t,e.scope_.immer_.useStrictShallowCopy_)}else n=eL(t,!0);return KS(n,(r,i)=>{gZ(n,r,wZ(i))}),e&&(e.finalized_=!1),n}var Xl=new NBe,_Z=Xl.produce;Xl.produceWithPatches.bind(Xl);Xl.setAutoFreeze.bind(Xl);Xl.setUseStrictShallowCopy.bind(Xl);Xl.applyPatches.bind(Xl);Xl.createDraft.bind(Xl);Xl.finishDraft.bind(Xl);function xZ(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var LBe=xZ(),FBe=xZ,RBe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?WS:WS.apply(null,arguments)};function Oc(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(Wl(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>dZ(r)&&r.type===t,n}var bZ=class P1 extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,P1.prototype)}static get[Symbol.species](){return P1}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new P1(...e[0].concat(this)):new P1(...e.concat(this))}};function IV(t){return If(t)?_Z(t,()=>{}):t}function IE(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function UBe(t){return typeof t=="boolean"}var DBe=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new bZ;return n&&(UBe(n)?a.push(LBe):a.push(FBe(n.extraArgument))),a},OBe="RTK_autoBatch",PV=t=>e=>{setTimeout(e,t)},kBe=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:PV(10):t.type==="callback"?t.queueNotification:PV(t.timeout),c=()=>{a=!1,s&&(s=!1,o.forEach(u=>u()))};return Object.assign({},r,{subscribe(u){const A=()=>i&&u(),f=r.subscribe(A);return o.add(u),()=>{f(),o.delete(u)}},dispatch(u){var A;try{return i=!((A=u==null?void 0:u.meta)!=null&&A[OBe]),s=!i,s&&(a||(a=!0,l(c))),r.dispatch(u)}finally{i=!0}}})},QBe=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new bZ(t);return r&&i.push(kBe(typeof r=="object"?r:void 0)),i};function HBe(t){const e=DBe(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof n=="function")o=n;else if(uU(n))o=hZ(n);else throw new Error(Wl(1));let l;typeof r=="function"?l=r(e):l=e();let c=WS;i&&(c=RBe({trace:!1,...typeof i=="object"&&i}));const u=bBe(...l),A=QBe(u);let f=typeof a=="function"?a(A):A();const h=c(...f);return fZ(o,s,h)}function EZ(t){const e={},n=[];let r;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Wl(28));if(o in e)throw new Error(Wl(29));return e[o]=a,i},addMatcher(s,a){return n.push({matcher:s,reducer:a}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function VBe(t){return typeof t=="function"}function zBe(t,e){let[n,r,i]=EZ(e),s;if(VBe(t))s=()=>IV(t());else{const o=IV(t);s=()=>o}function a(o=s(),l){let c=[n[l.type],...r.filter(({matcher:u})=>u(l)).map(({reducer:u})=>u)];return c.filter(u=>!!u).length===0&&(c=[i]),c.reduce((u,A)=>{if(A)if(Fm(u)){const h=A(u,l);return h===void 0?u:h}else{if(If(u))return _Z(u,f=>A(f,l));{const f=A(u,l);if(f===void 0){if(u===null)return u;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return u},o)}return a.getInitialState=s,a}var jBe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",GBe=(t=21)=>{let e="",n=t;for(;n--;)e+=jBe[Math.random()*64|0];return e},WBe=Symbol.for("rtk-slice-createasyncthunk");function KBe(t,e){return`${t}/${e}`}function qBe({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[WBe];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Wl(11));const o=(typeof i.reducers=="function"?i.reducers(XBe()):i.reducers)||{},l=Object.keys(o),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},u={addCase(B,R){const L=typeof B=="string"?B:B.type;if(!L)throw new Error(Wl(12));if(L in c.sliceCaseReducersByType)throw new Error(Wl(13));return c.sliceCaseReducersByType[L]=R,u},addMatcher(B,R){return c.sliceMatchers.push({matcher:B,reducer:R}),u},exposeAction(B,R){return c.actionCreators[B]=R,u},exposeCaseReducer(B,R){return c.sliceCaseReducersByName[B]=R,u}};l.forEach(B=>{const R=o[B],L={reducerName:B,type:KBe(s,B),createNotation:typeof i.reducers=="function"};JBe(R)?eTe(L,R,u,e):YBe(L,R,u)});function A(){const[B={},R=[],L=void 0]=typeof i.extraReducers=="function"?EZ(i.extraReducers):[i.extraReducers],S={...B,...c.sliceCaseReducersByType};return zBe(i.initialState,M=>{for(let T in S)M.addCase(T,S[T]);for(let T of c.sliceMatchers)M.addMatcher(T.matcher,T.reducer);for(let T of R)M.addMatcher(T.matcher,T.reducer);L&&M.addDefaultCase(L)})}const f=B=>B,h=new Map,p=new WeakMap;let y;function v(B,R){return y||(y=A()),y(B,R)}function m(){return y||(y=A()),y.getInitialState()}function w(B,R=!1){function L(M){let T=M[B];return typeof T>"u"&&R&&(T=IE(p,L,m)),T}function S(M=f){const T=IE(h,R,()=>new WeakMap);return IE(T,M,()=>{const F={};for(const[P,D]of Object.entries(i.selectors??{}))F[P]=$Be(D,M,()=>IE(p,M,m),R);return F})}return{reducerPath:B,getSelectors:S,get selectors(){return S(L)},selectSlice:L}}const _={name:s,reducer:v,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:m,...w(a),injectInto(B,{reducerPath:R,...L}={}){const S=R??a;return B.inject({reducerPath:S,reducer:v},L),{..._,...w(S,!0)}}};return _}}function $Be(t,e,n,r){function i(s,...a){let o=e(s);return typeof o>"u"&&r&&(o=n()),t(o,...a)}return i.unwrapped=t,i}var Hc=qBe();function XBe(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function YBe({type:t,reducerName:e,createNotation:n},r,i){let s,a;if("reducer"in r){if(n&&!ZBe(r))throw new Error(Wl(17));s=r.reducer,a=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Oc(t,a):Oc(t))}function JBe(t){return t._reducerDefinitionType==="asyncThunk"}function ZBe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function eTe({type:t,reducerName:e},n,r,i){if(!i)throw new Error(Wl(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:c,options:u}=n,A=i(t,s,u);r.exposeAction(e,A),a&&r.addCase(A.fulfilled,a),o&&r.addCase(A.pending,o),l&&r.addCase(A.rejected,l),c&&r.addMatcher(A.settled,c),r.exposeCaseReducer(e,{fulfilled:a||PE,pending:o||PE,rejected:l||PE,settled:c||PE})}function PE(){}var tTe="task",SZ="listener",CZ="completed",hU="cancelled",nTe=`task-${hU}`,rTe=`task-${CZ}`,sL=`${SZ}-${hU}`,iTe=`${SZ}-${CZ}`,_T=class{constructor(t){NM(this,"name","TaskAbortError");NM(this,"message");this.code=t,this.message=`${tTe} ${hU} (reason: ${t})`}},dU=(t,e)=>{if(typeof t!="function")throw new TypeError(Wl(32))},XS=()=>{},BZ=(t,e=XS)=>(t.catch(e),t),TZ=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),pm=(t,e)=>{const n=t.signal;n.aborted||("reason"in n||Object.defineProperty(n,"reason",{enumerable:!0,value:e,configurable:!0,writable:!0}),t.abort(e))},mm=t=>{if(t.aborted){const{reason:e}=t;throw new _T(e)}};function MZ(t,e){let n=XS;return new Promise((r,i)=>{const s=()=>i(new _T(t.reason));if(t.aborted){s();return}n=TZ(t,s),e.finally(()=>n()).then(r,i)}).finally(()=>{n=XS})}var sTe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(n){return{status:n instanceof _T?"cancelled":"rejected",error:n}}finally{e==null||e()}},YS=t=>e=>BZ(MZ(t,e).then(n=>(mm(t),n))),IZ=t=>{const e=YS(t);return n=>e(new Promise(r=>setTimeout(r,n)))},{assign:ev}=Object,NV={},xT="listenerMiddleware",aTe=(t,e)=>{const n=r=>TZ(t,()=>pm(r,t.reason));return(r,i)=>{dU(r);const s=new AbortController;n(s);const a=sTe(async()=>{mm(t),mm(s.signal);const o=await r({pause:YS(s.signal),delay:IZ(s.signal),signal:s.signal});return mm(s.signal),o},()=>pm(s,rTe));return i!=null&&i.autoJoin&&e.push(a.catch(XS)),{result:YS(t)(a),cancel(){pm(s,nTe)}}}},oTe=(t,e)=>{const n=async(r,i)=>{mm(e);let s=()=>{};const o=[new Promise((l,c)=>{let u=t({predicate:r,effect:(A,f)=>{f.unsubscribe(),l([A,f.getState(),f.getOriginalState()])}});s=()=>{u(),c()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await MZ(e,Promise.race(o));return mm(e),l}finally{s()}};return(r,i)=>BZ(n(r,i))},PZ=t=>{let{type:e,actionCreator:n,matcher:r,predicate:i,effect:s}=t;if(e)i=Oc(e).match;else if(n)e=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(Wl(21));return dU(s),{predicate:i,type:e,effect:s}},NZ=ev(t=>{const{type:e,predicate:n,effect:r}=PZ(t);return{id:GBe(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(Wl(22))}}},{withTypes:()=>NZ}),LV=(t,e)=>{const{type:n,effect:r,predicate:i}=PZ(e);return Array.from(t.values()).find(s=>(typeof n=="string"?s.type===n:s.predicate===i)&&s.effect===r)},aL=t=>{t.pending.forEach(e=>{pm(e,sL)})},lTe=t=>()=>{t.forEach(aL),t.clear()},FV=(t,e,n)=>{try{t(e,n)}catch(r){setTimeout(()=>{throw r},0)}},LZ=ev(Oc(`${xT}/add`),{withTypes:()=>LZ}),cTe=Oc(`${xT}/removeAll`),FZ=ev(Oc(`${xT}/remove`),{withTypes:()=>FZ}),uTe=(...t)=>{console.error(`${xT}/error`,...t)},ex=(t={})=>{const e=new Map,{extra:n,onError:r=uTe}=t;dU(r);const i=u=>(u.unsubscribe=()=>e.delete(u.id),e.set(u.id,u),A=>{u.unsubscribe(),A!=null&&A.cancelActive&&aL(u)}),s=u=>{const A=LV(e,u)??NZ(u);return i(A)};ev(s,{withTypes:()=>s});const a=u=>{const A=LV(e,u);return A&&(A.unsubscribe(),u.cancelActive&&aL(A)),!!A};ev(a,{withTypes:()=>a});const o=async(u,A,f,h)=>{const p=new AbortController,y=oTe(s,p.signal),v=[];try{u.pending.add(p),await Promise.resolve(u.effect(A,ev({},f,{getOriginalState:h,condition:(m,w)=>y(m,w).then(Boolean),take:y,delay:IZ(p.signal),pause:YS(p.signal),extra:n,signal:p.signal,fork:aTe(p.signal,v),unsubscribe:u.unsubscribe,subscribe:()=>{e.set(u.id,u)},cancelActiveListeners:()=>{u.pending.forEach((m,w,_)=>{m!==p&&(pm(m,sL),_.delete(m))})},cancel:()=>{pm(p,sL),u.pending.delete(p)},throwIfCancelled:()=>{mm(p.signal)}})))}catch(m){m instanceof _T||FV(r,m,{raisedBy:"effect"})}finally{await Promise.all(v),pm(p,iTe),u.pending.delete(p)}},l=lTe(e);return{middleware:u=>A=>f=>{if(!dZ(f))return A(f);if(LZ.match(f))return s(f.payload);if(cTe.match(f)){l();return}if(FZ.match(f))return a(f.payload);let h=u.getState();const p=()=>{if(h===NV)throw new Error(Wl(23));return h};let y;try{if(y=A(f),e.size>0){const v=u.getState(),m=Array.from(e.values());for(const w of m){let _=!1;try{_=w.predicate(f,v,h)}catch(B){_=!1,FV(r,B,{raisedBy:"predicate"})}_&&o(w,f,u,p)}}}finally{h=NV}return y},startListening:s,stopListening:a,clearListeners:l}};function Wl(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var ATe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},RZ=Hc({name:"chartLayout",initialState:ATe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){t.margin.top=e.payload.top,t.margin.right=e.payload.right,t.margin.bottom=e.payload.bottom,t.margin.left=e.payload.left},setScale(t,e){t.scale=e.payload}}}),{setMargin:fTe,setLayout:hTe,setChartSize:dTe,setScale:pTe}=RZ.actions,mTe=RZ.reducer;function RV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function UV(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RV(Object(n),!0).forEach(function(r){gTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gTe(t,e,n){return(e=vTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vTe(t){var e=yTe(t,"string");return typeof e=="symbol"?e:e+""}function yTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var JS=Math.PI/180,wTe=t=>t*180/Math.PI,mo=(t,e,n,r)=>({x:t+Math.cos(-JS*r)*n,y:e+Math.sin(-JS*r)*n}),UZ=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},_Te=(t,e)=>{var{x:n,y:r}=t,{x:i,y:s}=e;return Math.sqrt((n-i)**2+(r-s)**2)},xTe=(t,e)=>{var{x:n,y:r}=t,{cx:i,cy:s}=e,a=_Te({x:n,y:r},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(n-i)/a,l=Math.acos(o);return r>s&&(l=2*Math.PI-l),{radius:a,angle:wTe(l),angleInRadian:l}},bTe=t=>{var{startAngle:e,endAngle:n}=t,r=Math.floor(e/360),i=Math.floor(n/360),s=Math.min(r,i);return{startAngle:e-s*360,endAngle:n-s*360}},ETe=(t,e)=>{var{startAngle:n,endAngle:r}=e,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return t+a*360},STe=(t,e)=>{var{x:n,y:r}=t,{radius:i,angle:s}=xTe({x:n,y:r},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:c}=bTe(e),u=s,A;if(l<=c){for(;u>c;)u-=360;for(;u<l;)u+=360;A=u>=l&&u<=c}else{for(;u>l;)u-=360;for(;u<c;)u+=360;A=u>=c&&u<=l}return A?UV(UV({},e),{},{radius:i,angle:ETe(u,e)}):null};function DV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Tc(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DV(Object(n),!0).forEach(function(r){CTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function CTe(t,e,n){return(e=BTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BTe(t){var e=TTe(t,"string");return typeof e=="symbol"?e:e+""}function TTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pa(t,e,n){return Lm(t)||Lm(e)?n:Mf(e)?Cv(t,e,n):typeof e=="function"?e(t):n}var MTe=(t,e,n,r,i)=>{var s,a=-1,o=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(o<=1||t==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var l=0;l<o;l++){var c=l>0?n[l-1].coordinate:n[o-1].coordinate,u=n[l].coordinate,A=l>=o-1?n[0].coordinate:n[l+1].coordinate,f=void 0;if(Hl(u-c)!==Hl(A-u)){var h=[];if(Hl(A-u)===Hl(i[1]-i[0])){f=A;var p=u+i[1]-i[0];h[0]=Math.min(p,(p+c)/2),h[1]=Math.max(p,(p+c)/2)}else{f=c;var y=A+i[1]-i[0];h[0]=Math.min(u,(y+u)/2),h[1]=Math.max(u,(y+u)/2)}var v=[Math.min(u,(f+u)/2),Math.max(u,(f+u)/2)];if(t>v[0]&&t<=v[1]||t>=h[0]&&t<=h[1]){({index:a}=n[l]);break}}else{var m=Math.min(c,A),w=Math.max(c,A);if(t>(m+u)/2&&t<=(w+u)/2){({index:a}=n[l]);break}}}else if(e){for(var _=0;_<o;_++)if(_===0&&t<=(e[_].coordinate+e[_+1].coordinate)/2||_>0&&_<o-1&&t>(e[_].coordinate+e[_-1].coordinate)/2&&t<=(e[_].coordinate+e[_+1].coordinate)/2||_===o-1&&t>(e[_].coordinate+e[_-1].coordinate)/2){({index:a}=e[_]);break}}return a},ITe=(t,e,n)=>{if(e&&n){var{width:r,height:i}=n,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&Jn(t[s]))return Tc(Tc({},t),{},{[s]:t[s]+(r||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&Jn(t[a]))return Tc(Tc({},t),{},{[a]:t[a]+(i||0)})}return t},Zm=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",OV=1e-4,PTe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var n=e.length,r=t.range(),i=Math.min(r[0],r[1])-OV,s=Math.max(r[0],r[1])+OV,a=t(e[0]),o=t(e[n-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[n-1]])}},NTe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0,a=0;a<e;++a){var o=Su(t[a][n][1])?t[a][n][0]:t[a][n][1];o>=0?(t[a][n][0]=i,t[a][n][1]=i+o,i=t[a][n][1]):(t[a][n][0]=s,t[a][n][1]=s+o,s=t[a][n][1])}},LTe=t=>{var e=t.length;if(!(e<=0))for(var n=0,r=t[0].length;n<r;++n)for(var i=0,s=0;s<e;++s){var a=Su(t[s][n][1])?t[s][n][0]:t[s][n][1];a>=0?(t[s][n][0]=i,t[s][n][1]=i+a,i=t[s][n][1]):(t[s][n][0]=0,t[s][n][1]=0)}},FTe={sign:NTe,expand:OCe,none:Tv,silhouette:kCe,wiggle:QCe,positive:LTe},RTe=(t,e,n)=>{var r=FTe[n],i=DCe().keys(e).value((s,a)=>+pa(s,a,0)).order(XN).offset(r);return i(t)},UTe=t=>{var e=t.flat(2).filter(Jn);return[Math.min(...e),Math.max(...e)]},DTe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],OTe=(t,e,n)=>{if(t!=null)return DTe(Object.keys(t).reduce((r,i)=>{var s=t[i],{stackedData:a}=s,o=a.reduce((l,c)=>{var u=UTe(c.slice(e,n+1));return[Math.min(l[0],u[0]),Math.max(l[1],u[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},kV=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,QV=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kTe=(t,e,n)=>{if(t&&t.scale&&t.scale.bandwidth){var r=t.scale.bandwidth();return r}if(t&&e&&e.length>=2){for(var i=mT(e,u=>u.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],c=i[a-1];s=Math.min((l.coordinate||0)-(c.coordinate||0),s)}return s===1/0?0:s}return 0};function HV(t){var{tooltipEntrySettings:e,dataKey:n,payload:r,value:i,name:s}=t;return Tc(Tc({},e),{},{dataKey:n,payload:r,value:i,name:s})}function DZ(t,e){if(t)return String(t);if(typeof e=="string")return e}function QTe(t,e,n,r,i){if(n==="horizontal"||n==="vertical"){var s=t>=i.left&&t<=i.left+i.width&&e>=i.top&&e<=i.top+i.height;return s?{x:t,y:e}:null}return r?STe({x:t,y:e},r):null}var HTe=(t,e,n,r)=>{var i=e.find(c=>c&&c.index===n);if(i){if(t==="horizontal")return{x:i.coordinate,y:r.y};if(t==="vertical")return{x:r.x,y:i.coordinate};if(t==="centric"){var s=i.coordinate,{radius:a}=r;return Tc(Tc(Tc({},r),mo(r.cx,r.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=r;return Tc(Tc(Tc({},r),mo(r.cx,r.cy,o,l)),{},{angle:l,radius:o})}return{x:0,y:0}},VTe=(t,e)=>e==="horizontal"?t.x:e==="vertical"?t.y:e==="centric"?t.angle:t.radius,Hf=t=>t.layout.width,Vf=t=>t.layout.height,zTe=t=>t.layout.scale,OZ=t=>t.layout.margin,pU=at(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),mU=at(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),kZ="data-recharts-item-index",QZ="data-recharts-item-data-key",bT=60;function VV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function yh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VV(Object(n),!0).forEach(function(r){jTe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function jTe(t,e,n){return(e=GTe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function GTe(t){var e=WTe(t,"string");return typeof e=="symbol"?e:e+""}function WTe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var KTe=t=>t.brush.height,xo=at([Hf,Vf,OZ,KTe,pU,mU,uZ,mBe],(t,e,n,r,i,s,a,o)=>{var l=s.reduce((p,y)=>{var{orientation:v}=y;if(!y.mirror&&!y.hide){var m=typeof y.width=="number"?y.width:bT;return yh(yh({},p),{},{[v]:p[v]+m})}return p},{left:n.left||0,right:n.right||0}),c=i.reduce((p,y)=>{var{orientation:v}=y;return!y.mirror&&!y.hide?yh(yh({},p),{},{[v]:Cv(p,"".concat(v))+y.height}):p},{top:n.top||0,bottom:n.bottom||0}),u=yh(yh({},c),l),A=u.bottom;u.bottom+=r,u=ITe(u,a,o);var f=t-u.left-u.right,h=e-u.top-u.bottom;return yh(yh({brushBottom:A},u),{},{width:Math.max(f,0),height:Math.max(h,0)})}),qTe=at(xo,t=>({x:t.left,y:t.top,width:t.width,height:t.height}));at(Hf,Vf,(t,e)=>({x:0,y:0,width:t,height:e}));var $Te=Y.createContext(null),ty=()=>Y.useContext($Te)!=null,ET=t=>t.brush,ST=at([ET,xo,OZ],(t,e,n)=>({height:t.height,x:Jn(t.x)?t.x:e.left,y:Jn(t.y)?t.y:e.top+e.height+e.brushBottom-((n==null?void 0:n.bottom)||0),width:Jn(t.width)?t.width:e.width})),HZ=()=>{var t,e=ty(),n=Wn(qTe),r=Wn(ST),i=(t=Wn(ET))===null||t===void 0?void 0:t.padding;return!e||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},XTe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},YTe=()=>{var t;return(t=Wn(xo))!==null&&t!==void 0?t:XTe},VZ=()=>Wn(Hf),zZ=()=>Wn(Vf),JTe={top:0,right:0,bottom:0,left:0},ZTe=()=>{var t;return(t=Wn(e=>e.layout.margin))!==null&&t!==void 0?t:JTe},Ui=t=>t.layout.layoutType,jZ=()=>Wn(Ui),eMe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},GZ=Hc({name:"legend",initialState:eMe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload(t,e){t.payload.push(e.payload)},removeLegendPayload(t,e){var n=yf(t).payload.indexOf(e.payload);n>-1&&t.payload.splice(n,1)}}}),{setLegendSize:zV,setLegendSettings:tMe,addLegendPayload:nMe,removeLegendPayload:rMe}=GZ.actions,iMe=GZ.reducer,sMe=["contextPayload"];function oL(){return oL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oL.apply(null,arguments)}function jV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Iv(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?jV(Object(n),!0).forEach(function(r){gU(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):jV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gU(t,e,n){return(e=aMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function aMe(t){var e=oMe(t,"string");return typeof e=="symbol"?e:e+""}function oMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lMe(t,e){if(t==null)return{};var n,r,i=cMe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function cMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function uMe(t){return t.value}function AMe(t){var{contextPayload:e}=t,n=lMe(t,sMe),r=rZ(e,t.payloadUniqBy,uMe),i=Iv(Iv({},n),{},{payload:r});return Y.isValidElement(t.content)?Y.cloneElement(t.content,i):typeof t.content=="function"?Y.createElement(t.content,i):Y.createElement(J4,i)}function fMe(t,e,n,r,i,s){var{layout:a,align:o,verticalAlign:l}=e,c,u;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&a==="vertical"?c={left:((r||0)-s.width)/2}:c=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?u={top:((i||0)-s.height)/2}:u=l==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Iv(Iv({},c),u)}function hMe(t){var e=ya();return Y.useEffect(()=>{e(tMe(t))},[e,t]),null}function dMe(t){var e=ya();return Y.useEffect(()=>(e(zV(t)),()=>{e(zV({width:0,height:0}))}),[e,t]),null}function pMe(t){var e=yBe(),n=oCe(),r=ZTe(),{width:i,height:s,wrapperStyle:a,portal:o}=t,[l,c]=AZ([e]),u=VZ(),A=zZ(),f=u-(r.left||0)-(r.right||0),h=CT.getWidthOrHeight(t.layout,s,i,f),p=o?a:Iv(Iv({position:"absolute",width:(h==null?void 0:h.width)||i||"auto",height:(h==null?void 0:h.height)||s||"auto"},fMe(a,t,r,u,A,l)),a),y=o??n;if(y==null)return null;var v=Y.createElement("div",{className:"recharts-legend-wrapper",style:p,ref:c},Y.createElement(hMe,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),Y.createElement(dMe,{width:l.width,height:l.height}),Y.createElement(AMe,oL({},t,h,{margin:r,chartWidth:u,chartHeight:A,contextPayload:e})));return fR.createPortal(v,y)}class CT extends Y.PureComponent{static getWidthOrHeight(e,n,r,i){return e==="vertical"&&Jn(n)?{height:n}:e==="horizontal"?{width:r||i}:null}render(){return Y.createElement(pMe,this.props)}}gU(CT,"displayName","Legend");gU(CT,"defaultProps",{align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"});function lL(){return lL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lL.apply(null,arguments)}function GV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function H5(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GV(Object(n),!0).forEach(function(r){mMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mMe(t,e,n){return(e=gMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gMe(t){var e=vMe(t,"string");return typeof e=="symbol"?e:e+""}function vMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yMe(t){return Array.isArray(t)&&Mf(t[0])&&Mf(t[1])?t.join(" ~ "):t}var wMe=t=>{var{separator:e=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:c,label:u,labelFormatter:A,accessibilityLayer:f=!1}=t,h=()=>{if(s&&s.length){var R={padding:0,margin:0},L=(o?mT(s,o):s).map((S,M)=>{if(S.type==="none")return null;var T=S.formatter||a||yMe,{value:F,name:P}=S,D=F,H=P;if(T){var X=T(F,P,S,M,s);if(Array.isArray(X))[D,H]=X;else if(X!=null)D=X;else return null}var fe=H5({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},r);return Y.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(M),style:fe},Mf(H)?Y.createElement("span",{className:"recharts-tooltip-item-name"},H):null,Mf(H)?Y.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,Y.createElement("span",{className:"recharts-tooltip-item-value"},D),Y.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return Y.createElement("ul",{className:"recharts-tooltip-item-list",style:R},L)}return null},p=H5({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),y=H5({margin:0},i),v=!Lm(u),m=v?u:"",w=va("recharts-default-tooltip",l),_=va("recharts-tooltip-label",c);v&&A&&s!==void 0&&s!==null&&(m=A(u,s));var B=f?{role:"status","aria-live":"assertive"}:{};return Y.createElement("div",lL({className:w,style:p},B),Y.createElement("p",{className:_,style:y},Y.isValidElement(m)?m:"".concat(m)),h())},c1="recharts-tooltip-wrapper",_Me={visibility:"hidden"};function xMe(t){var{coordinate:e,translateX:n,translateY:r}=t;return va(c1,{["".concat(c1,"-right")]:Jn(n)&&e&&Jn(e.x)&&n>=e.x,["".concat(c1,"-left")]:Jn(n)&&e&&Jn(e.x)&&n<e.x,["".concat(c1,"-bottom")]:Jn(r)&&e&&Jn(e.y)&&r>=e.y,["".concat(c1,"-top")]:Jn(r)&&e&&Jn(e.y)&&r<e.y})}function WV(t){var{allowEscapeViewBox:e,coordinate:n,key:r,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:c}=t;if(s&&Jn(s[r]))return s[r];var u=n[r]-o-(i>0?i:0),A=n[r]+i;if(e[r])return a[r]?u:A;var f=l[r];if(f==null)return 0;if(a[r]){var h=u,p=f;return h<p?Math.max(A,f):Math.max(u,f)}if(c==null)return 0;var y=A+o,v=f+c;return y>v?Math.max(u,f):Math.max(A,f)}function bMe(t){var{translateX:e,translateY:n,useTranslate3d:r}=t;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function EMe(t){var{allowEscapeViewBox:e,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=t,c,u,A;return a.height>0&&a.width>0&&n?(u=WV({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),A=WV({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=bMe({translateX:u,translateY:A,useTranslate3d:o})):c=_Me,{cssProperties:c,cssClasses:xMe({translateX:u,translateY:A,coordinate:n})}}function KV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function NE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?KV(Object(n),!0).forEach(function(r){cL(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):KV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cL(t,e,n){return(e=SMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function SMe(t){var e=CMe(t,"string");return typeof e=="symbol"?e:e+""}function CMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class BMe extends Y.PureComponent{constructor(){super(...arguments),cL(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),cL(this,"handleKeyDown",e=>{if(e.key==="Escape"){var n,r,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,n;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:c,position:u,reverseDirection:A,useTranslate3d:f,viewBox:h,wrapperStyle:p,lastBoundingBox:y,innerRef:v,hasPortalFromProps:m}=this.props,{cssClasses:w,cssProperties:_}=EMe({allowEscapeViewBox:n,coordinate:a,offsetTopLeft:c,position:u,reverseDirection:A,tooltipBox:{height:y.height,width:y.width},useTranslate3d:f,viewBox:h}),B=m?{}:NE(NE({transition:l&&e?"transform ".concat(r,"ms ").concat(i):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),R=NE(NE({},B),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},p);return Y.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:w,style:R,ref:v},s)}}var TMe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),BT={isSsr:TMe()},WZ=()=>Wn(t=>t.rootProps.accessibilityLayer);function Cu(t){return Number.isFinite(t)}function ZS(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function uL(){return uL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},uL.apply(null,arguments)}function qV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $V(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qV(Object(n),!0).forEach(function(r){MMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MMe(t,e,n){return(e=IMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function IMe(t){var e=PMe(t,"string");return typeof e=="symbol"?e:e+""}function PMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var XV={curveBasisClosed:CCe,curveBasisOpen:BCe,curveBasis:SCe,curveBumpX:ACe,curveBumpY:fCe,curveLinearClosed:TCe,curveLinear:AT,curveMonotoneX:MCe,curveMonotoneY:ICe,curveNatural:PCe,curveStep:NCe,curveStepAfter:FCe,curveStepBefore:LCe},LE=t=>Cu(t.x)&&Cu(t.y),u1=t=>t.x,A1=t=>t.y,NMe=(t,e)=>{if(typeof t=="function")return t;var n="curve".concat(Z_(t));return(n==="curveMonotone"||n==="curveBump")&&e?XV["".concat(n).concat(e==="vertical"?"Y":"X")]:XV[n]||AT},LMe=t=>{var{type:e="linear",points:n=[],baseLine:r,layout:i,connectNulls:s=!1}=t,a=NMe(e,i),o=s?n.filter(LE):n,l;if(Array.isArray(r)){var c=s?r.filter(A=>LE(A)):r,u=o.map((A,f)=>$V($V({},A),{},{base:c[f]}));return i==="vertical"?l=BE().y(A1).x1(u1).x0(A=>A.base.x):l=BE().x(u1).y1(A1).y0(A=>A.base.y),l.defined(LE).curve(a),l(u)}return i==="vertical"&&Jn(r)?l=BE().y(A1).x1(u1).x0(r):Jn(r)?l=BE().x(u1).y1(A1).y0(r):l=IJ().x(u1).y(A1),l.defined(LE).curve(a),l(o)},KZ=t=>{var{className:e,points:n,path:r,pathRef:i}=t;if((!n||!n.length)&&!r)return null;var s=n&&n.length?LMe(t):r;return Y.createElement("path",uL({},ga(t,!1),JSe(t),{className:va("recharts-curve",e),d:s===null?void 0:s,ref:i}))},FMe=["x","y","top","left","width","height","className"];function AL(){return AL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},AL.apply(null,arguments)}function YV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RMe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YV(Object(n),!0).forEach(function(r){UMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UMe(t,e,n){return(e=DMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DMe(t){var e=OMe(t,"string");return typeof e=="symbol"?e:e+""}function OMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kMe(t,e){if(t==null)return{};var n,r,i=QMe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function QMe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var HMe=(t,e,n,r,i,s)=>"M".concat(t,",").concat(i,"v").concat(r,"M").concat(s,",").concat(e,"h").concat(n),VMe=t=>{var{x:e=0,y:n=0,top:r=0,left:i=0,width:s=0,height:a=0,className:o}=t,l=kMe(t,FMe),c=RMe({x:e,y:n,top:r,left:i,width:s,height:a},l);return!Jn(e)||!Jn(n)||!Jn(s)||!Jn(a)||!Jn(r)||!Jn(i)?null:Y.createElement("path",AL({},ga(c,!0),{className:va("recharts-cross",o),d:HMe(e,n,s,a,r,i)}))};function zMe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function JV(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jMe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JV(Object(n),!0).forEach(function(r){GMe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JV(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GMe(t,e,n){return(e=WMe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WMe(t){var e=KMe(t,"string");return typeof e=="symbol"?e:e+""}function KMe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eg(t,e){var n=jMe({},t),r=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&r[o]!==void 0&&(a[o]=r[o]),a),n);return s}var qZ={},$Z={},XZ={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){if(!n||typeof n!="object")return!1;const r=Object.getPrototypeOf(n);return r===null||r===Object.prototype||Object.getPrototypeOf(r)===null?Object.prototype.toString.call(n)==="[object Object]":!1}t.isPlainObject=e})(XZ);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XZ,n=sU,r=dT,i=pT,s=hT;function a(c,u,A){return o(c,u,void 0,void 0,void 0,void 0,A)}function o(c,u,A,f,h,p,y){const v=y(c,u,A,f,h,p);if(v!==void 0)return v;if(typeof c==typeof u)switch(typeof c){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return c===u;case"number":return c===u||Object.is(c,u);case"function":return c===u;case"object":return l(c,u,p,y)}return l(c,u,p,y)}function l(c,u,A,f){if(Object.is(c,u))return!0;let h=r.getTag(c),p=r.getTag(u);if(h===i.argumentsTag&&(h=i.objectTag),p===i.argumentsTag&&(p=i.objectTag),h!==p)return!1;switch(h){case i.stringTag:return c.toString()===u.toString();case i.numberTag:{const m=c.valueOf(),w=u.valueOf();return s.eq(m,w)}case i.booleanTag:case i.dateTag:case i.symbolTag:return Object.is(c.valueOf(),u.valueOf());case i.regexpTag:return c.source===u.source&&c.flags===u.flags;case i.functionTag:return c===u}A=A??new Map;const y=A.get(c),v=A.get(u);if(y!=null&&v!=null)return y===u;A.set(c,u),A.set(u,c);try{switch(h){case i.mapTag:{if(c.size!==u.size)return!1;for(const[m,w]of c.entries())if(!u.has(m)||!o(w,u.get(m),m,c,u,A,f))return!1;return!0}case i.setTag:{if(c.size!==u.size)return!1;const m=Array.from(c.values()),w=Array.from(u.values());for(let _=0;_<m.length;_++){const B=m[_],R=w.findIndex(L=>o(B,L,void 0,c,u,A,f));if(R===-1)return!1;w.splice(R,1)}return!0}case i.arrayTag:case i.uint8ArrayTag:case i.uint8ClampedArrayTag:case i.uint16ArrayTag:case i.uint32ArrayTag:case i.bigUint64ArrayTag:case i.int8ArrayTag:case i.int16ArrayTag:case i.int32ArrayTag:case i.bigInt64ArrayTag:case i.float32ArrayTag:case i.float64ArrayTag:{if(typeof Buffer<"u"&&Buffer.isBuffer(c)!==Buffer.isBuffer(u)||c.length!==u.length)return!1;for(let m=0;m<c.length;m++)if(!o(c[m],u[m],m,c,u,A,f))return!1;return!0}case i.arrayBufferTag:return c.byteLength!==u.byteLength?!1:l(new Uint8Array(c),new Uint8Array(u),A,f);case i.dataViewTag:return c.byteLength!==u.byteLength||c.byteOffset!==u.byteOffset?!1:l(new Uint8Array(c),new Uint8Array(u),A,f);case i.errorTag:return c.name===u.name&&c.message===u.message;case i.objectTag:{if(!(l(c.constructor,u.constructor,A,f)||e.isPlainObject(c)&&e.isPlainObject(u)))return!1;const w=[...Object.keys(c),...n.getSymbols(c)],_=[...Object.keys(u),...n.getSymbols(u)];if(w.length!==_.length)return!1;for(let B=0;B<w.length;B++){const R=w[B],L=c[R];if(!Object.hasOwn(u,R))return!1;const S=u[R];if(!o(L,S,R,c,u,A,f))return!1}return!0}default:return!1}}finally{A.delete(c),A.delete(u)}}t.isEqualWith=a})($Z);var YZ={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(){}t.noop=e})(YZ);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$Z,n=YZ;function r(i,s){return e.isEqualWith(i,s,n.noop)}t.isEqual=r})(qZ);var qMe=qZ.isEqual;const $Me=Of(qMe);function XMe(t){var e={},n=()=>null,r=!1,i=null,s=a=>{if(!r){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...c]=o;if(typeof l=="number"){i=t.setTimeout(s.bind(null,c),l);return}s(l),i=t.setTimeout(s.bind(null,c));return}typeof a=="object"&&(e=a,n(e)),typeof a=="function"&&a()}};return{stop:()=>{r=!0},start:a=>{r=!1,i&&(i(),i=null),s(a)},subscribe:a=>(n=a,()=>{n=()=>null}),getTimeoutController:()=>t}}var eC=1e-4,JZ=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],ZZ=(t,e)=>t.map((n,r)=>n*e**r).reduce((n,r)=>n+r),ZV=(t,e)=>n=>{var r=JZ(t,e);return ZZ(r,n)},YMe=(t,e)=>n=>{var r=JZ(t,e),i=[...r.map((s,a)=>s*a).slice(1),0];return ZZ(i,n)},e7=function(){for(var e,n,r,i,s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];if(a.length===1)switch(a[0]){case"linear":[e,r,n,i]=[0,0,1,1];break;case"ease":[e,r,n,i]=[.25,.1,.25,1];break;case"ease-in":[e,r,n,i]=[.42,0,1,1];break;case"ease-out":[e,r,n,i]=[.42,0,.58,1];break;case"ease-in-out":[e,r,n,i]=[0,0,.58,1];break;default:{var l=a[0].split("(");l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4&&([e,r,n,i]=l[1].split(")")[0].split(",").map(p=>parseFloat(p)))}}else a.length===4&&([e,r,n,i]=a);var c=ZV(e,n),u=ZV(r,i),A=YMe(e,n),f=p=>p>1?1:p<0?0:p,h=p=>{for(var y=p>1?1:p,v=y,m=0;m<8;++m){var w=c(v)-y,_=A(v);if(Math.abs(w-y)<eC||_<eC)return u(v);v=f(v-w/_)}return u(v)};return h.isStepper=!1,h},JMe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=e,s=(a,o,l)=>{var c=-(a-o)*n,u=l*r,A=l+(c-u)*i/1e3,f=l*i/1e3+a;return Math.abs(f-o)<eC&&Math.abs(A)<eC?[o,0]:[f,A]};return s.isStepper=!0,s.dt=i,s},ZMe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return e7(t);case"spring":return JMe();default:if(t.split("(")[0]==="cubic-bezier")return e7(t)}return typeof t=="function"?t:null};function t7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function n7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?t7(Object(n),!0).forEach(function(r){eIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):t7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function eIe(t,e,n){return(e=tIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function tIe(t){var e=nIe(t,"string");return typeof e=="symbol"?e:e+""}function nIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rIe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),iIe=(t,e,n)=>t.map(r=>"".concat(rIe(r)," ").concat(e,"ms ").concat(n)).join(","),sIe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((n,r)=>n.filter(i=>r.includes(i))),c_=(t,e)=>Object.keys(e).reduce((n,r)=>n7(n7({},n),{},{[r]:t(r,e[r])}),{});function r7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ra(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?r7(Object(n),!0).forEach(function(r){aIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aIe(t,e,n){return(e=oIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function oIe(t){var e=lIe(t,"string");return typeof e=="symbol"?e:e+""}function lIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tC=(t,e,n)=>t+(e-t)*n,fL=t=>{var{from:e,to:n}=t;return e!==n},eee=(t,e,n)=>{var r=c_((i,s)=>{if(fL(s)){var[a,o]=t(s.from,s.to,s.velocity);return Ra(Ra({},s),{},{from:a,velocity:o})}return s},e);return n<1?c_((i,s)=>fL(s)?Ra(Ra({},s),{},{velocity:tC(s.velocity,r[i].velocity,n),from:tC(s.from,r[i].from,n)}):s,e):eee(t,r,n-1)};function cIe(t,e,n,r,i,s){var a,o=r.reduce((f,h)=>Ra(Ra({},f),{},{[h]:{from:t[h],velocity:0,to:e[h]}}),{}),l=()=>c_((f,h)=>h.from,o),c=()=>!Object.values(o).filter(fL).length,u=null,A=f=>{a||(a=f);var h=f-a,p=h/n.dt;o=eee(n,o,p),i(Ra(Ra(Ra({},t),e),l())),a=f,c()||(u=s.setTimeout(A))};return()=>(u=s.setTimeout(A),()=>{u()})}function uIe(t,e,n,r,i,s,a){var o=null,l=i.reduce((A,f)=>Ra(Ra({},A),{},{[f]:[t[f],e[f]]}),{}),c,u=A=>{c||(c=A);var f=(A-c)/r,h=c_((y,v)=>tC(...v,n(f)),l);if(s(Ra(Ra(Ra({},t),e),h)),f<1)o=a.setTimeout(u);else{var p=c_((y,v)=>tC(...v,n(1)),l);s(Ra(Ra(Ra({},t),e),p))}};return()=>(o=a.setTimeout(u),()=>{o()})}const AIe=(t,e,n,r,i,s)=>{var a=sIe(t,e);return n.isStepper===!0?cIe(t,e,n,a,i,s):uIe(t,e,n,r,a,i,s)};class fIe{setTimeout(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,s=a=>{a-r>=n?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{cancelAnimationFrame(i)}}}var hIe=["children","begin","duration","attributeName","easing","isActive","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart","animationManager"];function hL(){return hL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hL.apply(null,arguments)}function dIe(t,e){if(t==null)return{};var n,r,i=pIe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function pIe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function i7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?i7(Object(n),!0).forEach(function(r){em(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function em(t,e,n){return(e=mIe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mIe(t){var e=gIe(t,"string");return typeof e=="symbol"?e:e+""}function gIe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vIe(){return XMe(new fIe)}class vU extends Y.PureComponent{constructor(e,n){super(e,n),em(this,"mounted",!1),em(this,"manager",null),em(this,"stopJSAnimation",null),em(this,"unSubscribe",null);var{isActive:r,attributeName:i,from:s,to:a,children:o,duration:l,animationManager:c}=this.props;if(this.manager=c,this.handleStyleChange=this.handleStyleChange.bind(this),this.changeStyle=this.changeStyle.bind(this),!r||l<=0){this.state={style:{}},typeof o=="function"&&(this.state={style:a});return}if(s){if(typeof o=="function"){this.state={style:s};return}this.state={style:i?{[i]:s}:s}}else this.state={style:{}}}componentDidMount(){var{isActive:e,canBegin:n}=this.props;this.mounted=!0,!(!e||!n)&&this.runAnimation(this.props)}componentDidUpdate(e){var{isActive:n,canBegin:r,attributeName:i,shouldReAnimate:s,to:a,from:o}=this.props,{style:l}=this.state;if(r){if(!n){var c={style:i?{[i]:a}:a};this.state&&l&&(i&&l[i]!==a||!i&&l!==a)&&this.setState(c);return}if(!($Me(e.to,a)&&e.canBegin&&e.isActive)){var u=!e.canBegin||!e.isActive;this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var A=u||s?o:e.to;if(this.state&&l){var f={style:i?{[i]:A}:A};(i&&l[i]!==A||!i&&l!==A)&&this.setState(f)}this.runAnimation(wh(wh({},this.props),{},{from:A,begin:0}))}}}componentWillUnmount(){this.mounted=!1;var{onAnimationEnd:e}=this.props;this.unSubscribe&&this.unSubscribe(),this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation(),e&&e()}handleStyleChange(e){this.changeStyle(e)}changeStyle(e){this.mounted&&this.setState({style:e})}runJSAnimation(e){var{from:n,to:r,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l}=e,c=AIe(n,r,ZMe(s),i,this.changeStyle,this.manager.getTimeoutController()),u=()=>{this.stopJSAnimation=c()};this.manager.start([l,a,u,i,o])}runAnimation(e){var{begin:n,duration:r,attributeName:i,to:s,easing:a,onAnimationStart:o,onAnimationEnd:l,children:c}=e;if(this.unSubscribe=this.manager.subscribe(this.handleStyleChange),typeof a=="function"||typeof c=="function"||a==="spring"){this.runJSAnimation(e);return}var u=i?{[i]:s}:s,A=iIe(Object.keys(u),r,a);this.manager.start([o,n,wh(wh({},u),{},{transition:A}),r,l])}render(){var e=this.props,{children:n,begin:r,duration:i,attributeName:s,easing:a,isActive:o,from:l,to:c,canBegin:u,onAnimationEnd:A,shouldReAnimate:f,onAnimationReStart:h,animationManager:p}=e,y=dIe(e,hIe),v=Y.Children.count(n),m=this.state.style;if(typeof n=="function")return n(m);if(!o||v===0||i<=0)return n;var w=_=>{var{style:B={},className:R}=_.props,L=Y.cloneElement(_,wh(wh({},y),{},{style:wh(wh({},B),m),className:R}));return L};return v===1?w(Y.Children.only(n)):Y.createElement("div",null,Y.Children.map(n,_=>w(_)))}}em(vU,"displayName","Animate");em(vU,"defaultProps",{begin:0,duration:1e3,attributeName:"",easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}});var yIe=Y.createContext(null);function u_(t){var e,n,r=Y.useContext(yIe);return Y.createElement(vU,hL({},t,{animationManager:(e=(n=t.animationManager)!==null&&n!==void 0?n:r)!==null&&e!==void 0?e:vIe()}))}function nC(){return nC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nC.apply(null,arguments)}var s7=(t,e,n,r,i)=>{var s=Math.min(Math.abs(n)/2,Math.abs(r)/2),a=r>=0?1:-1,o=n>=0?1:-1,l=r>=0&&n>=0||r<0&&n<0?1:0,c;if(s>0&&i instanceof Array){for(var u=[0,0,0,0],A=0,f=4;A<f;A++)u[A]=i[A]>s?s:i[A];c="M".concat(t,",").concat(e+a*u[0]),u[0]>0&&(c+="A ".concat(u[0],",").concat(u[0],",0,0,").concat(l,",").concat(t+o*u[0],",").concat(e)),c+="L ".concat(t+n-o*u[1],",").concat(e),u[1]>0&&(c+="A ".concat(u[1],",").concat(u[1],",0,0,").concat(l,`,
        `).concat(t+n,",").concat(e+a*u[1])),c+="L ".concat(t+n,",").concat(e+r-a*u[2]),u[2]>0&&(c+="A ".concat(u[2],",").concat(u[2],",0,0,").concat(l,`,
        `).concat(t+n-o*u[2],",").concat(e+r)),c+="L ".concat(t+o*u[3],",").concat(e+r),u[3]>0&&(c+="A ".concat(u[3],",").concat(u[3],",0,0,").concat(l,`,
        `).concat(t,",").concat(e+r-a*u[3])),c+="Z"}else if(s>0&&i===+i&&i>0){var h=Math.min(s,i);c="M ".concat(t,",").concat(e+a*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+o*h,",").concat(e,`
            L `).concat(t+n-o*h,",").concat(e,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+n,",").concat(e+a*h,`
            L `).concat(t+n,",").concat(e+r-a*h,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t+n-o*h,",").concat(e+r,`
            L `).concat(t+o*h,",").concat(e+r,`
            A `).concat(h,",").concat(h,",0,0,").concat(l,",").concat(t,",").concat(e+r-a*h," Z")}else c="M ".concat(t,",").concat(e," h ").concat(n," v ").concat(r," h ").concat(-n," Z");return c},wIe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tee=t=>{var e=eg(t,wIe),n=Y.useRef(null),[r,i]=Y.useState(-1);Y.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var m=n.current.getTotalLength();m&&i(m)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:c,className:u}=e,{animationEasing:A,animationDuration:f,animationBegin:h,isAnimationActive:p,isUpdateAnimationActive:y}=e;if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var v=va("recharts-rectangle",u);return y?Y.createElement(u_,{canBegin:r>0,from:{width:o,height:l,x:s,y:a},to:{width:o,height:l,x:s,y:a},duration:f,animationEasing:A,isActive:y},m=>{var{width:w,height:_,x:B,y:R}=m;return Y.createElement(u_,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:f,isActive:p,easing:A},Y.createElement("path",nC({},ga(e,!0),{className:v,d:s7(B,R,w,_,c),ref:n})))}):Y.createElement("path",nC({},ga(e,!0),{className:v,d:s7(s,a,o,l,c)}))};function nee(t){var{cx:e,cy:n,radius:r,startAngle:i,endAngle:s}=t,a=mo(e,n,r,i),o=mo(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function dL(){return dL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dL.apply(null,arguments)}var _Ie=(t,e)=>{var n=Hl(e-t),r=Math.min(Math.abs(e-t),359.999);return n*r},FE=t=>{var{cx:e,cy:n,radius:r,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=t,c=o*(a?1:-1)+r,u=Math.asin(o/c)/JS,A=l?i:i+s*u,f=mo(e,n,c,A),h=mo(e,n,r,A),p=l?i-s*u:i,y=mo(e,n,c*Math.cos(u*JS),p);return{center:f,circleTangency:h,lineTangency:y,theta:u}},ree=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:s,endAngle:a}=t,o=_Ie(s,a),l=s+o,c=mo(e,n,i,s),u=mo(e,n,i,l),A="M ".concat(c.x,",").concat(c.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(o)>180),",").concat(+(s>l),`,
    `).concat(u.x,",").concat(u.y,`
  `);if(r>0){var f=mo(e,n,r,s),h=mo(e,n,r,l);A+="L ".concat(h.x,",").concat(h.y,`
            A `).concat(r,",").concat(r,`,0,
            `).concat(+(Math.abs(o)>180),",").concat(+(s<=l),`,
            `).concat(f.x,",").concat(f.y," Z")}else A+="L ".concat(e,",").concat(n," Z");return A},xIe=t=>{var{cx:e,cy:n,innerRadius:r,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:c}=t,u=Hl(c-l),{circleTangency:A,lineTangency:f,theta:h}=FE({cx:e,cy:n,radius:i,angle:l,sign:u,cornerRadius:s,cornerIsExternal:o}),{circleTangency:p,lineTangency:y,theta:v}=FE({cx:e,cy:n,radius:i,angle:c,sign:-u,cornerRadius:s,cornerIsExternal:o}),m=o?Math.abs(l-c):Math.abs(l-c)-h-v;if(m<0)return a?"M ".concat(f.x,",").concat(f.y,`
        a`).concat(s,",").concat(s,",0,0,1,").concat(s*2,`,0
        a`).concat(s,",").concat(s,",0,0,1,").concat(-s*2,`,0
      `):ree({cx:e,cy:n,innerRadius:r,outerRadius:i,startAngle:l,endAngle:c});var w="M ".concat(f.x,",").concat(f.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(A.x,",").concat(A.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(m>180),",").concat(+(u<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(y.x,",").concat(y.y,`
  `);if(r>0){var{circleTangency:_,lineTangency:B,theta:R}=FE({cx:e,cy:n,radius:r,angle:l,sign:u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:L,lineTangency:S,theta:M}=FE({cx:e,cy:n,radius:r,angle:c,sign:-u,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),T=o?Math.abs(l-c):Math.abs(l-c)-R-M;if(T<0&&s===0)return"".concat(w,"L").concat(e,",").concat(n,"Z");w+="L".concat(S.x,",").concat(S.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(r,",").concat(r,",0,").concat(+(T>180),",").concat(+(u>0),",").concat(_.x,",").concat(_.y,`
      A`).concat(s,",").concat(s,",0,0,").concat(+(u<0),",").concat(B.x,",").concat(B.y,"Z")}else w+="L".concat(e,",").concat(n,"Z");return w},bIe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},iee=t=>{var e=eg(t,bIe),{cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u,className:A}=e;if(s<i||c===u)return null;var f=va("recharts-sector",A),h=s-i,p=aA(a,h,0,!0),y;return p>0&&Math.abs(c-u)<360?y=xIe({cx:n,cy:r,innerRadius:i,outerRadius:s,cornerRadius:Math.min(p,h/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:c,endAngle:u}):y=ree({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u}),Y.createElement("path",dL({},ga(e,!0),{className:f,d:y}))};function EIe(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var{cx:o,cy:l,innerRadius:c,outerRadius:u,angle:A}=e,f=mo(o,l,c,A),h=mo(o,l,u,A);r=f.x,i=f.y,s=h.x,a=h.y}else return nee(e);return[{x:r,y:i},{x:s,y:a}]}var see={},aee={},oee={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lU;function n(r){return e.isSymbol(r)?NaN:Number(r)}t.toNumber=n})(oee);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oee;function n(r){return r?(r=e.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}t.toFinite=n})(aee);(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cU,n=aee;function r(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=n.toFinite(i),s===void 0?(s=i,i=0):s=n.toFinite(s),a=a===void 0?i<s?1:-1:n.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let c=0;c<o;c++)l[c]=i,i+=a;return l}t.range=r})(see);var SIe=see.range;const lee=Of(SIe);function fd(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function CIe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function yU(t){let e,n,r;t.length!==2?(e=fd,n=(o,l)=>fd(t(o),l),r=(o,l)=>t(o)-l):(e=t===fd||t===CIe?t:BIe,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const A=c+u>>>1;n(o[A],l)<0?c=A+1:u=A}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const A=c+u>>>1;n(o[A],l)<=0?c=A+1:u=A}while(c<u)}return c}function a(o,l,c=0,u=o.length){const A=i(o,l,c,u-1);return A>c&&r(o[A-1],l)>-r(o[A],l)?A-1:A}return{left:i,center:a,right:s}}function BIe(){return 0}function cee(t){return t===null?NaN:+t}function*TIe(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const MIe=yU(fd),tx=MIe.right;yU(cee).center;class a7 extends Map{constructor(e,n=NIe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(o7(this,e))}has(e){return super.has(o7(this,e))}set(e,n){return super.set(IIe(this,e),n)}delete(e){return super.delete(PIe(this,e))}}function o7({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function IIe({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function PIe({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function NIe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function LIe(t=fd){if(t===fd)return uee;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function uee(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const FIe=Math.sqrt(50),RIe=Math.sqrt(10),UIe=Math.sqrt(2);function rC(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=FIe?10:s>=RIe?5:s>=UIe?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?rC(t,e,n*2):[o,l,c]}function pL(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?rC(e,t,n):rC(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function mL(t,e,n){return e=+e,t=+t,n=+n,rC(t,e,n)[2]}function gL(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?mL(e,t,n):mL(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function l7(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function c7(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Aee(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?uee:LIe(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),A=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*A*(l-A)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(e-c*A/l+f)),p=Math.min(r,Math.floor(e+(l-c)*A/l+f));Aee(t,e,h,p,i)}const s=t[e];let a=n,o=r;for(f1(t,n,e),i(t[r],s)>0&&f1(t,n,r);a<o;){for(f1(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?f1(t,n,o):(++o,f1(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function f1(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function DIe(t,e,n){if(t=Float64Array.from(TIe(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return c7(t);if(e>=1)return l7(t);var r,i=(r-1)*e,s=Math.floor(i),a=l7(Aee(t,s).subarray(0,s+1)),o=c7(t.subarray(s+1));return a+(o-a)*(i-s)}}function OIe(t,e,n=cee){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function kIe(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function Vc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function zf(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const vL=Symbol("implicit");function wU(){var t=new a7,e=[],n=[],r=vL;function i(s){let a=t.get(s);if(a===void 0){if(r!==vL)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new a7;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return wU(e,n).unknown(r)},Vc.apply(i,arguments),i}function _U(){var t=wU().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,c=0,u=.5;delete t.unknown;function A(){var f=e().length,h=i<r,p=h?i:r,y=h?r:i;s=(y-p)/Math.max(1,f-l+c*2),o&&(s=Math.floor(s)),p+=(y-p-s*(f-l))*u,a=s*(1-l),o&&(p=Math.round(p),a=Math.round(a));var v=kIe(f).map(function(m){return p+s*m});return n(h?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),A()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,A()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,o=!0,A()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,A()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),A()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),A()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,A()):c},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),A()):u},t.copy=function(){return _U(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},Vc.apply(A(),arguments)}function fee(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return fee(e())},t}function QIe(){return fee(_U.apply(null,arguments).paddingInner(1))}function xU(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function hee(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function nx(){}var A_=.7,iC=1/A_,tv="\\s*([+-]?\\d+)\\s*",f_="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",oA="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",HIe=/^#([0-9a-f]{3,8})$/,VIe=new RegExp(`^rgb\\(${tv},${tv},${tv}\\)$`),zIe=new RegExp(`^rgb\\(${oA},${oA},${oA}\\)$`),jIe=new RegExp(`^rgba\\(${tv},${tv},${tv},${f_}\\)$`),GIe=new RegExp(`^rgba\\(${oA},${oA},${oA},${f_}\\)$`),WIe=new RegExp(`^hsl\\(${f_},${oA},${oA}\\)$`),KIe=new RegExp(`^hsla\\(${f_},${oA},${oA},${f_}\\)$`),u7={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};xU(nx,h_,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:A7,formatHex:A7,formatHex8:qIe,formatHsl:$Ie,formatRgb:f7,toString:f7});function A7(){return this.rgb().formatHex()}function qIe(){return this.rgb().formatHex8()}function $Ie(){return dee(this).formatHsl()}function f7(){return this.rgb().formatRgb()}function h_(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=HIe.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?h7(e):n===3?new ml(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?RE(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?RE(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=VIe.exec(t))?new ml(e[1],e[2],e[3],1):(e=zIe.exec(t))?new ml(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=jIe.exec(t))?RE(e[1],e[2],e[3],e[4]):(e=GIe.exec(t))?RE(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=WIe.exec(t))?m7(e[1],e[2]/100,e[3]/100,1):(e=KIe.exec(t))?m7(e[1],e[2]/100,e[3]/100,e[4]):u7.hasOwnProperty(t)?h7(u7[t]):t==="transparent"?new ml(NaN,NaN,NaN,0):null}function h7(t){return new ml(t>>16&255,t>>8&255,t&255,1)}function RE(t,e,n,r){return r<=0&&(t=e=n=NaN),new ml(t,e,n,r)}function XIe(t){return t instanceof nx||(t=h_(t)),t?(t=t.rgb(),new ml(t.r,t.g,t.b,t.opacity)):new ml}function yL(t,e,n,r){return arguments.length===1?XIe(t):new ml(t,e,n,r??1)}function ml(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}xU(ml,yL,hee(nx,{brighter(t){return t=t==null?iC:Math.pow(iC,t),new ml(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?A_:Math.pow(A_,t),new ml(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ml(gm(this.r),gm(this.g),gm(this.b),sC(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:d7,formatHex:d7,formatHex8:YIe,formatRgb:p7,toString:p7}));function d7(){return`#${tm(this.r)}${tm(this.g)}${tm(this.b)}`}function YIe(){return`#${tm(this.r)}${tm(this.g)}${tm(this.b)}${tm((isNaN(this.opacity)?1:this.opacity)*255)}`}function p7(){const t=sC(this.opacity);return`${t===1?"rgb(":"rgba("}${gm(this.r)}, ${gm(this.g)}, ${gm(this.b)}${t===1?")":`, ${t})`}`}function sC(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gm(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function tm(t){return t=gm(t),(t<16?"0":"")+t.toString(16)}function m7(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new hu(t,e,n,r)}function dee(t){if(t instanceof hu)return new hu(t.h,t.s,t.l,t.opacity);if(t instanceof nx||(t=h_(t)),!t)return new hu;if(t instanceof hu)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new hu(a,o,l,t.opacity)}function JIe(t,e,n,r){return arguments.length===1?dee(t):new hu(t,e,n,r??1)}function hu(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}xU(hu,JIe,hee(nx,{brighter(t){return t=t==null?iC:Math.pow(iC,t),new hu(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?A_:Math.pow(A_,t),new hu(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new ml(V5(t>=240?t-240:t+120,i,r),V5(t,i,r),V5(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new hu(g7(this.h),UE(this.s),UE(this.l),sC(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=sC(this.opacity);return`${t===1?"hsl(":"hsla("}${g7(this.h)}, ${UE(this.s)*100}%, ${UE(this.l)*100}%${t===1?")":`, ${t})`}`}}));function g7(t){return t=(t||0)%360,t<0?t+360:t}function UE(t){return Math.max(0,Math.min(1,t||0))}function V5(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const bU=t=>()=>t;function ZIe(t,e){return function(n){return t+n*e}}function e5e(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function t5e(t){return(t=+t)==1?pee:function(e,n){return n-e?e5e(e,n,t):bU(isNaN(e)?n:e)}}function pee(t,e){var n=e-t;return n?ZIe(t,n):bU(isNaN(t)?e:t)}const v7=function t(e){var n=t5e(e);function r(i,s){var a=n((i=yL(i)).r,(s=yL(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=pee(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function n5e(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function r5e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function i5e(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=ny(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function s5e(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function aC(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function a5e(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=ny(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var wL=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,z5=new RegExp(wL.source,"g");function o5e(t){return function(){return t}}function l5e(t){return function(e){return t(e)+""}}function c5e(t,e){var n=wL.lastIndex=z5.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=wL.exec(t))&&(i=z5.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:aC(r,i)})),n=z5.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?l5e(l[0].x):o5e(e):(e=l.length,function(c){for(var u=0,A;u<e;++u)o[(A=l[u]).i]=A.x(c);return o.join("")})}function ny(t,e){var n=typeof e,r;return e==null||n==="boolean"?bU(e):(n==="number"?aC:n==="string"?(r=h_(e))?(e=r,v7):c5e:e instanceof h_?v7:e instanceof Date?s5e:r5e(e)?n5e:Array.isArray(e)?i5e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?a5e:aC)(t,e)}function EU(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function u5e(t,e){e===void 0&&(e=t,t=ny);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function A5e(t){return function(){return t}}function oC(t){return+t}var y7=[0,1];function Oo(t){return t}function _L(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:A5e(isNaN(e)?NaN:.5)}function f5e(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function h5e(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=_L(i,r),s=n(a,s)):(r=_L(r,i),s=n(s,a)),function(o){return s(r(o))}}function d5e(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=_L(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=tx(t,o,1,r)-1;return s[l](i[l](o))}}function rx(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function TT(){var t=y7,e=y7,n=ny,r,i,s,a=Oo,o,l,c;function u(){var f=Math.min(t.length,e.length);return a!==Oo&&(a=f5e(t[0],t[f-1])),o=f>2?d5e:h5e,l=c=null,A}function A(f){return f==null||isNaN(f=+f)?s:(l||(l=o(t.map(r),e,n)))(r(a(f)))}return A.invert=function(f){return a(i((c||(c=o(e,t.map(r),aC)))(f)))},A.domain=function(f){return arguments.length?(t=Array.from(f,oC),u()):t.slice()},A.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},A.rangeRound=function(f){return e=Array.from(f),n=EU,u()},A.clamp=function(f){return arguments.length?(a=f?!0:Oo,u()):a!==Oo},A.interpolate=function(f){return arguments.length?(n=f,u()):n},A.unknown=function(f){return arguments.length?(s=f,A):s},function(f,h){return r=f,i=h,u()}}function SU(){return TT()(Oo,Oo)}function p5e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function lC(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function Pv(t){return t=lC(Math.abs(t)),t?t[1]:NaN}function m5e(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function g5e(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var v5e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function d_(t){if(!(e=v5e.exec(t)))throw new Error("invalid format: "+t);var e;return new CU({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}d_.prototype=CU.prototype;function CU(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}CU.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function y5e(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var mee;function w5e(t,e){var n=lC(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(mee=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+lC(t,Math.max(0,e+s-1))[0]}function w7(t,e){var n=lC(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const _7={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:p5e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>w7(t*100,e),r:w7,s:w5e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function x7(t){return t}var b7=Array.prototype.map,E7=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function _5e(t){var e=t.grouping===void 0||t.thousands===void 0?x7:m5e(b7.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?x7:g5e(b7.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(A){A=d_(A);var f=A.fill,h=A.align,p=A.sign,y=A.symbol,v=A.zero,m=A.width,w=A.comma,_=A.precision,B=A.trim,R=A.type;R==="n"?(w=!0,R="g"):_7[R]||(_===void 0&&(_=12),B=!0,R="g"),(v||f==="0"&&h==="=")&&(v=!0,f="0",h="=");var L=y==="$"?n:y==="#"&&/[boxX]/.test(R)?"0"+R.toLowerCase():"",S=y==="$"?r:/[%p]/.test(R)?a:"",M=_7[R],T=/[defgprs%]/.test(R);_=_===void 0?6:/[gprs]/.test(R)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function F(P){var D=L,H=S,X,fe,ue;if(R==="c")H=M(P)+H,P="";else{P=+P;var me=P<0||1/P<0;if(P=isNaN(P)?l:M(Math.abs(P),_),B&&(P=y5e(P)),me&&+P==0&&p!=="+"&&(me=!1),D=(me?p==="("?p:o:p==="-"||p==="("?"":p)+D,H=(R==="s"?E7[8+mee/3]:"")+H+(me&&p==="("?")":""),T){for(X=-1,fe=P.length;++X<fe;)if(ue=P.charCodeAt(X),48>ue||ue>57){H=(ue===46?i+P.slice(X+1):P.slice(X))+H,P=P.slice(0,X);break}}}w&&!v&&(P=e(P,1/0));var J=D.length+P.length+H.length,le=J<m?new Array(m-J+1).join(f):"";switch(w&&v&&(P=e(le+P,le.length?m-H.length:1/0),le=""),h){case"<":P=D+P+H+le;break;case"=":P=D+le+P+H;break;case"^":P=le.slice(0,J=le.length>>1)+D+P+H+le.slice(J);break;default:P=le+D+P+H;break}return s(P)}return F.toString=function(){return A+""},F}function u(A,f){var h=c((A=d_(A),A.type="f",A)),p=Math.max(-8,Math.min(8,Math.floor(Pv(f)/3)))*3,y=Math.pow(10,-p),v=E7[8+p/3];return function(m){return h(y*m)+v}}return{format:c,formatPrefix:u}}var DE,BU,gee;x5e({thousands:",",grouping:[3],currency:["$",""]});function x5e(t){return DE=_5e(t),BU=DE.format,gee=DE.formatPrefix,DE}function b5e(t){return Math.max(0,-Pv(Math.abs(t)))}function E5e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Pv(e)/3)))*3-Pv(Math.abs(t)))}function S5e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Pv(e)-Pv(t))+1}function vee(t,e,n,r){var i=gL(t,e,n),s;switch(r=d_(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=E5e(i,a))&&(r.precision=s),gee(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=S5e(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=b5e(i))&&(r.precision=s-(r.type==="%")*2);break}}return BU(r)}function jd(t){var e=t.domain;return t.ticks=function(n){var r=e();return pL(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return vee(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,u=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);u-- >0;){if(c=mL(a,o,n),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function yee(){var t=SU();return t.copy=function(){return rx(t,yee())},Vc.apply(t,arguments),jd(t)}function wee(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,oC),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return wee(t).unknown(e)},t=arguments.length?Array.from(t,oC):[0,1],jd(n)}function _ee(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function S7(t){return Math.log(t)}function C7(t){return Math.exp(t)}function C5e(t){return-Math.log(-t)}function B5e(t){return-Math.exp(-t)}function T5e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function M5e(t){return t===10?T5e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function I5e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function B7(t){return(e,n)=>-t(-e,n)}function TU(t){const e=t(S7,C7),n=e.domain;let r=10,i,s;function a(){return i=I5e(r),s=M5e(r),n()[0]<0?(i=B7(i),s=B7(s),t(C5e,B5e)):t(S7,C7),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const A=u<c;A&&([c,u]=[u,c]);let f=i(c),h=i(u),p,y;const v=o==null?10:+o;let m=[];if(!(r%1)&&h-f<v){if(f=Math.floor(f),h=Math.ceil(h),c>0){for(;f<=h;++f)for(p=1;p<r;++p)if(y=f<0?p/s(-f):p*s(f),!(y<c)){if(y>u)break;m.push(y)}}else for(;f<=h;++f)for(p=r-1;p>=1;--p)if(y=f>0?p/s(-f):p*s(f),!(y<c)){if(y>u)break;m.push(y)}m.length*2<v&&(m=pL(c,u,v))}else m=pL(f,h,Math.min(h-f,v)).map(s);return A?m.reverse():m},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=d_(l)).precision==null&&(l.trim=!0),l=BU(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let A=u/s(Math.round(i(u)));return A*r<r-.5&&(A*=r),A<=c?l(u):""}},e.nice=()=>n(_ee(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function xee(){const t=TU(TT()).domain([1,10]);return t.copy=()=>rx(t,xee()).base(t.base()),Vc.apply(t,arguments),t}function T7(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function M7(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function MU(t){var e=1,n=t(T7(e),M7(e));return n.constant=function(r){return arguments.length?t(T7(e=+r),M7(e)):e},jd(n)}function bee(){var t=MU(TT());return t.copy=function(){return rx(t,bee()).constant(t.constant())},Vc.apply(t,arguments)}function I7(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function P5e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function N5e(t){return t<0?-t*t:t*t}function IU(t){var e=t(Oo,Oo),n=1;function r(){return n===1?t(Oo,Oo):n===.5?t(P5e,N5e):t(I7(n),I7(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},jd(e)}function PU(){var t=IU(TT());return t.copy=function(){return rx(t,PU()).exponent(t.exponent())},Vc.apply(t,arguments),t}function L5e(){return PU.apply(null,arguments).exponent(.5)}function P7(t){return Math.sign(t)*t*t}function F5e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Eee(){var t=SU(),e=[0,1],n=!1,r;function i(s){var a=F5e(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(P7(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,oC)).map(P7)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Eee(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},Vc.apply(i,arguments),jd(i)}function See(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=OIe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[tx(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(fd),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return See().domain(t).range(e).unknown(r)},Vc.apply(s,arguments)}function Cee(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[tx(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Cee().domain([t,e]).range(i).unknown(s)},Vc.apply(jd(a),arguments)}function Bee(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[tx(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Bee().domain(t).range(e).unknown(n)},Vc.apply(i,arguments)}const j5=new Date,G5=new Date;function Ws(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>Ws(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(j5.setTime(+s),G5.setTime(+a),t(j5),t(G5),Math.floor(n(j5,G5))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const cC=Ws(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);cC.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ws(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):cC);cC.range;const uf=1e3,Fc=uf*60,Af=Fc*60,Pf=Af*24,NU=Pf*7,N7=Pf*30,W5=Pf*365,nm=Ws(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*uf)},(t,e)=>(e-t)/uf,t=>t.getUTCSeconds());nm.range;const LU=Ws(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*uf)},(t,e)=>{t.setTime(+t+e*Fc)},(t,e)=>(e-t)/Fc,t=>t.getMinutes());LU.range;const FU=Ws(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Fc)},(t,e)=>(e-t)/Fc,t=>t.getUTCMinutes());FU.range;const RU=Ws(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*uf-t.getMinutes()*Fc)},(t,e)=>{t.setTime(+t+e*Af)},(t,e)=>(e-t)/Af,t=>t.getHours());RU.range;const UU=Ws(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Af)},(t,e)=>(e-t)/Af,t=>t.getUTCHours());UU.range;const ix=Ws(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Fc)/Pf,t=>t.getDate()-1);ix.range;const MT=Ws(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pf,t=>t.getUTCDate()-1);MT.range;const Tee=Ws(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Pf,t=>Math.floor(t/Pf));Tee.range;function tg(t){return Ws(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Fc)/NU)}const IT=tg(0),uC=tg(1),R5e=tg(2),U5e=tg(3),Nv=tg(4),D5e=tg(5),O5e=tg(6);IT.range;uC.range;R5e.range;U5e.range;Nv.range;D5e.range;O5e.range;function ng(t){return Ws(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/NU)}const PT=ng(0),AC=ng(1),k5e=ng(2),Q5e=ng(3),Lv=ng(4),H5e=ng(5),V5e=ng(6);PT.range;AC.range;k5e.range;Q5e.range;Lv.range;H5e.range;V5e.range;const DU=Ws(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());DU.range;const OU=Ws(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());OU.range;const Nf=Ws(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Nf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ws(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Nf.range;const Lf=Ws(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Lf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ws(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Lf.range;function Mee(t,e,n,r,i,s){const a=[[nm,1,uf],[nm,5,5*uf],[nm,15,15*uf],[nm,30,30*uf],[s,1,Fc],[s,5,5*Fc],[s,15,15*Fc],[s,30,30*Fc],[i,1,Af],[i,3,3*Af],[i,6,6*Af],[i,12,12*Af],[r,1,Pf],[r,2,2*Pf],[n,1,NU],[e,1,N7],[e,3,3*N7],[t,1,W5]];function o(c,u,A){const f=u<c;f&&([c,u]=[u,c]);const h=A&&typeof A.range=="function"?A:l(c,u,A),p=h?h.range(c,+u+1):[];return f?p.reverse():p}function l(c,u,A){const f=Math.abs(u-c)/A,h=yU(([,,v])=>v).right(a,f);if(h===a.length)return t.every(gL(c/W5,u/W5,A));if(h===0)return cC.every(Math.max(gL(c,u,A),1));const[p,y]=a[f/a[h-1][2]<a[h][2]/f?h-1:h];return p.every(y)}return[o,l]}const[z5e,j5e]=Mee(Lf,OU,PT,Tee,UU,FU),[G5e,W5e]=Mee(Nf,DU,IT,ix,RU,LU);function K5(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function q5(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function h1(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function K5e(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=d1(i),u=p1(i),A=d1(s),f=p1(s),h=d1(a),p=p1(a),y=d1(o),v=p1(o),m=d1(l),w=p1(l),_={a:me,A:J,b:le,B:ee,c:null,d:O7,e:O7,f:mPe,g:CPe,G:TPe,H:hPe,I:dPe,j:pPe,L:Iee,m:gPe,M:vPe,p:re,q:k,Q:H7,s:V7,S:yPe,u:wPe,U:_Pe,V:xPe,w:bPe,W:EPe,x:null,X:null,y:SPe,Y:BPe,Z:MPe,"%":Q7},B={a:$,A:j,b:G,B:q,c:null,d:k7,e:k7,f:LPe,g:zPe,G:GPe,H:IPe,I:PPe,j:NPe,L:Nee,m:FPe,M:RPe,p:W,q:ge,Q:H7,s:V7,S:UPe,u:DPe,U:OPe,V:kPe,w:QPe,W:HPe,x:null,X:null,y:VPe,Y:jPe,Z:WPe,"%":Q7},R={a:F,A:P,b:D,B:H,c:X,d:U7,e:U7,f:cPe,g:R7,G:F7,H:D7,I:D7,j:sPe,L:lPe,m:iPe,M:aPe,p:T,q:rPe,Q:APe,s:fPe,S:oPe,u:J5e,U:Z5e,V:ePe,w:Y5e,W:tPe,x:fe,X:ue,y:R7,Y:F7,Z:nPe,"%":uPe};_.x=L(n,_),_.X=L(r,_),_.c=L(e,_),B.x=L(n,B),B.X=L(r,B),B.c=L(e,B);function L(he,ve){return function(Ee){var ie=[],Te=-1,ye=0,_e=he.length,se,ze,be;for(Ee instanceof Date||(Ee=new Date(+Ee));++Te<_e;)he.charCodeAt(Te)===37&&(ie.push(he.slice(ye,Te)),(ze=L7[se=he.charAt(++Te)])!=null?se=he.charAt(++Te):ze=se==="e"?" ":"0",(be=ve[se])&&(se=be(Ee,ze)),ie.push(se),ye=Te+1);return ie.push(he.slice(ye,Te)),ie.join("")}}function S(he,ve){return function(Ee){var ie=h1(1900,void 0,1),Te=M(ie,he,Ee+="",0),ye,_e;if(Te!=Ee.length)return null;if("Q"in ie)return new Date(ie.Q);if("s"in ie)return new Date(ie.s*1e3+("L"in ie?ie.L:0));if(ve&&!("Z"in ie)&&(ie.Z=0),"p"in ie&&(ie.H=ie.H%12+ie.p*12),ie.m===void 0&&(ie.m="q"in ie?ie.q:0),"V"in ie){if(ie.V<1||ie.V>53)return null;"w"in ie||(ie.w=1),"Z"in ie?(ye=q5(h1(ie.y,0,1)),_e=ye.getUTCDay(),ye=_e>4||_e===0?AC.ceil(ye):AC(ye),ye=MT.offset(ye,(ie.V-1)*7),ie.y=ye.getUTCFullYear(),ie.m=ye.getUTCMonth(),ie.d=ye.getUTCDate()+(ie.w+6)%7):(ye=K5(h1(ie.y,0,1)),_e=ye.getDay(),ye=_e>4||_e===0?uC.ceil(ye):uC(ye),ye=ix.offset(ye,(ie.V-1)*7),ie.y=ye.getFullYear(),ie.m=ye.getMonth(),ie.d=ye.getDate()+(ie.w+6)%7)}else("W"in ie||"U"in ie)&&("w"in ie||(ie.w="u"in ie?ie.u%7:"W"in ie?1:0),_e="Z"in ie?q5(h1(ie.y,0,1)).getUTCDay():K5(h1(ie.y,0,1)).getDay(),ie.m=0,ie.d="W"in ie?(ie.w+6)%7+ie.W*7-(_e+5)%7:ie.w+ie.U*7-(_e+6)%7);return"Z"in ie?(ie.H+=ie.Z/100|0,ie.M+=ie.Z%100,q5(ie)):K5(ie)}}function M(he,ve,Ee,ie){for(var Te=0,ye=ve.length,_e=Ee.length,se,ze;Te<ye;){if(ie>=_e)return-1;if(se=ve.charCodeAt(Te++),se===37){if(se=ve.charAt(Te++),ze=R[se in L7?ve.charAt(Te++):se],!ze||(ie=ze(he,Ee,ie))<0)return-1}else if(se!=Ee.charCodeAt(ie++))return-1}return ie}function T(he,ve,Ee){var ie=c.exec(ve.slice(Ee));return ie?(he.p=u.get(ie[0].toLowerCase()),Ee+ie[0].length):-1}function F(he,ve,Ee){var ie=h.exec(ve.slice(Ee));return ie?(he.w=p.get(ie[0].toLowerCase()),Ee+ie[0].length):-1}function P(he,ve,Ee){var ie=A.exec(ve.slice(Ee));return ie?(he.w=f.get(ie[0].toLowerCase()),Ee+ie[0].length):-1}function D(he,ve,Ee){var ie=m.exec(ve.slice(Ee));return ie?(he.m=w.get(ie[0].toLowerCase()),Ee+ie[0].length):-1}function H(he,ve,Ee){var ie=y.exec(ve.slice(Ee));return ie?(he.m=v.get(ie[0].toLowerCase()),Ee+ie[0].length):-1}function X(he,ve,Ee){return M(he,e,ve,Ee)}function fe(he,ve,Ee){return M(he,n,ve,Ee)}function ue(he,ve,Ee){return M(he,r,ve,Ee)}function me(he){return a[he.getDay()]}function J(he){return s[he.getDay()]}function le(he){return l[he.getMonth()]}function ee(he){return o[he.getMonth()]}function re(he){return i[+(he.getHours()>=12)]}function k(he){return 1+~~(he.getMonth()/3)}function $(he){return a[he.getUTCDay()]}function j(he){return s[he.getUTCDay()]}function G(he){return l[he.getUTCMonth()]}function q(he){return o[he.getUTCMonth()]}function W(he){return i[+(he.getUTCHours()>=12)]}function ge(he){return 1+~~(he.getUTCMonth()/3)}return{format:function(he){var ve=L(he+="",_);return ve.toString=function(){return he},ve},parse:function(he){var ve=S(he+="",!1);return ve.toString=function(){return he},ve},utcFormat:function(he){var ve=L(he+="",B);return ve.toString=function(){return he},ve},utcParse:function(he){var ve=S(he+="",!0);return ve.toString=function(){return he},ve}}}var L7={"-":"",_:" ",0:"0"},wa=/^\s*\d+/,q5e=/^%/,$5e=/[\\^$*+?|[\]().{}]/g;function mr(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function X5e(t){return t.replace($5e,"\\$&")}function d1(t){return new RegExp("^(?:"+t.map(X5e).join("|")+")","i")}function p1(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Y5e(t,e,n){var r=wa.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function J5e(t,e,n){var r=wa.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Z5e(t,e,n){var r=wa.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function ePe(t,e,n){var r=wa.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function tPe(t,e,n){var r=wa.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function F7(t,e,n){var r=wa.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function R7(t,e,n){var r=wa.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function nPe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function rPe(t,e,n){var r=wa.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function iPe(t,e,n){var r=wa.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function U7(t,e,n){var r=wa.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function sPe(t,e,n){var r=wa.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function D7(t,e,n){var r=wa.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function aPe(t,e,n){var r=wa.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function oPe(t,e,n){var r=wa.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function lPe(t,e,n){var r=wa.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function cPe(t,e,n){var r=wa.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function uPe(t,e,n){var r=q5e.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function APe(t,e,n){var r=wa.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function fPe(t,e,n){var r=wa.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function O7(t,e){return mr(t.getDate(),e,2)}function hPe(t,e){return mr(t.getHours(),e,2)}function dPe(t,e){return mr(t.getHours()%12||12,e,2)}function pPe(t,e){return mr(1+ix.count(Nf(t),t),e,3)}function Iee(t,e){return mr(t.getMilliseconds(),e,3)}function mPe(t,e){return Iee(t,e)+"000"}function gPe(t,e){return mr(t.getMonth()+1,e,2)}function vPe(t,e){return mr(t.getMinutes(),e,2)}function yPe(t,e){return mr(t.getSeconds(),e,2)}function wPe(t){var e=t.getDay();return e===0?7:e}function _Pe(t,e){return mr(IT.count(Nf(t)-1,t),e,2)}function Pee(t){var e=t.getDay();return e>=4||e===0?Nv(t):Nv.ceil(t)}function xPe(t,e){return t=Pee(t),mr(Nv.count(Nf(t),t)+(Nf(t).getDay()===4),e,2)}function bPe(t){return t.getDay()}function EPe(t,e){return mr(uC.count(Nf(t)-1,t),e,2)}function SPe(t,e){return mr(t.getFullYear()%100,e,2)}function CPe(t,e){return t=Pee(t),mr(t.getFullYear()%100,e,2)}function BPe(t,e){return mr(t.getFullYear()%1e4,e,4)}function TPe(t,e){var n=t.getDay();return t=n>=4||n===0?Nv(t):Nv.ceil(t),mr(t.getFullYear()%1e4,e,4)}function MPe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+mr(e/60|0,"0",2)+mr(e%60,"0",2)}function k7(t,e){return mr(t.getUTCDate(),e,2)}function IPe(t,e){return mr(t.getUTCHours(),e,2)}function PPe(t,e){return mr(t.getUTCHours()%12||12,e,2)}function NPe(t,e){return mr(1+MT.count(Lf(t),t),e,3)}function Nee(t,e){return mr(t.getUTCMilliseconds(),e,3)}function LPe(t,e){return Nee(t,e)+"000"}function FPe(t,e){return mr(t.getUTCMonth()+1,e,2)}function RPe(t,e){return mr(t.getUTCMinutes(),e,2)}function UPe(t,e){return mr(t.getUTCSeconds(),e,2)}function DPe(t){var e=t.getUTCDay();return e===0?7:e}function OPe(t,e){return mr(PT.count(Lf(t)-1,t),e,2)}function Lee(t){var e=t.getUTCDay();return e>=4||e===0?Lv(t):Lv.ceil(t)}function kPe(t,e){return t=Lee(t),mr(Lv.count(Lf(t),t)+(Lf(t).getUTCDay()===4),e,2)}function QPe(t){return t.getUTCDay()}function HPe(t,e){return mr(AC.count(Lf(t)-1,t),e,2)}function VPe(t,e){return mr(t.getUTCFullYear()%100,e,2)}function zPe(t,e){return t=Lee(t),mr(t.getUTCFullYear()%100,e,2)}function jPe(t,e){return mr(t.getUTCFullYear()%1e4,e,4)}function GPe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Lv(t):Lv.ceil(t),mr(t.getUTCFullYear()%1e4,e,4)}function WPe(){return"+0000"}function Q7(){return"%"}function H7(t){return+t}function V7(t){return Math.floor(+t/1e3)}var s0,Fee,Ree;KPe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KPe(t){return s0=K5e(t),Fee=s0.format,s0.parse,Ree=s0.utcFormat,s0.utcParse,s0}function qPe(t){return new Date(t)}function $Pe(t){return t instanceof Date?+t:+new Date(+t)}function kU(t,e,n,r,i,s,a,o,l,c){var u=SU(),A=u.invert,f=u.domain,h=c(".%L"),p=c(":%S"),y=c("%I:%M"),v=c("%I %p"),m=c("%a %d"),w=c("%b %d"),_=c("%B"),B=c("%Y");function R(L){return(l(L)<L?h:o(L)<L?p:a(L)<L?y:s(L)<L?v:r(L)<L?i(L)<L?m:w:n(L)<L?_:B)(L)}return u.invert=function(L){return new Date(A(L))},u.domain=function(L){return arguments.length?f(Array.from(L,$Pe)):f().map(qPe)},u.ticks=function(L){var S=f();return t(S[0],S[S.length-1],L??10)},u.tickFormat=function(L,S){return S==null?R:c(S)},u.nice=function(L){var S=f();return(!L||typeof L.range!="function")&&(L=e(S[0],S[S.length-1],L??10)),L?f(_ee(S,L)):u},u.copy=function(){return rx(u,kU(t,e,n,r,i,s,a,o,l,c))},u}function XPe(){return Vc.apply(kU(G5e,W5e,Nf,DU,IT,ix,RU,LU,nm,Fee).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function YPe(){return Vc.apply(kU(z5e,j5e,Lf,OU,PT,MT,UU,FU,nm,Ree).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function NT(){var t=0,e=1,n,r,i,s,a=Oo,o=!1,l;function c(A){return A==null||isNaN(A=+A)?l:a(i===0?.5:(A=(s(A)-n)*i,o?Math.max(0,Math.min(1,A)):A))}c.domain=function(A){return arguments.length?([t,e]=A,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(A){return arguments.length?(o=!!A,c):o},c.interpolator=function(A){return arguments.length?(a=A,c):a};function u(A){return function(f){var h,p;return arguments.length?([h,p]=f,a=A(h,p),c):[a(0),a(1)]}}return c.range=u(ny),c.rangeRound=u(EU),c.unknown=function(A){return arguments.length?(l=A,c):l},function(A){return s=A,n=A(t),r=A(e),i=n===r?0:1/(r-n),c}}function Gd(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Uee(){var t=jd(NT()(Oo));return t.copy=function(){return Gd(t,Uee())},zf.apply(t,arguments)}function Dee(){var t=TU(NT()).domain([1,10]);return t.copy=function(){return Gd(t,Dee()).base(t.base())},zf.apply(t,arguments)}function Oee(){var t=MU(NT());return t.copy=function(){return Gd(t,Oee()).constant(t.constant())},zf.apply(t,arguments)}function QU(){var t=IU(NT());return t.copy=function(){return Gd(t,QU()).exponent(t.exponent())},zf.apply(t,arguments)}function JPe(){return QU.apply(null,arguments).exponent(.5)}function kee(){var t=[],e=Oo;function n(r){if(r!=null&&!isNaN(r=+r))return e((tx(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(fd),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>DIe(t,s/r))},n.copy=function(){return kee(e).domain(t)},zf.apply(n,arguments)}function LT(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,c=Oo,u,A=!1,f;function h(y){return isNaN(y=+y)?f:(y=.5+((y=+u(y))-s)*(r*y<r*s?o:l),c(A?Math.max(0,Math.min(1,y)):y))}h.domain=function(y){return arguments.length?([t,e,n]=y,i=u(t=+t),s=u(e=+e),a=u(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,h):[t,e,n]},h.clamp=function(y){return arguments.length?(A=!!y,h):A},h.interpolator=function(y){return arguments.length?(c=y,h):c};function p(y){return function(v){var m,w,_;return arguments.length?([m,w,_]=v,c=u5e(y,[m,w,_]),h):[c(0),c(.5),c(1)]}}return h.range=p(ny),h.rangeRound=p(EU),h.unknown=function(y){return arguments.length?(f=y,h):f},function(y){return u=y,i=y(t),s=y(e),a=y(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,h}}function Qee(){var t=jd(LT()(Oo));return t.copy=function(){return Gd(t,Qee())},zf.apply(t,arguments)}function Hee(){var t=TU(LT()).domain([.1,1,10]);return t.copy=function(){return Gd(t,Hee()).base(t.base())},zf.apply(t,arguments)}function Vee(){var t=MU(LT());return t.copy=function(){return Gd(t,Vee()).constant(t.constant())},zf.apply(t,arguments)}function HU(){var t=IU(LT());return t.copy=function(){return Gd(t,HU()).exponent(t.exponent())},zf.apply(t,arguments)}function ZPe(){return HU.apply(null,arguments).exponent(.5)}const N1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_U,scaleDiverging:Qee,scaleDivergingLog:Hee,scaleDivergingPow:HU,scaleDivergingSqrt:ZPe,scaleDivergingSymlog:Vee,scaleIdentity:wee,scaleImplicit:vL,scaleLinear:yee,scaleLog:xee,scaleOrdinal:wU,scalePoint:QIe,scalePow:PU,scaleQuantile:See,scaleQuantize:Cee,scaleRadial:Eee,scaleSequential:Uee,scaleSequentialLog:Dee,scaleSequentialPow:QU,scaleSequentialQuantile:kee,scaleSequentialSqrt:JPe,scaleSequentialSymlog:Oee,scaleSqrt:L5e,scaleSymlog:bee,scaleThreshold:Bee,scaleTime:XPe,scaleUtc:YPe,tickFormat:vee},Symbol.toStringTag,{value:"Module"}));var rg=t=>t.chartData,VU=at([rg],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),e3e=(t,e,n,r)=>r?VU(t):rg(t);function Fv(t){if(Array.isArray(t)&&t.length===2){var[e,n]=t;if(Cu(e)&&Cu(n))return!0}return!1}function z7(t,e,n){return n?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function t3e(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[n,r]=t,i,s;if(Cu(n))i=n;else if(typeof n=="function")return;if(Cu(r))s=r;else if(typeof r=="function")return;var a=[i,s];if(Fv(a))return a}}function n3e(t,e,n){if(!(!n&&e==null)){if(typeof t=="function"&&e!=null)try{var r=t(e,n);if(Fv(r))return z7(r,e,n)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(Jn(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&kV.test(i)){var l=kV.exec(i);if(l==null||e==null)a=void 0;else{var c=+l[1];a=e[0]-c}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(Jn(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&QV.test(s)){var u=QV.exec(s);if(u==null||e==null)o=void 0;else{var A=+u[1];o=e[1]+A}}else o=e==null?void 0:e[1];var f=[a,o];if(Fv(f))return e==null?f:z7(f,e,n)}}}var ry=1e9,r3e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},jU,bi=!0,kc="[DecimalError] ",vm=kc+"Invalid argument: ",zU=kc+"Exponent out of range: ",iy=Math.floor,Op=Math.pow,i3e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,kl,Aa=1e7,hi=7,zee=9007199254740991,fC=iy(zee/hi),Yt={};Yt.absoluteValue=Yt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Yt.comparedTo=Yt.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Yt.decimalPlaces=Yt.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*hi;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Yt.dividedBy=Yt.div=function(t){return wf(this,new this.constructor(t))};Yt.dividedToIntegerBy=Yt.idiv=function(t){var e=this,n=e.constructor;return zr(wf(e,new n(t),0,1),n.precision)};Yt.equals=Yt.eq=function(t){return!this.cmp(t)};Yt.exponent=function(){return Ms(this)};Yt.greaterThan=Yt.gt=function(t){return this.cmp(t)>0};Yt.greaterThanOrEqualTo=Yt.gte=function(t){return this.cmp(t)>=0};Yt.isInteger=Yt.isint=function(){return this.e>this.d.length-2};Yt.isNegative=Yt.isneg=function(){return this.s<0};Yt.isPositive=Yt.ispos=function(){return this.s>0};Yt.isZero=function(){return this.s===0};Yt.lessThan=Yt.lt=function(t){return this.cmp(t)<0};Yt.lessThanOrEqualTo=Yt.lte=function(t){return this.cmp(t)<1};Yt.logarithm=Yt.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(kl))throw Error(kc+"NaN");if(n.s<1)throw Error(kc+(n.s?"NaN":"-Infinity"));return n.eq(kl)?new r(0):(bi=!1,e=wf(p_(n,s),p_(t,s),s),bi=!0,zr(e,i))};Yt.minus=Yt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Wee(e,t):jee(e,(t.s=-t.s,t))};Yt.modulo=Yt.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(kc+"NaN");return n.s?(bi=!1,e=wf(n,t,0,1).times(t),bi=!0,n.minus(e)):zr(new r(n),i)};Yt.naturalExponential=Yt.exp=function(){return Gee(this)};Yt.naturalLogarithm=Yt.ln=function(){return p_(this)};Yt.negated=Yt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Yt.plus=Yt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?jee(e,t):Wee(e,(t.s=-t.s,t))};Yt.precision=Yt.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(vm+t);if(e=Ms(i)+1,r=i.d.length-1,n=r*hi+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Yt.squareRoot=Yt.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(kc+"NaN")}for(t=Ms(o),bi=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Zu(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=iy((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(wf(o,s,a+2)).times(.5),Zu(s.d).slice(0,a)===(e=Zu(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(zr(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return bi=!0,zr(r,n)};Yt.times=Yt.mul=function(t){var e,n,r,i,s,a,o,l,c,u=this,A=u.constructor,f=u.d,h=(t=new A(t)).d;if(!u.s||!t.s)return new A(0);for(t.s*=u.s,n=u.e+t.e,l=f.length,c=h.length,l<c&&(s=f,f=h,h=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+h[r]*f[i-r-1]+e,s[i--]=o%Aa|0,e=o/Aa|0;s[i]=(s[i]+e)%Aa|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,bi?zr(t,A.precision):t};Yt.toDecimalPlaces=Yt.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(yA(t,0,ry),e===void 0?e=r.rounding:yA(e,0,8),zr(n,t+Ms(n)+1,e))};Yt.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=Um(r,!0):(yA(t,0,ry),e===void 0?e=i.rounding:yA(e,0,8),r=zr(new i(r),t+1,e),n=Um(r,!0,t+1)),n};Yt.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?Um(i):(yA(t,0,ry),e===void 0?e=s.rounding:yA(e,0,8),r=zr(new s(i),t+Ms(i)+1,e),n=Um(r.abs(),!1,t+Ms(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Yt.toInteger=Yt.toint=function(){var t=this,e=t.constructor;return zr(new e(t),Ms(t)+1,e.rounding)};Yt.toNumber=function(){return+this};Yt.toPower=Yt.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(kl);if(o=new l(o),!o.s){if(t.s<1)throw Error(kc+"Infinity");return o}if(o.eq(kl))return o;if(r=l.precision,t.eq(kl))return zr(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=u<0?-u:u)<=zee){for(i=new l(kl),e=Math.ceil(r/hi+4),bi=!1;n%2&&(i=i.times(o),G7(i.d,e)),n=iy(n/2),n!==0;)o=o.times(o),G7(o.d,e);return bi=!0,t.s<0?new l(kl).div(i):zr(i,r)}}else if(s<0)throw Error(kc+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,bi=!1,i=t.times(p_(o,r+c)),bi=!0,i=Gee(i),i.s=s,i};Yt.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=Ms(i),r=Um(i,n<=s.toExpNeg||n>=s.toExpPos)):(yA(t,1,ry),e===void 0?e=s.rounding:yA(e,0,8),i=zr(new s(i),t,e),n=Ms(i),r=Um(i,t<=n||n<=s.toExpNeg,t)),r};Yt.toSignificantDigits=Yt.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(yA(t,1,ry),e===void 0?e=r.rounding:yA(e,0,8)),zr(new r(n),t,e)};Yt.toString=Yt.valueOf=Yt.val=Yt.toJSON=Yt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Ms(t),n=t.constructor;return Um(t,e<=n.toExpNeg||e>=n.toExpPos)};function jee(t,e){var n,r,i,s,a,o,l,c,u=t.constructor,A=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),bi?zr(e,A):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(A/hi),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/Aa|0,l[s]%=Aa;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,bi?zr(e,A):e}function yA(t,e,n){if(t!==~~t||t<e||t>n)throw Error(vm+t)}function Zu(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=hi-r.length,n&&(s+=Lh(n)),s+=r;a=t[e],r=a+"",n=hi-r.length,n&&(s+=Lh(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var wf=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%Aa|0,a=s/Aa|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*Aa+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,u,A,f,h,p,y,v,m,w,_,B,R,L,S,M,T=r.constructor,F=r.s==i.s?1:-1,P=r.d,D=i.d;if(!r.s)return new T(r);if(!i.s)throw Error(kc+"Division by zero");for(l=r.e-i.e,S=D.length,R=P.length,h=new T(F),p=h.d=[],c=0;D[c]==(P[c]||0);)++c;if(D[c]>(P[c]||0)&&--l,s==null?w=s=T.precision:a?w=s+(Ms(r)-Ms(i))+1:w=s,w<0)return new T(0);if(w=w/hi+2|0,c=0,S==1)for(u=0,D=D[0],w++;(c<R||u)&&w--;c++)_=u*Aa+(P[c]||0),p[c]=_/D|0,u=_%D|0;else{for(u=Aa/(D[0]+1)|0,u>1&&(D=t(D,u),P=t(P,u),S=D.length,R=P.length),B=S,y=P.slice(0,S),v=y.length;v<S;)y[v++]=0;M=D.slice(),M.unshift(0),L=D[0],D[1]>=Aa/2&&++L;do u=0,o=e(D,y,S,v),o<0?(m=y[0],S!=v&&(m=m*Aa+(y[1]||0)),u=m/L|0,u>1?(u>=Aa&&(u=Aa-1),A=t(D,u),f=A.length,v=y.length,o=e(A,y,f,v),o==1&&(u--,n(A,S<f?M:D,f))):(u==0&&(o=u=1),A=D.slice()),f=A.length,f<v&&A.unshift(0),n(y,A,v),o==-1&&(v=y.length,o=e(D,y,S,v),o<1&&(u++,n(y,S<v?M:D,v))),v=y.length):o===0&&(u++,y=[0]),p[c++]=u,o&&y[0]?y[v++]=P[B]||0:(y=[P[B]],v=1);while((B++<R||y[0]!==void 0)&&w--)}return p[0]||p.shift(),h.e=l,zr(h,a?s+Ms(h)+1:s)}}();function Gee(t,e){var n,r,i,s,a,o,l=0,c=0,u=t.constructor,A=u.precision;if(Ms(t)>16)throw Error(zU+Ms(t));if(!t.s)return new u(kl);for(bi=!1,o=A,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(Op(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new u(kl),u.precision=o;;){if(i=zr(i.times(t),o),n=n.times(++l),a=s.plus(wf(i,n,o)),Zu(a.d).slice(0,o)===Zu(s.d).slice(0,o)){for(;c--;)s=zr(s.times(s),o);return u.precision=A,e==null?(bi=!0,zr(s,A)):s}s=a}}function Ms(t){for(var e=t.e*hi,n=t.d[0];n>=10;n/=10)e++;return e}function $5(t,e,n){if(e>t.LN10.sd())throw bi=!0,n&&(t.precision=n),Error(kc+"LN10 precision limit exceeded");return zr(new t(t.LN10),e)}function Lh(t){for(var e="";t--;)e+="0";return e}function p_(t,e){var n,r,i,s,a,o,l,c,u,A=1,f=10,h=t,p=h.d,y=h.constructor,v=y.precision;if(h.s<1)throw Error(kc+(h.s?"NaN":"-Infinity"));if(h.eq(kl))return new y(0);if(e==null?(bi=!1,c=v):c=e,h.eq(10))return e==null&&(bi=!0),$5(y,c);if(c+=f,y.precision=c,n=Zu(p),r=n.charAt(0),s=Ms(h),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=Zu(h.d),r=n.charAt(0),A++;s=Ms(h),r>1?(h=new y("0."+n),s++):h=new y(r+"."+n.slice(1))}else return l=$5(y,c+2,v).times(s+""),h=p_(new y(r+"."+n.slice(1)),c-f).plus(l),y.precision=v,e==null?(bi=!0,zr(h,v)):h;for(o=a=h=wf(h.minus(kl),h.plus(kl),c),u=zr(h.times(h),c),i=3;;){if(a=zr(a.times(u),c),l=o.plus(wf(a,new y(i),c)),Zu(l.d).slice(0,c)===Zu(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus($5(y,c+2,v).times(s+""))),o=wf(o,new y(A),c),y.precision=v,e==null?(bi=!0,zr(o,v)):o;o=l,i+=2}}function j7(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=iy(n/hi),t.d=[],r=(n+1)%hi,n<0&&(r+=hi),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=hi;r<i;)t.d.push(+e.slice(r,r+=hi));e=e.slice(r),r=hi-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),bi&&(t.e>fC||t.e<-fC))throw Error(zU+n)}else t.s=0,t.e=0,t.d=[0];return t}function zr(t,e,n){var r,i,s,a,o,l,c,u,A=t.d;for(a=1,s=A[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=hi,i=e,c=A[u=0];else{if(u=Math.ceil((r+1)/hi),s=A.length,u>=s)return t;for(c=s=A[u],a=1;s>=10;s/=10)a++;r%=hi,i=r-hi+a}if(n!==void 0&&(s=Op(10,a-i-1),o=c/s%10|0,l=e<0||A[u+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Op(10,a-i):0:A[u-1])%10&1||n==(t.s<0?8:7))),e<1||!A[0])return l?(s=Ms(t),A.length=1,e=e-s-1,A[0]=Op(10,(hi-e%hi)%hi),t.e=iy(-e/hi)||0):(A.length=1,A[0]=t.e=t.s=0),t;if(r==0?(A.length=u,s=1,u--):(A.length=u+1,s=Op(10,hi-r),A[u]=i>0?(c/Op(10,a-i)%Op(10,i)|0)*s:0),l)for(;;)if(u==0){(A[0]+=s)==Aa&&(A[0]=1,++t.e);break}else{if(A[u]+=s,A[u]!=Aa)break;A[u--]=0,s=1}for(r=A.length;A[--r]===0;)A.pop();if(bi&&(t.e>fC||t.e<-fC))throw Error(zU+Ms(t));return t}function Wee(t,e){var n,r,i,s,a,o,l,c,u,A,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),bi?zr(e,h):e;if(l=t.d,A=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,o=A.length):(n=A,r=c,o=l.length),i=Math.max(Math.ceil(h/hi),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=A.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=A[i]){u=l[i]<A[i];break}a=0}for(u&&(n=l,l=A,A=n,e.s=-e.s),o=l.length,i=A.length-o;i>0;--i)l[o++]=0;for(i=A.length;i>a;){if(l[--i]<A[i]){for(s=i;s&&l[--s]===0;)l[s]=Aa-1;--l[s],l[i]+=Aa}l[i]-=A[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,bi?zr(e,h):e):new f(0)}function Um(t,e,n){var r,i=Ms(t),s=Zu(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Lh(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Lh(-i-1)+s,n&&(r=n-a)>0&&(s+=Lh(r))):i>=a?(s+=Lh(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Lh(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Lh(r))),t.s<0?"-"+s:s}function G7(t,e){if(t.length>e)return t.length=e,!0}function Kee(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(vm+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return j7(a,s.toString())}else if(typeof s!="string")throw Error(vm+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,i3e.test(s))j7(a,s);else throw Error(vm+s)}if(i.prototype=Yt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Kee,i.config=i.set=s3e,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function s3e(t){if(!t||typeof t!="object")throw Error(kc+"Object expected");var e,n,r,i=["precision",1,ry,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(iy(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(vm+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(vm+n+": "+r);return this}var jU=Kee(r3e);kl=new jU(1);const Ir=jU;var a3e=t=>t,qee={},$ee=t=>t===qee,W7=t=>function e(){return arguments.length===0||arguments.length===1&&$ee(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Xee=(t,e)=>t===1?e:W7(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var s=r.filter(a=>a!==qee).length;return s>=t?e(...r):Xee(t-s,W7(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var c=r.map(u=>$ee(u)?o.shift():u);return e(...c,...o)}))}),FT=t=>Xee(t.length,t),xL=(t,e)=>{for(var n=[],r=t;r<e;++r)n[r-t]=r;return n},o3e=FT((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(n=>e[n]).map(t)),l3e=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return a3e;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}},bL=t=>Array.isArray(t)?t.reverse():t.split("").reverse().join(""),Yee=t=>{var e=null,n=null;return function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return e&&i.every((a,o)=>{var l;return a===((l=e)===null||l===void 0?void 0:l[o])})||(e=i,n=t(...i)),n}};function Jee(t){var e;return t===0?e=1:e=Math.floor(new Ir(t).abs().log(10).toNumber())+1,e}function Zee(t,e,n){for(var r=new Ir(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}FT((t,e,n)=>{var r=+t,i=+e;return r+n*(i-r)});FT((t,e,n)=>{var r=e-+t;return r=r||1/0,(n-t)/r});FT((t,e,n)=>{var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});var ete=t=>{var[e,n]=t,[r,i]=[e,n];return e>n&&([r,i]=[n,e]),[r,i]},tte=(t,e,n)=>{if(t.lte(0))return new Ir(0);var r=Jee(t.toNumber()),i=new Ir(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new Ir(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?new Ir(l.toNumber()):new Ir(Math.ceil(l.toNumber()))},c3e=(t,e,n)=>{var r=new Ir(1),i=new Ir(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new Ir(10).pow(Jee(t)-1),i=new Ir(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Ir(Math.floor(t)))}else t===0?i=new Ir(Math.floor((e-1)/2)):n||(i=new Ir(Math.floor(t)));var a=Math.floor((e-1)/2),o=l3e(o3e(l=>i.add(new Ir(l-a).mul(r)).toNumber()),xL);return o(0,e)},nte=function(e,n,r,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-e)/(r-1)))return{step:new Ir(0),tickMin:new Ir(0),tickMax:new Ir(0)};var a=tte(new Ir(n).sub(e).div(r-1),i,s),o;e<=0&&n>=0?o=new Ir(0):(o=new Ir(e).add(n).div(2),o=o.sub(new Ir(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),c=Math.ceil(new Ir(n).sub(o).div(a).toNumber()),u=l+c+1;return u>r?nte(e,n,r,i,s+1):(u<r&&(c=n>0?c+(r-u):c,l=n>0?l:l+(r-u)),{step:a,tickMin:o.sub(new Ir(l).mul(a)),tickMax:o.add(new Ir(c).mul(a))})};function u3e(t){var[e,n]=t,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(r,2),[a,o]=ete([e,n]);if(a===-1/0||o===1/0){var l=o===1/0?[a,...xL(0,r-1).map(()=>1/0)]:[...xL(0,r-1).map(()=>-1/0),o];return e>n?bL(l):l}if(a===o)return c3e(a,r,i);var{step:c,tickMin:u,tickMax:A}=nte(a,o,s,i,0),f=Zee(u,A.add(new Ir(.1).mul(c)),c);return e>n?bL(f):f}function A3e(t,e){var[n,r]=t,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,a]=ete([n,r]);if(s===-1/0||a===1/0)return[n,r];if(s===a)return[s];var o=Math.max(e,2),l=tte(new Ir(a).sub(s).div(o-1),i,0),c=[...Zee(new Ir(s),new Ir(a),l),a];return i===!1&&(c=c.map(u=>Math.round(u))),n>r?bL(c):c}var f3e=Yee(u3e),h3e=Yee(A3e),d3e=t=>t.rootProps.barCategoryGap,sx=t=>t.rootProps.stackOffset,GU=t=>t.options.chartName,WU=t=>t.rootProps.syncId,rte=t=>t.rootProps.syncMethod,KU=t=>t.options.eventEmitter,nf={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Dl={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},RT=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},p3e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:nf.angleAxisId,includeHidden:!1,name:void 0,reversed:nf.reversed,scale:nf.scale,tick:nf.tick,tickCount:void 0,ticks:void 0,type:nf.type,unit:void 0},m3e={allowDataOverflow:Dl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Dl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dl.scale,tick:Dl.tick,tickCount:Dl.tickCount,ticks:void 0,type:Dl.type,unit:void 0},g3e={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:nf.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:nf.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:nf.scale,tick:nf.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},v3e={allowDataOverflow:Dl.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Dl.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Dl.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Dl.scale,tick:Dl.tick,tickCount:Dl.tickCount,ticks:void 0,type:"category",unit:void 0},qU=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?g3e:p3e,$U=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?v3e:m3e,UT=t=>t.polarOptions,XU=at([Hf,Vf,xo],UZ),ite=at([UT,XU],(t,e)=>{if(t!=null)return aA(t.innerRadius,e,0)}),ste=at([UT,XU],(t,e)=>{if(t!=null)return aA(t.outerRadius,e,e*.8)}),y3e=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:n}=t;return[e,n]},ate=at([UT],y3e);at([qU,ate],RT);var ote=at([XU,ite,ste],(t,e,n)=>{if(!(t==null||e==null||n==null))return[e,n]});at([$U,ote],RT);var w3e=at([Ui,UT,ite,ste,Hf,Vf],(t,e,n,r,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||n==null||r==null)){var{cx:a,cy:o,startAngle:l,endAngle:c}=e;return{cx:aA(a,i,i/2),cy:aA(o,s,s/2),innerRadius:n,outerRadius:r,startAngle:l,endAngle:c,clockWise:!1}}}),hs=(t,e)=>e,ax=(t,e,n)=>n;function K7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?K7(Object(n),!0).forEach(function(r){_3e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):K7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _3e(t,e,n){return(e=x3e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function x3e(t){var e=b3e(t,"string");return typeof e=="symbol"?e:e+""}function b3e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EL=[0,"auto"],E3e={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},sy=(t,e)=>{var n=t.cartesianAxis.xAxis[e];return n??E3e},S3e={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:EL,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:bT},ay=(t,e)=>{var n=t.cartesianAxis.yAxis[e];return n??S3e},C3e={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},YU=(t,e)=>{var n=t.cartesianAxis.zAxis[e];return n??C3e},ds=(t,e,n)=>{switch(e){case"xAxis":return sy(t,n);case"yAxis":return ay(t,n);case"zAxis":return YU(t,n);case"angleAxis":return qU(t,n);case"radiusAxis":return $U(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},B3e=(t,e,n)=>{switch(e){case"xAxis":return sy(t,n);case"yAxis":return ay(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},ox=(t,e,n)=>{switch(e){case"xAxis":return sy(t,n);case"yAxis":return ay(t,n);case"angleAxis":return qU(t,n);case"radiusAxis":return $U(t,n);default:throw new Error("Unexpected axis type: ".concat(e))}},lte=t=>t.graphicalItems.countOfBars>0;function JU(t,e){return n=>{switch(t){case"xAxis":return"xAxisId"in n&&n.xAxisId===e;case"yAxis":return"yAxisId"in n&&n.yAxisId===e;case"zAxis":return"zAxisId"in n&&n.zAxisId===e;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===e;default:return!1}}}var T3e=t=>t.graphicalItems.cartesianItems,M3e=at([hs,ax],JU),ZU=(t,e,n)=>t.filter(n).filter(r=>(e==null?void 0:e.includeHidden)===!0?!0:!r.hide),lx=at([T3e,ds,M3e],ZU),cte=t=>t.filter(e=>e.stackId===void 0),I3e=at([lx],cte),eD=t=>t.map(e=>e.data).filter(Boolean).flat(1),P3e=at([lx],eD),tD=(t,e)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=e;return t.length>0?t:n.slice(r,i+1)},DT=at([P3e,e3e],tD),nD=(t,e,n)=>(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:pa(r,e.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>t.map(i=>({value:pa(i,r)}))):t.map(r=>({value:r})),OT=at([DT,ds,lx],nD);function ute(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function ig(t){return t.filter(e=>Mf(e)||e instanceof Date).map(Number).filter(e=>Su(e)===!1)}function N3e(t,e,n){return!n||typeof e!="number"||Su(e)?[]:n.length?ig(n.flatMap(r=>{var i=pa(t,r.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Cu(s)||!Cu(a)))return[e-s,e+a]})):[]}var Ate=(t,e,n)=>{var r={},i=e.reduce((s,a)=>(a.stackId==null||(s[a.stackId]==null&&(s[a.stackId]=[]),s[a.stackId].push(a)),s),r);return Object.fromEntries(Object.entries(i).map(s=>{var[a,o]=s,l=o.map(c=>c.dataKey);return[a,{stackedData:RTe(t,l,n),graphicalItems:o}]}))},L3e=at([DT,lx,sx],Ate),fte=(t,e,n)=>{var{dataStartIndex:r,dataEndIndex:i}=e;if(n!=="zAxis"){var s=OTe(t,r,i);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},F3e=at([L3e,rg,hs],fte),hte=(t,e,n,r)=>n.length>0?t.flatMap(i=>n.flatMap(s=>{var a,o,l=(a=s.errorBars)===null||a===void 0?void 0:a.filter(u=>ute(r,u)),c=pa(i,(o=e.dataKey)!==null&&o!==void 0?o:s.dataKey);return{value:c,errorDomain:N3e(i,c,l)}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(i=>({value:pa(i,e.dataKey),errorDomain:[]})):t.map(i=>({value:i,errorDomain:[]})),R3e=at(DT,ds,I3e,hs,hte);function U3e(t){var{value:e}=t;if(Mf(e)||e instanceof Date)return e}var D3e=t=>{var e=t.flatMap(r=>[r.value,r.errorDomain]).flat(1),n=ig(e);if(n.length!==0)return[Math.min(...n),Math.max(...n)]},O3e=(t,e,n)=>{var r=t.map(U3e).filter(i=>i!=null);return n&&(e.dataKey==null||e.allowDuplicatedCategory&&wJ(r))?lee(0,t.length):e.allowDuplicatedCategory?r:Array.from(new Set(r))},rD=t=>{var e;if(t==null||!("domain"in t))return EL;if(t.domain!=null)return t.domain;if(t.ticks!=null){if(t.type==="number"){var n=ig(t.ticks);return[Math.min(...n),Math.max(...n)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:EL},iD=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},dte=t=>t.referenceElements.dots,oy=(t,e,n)=>t.filter(r=>r.ifOverflow==="extendDomain").filter(r=>e==="xAxis"?r.xAxisId===n:r.yAxisId===n),k3e=at([dte,hs,ax],oy),pte=t=>t.referenceElements.areas,Q3e=at([pte,hs,ax],oy),mte=t=>t.referenceElements.lines,H3e=at([mte,hs,ax],oy),gte=(t,e)=>{var n=ig(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},V3e=at(k3e,hs,gte),vte=(t,e)=>{var n=ig(t.flatMap(r=>[e==="xAxis"?r.x1:r.y1,e==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},z3e=at([Q3e,hs],vte),yte=(t,e)=>{var n=ig(t.map(r=>e==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]},j3e=at(H3e,hs,yte),G3e=at(V3e,j3e,z3e,(t,e,n)=>iD(t,n,e)),wte=at([ds],rD),sD=(t,e,n,r,i)=>{var s=t3e(e,t.allowDataOverflow);return s??n3e(e,iD(n,i,D3e(r)),t.allowDataOverflow)},W3e=at([ds,wte,F3e,R3e,G3e],sD),K3e=[0,1],aD=(t,e,n,r,i,s,a)=>{if(!(t==null||n==null||n.length===0)){var{dataKey:o,type:l}=t,c=Zm(e,s);return c&&o==null?lee(0,n.length):l==="category"?O3e(r,t,c):i==="expand"?K3e:a}},oD=at([ds,Ui,DT,OT,sx,hs,W3e],aD),_te=(t,e,n,r,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Z_(s));return o in N1?o:"point"}}},ly=at([ds,Ui,lte,GU,hs],_te);function q3e(t){if(t!=null){if(t in N1)return N1[t]();var e="scale".concat(Z_(t));if(e in N1)return N1[e]()}}function lD(t,e,n,r){if(!(n==null||r==null)){if(typeof t.scale=="function")return t.scale.copy().domain(n).range(r);var i=q3e(e);if(i!=null){var s=i.domain(n).range(r);return PTe(s),s}}}var cD=(t,e,n)=>{var r=rD(e);if(!(n!=="auto"&&n!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&Fv(t))return f3e(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Fv(t))return h3e(t,e.tickCount,e.allowDecimals)}},uD=at([oD,ox,ly],cD),AD=(t,e,n,r)=>{if(r!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&Fv(e)&&Array.isArray(n)&&n.length>0){var i=e[0],s=n[0],a=e[1],o=n[n.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},$3e=at([ds,oD,uD,hs],AD),X3e=at(OT,ds,(t,e)=>{if(!(!e||e.type!=="number")){var n=1/0,r=Array.from(ig(t.map(o=>o.value))).sort((o,l)=>o-l);if(r.length<2)return 1/0;var i=r[r.length-1]-r[0];if(i===0)return 1/0;for(var s=0;s<r.length-1;s++){var a=r[s+1]-r[s];n=Math.min(n,a)}return n/i}}),xte=at(X3e,Ui,d3e,xo,(t,e,n,r)=>r,(t,e,n,r,i)=>{if(!Cu(t))return 0;var s=e==="vertical"?r.height:r.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=aA(n,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),Y3e=(t,e)=>{var n=sy(t,e);return n==null||typeof n.padding!="string"?0:xte(t,"xAxis",e,n.padding)},J3e=(t,e)=>{var n=ay(t,e);return n==null||typeof n.padding!="string"?0:xte(t,"yAxis",e,n.padding)},Z3e=at(sy,Y3e,(t,e)=>{var n,r;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((n=i.left)!==null&&n!==void 0?n:0)+e,right:((r=i.right)!==null&&r!==void 0?r:0)+e}}),eNe=at(ay,J3e,(t,e)=>{var n,r;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((n=i.top)!==null&&n!==void 0?n:0)+e,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+e}}),tNe=at([xo,Z3e,ST,ET,(t,e,n)=>n],(t,e,n,r,i)=>{var{padding:s}=r;return i?[s.left,n.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),nNe=at([xo,Ui,eNe,ST,ET,(t,e,n)=>n],(t,e,n,r,i,s)=>{var{padding:a}=i;return s?[r.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-n.bottom,t.top+n.top]:[t.top+n.top,t.top+t.height-n.bottom]}),cx=(t,e,n,r)=>{var i;switch(e){case"xAxis":return tNe(t,n,r);case"yAxis":return nNe(t,n,r);case"zAxis":return(i=YU(t,n))===null||i===void 0?void 0:i.range;case"angleAxis":return ate(t);case"radiusAxis":return ote(t,n);default:return}},bte=at([ds,cx],RT),kT=at([ds,ly,$3e,bte],lD);at(lx,hs,(t,e)=>t.flatMap(n=>{var r;return(r=n.errorBars)!==null&&r!==void 0?r:[]}).filter(n=>ute(e,n)));function Ete(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var QT=(t,e)=>e,HT=(t,e,n)=>n,rNe=at(pU,QT,HT,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Ete)),iNe=at(mU,QT,HT,(t,e,n)=>t.filter(r=>r.orientation===e).filter(r=>r.mirror===n).sort(Ete)),Ste=(t,e)=>({width:t.width,height:e.height}),sNe=(t,e)=>{var n=typeof e.width=="number"?e.width:bT;return{width:n,height:t.height}};at(xo,sy,Ste);var aNe=(t,e,n)=>{switch(e){case"top":return t.top;case"bottom":return n-t.bottom;default:return 0}},oNe=(t,e,n)=>{switch(e){case"left":return t.left;case"right":return n-t.right;default:return 0}};at(Vf,xo,rNe,QT,HT,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=Ste(e,o);a==null&&(a=aNe(e,r,t));var c=r==="top"&&!i||r==="bottom"&&i;s[o.id]=a-Number(c)*l.height,a+=(c?-1:1)*l.height}),s});at(Hf,xo,iNe,QT,HT,(t,e,n,r,i)=>{var s={},a;return n.forEach(o=>{var l=sNe(e,o);a==null&&(a=oNe(e,r,t));var c=r==="left"&&!i||r==="right"&&i;s[o.id]=a-Number(c)*l.width,a+=(c?-1:1)*l.width}),s});at(xo,ay,(t,e)=>{var n=typeof e.width=="number"?e.width:bT;return{width:n,height:t.height}});var Cte=(t,e,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=n,o=Zm(t,r),l=e.map(c=>c.value);if(a&&o&&s==="category"&&i&&wJ(l))return l}},fD=at([Ui,OT,ds,hs],Cte),Bte=(t,e,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:s}=n,a=Zm(t,r);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},hD=at([Ui,OT,ox,hs],Bte);at([Ui,B3e,ly,kT,fD,hD,cx,uD,hs],(t,e,n,r,i,s,a,o,l)=>{if(e==null)return null;var c=Zm(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:c,niceTicks:o,range:a,realScaleType:n,scale:r}});var lNe=(t,e,n,r,i,s,a,o,l)=>{if(!(e==null||r==null)){var c=Zm(t,l),{type:u,ticks:A,tickCount:f}=e,h=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=u==="category"&&r.bandwidth?r.bandwidth()/h:0;p=l==="angleAxis"&&s!=null&&s.length>=2?Hl(s[0]-s[1])*2*p:p;var y=A||i;if(y){var v=y.map((m,w)=>{var _=a?a.indexOf(m):m;return{index:w,coordinate:r(_)+p,value:m,offset:p}});return v.filter(m=>!Su(m.coordinate))}return c&&o?o.map((m,w)=>({coordinate:r(m)+p,value:m,index:w,offset:p})):r.ticks?r.ticks(f).map(m=>({coordinate:r(m)+p,value:m,offset:p})):r.domain().map((m,w)=>({coordinate:r(m)+p,value:a?a[m]:m,index:w,offset:p}))}};at([Ui,ox,ly,kT,uD,cx,fD,hD,hs],lNe);var cNe=(t,e,n,r,i,s,a)=>{if(!(e==null||n==null||r==null||r[0]===r[1])){var o=Zm(t,a),{tickCount:l}=e,c=0;return c=a==="angleAxis"&&(r==null?void 0:r.length)>=2?Hl(r[0]-r[1])*2*c:c,o&&s?s.map((u,A)=>({coordinate:n(u)+c,value:u,index:A,offset:c})):n.ticks?n.ticks(l).map(u=>({coordinate:n(u)+c,value:u,offset:c})):n.domain().map((u,A)=>({coordinate:n(u)+c,value:i?i[u]:u,index:A,offset:c}))}};at([Ui,ox,kT,cx,fD,hD,hs],cNe);at(ds,kT,(t,e)=>{if(!(t==null||e==null))return hC(hC({},t),{},{scale:e})});var uNe=at([ds,ly,oD,bte],lD);at((t,e,n)=>YU(t,n),uNe,(t,e)=>{if(!(t==null||e==null))return hC(hC({},t),{},{scale:e})});var ANe=at([Ui,pU,mU],(t,e,n)=>{switch(t){case"horizontal":return e.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Tte=t=>t.options.defaultTooltipEventType,Mte=t=>t.options.validateTooltipEventTypes;function Ite(t,e,n){if(t==null)return e;var r=t?"axis":"item";return n==null?e:n.includes(r)?r:e}function dD(t,e){var n=Tte(t),r=Mte(t);return Ite(e,n,r)}function fNe(t){return Wn(e=>dD(e,t))}var Pte=(t,e)=>{var n,r=Number(e);if(!(Su(r)||e==null))return r>=0?t==null||(n=t[r])===null||n===void 0?void 0:n.value:void 0},hNe=t=>t.tooltip.settings,Dh={active:!1,index:null,dataKey:void 0,coordinate:void 0},dNe={itemInteraction:{click:Dh,hover:Dh},axisInteraction:{click:Dh,hover:Dh},keyboardInteraction:Dh,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Nte=Hc({name:"tooltip",initialState:dNe,reducers:{addTooltipEntrySettings(t,e){t.tooltipItemPayloads.push(e.payload)},removeTooltipEntrySettings(t,e){var n=yf(t).tooltipItemPayloads.indexOf(e.payload);n>-1&&t.tooltipItemPayloads.splice(n,1)},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate,t.keyboardInteraction.dataKey=e.payload.activeDataKey}}}),{addTooltipEntrySettings:pNe,removeTooltipEntrySettings:mNe,setTooltipSettingsState:gNe,setActiveMouseOverItemIndex:Lte,mouseLeaveItem:vNe,mouseLeaveChart:Fte,setActiveClickItemIndex:yNe,setMouseOverAxisIndex:Rte,setMouseClickAxisIndex:wNe,setSyncInteraction:SL,setKeyboardInteraction:CL}=Nte.actions,_Ne=Nte.reducer;function q7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?q7(Object(n),!0).forEach(function(r){xNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xNe(t,e,n){return(e=bNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bNe(t){var e=ENe(t,"string");return typeof e=="symbol"?e:e+""}function ENe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SNe(t,e,n){return e==="axis"?n==="click"?t.axisInteraction.click:t.axisInteraction.hover:n==="click"?t.itemInteraction.click:t.itemInteraction.hover}function CNe(t){return t.index!=null}var Ute=(t,e,n,r)=>{if(e==null)return Dh;var i=SNe(t,e,n);if(i==null)return Dh;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(CNe(i)){if(s)return OE(OE({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r};return OE(OE({},Dh),{},{coordinate:i.coordinate})},pD=(t,e)=>{var n=t==null?void 0:t.index;if(n==null)return null;var r=Number(n);if(!Cu(r))return n;var i=0,s=1/0;return e.length>0&&(s=e.length-1),String(Math.max(i,Math.min(r,s)))},Dte=(t,e,n,r,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],c=l==null?void 0:o(l.positions,s);if(c!=null)return c;var u=i==null?void 0:i[Number(s)];if(u)switch(n){case"horizontal":return{x:u.coordinate,y:(r.top+e)/2};default:return{x:(r.left+t)/2,y:u.coordinate}}}},Ote=(t,e,n,r)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;return n==="hover"?i=t.itemInteraction.hover.dataKey:i=t.itemInteraction.click.dataKey,i==null&&r!=null?[t.tooltipItemPayloads[0]]:t.tooltipItemPayloads.filter(s=>{var a;return((a=s.settings)===null||a===void 0?void 0:a.dataKey)===i})},ux=t=>t.options.tooltipPayloadSearcher,cy=t=>t.tooltip;function $7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function X7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$7(Object(n),!0).forEach(function(r){BNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BNe(t,e,n){return(e=TNe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TNe(t){var e=MNe(t,"string");return typeof e=="symbol"?e:e+""}function MNe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function INe(t,e,n){return Array.isArray(t)&&t&&e+n!==0?t.slice(e,n+1):t}function PNe(t,e){return t??e}var kte=(t,e,n,r,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:c,dataEndIndex:u}=n,A=[];return t.reduce((f,h)=>{var p,{dataDefinedOnItem:y,settings:v}=h,m=PNe(y,o),w=INe(m,c,u),_=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:r==null?void 0:r.dataKey,B=v==null?void 0:v.nameKey,R;if(r!=null&&r.dataKey&&Array.isArray(w)&&!Array.isArray(w[0])&&a==="axis"?R=$Se(w,r.dataKey,i):R=s(w,e,l,B),Array.isArray(R))R.forEach(S=>{var M=X7(X7({},v),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});f.push(HV({tooltipEntrySettings:M,dataKey:S.dataKey,payload:S.payload,value:pa(S.payload,S.dataKey),name:S.name}))});else{var L;f.push(HV({tooltipEntrySettings:v,dataKey:_,payload:R,value:pa(R,_),name:(L=pa(R,B))!==null&&L!==void 0?L:v==null?void 0:v.name}))}return f},A)}},_a=t=>{var e=Ui(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},uy=t=>t.tooltip.settings.axisId,Va=t=>{var e=_a(t),n=uy(t);return ox(t,e,n)},mD=at([Va,Ui,lte,GU,_a],_te),NNe=at([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),LNe=at([_a,uy],JU),VT=at([NNe,Va,LNe],ZU),FNe=at([VT],eD),sg=at([FNe,rg],tD),gD=at([sg,Va,VT],nD),RNe=at([Va],rD),UNe=at([sg,VT,sx],Ate),DNe=at([UNe,rg,_a],fte),ONe=at([VT],cte),kNe=at([sg,Va,ONe,_a],hte),QNe=at([dte,_a,uy],oy),HNe=at([QNe,_a],gte),VNe=at([pte,_a,uy],oy),zNe=at([VNe,_a],vte),jNe=at([mte,_a,uy],oy),GNe=at([jNe,_a],yte),WNe=at([HNe,GNe,zNe],iD),KNe=at([Va,RNe,DNe,kNe,WNe],sD),Qte=at([Va,Ui,sg,gD,sx,_a,KNe],aD),qNe=at([Qte,Va,mD],cD),$Ne=at([Va,Qte,qNe,_a],AD),Hte=t=>{var e=_a(t),n=uy(t),r=!1;return cx(t,e,n,r)},Vte=at([Va,Hte],RT),zte=at([Va,mD,$Ne,Vte],lD),XNe=at([Ui,gD,Va,_a],Cte),YNe=at([Ui,gD,Va,_a],Bte),JNe=(t,e,n,r,i,s,a,o)=>{if(e){var{type:l}=e,c=Zm(t,o);if(r){var u=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,A=l==="category"&&r.bandwidth?r.bandwidth()/u:0;return A=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Hl(i[0]-i[1])*2*A:A,c&&a?a.map((f,h)=>({coordinate:r(f)+A,value:f,index:h,offset:A})):r.domain().map((f,h)=>({coordinate:r(f)+A,value:s?s[f]:f,index:h,offset:A}))}}},jf=at([Ui,Va,mD,zte,Hte,XNe,YNe,_a],JNe),vD=at([Tte,Mte,hNe],(t,e,n)=>Ite(n.shared,t,e)),jte=t=>t.tooltip.settings.trigger,yD=t=>t.tooltip.settings.defaultIndex,zT=at([cy,vD,jte,yD],Ute),m_=at([zT,sg],pD),Gte=at([jf,m_],Pte),ZNe=at([zT],t=>{if(t)return t.dataKey}),Wte=at([cy,vD,jte,yD],Ote),eLe=at([Hf,Vf,Ui,xo,jf,yD,Wte,ux],Dte),tLe=at([zT,eLe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),nLe=at([zT],t=>t.active),rLe=at([Wte,m_,rg,Va,Gte,ux,vD],kte);at([rLe],t=>{if(t!=null){var e=t.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(e))}});function Y7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function J7(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Y7(Object(n),!0).forEach(function(r){iLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Y7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function iLe(t,e,n){return(e=sLe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sLe(t){var e=aLe(t,"string");return typeof e=="symbol"?e:e+""}function aLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oLe=()=>Wn(Va),lLe=()=>{var t=oLe(),e=Wn(jf),n=Wn(zte);return kTe(J7(J7({},t),{},{scale:n}),e)},cLe=()=>Wn(GU),wD=(t,e)=>e,Kte=(t,e,n)=>n,_D=(t,e,n,r)=>r,uLe=at(jf,t=>mT(t,e=>e.coordinate)),xD=at([cy,wD,Kte,_D],Ute),qte=at([xD,sg],pD),ALe=(t,e,n)=>{if(e!=null){var r=cy(t);return e==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},$te=at([cy,wD,Kte,_D],Ote),dC=at([Hf,Vf,Ui,xo,jf,_D,$te,ux],Dte),fLe=at([xD,dC],(t,e)=>{var n;return(n=t.coordinate)!==null&&n!==void 0?n:e}),Xte=at(jf,qte,Pte),hLe=at([$te,qte,rg,Va,Xte,ux,wD],kte),dLe=at([xD],t=>({isActive:t.active,activeIndex:t.index})),pLe=(t,e,n,r,i,s,a,o)=>{if(!(!t||!e||!r||!i||!s)){var l=QTe(t.chartX,t.chartY,e,n,o);if(l){var c=VTe(l,e),u=MTe(c,a,s,r,i),A=HTe(e,s,u,l);return{activeIndex:String(u),activeCoordinate:A}}}};function BL(){return BL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},BL.apply(null,arguments)}function Z7(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kE(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Z7(Object(n),!0).forEach(function(r){mLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Z7(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function mLe(t,e,n){return(e=gLe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gLe(t){var e=vLe(t,"string");return typeof e=="symbol"?e:e+""}function vLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yLe(t){var{coordinate:e,payload:n,index:r,offset:i,tooltipAxisBandSize:s,layout:a,cursor:o,tooltipEventType:l,chartName:c}=t,u=e,A=n,f=r;if(!o||!u||c!=="ScatterChart"&&l!=="axis")return null;var h,p;if(c==="ScatterChart")h=u,p=VMe;else if(c==="BarChart")h=zMe(a,u,i,s),p=tee;else if(a==="radial"){var{cx:y,cy:v,radius:m,startAngle:w,endAngle:_}=nee(u);h={cx:y,cy:v,startAngle:w,endAngle:_,innerRadius:m,outerRadius:m},p=iee}else h={points:EIe(a,u,i)},p=KZ;var B=typeof o=="object"&&"className"in o?o.className:void 0,R=kE(kE(kE(kE({stroke:"#ccc",pointerEvents:"none"},i),h),ga(o,!1)),{},{payload:A,payloadIndex:f,className:va("recharts-tooltip-cursor",B)});return Y.isValidElement(o)?Y.cloneElement(o,R):Y.createElement(p,R)}function wLe(t){var e=lLe(),n=YTe(),r=jZ(),i=cLe();return Y.createElement(yLe,BL({},t,{coordinate:t.coordinate,index:t.index,payload:t.payload,offset:n,layout:r,tooltipAxisBandSize:e,chartName:i}))}var Yte=Y.createContext(null),_Le=()=>Y.useContext(Yte),Jte={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,A,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,A||l,f),p=n?n+c:c;return l._events[p]?l._events[p].fn?l._events[p]=[l._events[p],h]:l._events[p].push(h):(l._events[p]=h,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,A;if(this._eventsCount===0)return c;for(A in u=this._events)e.call(u,A)&&c.push(n?A.slice(1):A);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,A=this._events[u];if(!A)return[];if(A.fn)return[A.fn];for(var f=0,h=A.length,p=new Array(h);f<h;f++)p[f]=A[f].fn;return p},o.prototype.listenerCount=function(c){var u=n?n+c:c,A=this._events[u];return A?A.fn?1:A.length:0},o.prototype.emit=function(c,u,A,f,h,p){var y=n?n+c:c;if(!this._events[y])return!1;var v=this._events[y],m=arguments.length,w,_;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),m){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,A),!0;case 4:return v.fn.call(v.context,u,A,f),!0;case 5:return v.fn.call(v.context,u,A,f,h),!0;case 6:return v.fn.call(v.context,u,A,f,h,p),!0}for(_=1,w=new Array(m-1);_<m;_++)w[_-1]=arguments[_];v.fn.apply(v.context,w)}else{var B=v.length,R;for(_=0;_<B;_++)switch(v[_].once&&this.removeListener(c,v[_].fn,void 0,!0),m){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,u);break;case 3:v[_].fn.call(v[_].context,u,A);break;case 4:v[_].fn.call(v[_].context,u,A,f);break;default:if(!w)for(R=1,w=new Array(m-1);R<m;R++)w[R-1]=arguments[R];v[_].fn.apply(v[_].context,w)}}return!0},o.prototype.on=function(c,u,A){return s(this,c,u,A,!1)},o.prototype.once=function(c,u,A){return s(this,c,u,A,!0)},o.prototype.removeListener=function(c,u,A,f){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return a(this,h),this;var p=this._events[h];if(p.fn)p.fn===u&&(!f||p.once)&&(!A||p.context===A)&&a(this,h);else{for(var y=0,v=[],m=p.length;y<m;y++)(p[y].fn!==u||f&&!p[y].once||A&&p[y].context!==A)&&v.push(p[y]);v.length?this._events[h]=v.length===1?v[0]:v:a(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(Jte);var xLe=Jte.exports;const bLe=Of(xLe);var g_=new bLe,TL="recharts.syncEvent.tooltip",ez="recharts.syncEvent.brush";function ELe(t,e){if(e){var n=Number.parseInt(e,10);if(!Su(n))return t==null?void 0:t[n]}}var SLe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Zte=Hc({name:"options",initialState:SLe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),CLe=Zte.reducer,{createEventEmitter:BLe}=Zte.actions;function TLe(t){return t.tooltip.syncInteraction}var MLe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},ene=Hc({name:"chartData",initialState:MLe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:n,endIndex:r}=e.payload;n!=null&&(t.dataStartIndex=n),r!=null&&(t.dataEndIndex=r)}}}),{setChartData:tz,setDataStartEndIndexes:ILe,setComputedData:DVe}=ene.actions,PLe=ene.reducer,tne=()=>{};function NLe(){var t=Wn(WU),e=Wn(KU),n=ya(),r=Wn(rte),i=Wn(jf),s=jZ(),a=HZ(),o=Wn(l=>l.rootProps.className);Y.useEffect(()=>{if(t==null)return tne;var l=(c,u,A)=>{if(e!==A&&t===c){if(r==="index"){n(u);return}if(i!=null){var f;if(typeof r=="function"){var h={activeTooltipIndex:u.payload.index==null?void 0:Number(u.payload.index),isTooltipActive:u.payload.active,activeIndex:u.payload.index==null?void 0:Number(u.payload.index),activeLabel:u.payload.label,activeDataKey:u.payload.dataKey,activeCoordinate:u.payload.coordinate},p=r(i,h);f=i[p]}else r==="value"&&(f=i.find(L=>String(L.value)===u.payload.label));var{coordinate:y}=u.payload;if(f==null||u.payload.active===!1||y==null||a==null){n(SL({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0}));return}var{x:v,y:m}=y,w=Math.min(v,a.x+a.width),_=Math.min(m,a.y+a.height),B={x:s==="horizontal"?f.coordinate:w,y:s==="horizontal"?_:f.coordinate},R=SL({active:u.payload.active,coordinate:B,dataKey:u.payload.dataKey,index:String(f.index),label:u.payload.label});n(R)}}};return g_.on(TL,l),()=>{g_.off(TL,l)}},[o,n,e,t,r,i,s,a])}function LLe(){var t=Wn(WU),e=Wn(KU),n=ya();Y.useEffect(()=>{if(t==null)return tne;var r=(i,s,a)=>{e!==a&&t===i&&n(ILe(s))};return g_.on(ez,r),()=>{g_.off(ez,r)}},[n,e,t])}function FLe(){var t=ya();Y.useEffect(()=>{t(BLe())},[t]),NLe(),LLe()}function RLe(t,e,n,r,i,s){var a=Wn(f=>ALe(f,t,e)),o=Wn(KU),l=Wn(WU),c=Wn(rte),u=Wn(TLe),A=u==null?void 0:u.active;Y.useEffect(()=>{if(!A&&l!=null&&o!=null){var f=SL({active:s,coordinate:n,dataKey:a,index:i,label:typeof r=="number"?String(r):r});g_.emit(TL,l,f,o)}},[A,n,a,i,r,o,l,c,s])}function nz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nz(Object(n),!0).forEach(function(r){ULe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ULe(t,e,n){return(e=DLe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DLe(t){var e=OLe(t,"string");return typeof e=="symbol"?e:e+""}function OLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function kLe(t){return t.dataKey}function QLe(t,e){return Y.isValidElement(t)?Y.cloneElement(t,e):typeof t=="function"?Y.createElement(t,e):Y.createElement(wMe,e)}var iz=[],HLe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,isAnimationActive:!BT.isSsr,itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function VLe(t){var e=eg(t,HLe),{active:n,allowEscapeViewBox:r,animationDuration:i,animationEasing:s,content:a,filterNull:o,isAnimationActive:l,offset:c,payloadUniqBy:u,position:A,reverseDirection:f,useTranslate3d:h,wrapperStyle:p,cursor:y,shared:v,trigger:m,defaultIndex:w,portal:_,axisId:B}=e,R=ya(),L=typeof w=="number"?String(w):w;Y.useEffect(()=>{R(gNe({shared:v,trigger:m,axisId:B,active:n,defaultIndex:L}))},[R,v,m,B,n,L]);var S=HZ(),M=WZ(),T=fNe(v),{activeIndex:F,isActive:P}=Wn(G=>dLe(G,T,m,L)),D=Wn(G=>hLe(G,T,m,L)),H=Wn(G=>Xte(G,T,m,L)),X=Wn(G=>fLe(G,T,m,L)),fe=D,ue=_Le(),me=n??P,[J,le]=AZ([fe,me]),ee=T==="axis"?H:void 0;RLe(T,m,X,ee,F,me);var re=_??ue;if(re==null)return null;var k=fe??iz;me||(k=iz),o&&k.length&&(k=rZ(fe.filter(G=>G.value!=null&&(G.hide!==!0||e.includeHidden)),u,kLe));var $=k.length>0,j=Y.createElement(BMe,{allowEscapeViewBox:r,animationDuration:i,animationEasing:s,isAnimationActive:l,active:me,coordinate:X,hasPayload:$,offset:c,position:A,reverseDirection:f,useTranslate3d:h,viewBox:S,wrapperStyle:p,lastBoundingBox:J,innerRef:le,hasPortalFromProps:!!_},QLe(a,rz(rz({},e),{},{payload:k,label:ee,active:me,coordinate:X,accessibilityLayer:M})));return Y.createElement(Y.Fragment,null,fR.createPortal(j,re),me&&Y.createElement(wLe,{cursor:y,tooltipEventType:T,coordinate:X,payload:fe,index:F}))}var jT=t=>null;jT.displayName="Cell";function sz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ML(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sz(Object(n),!0).forEach(function(r){zLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zLe(t,e,n){return(e=jLe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jLe(t){var e=GLe(t,"string");return typeof e=="symbol"?e:e+""}function GLe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a0={widthCache:{},cacheCount:0},WLe=2e3,KLe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},az="recharts_measurement_span";function qLe(t){var e=ML({},t);return Object.keys(e).forEach(n=>{e[n]||delete e[n]}),e}var oz=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||BT.isSsr)return{width:0,height:0};var r=qLe(n),i=JSON.stringify({text:e,copyStyle:r});if(a0.widthCache[i])return a0.widthCache[i];try{var s=document.getElementById(az);s||(s=document.createElement("span"),s.setAttribute("id",az),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=ML(ML({},KLe),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return a0.widthCache[i]=l,++a0.cacheCount>WLe&&(a0.cacheCount=0,a0.widthCache={}),l}catch{return{width:0,height:0}}},lz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,cz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,$Le=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,XLe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nne={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},YLe=Object.keys(nne),z0="NaN";function JLe(t,e){return t*nne[e]}class ll{static parse(e){var n,[,r,i]=(n=XLe.exec(e))!==null&&n!==void 0?n:[];return new ll(parseFloat(r),i??"")}constructor(e,n){this.num=e,this.unit=n,this.num=e,this.unit=n,Su(e)&&(this.unit=""),n!==""&&!$Le.test(n)&&(this.num=NaN,this.unit=""),YLe.includes(n)&&(this.num=JLe(e,n),this.unit="px")}add(e){return this.unit!==e.unit?new ll(NaN,""):new ll(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ll(NaN,""):new ll(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ll(NaN,""):new ll(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ll(NaN,""):new ll(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Su(this.num)}}function rne(t){if(t.includes(z0))return z0;for(var e=t;e.includes("*")||e.includes("/");){var n,[,r,i,s]=(n=lz.exec(e))!==null&&n!==void 0?n:[],a=ll.parse(r??""),o=ll.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return z0;e=e.replace(lz,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var c,[,u,A,f]=(c=cz.exec(e))!==null&&c!==void 0?c:[],h=ll.parse(u??""),p=ll.parse(f??""),y=A==="+"?h.add(p):h.subtract(p);if(y.isNaN())return z0;e=e.replace(cz,y.toString())}return e}var uz=/\(([^()]*)\)/;function ZLe(t){for(var e=t,n;(n=uz.exec(e))!=null;){var[,r]=n;e=e.replace(uz,rne(r))}return e}function eFe(t){var e=t.replace(/\s+/g,"");return e=ZLe(e),e=rne(e),e}function tFe(t){try{return eFe(t)}catch{return z0}}function X5(t){var e=tFe(t.slice(5,-1));return e===z0?"":e}var nFe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],rFe=["dx","dy","angle","className","breakAll"];function IL(){return IL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IL.apply(null,arguments)}function Az(t,e){if(t==null)return{};var n,r,i=iFe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function iFe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var ine=/[ \f\n\r\t\v\u2028\u2029]+/,sne=t=>{var{children:e,breakAll:n,style:r}=t;try{var i=[];Lm(e)||(n?i=e.toString().split(""):i=e.toString().split(ine));var s=i.map(o=>({word:o,width:oz(o,r).width})),a=n?0:oz("",r).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}},sFe=(t,e,n,r,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=t,c=Jn(s),u=a,A=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return P.reduce((D,H)=>{var{word:X,width:fe}=H,ue=D[D.length-1];if(ue&&(r==null||i||ue.width+fe+n<Number(r)))ue.words.push(X),ue.width+=fe+n;else{var me={words:[X],width:fe};D.push(me)}return D},[])},f=A(e),h=F=>F.reduce((P,D)=>P.width>D.width?P:D);if(!c||i)return f;var p=f.length>s||h(f).width>Number(r);if(!p)return f;for(var y="",v=F=>{var P=u.slice(0,F),D=sne({breakAll:l,style:o,children:P+y}).wordsWithComputedWidth,H=A(D),X=H.length>s||h(H).width>Number(r);return[X,H]},m=0,w=u.length-1,_=0,B;m<=w&&_<=u.length-1;){var R=Math.floor((m+w)/2),L=R-1,[S,M]=v(L),[T]=v(R);if(!S&&!T&&(m=R+1),S&&T&&(w=R-1),!S&&T){B=M;break}_++}return B||f},fz=t=>{var e=Lm(t)?[]:t.toString().split(ine);return[{words:e}]},aFe=t=>{var{width:e,scaleToFit:n,children:r,style:i,breakAll:s,maxLines:a}=t;if((e||n)&&!BT.isSsr){var o,l,c=sne({breakAll:s,children:r,style:i});if(c){var{wordsWithComputedWidth:u,spaceWidth:A}=c;o=u,l=A}else return fz(r);return sFe({breakAll:s,children:r,maxLines:a,style:i},o,l,e,n)}return fz(r)},hz="#808080",ane=Y.forwardRef((t,e)=>{var{x:n=0,y:r=0,lineHeight:i="1em",capHeight:s="0.71em",scaleToFit:a=!1,textAnchor:o="start",verticalAnchor:l="end",fill:c=hz}=t,u=Az(t,nFe),A=Y.useMemo(()=>aFe({breakAll:u.breakAll,children:u.children,maxLines:u.maxLines,scaleToFit:a,style:u.style,width:u.width}),[u.breakAll,u.children,u.maxLines,a,u.style,u.width]),{dx:f,dy:h,angle:p,className:y,breakAll:v}=u,m=Az(u,rFe);if(!Mf(n)||!Mf(r))return null;var w=n+(Jn(f)?f:0),_=r+(Jn(h)?h:0),B;switch(l){case"start":B=X5("calc(".concat(s,")"));break;case"middle":B=X5("calc(".concat((A.length-1)/2," * -").concat(i," + (").concat(s," / 2))"));break;default:B=X5("calc(".concat(A.length-1," * -").concat(i,")"));break}var R=[];if(a){var L=A[0].width,{width:S}=u;R.push("scale(".concat(Jn(S)?S/L:1,")"))}return p&&R.push("rotate(".concat(p,", ").concat(w,", ").concat(_,")")),R.length&&(m.transform=R.join(" ")),Y.createElement("text",IL({},ga(m,!0),{ref:e,x:w,y:_,className:va("recharts-text",y),textAnchor:o,fill:c.includes("url")?hz:c}),A.map((M,T)=>{var F=M.words.join(v?"":" ");return Y.createElement("tspan",{x:w,dy:T===0?B:i,key:"".concat(F,"-").concat(T)},F)}))});ane.displayName="Text";var one=t=>t.graphicalItems.polarItems,oFe=at([hs,ax],JU),bD=at([one,ds,oFe],ZU),lFe=at([bD],eD),ED=at([lFe,VU],tD),cFe=at([ED,ds,bD],nD),uFe=at([ED,ds,bD],(t,e,n)=>n.length>0?t.flatMap(r=>n.flatMap(i=>{var s,a=pa(r,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(r=>({value:pa(r,e.dataKey),errorDomain:[]})):t.map(r=>({value:r,errorDomain:[]}))),dz=()=>{},AFe=at([ds,wte,dz,uFe,dz],sD),lne=at([ds,Ui,ED,cFe,sx,hs,AFe],aD),fFe=at([lne,ds,ly],cD);at([ds,lne,fFe,hs],AD);var hFe={radiusAxis:{},angleAxis:{}},cne=Hc({name:"polarAxis",initialState:hFe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:OVe,removeRadiusAxis:kVe,addAngleAxis:QVe,removeAngleAxis:HVe}=cne.actions,dFe=cne.reducer;function pz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pz(Object(n),!0).forEach(function(r){pFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function pFe(t,e,n){return(e=mFe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function mFe(t){var e=gFe(t,"string");return typeof e=="symbol"?e:e+""}function gFe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SD=(t,e)=>e,vFe=[],CD=(t,e,n)=>(n==null?void 0:n.length)===0?vFe:n,une=at([VU,SD,CD],(t,e,n)=>{var{chartData:r}=t,i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(s=>mz(mz({},e.presentationProps),s.props))),i!=null)return i}),yFe=at([une,SD,CD],(t,e,n)=>{if(t!=null)return t.map((r,i)=>{var s,a=pa(r,e.nameKey,e.name),o;return n!=null&&(s=n[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=e.fill,{value:DZ(a,e.dataKey),color:o,payload:r,type:e.legendType}})}),wFe=at([one,SD],(t,e)=>{if(t.some(n=>n.type==="pie"&&e.dataKey===n.dataKey&&e.data===n.data))return e}),_Fe=at([une,wFe,CD,xo],(t,e,n,r)=>{if(!(e==null||t==null))return lRe({offset:r,pieSettings:e,displayedData:t,cells:n})}),xFe={countOfBars:0,cartesianItems:[],polarItems:[]},Ane=Hc({name:"graphicalItems",initialState:xFe,reducers:{addBar(t){t.countOfBars+=1},removeBar(t){t.countOfBars-=1},addCartesianGraphicalItem(t,e){t.cartesianItems.push(e.payload)},replaceCartesianGraphicalItem(t,e){var{prev:n,next:r}=e.payload,i=yf(t).cartesianItems.indexOf(n);i>-1&&(t.cartesianItems[i]=r)},removeCartesianGraphicalItem(t,e){var n=yf(t).cartesianItems.indexOf(e.payload);n>-1&&t.cartesianItems.splice(n,1)},addPolarGraphicalItem(t,e){t.polarItems.push(e.payload)},removePolarGraphicalItem(t,e){var n=yf(t).polarItems.indexOf(e.payload);n>-1&&t.polarItems.splice(n,1)}}}),{addBar:VVe,removeBar:zVe,addCartesianGraphicalItem:jVe,replaceCartesianGraphicalItem:GVe,removeCartesianGraphicalItem:WVe,addPolarGraphicalItem:bFe,removePolarGraphicalItem:EFe}=Ane.actions,SFe=Ane.reducer;function CFe(t){var e=ya();return Y.useEffect(()=>(e(bFe(t)),()=>{e(EFe(t))}),[e,t]),null}var fne={};(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const s=n[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${s}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}t.isPlainObject=e})(fne);var BFe=fne.isPlainObject;const TFe=Of(BFe);function pC(){return pC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pC.apply(null,arguments)}var gz=(t,e,n,r,i)=>{var s=n-r,a;return a="M ".concat(t,",").concat(e),a+="L ".concat(t+n,",").concat(e),a+="L ".concat(t+n-s/2,",").concat(e+i),a+="L ".concat(t+n-s/2-r,",").concat(e+i),a+="L ".concat(t,",").concat(e," Z"),a},MFe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},IFe=t=>{var e=eg(t,MFe),n=Y.useRef(),[r,i]=Y.useState(-1);Y.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var v=n.current.getTotalLength();v&&i(v)}catch{}},[]);var{x:s,y:a,upperWidth:o,lowerWidth:l,height:c,className:u}=e,{animationEasing:A,animationDuration:f,animationBegin:h,isUpdateAnimationActive:p}=e;if(s!==+s||a!==+a||o!==+o||l!==+l||c!==+c||o===0&&l===0||c===0)return null;var y=va("recharts-trapezoid",u);return p?Y.createElement(u_,{canBegin:r>0,from:{upperWidth:0,lowerWidth:0,height:c,x:s,y:a},to:{upperWidth:o,lowerWidth:l,height:c,x:s,y:a},duration:f,animationEasing:A,isActive:p},v=>{var{upperWidth:m,lowerWidth:w,height:_,x:B,y:R}=v;return Y.createElement(u_,{canBegin:r>0,from:"0px ".concat(r===-1?1:r,"px"),to:"".concat(r,"px 0px"),attributeName:"strokeDasharray",begin:h,duration:f,easing:A},Y.createElement("path",pC({},ga(e,!0),{className:y,d:gz(B,R,m,w,_),ref:n})))}):Y.createElement("g",null,Y.createElement("path",pC({},ga(e,!0),{className:y,d:gz(s,a,o,l,c)})))},PFe=["option","shapeType","propTransformer","activeClassName","isActive"];function NFe(t,e){if(t==null)return{};var n,r,i=LFe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function LFe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function vz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vz(Object(n),!0).forEach(function(r){FFe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function FFe(t,e,n){return(e=RFe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function RFe(t){var e=UFe(t,"string");return typeof e=="symbol"?e:e+""}function UFe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DFe(t,e){return mC(mC({},e),t)}function OFe(t,e){return t==="symbols"}function yz(t){var{shapeType:e,elementProps:n}=t;switch(e){case"rectangle":return Y.createElement(tee,n);case"trapezoid":return Y.createElement(IFe,n);case"sector":return Y.createElement(iee,n);case"symbols":if(OFe(e))return Y.createElement(X4,n);break;default:return null}}function kFe(t){return Y.isValidElement(t)?t.props:t}function QFe(t){var{option:e,shapeType:n,propTransformer:r=DFe,activeClassName:i="recharts-active-shape",isActive:s}=t,a=NFe(t,PFe),o;if(Y.isValidElement(e))o=Y.cloneElement(e,mC(mC({},a),kFe(e)));else if(typeof e=="function")o=e(a);else if(TFe(e)&&typeof e!="boolean"){var l=r(e,a);o=Y.createElement(yz,{shapeType:n,elementProps:l})}else{var c=a;o=Y.createElement(yz,{shapeType:n,elementProps:c})}return s?Y.createElement(Bv,{className:i},o):o}var HFe=(t,e)=>{var n=ya();return(r,i)=>s=>{t==null||t(r,i,s),n(Lte({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}},VFe=t=>{var e=ya();return(n,r)=>i=>{t==null||t(n,r,i),e(vNe())}},zFe=(t,e)=>{var n=ya();return(r,i)=>s=>{t==null||t(r,i,s),n(yNe({activeIndex:String(i),activeDataKey:e,activeCoordinate:r.tooltipPosition}))}};function jFe(t){var{fn:e,args:n}=t,r=ya(),i=ty();return Y.useEffect(()=>{if(!i){var s=e(n);return r(pNe(s)),()=>{r(mNe(s))}}},[e,n,r,i]),null}var GFe=()=>{};function WFe(t){var{legendPayload:e}=t,n=ya(),r=Wn(Ui);return Y.useEffect(()=>r!=="centric"&&r!=="radial"?GFe:(n(nMe(e)),()=>{n(rMe(e))}),[n,r,e]),null}function KFe(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=Y.useRef(kS(e)),r=Y.useRef(t);return r.current!==t&&(n.current=kS(e),r.current=t),n.current}var qFe=["onMouseEnter","onClick","onMouseLeave"];function $Fe(t,e){if(t==null)return{};var n,r,i=XFe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function XFe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function wz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wz(Object(n),!0).forEach(function(r){GT(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function GT(t,e,n){return(e=YFe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YFe(t){var e=JFe(t,"string");return typeof e=="symbol"?e:e+""}function JFe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dm(){return Dm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Dm.apply(null,arguments)}function ZFe(t){var e=Y.useMemo(()=>ga(t,!1),[t]),n=Y.useMemo(()=>bJ(t.children,jT),[t.children]),r=Y.useMemo(()=>({name:t.name,nameKey:t.nameKey,tooltipType:t.tooltipType,data:t.data,dataKey:t.dataKey,cx:t.cx,cy:t.cy,startAngle:t.startAngle,endAngle:t.endAngle,minAngle:t.minAngle,paddingAngle:t.paddingAngle,innerRadius:t.innerRadius,outerRadius:t.outerRadius,cornerRadius:t.cornerRadius,legendType:t.legendType,fill:t.fill,presentationProps:e}),[t.cornerRadius,t.cx,t.cy,t.data,t.dataKey,t.endAngle,t.innerRadius,t.minAngle,t.name,t.nameKey,t.outerRadius,t.paddingAngle,t.startAngle,t.tooltipType,t.legendType,t.fill,e]),i=Wn(s=>yFe(s,r,n));return Y.createElement(WFe,{legendPayload:i})}function eRe(t){var{dataKey:e,nameKey:n,sectors:r,stroke:i,strokeWidth:s,fill:a,name:o,hide:l,tooltipType:c}=t;return{dataDefinedOnItem:r==null?void 0:r.map(u=>u.tooltipPayload),positions:r==null?void 0:r.map(u=>u.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:n,name:DZ(o,e),hide:l,type:c,color:a,unit:""}}}var tRe=(t,e)=>t>e?"start":t<e?"end":"middle",nRe=(t,e,n)=>typeof e=="function"?e(t):aA(e,n,n*.8),rRe=(t,e,n)=>{var{top:r,left:i,width:s,height:a}=e,o=UZ(s,a),l=i+aA(t.cx,s,s/2),c=r+aA(t.cy,a,a/2),u=aA(t.innerRadius,o,0),A=nRe(n,t.outerRadius,o),f=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:A,maxRadius:f}},iRe=(t,e)=>{var n=Hl(e-t),r=Math.min(Math.abs(e-t),360);return n*r},sRe=(t,e)=>{if(Y.isValidElement(t))return Y.cloneElement(t,e);if(typeof t=="function")return t(e);var n=va("recharts-pie-label-line",typeof t!="boolean"?t.className:"");return Y.createElement(KZ,Dm({},e,{type:"linear",className:n}))},aRe=(t,e,n)=>{if(Y.isValidElement(t))return Y.cloneElement(t,e);var r=n;if(typeof t=="function"&&(r=t(e),Y.isValidElement(r)))return r;var i=va("recharts-pie-label-text",typeof t!="boolean"&&typeof t!="function"?t.className:"");return Y.createElement(ane,Dm({},e,{alignmentBaseline:"middle",className:i}),r)};function oRe(t){var{sectors:e,props:n,showLabels:r}=t,{label:i,labelLine:s,dataKey:a}=n;if(!r||!i||!e)return null;var o=ga(n,!1),l=ga(i,!1),c=ga(s,!1),u=typeof i=="object"&&"offsetRadius"in i&&i.offsetRadius||20,A=e.map((f,h)=>{var p=(f.startAngle+f.endAngle)/2,y=mo(f.cx,f.cy,f.outerRadius+u,p),v=Ki(Ki(Ki(Ki({},o),f),{},{stroke:"none"},l),{},{index:h,textAnchor:tRe(y.x,f.cx)},y),m=Ki(Ki(Ki(Ki({},o),f),{},{fill:"none",stroke:f.fill},c),{},{index:h,points:[mo(f.cx,f.cy,f.outerRadius,p),y],key:"line"});return Y.createElement(Bv,{key:"label-".concat(f.startAngle,"-").concat(f.endAngle,"-").concat(f.midAngle,"-").concat(h)},s&&sRe(s,m),aRe(i,v,pa(f,a)))});return Y.createElement(Bv,{className:"recharts-pie-labels"},A)}function hne(t){var{sectors:e,activeShape:n,inactiveShape:r,allOtherPieProps:i,showLabels:s}=t,a=Wn(m_),{onMouseEnter:o,onClick:l,onMouseLeave:c}=i,u=$Fe(i,qFe),A=HFe(o,i.dataKey),f=VFe(c),h=zFe(l,i.dataKey);return e==null?null:Y.createElement(Y.Fragment,null,e.map((p,y)=>{if((p==null?void 0:p.startAngle)===0&&(p==null?void 0:p.endAngle)===0&&e.length!==1)return null;var v=n&&String(y)===a,m=a?r:null,w=v?n:m,_=Ki(Ki({},p),{},{stroke:p.stroke,tabIndex:-1,[kZ]:y,[QZ]:i.dataKey});return Y.createElement(Bv,Dm({tabIndex:-1,className:"recharts-pie-sector"},_J(u,p,y),{onMouseEnter:A(p,y),onMouseLeave:f(p,y),onClick:h(p,y),key:"sector-".concat(p==null?void 0:p.startAngle,"-").concat(p==null?void 0:p.endAngle,"-").concat(p.midAngle,"-").concat(y)}),Y.createElement(QFe,Dm({option:w,isActive:v,shapeType:"sector"},_)))}),Y.createElement(oRe,{sectors:e,props:i,showLabels:s}))}function lRe(t){var e,{pieSettings:n,displayedData:r,cells:i,offset:s}=t,{cornerRadius:a,startAngle:o,endAngle:l,dataKey:c,nameKey:u,tooltipType:A}=n,f=Math.abs(n.minAngle),h=iRe(o,l),p=Math.abs(h),y=r.length<=1?0:(e=n.paddingAngle)!==null&&e!==void 0?e:0,v=r.filter(L=>pa(L,c,0)!==0).length,m=(p>=360?v:v-1)*y,w=p-v*f-m,_=r.reduce((L,S)=>{var M=pa(S,c,0);return L+(Jn(M)?M:0)},0),B;if(_>0){var R;B=r.map((L,S)=>{var M=pa(L,c,0),T=pa(L,u,S),F=rRe(n,s,L),P=(Jn(M)?M:0)/_,D,H=Ki(Ki({},L),i&&i[S]&&i[S].props);S?D=R.endAngle+Hl(h)*y*(M!==0?1:0):D=o;var X=D+Hl(h)*((M!==0?f:0)+P*w),fe=(D+X)/2,ue=(F.innerRadius+F.outerRadius)/2,me=[{name:T,value:M,payload:H,dataKey:c,type:A}],J=mo(F.cx,F.cy,ue,fe);return R=Ki(Ki(Ki(Ki({},n.presentationProps),{},{percent:P,cornerRadius:a,name:T,tooltipPayload:me,midAngle:fe,middleRadius:ue,tooltipPosition:J},H),F),{},{value:pa(L,c),startAngle:D,endAngle:X,payload:H,paddingAngle:Hl(h)*y}),R})}return B}function cRe(t){var{props:e,previousSectorsRef:n}=t,{sectors:r,isAnimationActive:i,animationBegin:s,animationDuration:a,animationEasing:o,activeShape:l,inactiveShape:c,onAnimationStart:u,onAnimationEnd:A}=e,f=KFe(e,"recharts-pie-"),h=n.current,[p,y]=Y.useState(!0),v=Y.useCallback(()=>{typeof A=="function"&&A(),y(!1)},[A]),m=Y.useCallback(()=>{typeof u=="function"&&u(),y(!0)},[u]);return Y.createElement(u_,{begin:s,duration:a,isActive:i,easing:o,from:{t:0},to:{t:1},onAnimationStart:m,onAnimationEnd:v,key:f},w=>{var{t:_}=w,B=[],R=r&&r[0],L=R.startAngle;return r.forEach((S,M)=>{var T=h&&h[M],F=M>0?Cv(S,"paddingAngle",0):0;if(T){var P=lV(T.endAngle-T.startAngle,S.endAngle-S.startAngle),D=Ki(Ki({},S),{},{startAngle:L+F,endAngle:L+P(_)+F});B.push(D),L=D.endAngle}else{var{endAngle:H,startAngle:X}=S,fe=lV(0,H-X),ue=fe(_),me=Ki(Ki({},S),{},{startAngle:L+F,endAngle:L+ue+F});B.push(me),L=me.endAngle}}),n.current=B,Y.createElement(Bv,null,Y.createElement(hne,{sectors:B,activeShape:l,inactiveShape:c,allOtherPieProps:e,showLabels:!p}))})}function uRe(t){var{sectors:e,isAnimationActive:n,activeShape:r,inactiveShape:i}=t,s=Y.useRef(null),a=s.current;return n&&e&&e.length&&(!a||a!==e)?Y.createElement(cRe,{props:t,previousSectorsRef:s}):Y.createElement(hne,{sectors:e,activeShape:r,inactiveShape:i,allOtherPieProps:t,showLabels:!0})}function ARe(t){var{hide:e,className:n,rootTabIndex:r}=t,i=va("recharts-pie",n);return e?null:Y.createElement(Bv,{tabIndex:r,className:i},Y.createElement(uRe,t))}var dne={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:!BT.isSsr,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff"};function fRe(t){var e=eg(t,dne),n=Y.useMemo(()=>bJ(t.children,jT),[t.children]),r=ga(e,!1),i=Y.useMemo(()=>({name:e.name,nameKey:e.nameKey,tooltipType:e.tooltipType,data:e.data,dataKey:e.dataKey,cx:e.cx,cy:e.cy,startAngle:e.startAngle,endAngle:e.endAngle,minAngle:e.minAngle,paddingAngle:e.paddingAngle,innerRadius:e.innerRadius,outerRadius:e.outerRadius,cornerRadius:e.cornerRadius,legendType:e.legendType,fill:e.fill,presentationProps:r}),[e.cornerRadius,e.cx,e.cy,e.data,e.dataKey,e.endAngle,e.innerRadius,e.minAngle,e.name,e.nameKey,e.outerRadius,e.paddingAngle,e.startAngle,e.tooltipType,e.legendType,e.fill,r]),s=Wn(a=>_Fe(a,i,n));return Y.createElement(Y.Fragment,null,Y.createElement(jFe,{fn:eRe,args:Ki(Ki({},e),{},{sectors:s})}),Y.createElement(ARe,Dm({},e,{sectors:s})))}class BD extends Y.PureComponent{constructor(){super(...arguments),GT(this,"id",kS("recharts-pie-"))}render(){return Y.createElement(Y.Fragment,null,Y.createElement(CFe,{data:this.props.data,dataKey:this.props.dataKey,hide:this.props.hide,angleAxisId:0,radiusAxisId:0,stackId:void 0,barSize:void 0,type:"pie"}),Y.createElement(ZFe,this.props),Y.createElement(fRe,this.props),this.props.children)}}GT(BD,"displayName","Pie");GT(BD,"defaultProps",dne);var hRe=at([xo],t=>{if(t)return{top:t.top,bottom:t.bottom,left:t.left,right:t.right}}),dRe=at([hRe,Hf,Vf],(t,e,n)=>{if(!(!t||e==null||n==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,n-t.top-t.bottom)}}),pRe=()=>Wn(dRe),mRe=t=>{var{chartData:e}=t,n=ya(),r=ty();return Y.useEffect(()=>r?()=>{}:(n(tz(e)),()=>{n(tz(void 0))}),[e,n,r]),null},_z={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},pne=Hc({name:"brush",initialState:_z,reducers:{setBrushSettings(t,e){return e.payload==null?_z:e.payload}}}),{setBrushSettings:KVe}=pne.actions,gRe=pne.reducer,vRe={dots:[],areas:[],lines:[]},mne=Hc({name:"referenceElements",initialState:vRe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var n=yf(t).dots.findIndex(r=>r===e.payload);n!==-1&&t.dots.splice(n,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var n=yf(t).areas.findIndex(r=>r===e.payload);n!==-1&&t.areas.splice(n,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var n=yf(t).lines.findIndex(r=>r===e.payload);n!==-1&&t.lines.splice(n,1)}}}),{addDot:qVe,removeDot:$Ve,addArea:XVe,removeArea:YVe,addLine:JVe,removeLine:ZVe}=mne.actions,yRe=mne.reducer,wRe=Y.createContext(void 0),_Re=t=>{var{children:e}=t,[n]=Y.useState("".concat(kS("recharts"),"-clip")),r=pRe();if(r==null)return null;var{x:i,y:s,width:a,height:o}=r;return Y.createElement(wRe.Provider,{value:n},Y.createElement("defs",null,Y.createElement("clipPath",{id:n},Y.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function xz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bz(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xz(Object(n),!0).forEach(function(r){xRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xRe(t,e,n){return(e=bRe(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bRe(t){var e=ERe(t,"string");return typeof e=="symbol"?e:e+""}function ERe(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var SRe={xAxis:{},yAxis:{},zAxis:{}},gne=Hc({name:"cartesianAxis",initialState:SRe,reducers:{addXAxis(t,e){t.xAxis[e.payload.id]=e.payload},removeXAxis(t,e){delete t.xAxis[e.payload.id]},addYAxis(t,e){t.yAxis[e.payload.id]=e.payload},removeYAxis(t,e){delete t.yAxis[e.payload.id]},addZAxis(t,e){t.zAxis[e.payload.id]=e.payload},removeZAxis(t,e){delete t.zAxis[e.payload.id]},updateYAxisWidth(t,e){var{id:n,width:r}=e.payload;t.yAxis[n]&&(t.yAxis[n]=bz(bz({},t.yAxis[n]),{},{width:r}))}}}),{addXAxis:e7e,removeXAxis:t7e,addYAxis:n7e,removeYAxis:r7e,addZAxis:i7e,removeZAxis:s7e,updateYAxisWidth:a7e}=gne.actions,CRe=gne.reducer,BRe={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ax=Y;function TRe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var MRe=typeof Object.is=="function"?Object.is:TRe,IRe=Ax.useSyncExternalStore,PRe=Ax.useRef,NRe=Ax.useEffect,LRe=Ax.useMemo,FRe=Ax.useDebugValue;BRe.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=PRe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=LRe(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&a.hasValue){var p=a.value;if(i(p,h))return A=p}return A=h}if(p=A,MRe(u,h))return p;var y=r(h);return i!==void 0&&i(p,y)?(u=h,p):(u=h,A=y)}var c=!1,u,A,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var o=IRe(t,s[0],s[1]);return NRe(function(){a.hasValue=!0,a.value=o},[o]),FRe(o),o};function RRe(t){t()}function URe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){RRe(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var Ez={notify(){},get:()=>[]};function DRe(t,e){let n,r=Ez,i=0,s=!1;function a(y){u();const v=r.subscribe(y);let m=!1;return()=>{m||(m=!0,v(),A())}}function o(){r.notify()}function l(){p.onStateChange&&p.onStateChange()}function c(){return s}function u(){i++,n||(n=t.subscribe(l),r=URe())}function A(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=Ez)}function f(){s||(s=!0,u())}function h(){s&&(s=!1,A())}const p={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:h,getListeners:()=>r};return p}var ORe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",kRe=ORe(),QRe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",HRe=QRe(),VRe=()=>kRe||HRe?Y.useLayoutEffect:Y.useEffect,zRe=VRe(),Y5=Symbol.for("react-redux-context"),J5=typeof globalThis<"u"?globalThis:{};function jRe(){if(!Y.createContext)return{};const t=J5[Y5]??(J5[Y5]=new Map);let e=t.get(Y.createContext);return e||(e=Y.createContext(null),t.set(Y.createContext,e)),e}var GRe=jRe();function WRe(t){const{children:e,context:n,serverState:r,store:i}=t,s=Y.useMemo(()=>{const l=DRe(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),a=Y.useMemo(()=>i.getState(),[i]);zRe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=n||GRe;return Y.createElement(o.Provider,{value:s},e)}var KRe=WRe,qRe=(t,e)=>e,TD=at([qRe,Ui,w3e,_a,Vte,jf,uLe,xo],pLe),MD=t=>{var e=t.currentTarget.getBoundingClientRect(),n=e.width/t.currentTarget.offsetWidth,r=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/n),chartY:Math.round((t.clientY-e.top)/r)}},vne=Oc("mouseClick"),yne=ex();yne.startListening({actionCreator:vne,effect:(t,e)=>{var n=t.payload,r=TD(e.getState(),MD(n));(r==null?void 0:r.activeIndex)!=null&&e.dispatch(wNe({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var PL=Oc("mouseMove"),wne=ex();wne.startListening({actionCreator:PL,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=dD(r,r.tooltip.settings.shared),s=TD(r,MD(n));i==="axis"&&((s==null?void 0:s.activeIndex)!=null?e.dispatch(Rte({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(Fte()))}});function $Re(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":e}var Sz={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index"},_ne=Hc({name:"rootProps",initialState:Sz,reducers:{updateOptions:(t,e)=>{var n;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(n=e.payload.barGap)!==null&&n!==void 0?n:Sz.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className}}}),XRe=_ne.reducer,{updateOptions:YRe}=_ne.actions,xne=Hc({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:JRe}=xne.actions,ZRe=xne.reducer,bne=Oc("keyDown"),Ene=Oc("focus"),ID=ex();ID.startListening({actionCreator:bne,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Number(pD(i,sg(n))),o=jf(n);if(s==="Enter"){var l=dC(n,"axis","hover",String(i.index));e.dispatch(CL({active:!i.active,activeIndex:i.index,activeDataKey:i.dataKey,activeCoordinate:l}));return}var c=ANe(n),u=c==="left-to-right"?1:-1,A=s==="ArrowRight"?1:-1,f=a+A*u;if(!(o==null||f>=o.length||f<0)){var h=dC(n,"axis","hover",String(f));e.dispatch(CL({active:!0,activeIndex:f.toString(),activeDataKey:void 0,activeCoordinate:h}))}}}}});ID.startListening({actionCreator:Ene,effect:(t,e)=>{var n=e.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var s="0",a=dC(n,"axis","hover",String(s));e.dispatch(CL({activeDataKey:void 0,active:!0,activeIndex:s,activeCoordinate:a}))}}}});var xc=Oc("externalEvent"),Sne=ex();Sne.startListening({actionCreator:xc,effect:(t,e)=>{if(t.payload.handler!=null){var n=e.getState(),r={activeCoordinate:tLe(n),activeDataKey:ZNe(n),activeIndex:m_(n),activeLabel:Gte(n),activeTooltipIndex:m_(n),isTooltipActive:nLe(n)};t.payload.handler(r,t.payload.reactEvent)}}});var e4e=at([cy],t=>t.tooltipItemPayloads),t4e=at([e4e,ux,(t,e,n)=>e,(t,e,n)=>n],(t,e,n,r)=>{var i=t.find(o=>o.settings.dataKey===r);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,n);return a}}}),Cne=Oc("touchMove"),Bne=ex();Bne.startListening({actionCreator:Cne,effect:(t,e)=>{var n=t.payload,r=e.getState(),i=dD(r,r.tooltip.settings.shared);if(i==="axis"){var s=TD(r,MD({clientX:n.touches[0].clientX,clientY:n.touches[0].clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&e.dispatch(Rte({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var a,o=n.touches[0],l=document.elementFromPoint(o.clientX,o.clientY);if(!l||!l.getAttribute)return;var c=l.getAttribute(kZ),u=(a=l.getAttribute(QZ))!==null&&a!==void 0?a:void 0,A=t4e(e.getState(),c,u);e.dispatch(Lte({activeDataKey:u,activeIndex:c,activeCoordinate:A}))}}});var n4e=hZ({brush:gRe,cartesianAxis:CRe,chartData:PLe,graphicalItems:SFe,layout:mTe,legend:iMe,options:CLe,polarAxis:dFe,polarOptions:ZRe,referenceElements:yRe,rootProps:XRe,tooltip:_Ne}),r4e=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return HBe({reducer:n4e,preloadedState:e,middleware:r=>r({serializableCheck:!1}).concat([yne.middleware,wne.middleware,ID.middleware,Sne.middleware,Bne.middleware]),devTools:{serialize:{replacer:$Re},name:"recharts-".concat(n)}})};function i4e(t){var{preloadedState:e,children:n,reduxStoreName:r}=t,i=ty(),s=Y.useRef(null);if(i)return n;s.current==null&&(s.current=r4e(e,r));var a=oU;return Y.createElement(KRe,{context:a,store:s.current},n)}function s4e(t){var{layout:e,width:n,height:r,margin:i}=t,s=ya(),a=ty();return Y.useEffect(()=>{a||(s(hTe(e)),s(dTe({width:n,height:r})),s(fTe(i)))},[s,a,e,n,r,i]),null}function a4e(t){var e=ya();return Y.useEffect(()=>{e(YRe(t))},[e,t]),null}var o4e=["children"];function l4e(t,e){if(t==null)return{};var n,r,i=c4e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function c4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}function gC(){return gC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gC.apply(null,arguments)}var u4e={width:"100%",height:"100%"},A4e=Y.forwardRef((t,e)=>{var n=VZ(),r=zZ(),i=WZ();if(!ZS(n)||!ZS(r))return null;var{children:s,otherAttributes:a,title:o,desc:l}=t,c,u;return typeof a.tabIndex=="number"?c=a.tabIndex:c=i?0:void 0,typeof a.role=="string"?u=a.role:u=i?"application":void 0,Y.createElement(W4,gC({},a,{title:o,desc:l,role:u,tabIndex:c,width:n,height:r,style:u4e,ref:e}),s)}),f4e=t=>{var{children:e}=t,n=Wn(ST);if(!n)return null;var{width:r,height:i,y:s,x:a}=n;return Y.createElement(W4,{width:r,height:i,x:a,y:s},e)},Cz=Y.forwardRef((t,e)=>{var{children:n}=t,r=l4e(t,o4e),i=ty();return i?Y.createElement(f4e,null,n):Y.createElement(A4e,gC({ref:e},r),n)});function h4e(){var t=ya(),[e,n]=Y.useState(null),r=Wn(zTe);return Y.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Cu(s)&&s!==r&&t(pTe(s))}},[e,t,r]),n}function Bz(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function d4e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Bz(Object(n),!0).forEach(function(r){p4e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Bz(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function p4e(t,e,n){return(e=m4e(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function m4e(t){var e=g4e(t,"string");return typeof e=="symbol"?e:e+""}function g4e(t,e){if(typeof t!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var v4e=Y.forwardRef((t,e)=>{var{children:n,className:r,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:c,onMouseLeave:u,onMouseMove:A,onMouseUp:f,onTouchEnd:h,onTouchMove:p,onTouchStart:y,style:v,width:m}=t,w=ya(),[_,B]=Y.useState(null),[R,L]=Y.useState(null);FLe();var S=h4e(),M=Y.useCallback(k=>{S(k),typeof e=="function"&&e(k),B(k),L(k)},[S,e,B,L]),T=Y.useCallback(k=>{w(vne(k)),w(xc({handler:s,reactEvent:k}))},[w,s]),F=Y.useCallback(k=>{w(PL(k)),w(xc({handler:c,reactEvent:k}))},[w,c]),P=Y.useCallback(k=>{w(Fte()),w(xc({handler:u,reactEvent:k}))},[w,u]),D=Y.useCallback(k=>{w(PL(k)),w(xc({handler:A,reactEvent:k}))},[w,A]),H=Y.useCallback(()=>{w(Ene())},[w]),X=Y.useCallback(k=>{w(bne(k.key))},[w]),fe=Y.useCallback(k=>{w(xc({handler:a,reactEvent:k}))},[w,a]),ue=Y.useCallback(k=>{w(xc({handler:o,reactEvent:k}))},[w,o]),me=Y.useCallback(k=>{w(xc({handler:l,reactEvent:k}))},[w,l]),J=Y.useCallback(k=>{w(xc({handler:f,reactEvent:k}))},[w,f]),le=Y.useCallback(k=>{w(xc({handler:y,reactEvent:k}))},[w,y]),ee=Y.useCallback(k=>{w(Cne(k)),w(xc({handler:p,reactEvent:k}))},[w,p]),re=Y.useCallback(k=>{w(xc({handler:h,reactEvent:k}))},[w,h]);return Y.createElement(Yte.Provider,{value:_},Y.createElement(EJ.Provider,{value:R},Y.createElement("div",{className:va("recharts-wrapper",r),style:d4e({position:"relative",cursor:"default",width:m,height:i},v),onClick:T,onContextMenu:fe,onDoubleClick:ue,onFocus:H,onKeyDown:X,onMouseDown:me,onMouseEnter:F,onMouseLeave:P,onMouseMove:D,onMouseUp:J,onTouchEnd:re,onTouchMove:ee,onTouchStart:le,ref:M},n)))}),y4e=["children","className","width","height","style","compact","title","desc"];function w4e(t,e){if(t==null)return{};var n,r,i=_4e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function _4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var x4e=Y.forwardRef((t,e)=>{var{children:n,className:r,width:i,height:s,style:a,compact:o,title:l,desc:c}=t,u=w4e(t,y4e),A=ga(u,!1);return o?Y.createElement(Cz,{otherAttributes:A,title:l,desc:c},n):Y.createElement(v4e,{className:r,style:a,width:i,height:s,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},Y.createElement(Cz,{otherAttributes:A,title:l,desc:c,ref:e},Y.createElement(_Re,null,n)))});function b4e(t){var e=ya();return Y.useEffect(()=>{e(JRe(t))},[e,t]),null}var E4e=["width","height","layout"];function NL(){return NL=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NL.apply(null,arguments)}function S4e(t,e){if(t==null)return{};var n,r,i=C4e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(r=0;r<s.length;r++)n=s[r],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function C4e(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)!==-1)continue;n[r]=t[r]}return n}var B4e={top:5,right:5,bottom:5,left:5},T4e={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:B4e,reverseStackOrder:!1,syncMethod:"index",layout:"radial"},M4e=Y.forwardRef(function(e,n){var r,i=eg(e.categoricalChartProps,T4e),{width:s,height:a,layout:o}=i,l=S4e(i,E4e);if(!ZS(s)||!ZS(a))return null;var{chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:A,tooltipPayloadSearcher:f}=e,h={chartName:c,defaultTooltipEventType:u,validateTooltipEventTypes:A,tooltipPayloadSearcher:f,eventEmitter:void 0};return Y.createElement(i4e,{preloadedState:{options:h},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:c},Y.createElement(mRe,{chartData:i.data}),Y.createElement(s4e,{width:s,height:a,layout:o,margin:i.margin}),Y.createElement(a4e,{accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className}),Y.createElement(b4e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),Y.createElement(x4e,NL({width:s,height:a},l,{ref:n})))}),I4e=["item"],P4e={layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},N4e=Y.forwardRef((t,e)=>{var n=eg(t,P4e);return Y.createElement(M4e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:I4e,tooltipPayloadSearcher:ELe,categoricalChartProps:n,ref:e})});function Nr(t){"@babel/helpers - typeof";return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nr(t)}var po=Uint8Array,Vl=Uint16Array,PD=Int32Array,WT=new po([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),KT=new po([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),LL=new po([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Tne=function(t,e){for(var n=new Vl(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new PD(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},Mne=Tne(WT,2),Ine=Mne.b,FL=Mne.r;Ine[28]=258,FL[258]=28;var Pne=Tne(KT,0),L4e=Pne.b,Tz=Pne.r,RL=new Vl(32768);for(var pi=0;pi<32768;++pi){var _h=(pi&43690)>>1|(pi&21845)<<1;_h=(_h&52428)>>2|(_h&13107)<<2,_h=(_h&61680)>>4|(_h&3855)<<4,RL[pi]=((_h&65280)>>8|(_h&255)<<8)>>1}var lA=function(t,e,n){for(var r=t.length,i=0,s=new Vl(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new Vl(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new Vl(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],A=a[t[i]-1]++<<u,f=A|(1<<u)-1;A<=f;++A)o[RL[A]>>l]=c}else for(o=new Vl(r),i=0;i<r;++i)t[i]&&(o[i]=RL[a[t[i]-1]++]>>15-t[i]);return o},Cd=new po(288);for(var pi=0;pi<144;++pi)Cd[pi]=8;for(var pi=144;pi<256;++pi)Cd[pi]=9;for(var pi=256;pi<280;++pi)Cd[pi]=7;for(var pi=280;pi<288;++pi)Cd[pi]=8;var v_=new po(32);for(var pi=0;pi<32;++pi)v_[pi]=5;var F4e=lA(Cd,9,0),R4e=lA(Cd,9,1),U4e=lA(v_,5,0),D4e=lA(v_,5,1),Z5=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},nu=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},eP=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},ND=function(t){return(t+7)/8|0},Nne=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new po(t.subarray(e,n))},O4e=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ou=function(t,e,n){var r=new Error(e||O4e[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,ou),!n)throw r;return r},k4e=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new po(0);var a=!n,o=a||e.i!=2,l=e.i;a&&(n=new po(i*3));var c=function(Ee){var ie=n.length;if(Ee>ie){var Te=new po(Math.max(ie*2,Ee));Te.set(n),n=Te}},u=e.f||0,A=e.p||0,f=e.b||0,h=e.l,p=e.d,y=e.m,v=e.n,m=i*8;do{if(!h){u=nu(t,A,1);var w=nu(t,A+1,3);if(A+=3,w)if(w==1)h=R4e,p=D4e,y=9,v=5;else if(w==2){var L=nu(t,A,31)+257,S=nu(t,A+10,15)+4,M=L+nu(t,A+5,31)+1;A+=14;for(var T=new po(M),F=new po(19),P=0;P<S;++P)F[LL[P]]=nu(t,A+P*3,7);A+=S*3;for(var D=Z5(F),H=(1<<D)-1,X=lA(F,D,1),P=0;P<M;){var fe=X[nu(t,A,H)];A+=fe&15;var _=fe>>4;if(_<16)T[P++]=_;else{var ue=0,me=0;for(_==16?(me=3+nu(t,A,3),A+=2,ue=T[P-1]):_==17?(me=3+nu(t,A,7),A+=3):_==18&&(me=11+nu(t,A,127),A+=7);me--;)T[P++]=ue}}var J=T.subarray(0,L),le=T.subarray(L);y=Z5(J),v=Z5(le),h=lA(J,y,1),p=lA(le,v,1)}else ou(1);else{var _=ND(A)+4,B=t[_-4]|t[_-3]<<8,R=_+B;if(R>i){l&&ou(0);break}o&&c(f+B),n.set(t.subarray(_,R),f),e.b=f+=B,e.p=A=R*8,e.f=u;continue}if(A>m){l&&ou(0);break}}o&&c(f+131072);for(var ee=(1<<y)-1,re=(1<<v)-1,k=A;;k=A){var ue=h[eP(t,A)&ee],$=ue>>4;if(A+=ue&15,A>m){l&&ou(0);break}if(ue||ou(2),$<256)n[f++]=$;else if($==256){k=A,h=null;break}else{var j=$-254;if($>264){var P=$-257,G=WT[P];j=nu(t,A,(1<<G)-1)+Ine[P],A+=G}var q=p[eP(t,A)&re],W=q>>4;q||ou(3),A+=q&15;var le=L4e[W];if(W>3){var G=KT[W];le+=eP(t,A)&(1<<G)-1,A+=G}if(A>m){l&&ou(0);break}o&&c(f+131072);var ge=f+j;if(f<le){var he=s-le,ve=Math.min(le,ge);for(he+f<0&&ou(3);f<ve;++f)n[f]=r[he+f]}for(;f<ge;++f)n[f]=n[f-le]}}e.l=h,e.p=k,e.b=f,e.f=u,h&&(u=1,e.m=y,e.d=p,e.n=v)}while(!u);return f!=n.length&&a?Nne(n,0,f):n.subarray(0,f)},YA=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},m1=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},tP=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:Fne,l:0};if(i==1){var a=new po(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(R,L){return R.f-L.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,u=1,A=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};u!=i-1;)o=n[n[c].f<n[A].f?c++:A++],l=n[c!=u&&n[c].f<n[A].f?c++:A++],n[u++]={s:-1,f:o.f+l.f,l:o,r:l};for(var f=s[0].s,r=1;r<i;++r)s[r].s>f&&(f=s[r].s);var h=new Vl(f+1),p=UL(n[u-1],h,0);if(p>e){var r=0,y=0,v=p-e,m=1<<v;for(s.sort(function(L,S){return h[S.s]-h[L.s]||L.f-S.f});r<i;++r){var w=s[r].s;if(h[w]>e)y+=m-(1<<p-h[w]),h[w]=e;else break}for(y>>=v;y>0;){var _=s[r].s;h[_]<e?y-=1<<e-h[_]++-1:++r}for(;r>=0&&y;--r){var B=s[r].s;h[B]==e&&(--h[B],++y)}p=e}return{t:new po(h),l:p}},UL=function(t,e,n){return t.s==-1?Math.max(UL(t.l,e,n+1),UL(t.r,e,n+1)):e[t.s]=n},Mz=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Vl(++e),r=0,i=t[0],s=1,a=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},g1=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},Lne=function(t,e,n){var r=n.length,i=ND(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},Iz=function(t,e,n,r,i,s,a,o,l,c,u){YA(e,u++,n),++i[256];for(var A=tP(i,15),f=A.t,h=A.l,p=tP(s,15),y=p.t,v=p.l,m=Mz(f),w=m.c,_=m.n,B=Mz(y),R=B.c,L=B.n,S=new Vl(19),M=0;M<w.length;++M)++S[w[M]&31];for(var M=0;M<R.length;++M)++S[R[M]&31];for(var T=tP(S,7),F=T.t,P=T.l,D=19;D>4&&!F[LL[D-1]];--D);var H=c+5<<3,X=g1(i,Cd)+g1(s,v_)+a,fe=g1(i,f)+g1(s,y)+a+14+3*D+g1(S,F)+2*S[16]+3*S[17]+7*S[18];if(l>=0&&H<=X&&H<=fe)return Lne(e,u,t.subarray(l,l+c));var ue,me,J,le;if(YA(e,u,1+(fe<X)),u+=2,fe<X){ue=lA(f,h,0),me=f,J=lA(y,v,0),le=y;var ee=lA(F,P,0);YA(e,u,_-257),YA(e,u+5,L-1),YA(e,u+10,D-4),u+=14;for(var M=0;M<D;++M)YA(e,u+3*M,F[LL[M]]);u+=3*D;for(var re=[w,R],k=0;k<2;++k)for(var $=re[k],M=0;M<$.length;++M){var j=$[M]&31;YA(e,u,ee[j]),u+=F[j],j>15&&(YA(e,u,$[M]>>5&127),u+=$[M]>>12)}}else ue=F4e,me=Cd,J=U4e,le=v_;for(var M=0;M<o;++M){var G=r[M];if(G>255){var j=G>>18&31;m1(e,u,ue[j+257]),u+=me[j+257],j>7&&(YA(e,u,G>>23&31),u+=WT[j]);var q=G&31;m1(e,u,J[q]),u+=le[q],q>3&&(m1(e,u,G>>5&8191),u+=KT[q])}else m1(e,u,ue[G]),u+=me[G]}return m1(e,u,ue[256]),u+me[256]},Q4e=new PD([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Fne=new po(0),H4e=function(t,e,n,r,i,s){var a=s.z||t.length,o=new po(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,u=(s.r||0)&7;if(e){u&&(l[0]=s.r>>3);for(var A=Q4e[e-1],f=A>>13,h=A&8191,p=(1<<n)-1,y=s.p||new Vl(32768),v=s.h||new Vl(p+1),m=Math.ceil(n/3),w=2*m,_=function(ye){return(t[ye]^t[ye+1]<<m^t[ye+2]<<w)&p},B=new PD(25e3),R=new Vl(288),L=new Vl(32),S=0,M=0,T=s.i||0,F=0,P=s.w||0,D=0;T+2<a;++T){var H=_(T),X=T&32767,fe=v[H];if(y[X]=fe,v[H]=X,P<=T){var ue=a-T;if((S>7e3||F>24576)&&(ue>423||!c)){u=Iz(t,l,0,B,R,L,M,F,D,T-D,u),F=S=M=0,D=T;for(var me=0;me<286;++me)R[me]=0;for(var me=0;me<30;++me)L[me]=0}var J=2,le=0,ee=h,re=X-fe&32767;if(ue>2&&H==_(T-re))for(var k=Math.min(f,ue)-1,$=Math.min(32767,T),j=Math.min(258,ue);re<=$&&--ee&&X!=fe;){if(t[T+J]==t[T+J-re]){for(var G=0;G<j&&t[T+G]==t[T+G-re];++G);if(G>J){if(J=G,le=re,G>k)break;for(var q=Math.min(re,G-2),W=0,me=0;me<q;++me){var ge=T-re+me&32767,he=y[ge],ve=ge-he&32767;ve>W&&(W=ve,fe=ge)}}}X=fe,fe=y[X],re+=X-fe&32767}if(le){B[F++]=268435456|FL[J]<<18|Tz[le];var Ee=FL[J]&31,ie=Tz[le]&31;M+=WT[Ee]+KT[ie],++R[257+Ee],++L[ie],P=T+J,++S}else B[F++]=t[T],++R[t[T]]}}for(T=Math.max(T,P);T<a;++T)B[F++]=t[T],++R[t[T]];u=Iz(t,l,c,B,R,L,M,F,D,T-D,u),c||(s.r=u&7|l[u/8|0]<<3,u-=7,s.h=v,s.p=y,s.i=T,s.w=P)}else{for(var T=s.w||0;T<a+c;T+=65535){var Te=T+65535;Te>=a&&(l[u/8|0]=c,Te=a),u=Lne(l,u+1,t.subarray(T,Te))}s.i=a}return Nne(o,0,r+ND(u)+i)},Rne=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},V4e=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new po(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return H4e(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},Une=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},z4e=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=Rne();i.p(e.dictionary),Une(t,2,i.d())}},j4e=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&ou(6,"invalid zlib data"),(t[1]>>5&1)==1&&ou(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function DL(t,e){e||(e={});var n=Rne();n.p(t);var r=V4e(t,e,e.dictionary?6:2,4);return z4e(r,e),Une(r,r.length-4,n.d()),r}function G4e(t,e){return k4e(t.subarray(j4e(t),-4),{i:2},e,e)}var W4e=typeof TextDecoder<"u"&&new TextDecoder,K4e=0;try{W4e.decode(Fne,{stream:!0}),K4e=1}catch{}var _n=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function nP(){_n.console&&typeof _n.console.log=="function"&&_n.console.log.apply(_n.console,arguments)}var Hr={log:nP,warn:function(t){_n.console&&(typeof _n.console.warn=="function"?_n.console.warn.apply(_n.console,arguments):nP.call(null,arguments))},error:function(t){_n.console&&(typeof _n.console.error=="function"?_n.console.error.apply(_n.console,arguments):nP(t))}};function rP(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){kp(r.response,e,n)},r.onerror=function(){Hr.error("could not download file")},r.send()}function Pz(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function QE(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var cw,OL,kp=_n.saveAs||((typeof window>"u"?"undefined":Nr(window))!=="object"||window!==_n?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=_n.URL||_n.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Pz(i.href)?rP(t,e,n):QE(i,i.target="_blank"):QE(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){QE(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Pz(t))rP(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){QE(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:Nr(s)!=="object"&&(Hr.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return rP(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(_n.HTMLElement)||_n.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":Nr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var u=o.result;u=a?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},o.readAsDataURL(t)}else{var l=_n.URL||_n.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function Dne(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function iP(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=no(n,r,i,s,e[0],7,-680876936),s=no(s,n,r,i,e[1],12,-389564586),i=no(i,s,n,r,e[2],17,606105819),r=no(r,i,s,n,e[3],22,-1044525330),n=no(n,r,i,s,e[4],7,-176418897),s=no(s,n,r,i,e[5],12,1200080426),i=no(i,s,n,r,e[6],17,-1473231341),r=no(r,i,s,n,e[7],22,-45705983),n=no(n,r,i,s,e[8],7,1770035416),s=no(s,n,r,i,e[9],12,-1958414417),i=no(i,s,n,r,e[10],17,-42063),r=no(r,i,s,n,e[11],22,-1990404162),n=no(n,r,i,s,e[12],7,1804603682),s=no(s,n,r,i,e[13],12,-40341101),i=no(i,s,n,r,e[14],17,-1502002290),n=ro(n,r=no(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=ro(s,n,r,i,e[6],9,-1069501632),i=ro(i,s,n,r,e[11],14,643717713),r=ro(r,i,s,n,e[0],20,-373897302),n=ro(n,r,i,s,e[5],5,-701558691),s=ro(s,n,r,i,e[10],9,38016083),i=ro(i,s,n,r,e[15],14,-660478335),r=ro(r,i,s,n,e[4],20,-405537848),n=ro(n,r,i,s,e[9],5,568446438),s=ro(s,n,r,i,e[14],9,-1019803690),i=ro(i,s,n,r,e[3],14,-187363961),r=ro(r,i,s,n,e[8],20,1163531501),n=ro(n,r,i,s,e[13],5,-1444681467),s=ro(s,n,r,i,e[2],9,-51403784),i=ro(i,s,n,r,e[7],14,1735328473),n=io(n,r=ro(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=io(s,n,r,i,e[8],11,-2022574463),i=io(i,s,n,r,e[11],16,1839030562),r=io(r,i,s,n,e[14],23,-35309556),n=io(n,r,i,s,e[1],4,-1530992060),s=io(s,n,r,i,e[4],11,1272893353),i=io(i,s,n,r,e[7],16,-155497632),r=io(r,i,s,n,e[10],23,-1094730640),n=io(n,r,i,s,e[13],4,681279174),s=io(s,n,r,i,e[0],11,-358537222),i=io(i,s,n,r,e[3],16,-722521979),r=io(r,i,s,n,e[6],23,76029189),n=io(n,r,i,s,e[9],4,-640364487),s=io(s,n,r,i,e[12],11,-421815835),i=io(i,s,n,r,e[15],16,530742520),n=so(n,r=io(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=so(s,n,r,i,e[7],10,1126891415),i=so(i,s,n,r,e[14],15,-1416354905),r=so(r,i,s,n,e[5],21,-57434055),n=so(n,r,i,s,e[12],6,1700485571),s=so(s,n,r,i,e[3],10,-1894986606),i=so(i,s,n,r,e[10],15,-1051523),r=so(r,i,s,n,e[1],21,-2054922799),n=so(n,r,i,s,e[8],6,1873313359),s=so(s,n,r,i,e[15],10,-30611744),i=so(i,s,n,r,e[6],15,-1560198380),r=so(r,i,s,n,e[13],21,1309151649),n=so(n,r,i,s,e[4],6,-145523070),s=so(s,n,r,i,e[11],10,-1120210379),i=so(i,s,n,r,e[2],15,718787259),r=so(r,i,s,n,e[9],21,-343485551),t[0]=Kh(n,t[0]),t[1]=Kh(r,t[1]),t[2]=Kh(i,t[2]),t[3]=Kh(s,t[3])}function qT(t,e,n,r,i,s){return e=Kh(Kh(e,t),Kh(r,s)),Kh(e<<i|e>>>32-i,n)}function no(t,e,n,r,i,s,a){return qT(e&n|~e&r,t,e,i,s,a)}function ro(t,e,n,r,i,s,a){return qT(e&r|n&~r,t,e,i,s,a)}function io(t,e,n,r,i,s,a){return qT(e^n^r,t,e,i,s,a)}function so(t,e,n,r,i,s,a){return qT(n^(e|~r),t,e,i,s,a)}function One(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)iP(r,q4e(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(iP(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,iP(r,i),r}function q4e(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}cw=_n.atob.bind(_n),OL=_n.btoa.bind(_n);var Nz="0123456789abcdef".split("");function $4e(t){for(var e="",n=0;n<4;n++)e+=Nz[t>>8*n+4&15]+Nz[t>>8*n&15];return e}function X4e(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function kL(t){return One(t).map(X4e).join("")}var Y4e=function(t){for(var e=0;e<t.length;e++)t[e]=$4e(t[e]);return t.join("")}(One("hello"))!="5d41402abc4b2a76b9719d911017c592";function Kh(t,e){if(Y4e){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function QL(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var u=o[l];c=(c+u+a.charCodeAt(l))%256,o[l]=o[c],o[c]=u}n=t,r=o}else o=r;var A=e.length,f=0,h=0,p="";for(l=0;l<A;l++)h=(h+(u=o[f=(f+1)%256]))%256,o[f]=o[h],o[h]=u,a=o[(o[f]+o[h])%256],p+=String.fromCharCode(e.charCodeAt(l)^a);return p}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Lz={print:4,modify:8,copy:16,"annot-forms":32};function d0(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(Lz.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Lz[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=kL(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=QL(this.encryptionKey,this.padding)}function p0(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function Fz(t){if(Nr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){_n.console&&Hr.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function vC(t){if(!(this instanceof vC))return new vC(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function kne(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function zp(t,e,n,r,i){if(!(this instanceof zp))return new zp(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,kne.call(this,r,i)}function j0(t,e,n,r,i){if(!(this instanceof j0))return new j0(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,kne.call(this,r,i)}function yn(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",u=null;Nr(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var A=t.putOnlyUsedFonts||!1,f={},h={internal:{},__private__:{}};h.__private__.PubSub=Fz;var p="1.3",y=h.__private__.getPdfVersion=function(){return p};h.__private__.setPdfVersion=function(U){p=U};var v={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return v};var m=h.__private__.getPageFormat=function(U){return v[U]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},_=w.COMPAT;function B(){this.saveGraphicsState(),se(new St(ht,0,0,-ht,0,Ls()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),c="n",_=w.ADVANCED}function R(){this.restoreGraphicsState(),c="S",_=w.COMPAT}var L=h.__private__.combineFontStyleAndFontWeight=function(U,ae){if(U=="bold"&&ae=="normal"||U=="bold"&&ae==400||U=="normal"&&ae=="italic"||U=="bold"&&ae=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return ae&&(U=ae==400||ae==="normal"?U==="italic"?"italic":"normal":ae!=700&&ae!=="bold"||U!=="normal"?(ae==700?"bold":ae)+""+U:"bold"),U};h.advancedAPI=function(U){var ae=_===w.COMPAT;return ae&&B.call(this),typeof U!="function"||(U(this),ae&&R.call(this)),this},h.compatAPI=function(U){var ae=_===w.ADVANCED;return ae&&R.call(this),typeof U!="function"||(U(this),ae&&B.call(this)),this},h.isAdvancedAPI=function(){return _===w.ADVANCED};var S,M=function(U){if(_!==w.ADVANCED)throw new Error(U+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},T=h.roundToPrecision=h.__private__.roundToPrecision=function(U,ae){var Me=e||ae;if(isNaN(U)||isNaN(Me))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return U.toFixed(Me).replace(/0+$/,"")};S=h.hpf=h.__private__.hpf=typeof l=="number"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return T(U,l)}:l==="smart"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return T(U,U>-1&&U<1?16:5)}:function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return T(U,16)};var F=h.f2=h.__private__.f2=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f2");return T(U,2)},P=h.__private__.f3=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f3");return T(U,3)},D=h.scale=h.__private__.scale=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.scale");return _===w.COMPAT?U*ht:_===w.ADVANCED?U:void 0},H=function(U){return _===w.COMPAT?Ls()-U:_===w.ADVANCED?U:void 0},X=function(U){return D(H(U))};h.__private__.setPrecision=h.setPrecision=function(U){typeof parseInt(U,10)=="number"&&(e=parseInt(U,10))};var fe,ue="00000000000000000000000000000000",me=h.__private__.getFileId=function(){return ue},J=h.__private__.setFileId=function(U){return ue=U!==void 0&&/^[a-fA-F0-9]{32}$/.test(U)?U.toUpperCase():ue.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&(Tr=new d0(u.userPermissions,u.userPassword,u.ownerPassword,ue)),ue};h.setFileId=function(U){return J(U),this},h.getFileId=function(){return me()};var le=h.__private__.convertDateToPDFDate=function(U){var ae=U.getTimezoneOffset(),Me=ae<0?"+":"-",Fe=Math.floor(Math.abs(ae/60)),Qe=Math.abs(ae%60),it=[Me,j(Fe),"'",j(Qe),"'"].join("");return["D:",U.getFullYear(),j(U.getMonth()+1),j(U.getDate()),j(U.getHours()),j(U.getMinutes()),j(U.getSeconds()),it].join("")},ee=h.__private__.convertPDFDateToDate=function(U){var ae=parseInt(U.substr(2,4),10),Me=parseInt(U.substr(6,2),10)-1,Fe=parseInt(U.substr(8,2),10),Qe=parseInt(U.substr(10,2),10),it=parseInt(U.substr(12,2),10),vt=parseInt(U.substr(14,2),10);return new Date(ae,Me,Fe,Qe,it,vt,0)},re=h.__private__.setCreationDate=function(U){var ae;if(U===void 0&&(U=new Date),U instanceof Date)ae=le(U);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(U))throw new Error("Invalid argument passed to jsPDF.setCreationDate");ae=U}return fe=ae},k=h.__private__.getCreationDate=function(U){var ae=fe;return U==="jsDate"&&(ae=ee(fe)),ae};h.setCreationDate=function(U){return re(U),this},h.getCreationDate=function(U){return k(U)};var $,j=h.__private__.padd2=function(U){return("0"+parseInt(U)).slice(-2)},G=h.__private__.padd2Hex=function(U){return("00"+(U=U.toString())).substr(U.length)},q=0,W=[],ge=[],he=0,ve=[],Ee=[],ie=!1,Te=ge,ye=function(){q=0,he=0,ge=[],W=[],ve=[],za=Cr(),$i=Cr()};h.__private__.setCustomOutputDestination=function(U){ie=!0,Te=U};var _e=function(U){ie||(Te=U)};h.__private__.resetCustomOutputDestination=function(){ie=!1,Te=ge};var se=h.__private__.out=function(U){return U=U.toString(),he+=U.length+1,Te.push(U),Te},ze=h.__private__.write=function(U){return se(arguments.length===1?U.toString():Array.prototype.join.call(arguments," "))},be=h.__private__.getArrayBuffer=function(U){for(var ae=U.length,Me=new ArrayBuffer(ae),Fe=new Uint8Array(Me);ae--;)Fe[ae]=U.charCodeAt(ae);return Me},z=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return z};var te=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(U){return te=_===w.ADVANCED?U/ht:U,this};var Be,ke=h.__private__.getFontSize=h.getFontSize=function(){return _===w.COMPAT?te:te*ht},Ke=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(U){return Ke=U,this},h.__private__.getR2L=h.getR2L=function(){return Ke};var je,ft=h.__private__.setZoomMode=function(U){var ae=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(U))Be=U;else if(isNaN(U)){if(ae.indexOf(U)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+U+'" is not recognized.');Be=U}else Be=parseInt(U,10)};h.__private__.getZoomMode=function(){return Be};var nt,ct=h.__private__.setPageMode=function(U){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(U)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+U+'" is not recognized.');je=U};h.__private__.getPageMode=function(){return je};var Tt=h.__private__.setLayoutMode=function(U){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(U)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+U+'" is not recognized.');nt=U};h.__private__.getLayoutMode=function(){return nt},h.__private__.setDisplayMode=h.setDisplayMode=function(U,ae,Me){return ft(U),Tt(ae),ct(Me),this};var bt={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(U){if(Object.keys(bt).indexOf(U)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return bt[U]},h.__private__.getDocumentProperties=function(){return bt},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(U){for(var ae in bt)bt.hasOwnProperty(ae)&&U[ae]&&(bt[ae]=U[ae]);return this},h.__private__.setDocumentProperty=function(U,ae){if(Object.keys(bt).indexOf(U)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return bt[U]=ae};var Ze,ht,Gt,Nt,Qt,Ct={},Pe={},ut=[],_t={},Ft={},lt={},Le={},Bt=null,Et=0,xt=[],Mt=new Fz(h),vn=t.hotfixes||[],ln={},Tn={},Gn=[],St=function U(ae,Me,Fe,Qe,it,vt){if(!(this instanceof U))return new U(ae,Me,Fe,Qe,it,vt);isNaN(ae)&&(ae=1),isNaN(Me)&&(Me=0),isNaN(Fe)&&(Fe=0),isNaN(Qe)&&(Qe=1),isNaN(it)&&(it=0),isNaN(vt)&&(vt=0),this._matrix=[ae,Me,Fe,Qe,it,vt]};Object.defineProperty(St.prototype,"sx",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(St.prototype,"shy",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(St.prototype,"shx",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(St.prototype,"sy",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(St.prototype,"tx",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(St.prototype,"ty",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(St.prototype,"a",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(St.prototype,"b",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(St.prototype,"c",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(St.prototype,"d",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(St.prototype,"e",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(St.prototype,"f",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(St.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(St.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(St.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(St.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),St.prototype.join=function(U){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(S).join(U)},St.prototype.multiply=function(U){var ae=U.sx*this.sx+U.shy*this.shx,Me=U.sx*this.shy+U.shy*this.sy,Fe=U.shx*this.sx+U.sy*this.shx,Qe=U.shx*this.shy+U.sy*this.sy,it=U.tx*this.sx+U.ty*this.shx+this.tx,vt=U.tx*this.shy+U.ty*this.sy+this.ty;return new St(ae,Me,Fe,Qe,it,vt)},St.prototype.decompose=function(){var U=this.sx,ae=this.shy,Me=this.shx,Fe=this.sy,Qe=this.tx,it=this.ty,vt=Math.sqrt(U*U+ae*ae),Lt=(U/=vt)*Me+(ae/=vt)*Fe;Me-=U*Lt,Fe-=ae*Lt;var b=Math.sqrt(Me*Me+Fe*Fe);return Lt/=b,U*(Fe/=b)<ae*(Me/=b)&&(U=-U,ae=-ae,Lt=-Lt,vt=-vt),{scale:new St(vt,0,0,b,0,0),translate:new St(1,0,0,1,Qe,it),rotate:new St(U,ae,-ae,U,0,0),skew:new St(1,0,Lt,1,0,0)}},St.prototype.toString=function(U){return this.join(" ")},St.prototype.inversed=function(){var U=this.sx,ae=this.shy,Me=this.shx,Fe=this.sy,Qe=this.tx,it=this.ty,vt=1/(U*Fe-ae*Me),Lt=Fe*vt,b=-ae*vt,Q=-Me*vt,Z=U*vt;return new St(Lt,b,Q,Z,-Lt*Qe-Q*it,-b*Qe-Z*it)},St.prototype.applyToPoint=function(U){var ae=U.x*this.sx+U.y*this.shx+this.tx,Me=U.x*this.shy+U.y*this.sy+this.ty;return new Xs(ae,Me)},St.prototype.applyToRectangle=function(U){var ae=this.applyToPoint(U),Me=this.applyToPoint(new Xs(U.x+U.w,U.y+U.h));return new rc(ae.x,ae.y,Me.x-ae.x,Me.y-ae.y)},St.prototype.clone=function(){var U=this.sx,ae=this.shy,Me=this.shx,Fe=this.sy,Qe=this.tx,it=this.ty;return new St(U,ae,Me,Fe,Qe,it)},h.Matrix=St;var Ar=h.matrixMult=function(U,ae){return ae.multiply(U)},Sr=new St(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Sr;var Gr=function(U,ae){if(!Ft[U]){var Me=(ae instanceof zp?"Sh":"P")+(Object.keys(_t).length+1).toString(10);ae.id=Me,Ft[U]=Me,_t[Me]=ae,Mt.publish("addPattern",ae)}};h.ShadingPattern=zp,h.TilingPattern=j0,h.addShadingPattern=function(U,ae){return M("addShadingPattern()"),Gr(U,ae),this},h.beginTilingPattern=function(U){M("beginTilingPattern()"),Ys(U.boundingBox[0],U.boundingBox[1],U.boundingBox[2]-U.boundingBox[0],U.boundingBox[3]-U.boundingBox[1],U.matrix)},h.endTilingPattern=function(U,ae){M("endTilingPattern()"),ae.stream=Ee[$].join(`
`),Gr(U,ae),Mt.publish("endTilingPattern",ae),Gn.pop().restore()};var Dr=h.__private__.newObject=function(){var U=Cr();return Br(U,!0),U},Cr=h.__private__.newObjectDeferred=function(){return q++,W[q]=function(){return he},q},Br=function(U,ae){return ae=typeof ae=="boolean"&&ae,W[U]=he,ae&&se(U+" 0 obj"),U},bo=h.__private__.newAdditionalObject=function(){var U={objId:Cr(),content:""};return ve.push(U),U},za=Cr(),$i=Cr(),Ks=h.__private__.decodeColorString=function(U){var ae=U.split(" ");if(ae.length!==2||ae[1]!=="g"&&ae[1]!=="G")ae.length===5&&(ae[4]==="k"||ae[4]==="K")&&(ae=[(1-ae[0])*(1-ae[3]),(1-ae[1])*(1-ae[3]),(1-ae[2])*(1-ae[3]),"r"]);else{var Me=parseFloat(ae[0]);ae=[Me,Me,Me,"r"]}for(var Fe="#",Qe=0;Qe<3;Qe++)Fe+=("0"+Math.floor(255*parseFloat(ae[Qe])).toString(16)).slice(-2);return Fe},Is=h.__private__.encodeColorString=function(U){var ae;typeof U=="string"&&(U={ch1:U});var Me=U.ch1,Fe=U.ch2,Qe=U.ch3,it=U.ch4,vt=U.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Me=="string"&&Me.charAt(0)!=="#"){var Lt=new Dne(Me);if(Lt.ok)Me=Lt.toHex();else if(!/^\d*\.?\d*$/.test(Me))throw new Error('Invalid color "'+Me+'" passed to jsPDF.encodeColorString.')}if(typeof Me=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Me)&&(Me="#"+Me[1]+Me[1]+Me[2]+Me[2]+Me[3]+Me[3]),typeof Me=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Me)){var b=parseInt(Me.substr(1),16);Me=b>>16&255,Fe=b>>8&255,Qe=255&b}if(Fe===void 0||it===void 0&&Me===Fe&&Fe===Qe)if(typeof Me=="string")ae=Me+" "+vt[0];else switch(U.precision){case 2:ae=F(Me/255)+" "+vt[0];break;case 3:default:ae=P(Me/255)+" "+vt[0]}else if(it===void 0||Nr(it)==="object"){if(it&&!isNaN(it.a)&&it.a===0)return ae=["1.","1.","1.",vt[1]].join(" ");if(typeof Me=="string")ae=[Me,Fe,Qe,vt[1]].join(" ");else switch(U.precision){case 2:ae=[F(Me/255),F(Fe/255),F(Qe/255),vt[1]].join(" ");break;default:case 3:ae=[P(Me/255),P(Fe/255),P(Qe/255),vt[1]].join(" ")}}else if(typeof Me=="string")ae=[Me,Fe,Qe,it,vt[2]].join(" ");else switch(U.precision){case 2:ae=[F(Me),F(Fe),F(Qe),F(it),vt[2]].join(" ");break;case 3:default:ae=[P(Me),P(Fe),P(Qe),P(it),vt[2]].join(" ")}return ae},Ps=h.__private__.getFilters=function(){return a},xe=h.__private__.putStream=function(U){var ae=(U=U||{}).data||"",Me=U.filters||Ps(),Fe=U.alreadyAppliedFilters||[],Qe=U.addLength1||!1,it=ae.length,vt=U.objectId,Lt=function(pn){return pn};if(u!==null&&vt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(Lt=Tr.encryptor(vt,0));var b={};Me===!0&&(Me=["FlateEncode"]);var Q=U.additionalKeyValues||[],Z=(b=yn.API.processDataByFilters!==void 0?yn.API.processDataByFilters(ae,Me):{data:ae,reverseChain:[]}).reverseChain+(Array.isArray(Fe)?Fe.join(" "):Fe.toString());if(b.data.length!==0&&(Q.push({key:"Length",value:b.data.length}),Qe===!0&&Q.push({key:"Length1",value:it})),Z.length!=0)if(Z.split("/").length-1==1)Q.push({key:"Filter",value:Z});else{Q.push({key:"Filter",value:"["+Z+"]"});for(var de=0;de<Q.length;de+=1)if(Q[de].key==="DecodeParms"){for(var Oe=[],qe=0;qe<b.reverseChain.split("/").length-1;qe+=1)Oe.push("null");Oe.push(Q[de].value),Q[de].value="["+Oe.join(" ")+"]"}}se("<<");for(var gt=0;gt<Q.length;gt++)se("/"+Q[gt].key+" "+Q[gt].value);se(">>"),b.data.length!==0&&(se("stream"),se(Lt(b.data)),se("endstream"))},Ge=h.__private__.putPage=function(U){var ae=U.number,Me=U.data,Fe=U.objId,Qe=U.contentsObjId;Br(Fe,!0),se("<</Type /Page"),se("/Parent "+U.rootDictionaryObjId+" 0 R"),se("/Resources "+U.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(S(U.mediaBox.bottomLeftX))+" "+parseFloat(S(U.mediaBox.bottomLeftY))+" "+S(U.mediaBox.topRightX)+" "+S(U.mediaBox.topRightY)+"]"),U.cropBox!==null&&se("/CropBox ["+S(U.cropBox.bottomLeftX)+" "+S(U.cropBox.bottomLeftY)+" "+S(U.cropBox.topRightX)+" "+S(U.cropBox.topRightY)+"]"),U.bleedBox!==null&&se("/BleedBox ["+S(U.bleedBox.bottomLeftX)+" "+S(U.bleedBox.bottomLeftY)+" "+S(U.bleedBox.topRightX)+" "+S(U.bleedBox.topRightY)+"]"),U.trimBox!==null&&se("/TrimBox ["+S(U.trimBox.bottomLeftX)+" "+S(U.trimBox.bottomLeftY)+" "+S(U.trimBox.topRightX)+" "+S(U.trimBox.topRightY)+"]"),U.artBox!==null&&se("/ArtBox ["+S(U.artBox.bottomLeftX)+" "+S(U.artBox.bottomLeftY)+" "+S(U.artBox.topRightX)+" "+S(U.artBox.topRightY)+"]"),typeof U.userUnit=="number"&&U.userUnit!==1&&se("/UserUnit "+U.userUnit),Mt.publish("putPage",{objId:Fe,pageContext:xt[ae],pageNumber:ae,page:Me}),se("/Contents "+Qe+" 0 R"),se(">>"),se("endobj");var it=Me.join(`
`);return _===w.ADVANCED&&(it+=`
Q`),Br(Qe,!0),xe({data:it,filters:Ps(),objectId:Qe}),se("endobj"),Fe},Ye=h.__private__.putPages=function(){var U,ae,Me=[];for(U=1;U<=Et;U++)xt[U].objId=Cr(),xt[U].contentsObjId=Cr();for(U=1;U<=Et;U++)Me.push(Ge({number:U,data:Ee[U],objId:xt[U].objId,contentsObjId:xt[U].contentsObjId,mediaBox:xt[U].mediaBox,cropBox:xt[U].cropBox,bleedBox:xt[U].bleedBox,trimBox:xt[U].trimBox,artBox:xt[U].artBox,userUnit:xt[U].userUnit,rootDictionaryObjId:za,resourceDictionaryObjId:$i}));Br(za,!0),se("<</Type /Pages");var Fe="/Kids [";for(ae=0;ae<Et;ae++)Fe+=Me[ae]+" 0 R ";se(Fe+"]"),se("/Count "+Et),se(">>"),se("endobj"),Mt.publish("postPutPages")},et=function(U){Mt.publish("putFont",{font:U,out:se,newObject:Dr,putStream:xe}),U.isAlreadyPutted!==!0&&(U.objectNumber=Dr(),se("<<"),se("/Type /Font"),se("/BaseFont /"+p0(U.postScriptName)),se("/Subtype /Type1"),typeof U.encoding=="string"&&se("/Encoding /"+U.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},Xe=function(){for(var U in Ct)Ct.hasOwnProperty(U)&&(A===!1||A===!0&&f.hasOwnProperty(U))&&et(Ct[U])},Dt=function(U){U.objectNumber=Dr();var ae=[];ae.push({key:"Type",value:"/XObject"}),ae.push({key:"Subtype",value:"/Form"}),ae.push({key:"BBox",value:"["+[S(U.x),S(U.y),S(U.x+U.width),S(U.y+U.height)].join(" ")+"]"}),ae.push({key:"Matrix",value:"["+U.matrix.toString()+"]"});var Me=U.pages[1].join(`
`);xe({data:Me,additionalKeyValues:ae,objectId:U.objectNumber}),se("endobj")},$t=function(){for(var U in ln)ln.hasOwnProperty(U)&&Dt(ln[U])},sn=function(U,ae){var Me,Fe=[],Qe=1/(ae-1);for(Me=0;Me<1;Me+=Qe)Fe.push(Me);if(Fe.push(1),U[0].offset!=0){var it={offset:0,color:U[0].color};U.unshift(it)}if(U[U.length-1].offset!=1){var vt={offset:1,color:U[U.length-1].color};U.push(vt)}for(var Lt="",b=0,Q=0;Q<Fe.length;Q++){for(Me=Fe[Q];Me>U[b+1].offset;)b++;var Z=U[b].offset,de=(Me-Z)/(U[b+1].offset-Z),Oe=U[b].color,qe=U[b+1].color;Lt+=G(Math.round((1-de)*Oe[0]+de*qe[0]).toString(16))+G(Math.round((1-de)*Oe[1]+de*qe[1]).toString(16))+G(Math.round((1-de)*Oe[2]+de*qe[2]).toString(16))}return Lt.trim()},nn=function(U,ae){ae||(ae=21);var Me=Dr(),Fe=sn(U.colors,ae),Qe=[];Qe.push({key:"FunctionType",value:"0"}),Qe.push({key:"Domain",value:"[0.0 1.0]"}),Qe.push({key:"Size",value:"["+ae+"]"}),Qe.push({key:"BitsPerSample",value:"8"}),Qe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Qe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),xe({data:Fe,additionalKeyValues:Qe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Me}),se("endobj"),U.objectNumber=Dr(),se("<< /ShadingType "+U.type),se("/ColorSpace /DeviceRGB");var it="/Coords ["+S(parseFloat(U.coords[0]))+" "+S(parseFloat(U.coords[1]))+" ";U.type===2?it+=S(parseFloat(U.coords[2]))+" "+S(parseFloat(U.coords[3])):it+=S(parseFloat(U.coords[2]))+" "+S(parseFloat(U.coords[3]))+" "+S(parseFloat(U.coords[4]))+" "+S(parseFloat(U.coords[5])),se(it+="]"),U.matrix&&se("/Matrix ["+U.matrix.toString()+"]"),se("/Function "+Me+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},hn=function(U,ae){var Me=Cr(),Fe=Dr();ae.push({resourcesOid:Me,objectOid:Fe}),U.objectNumber=Fe;var Qe=[];Qe.push({key:"Type",value:"/Pattern"}),Qe.push({key:"PatternType",value:"1"}),Qe.push({key:"PaintType",value:"1"}),Qe.push({key:"TilingType",value:"1"}),Qe.push({key:"BBox",value:"["+U.boundingBox.map(S).join(" ")+"]"}),Qe.push({key:"XStep",value:S(U.xStep)}),Qe.push({key:"YStep",value:S(U.yStep)}),Qe.push({key:"Resources",value:Me+" 0 R"}),U.matrix&&Qe.push({key:"Matrix",value:"["+U.matrix.toString()+"]"}),xe({data:U.stream,additionalKeyValues:Qe,objectId:U.objectNumber}),se("endobj")},an=function(U){var ae;for(ae in _t)_t.hasOwnProperty(ae)&&(_t[ae]instanceof zp?nn(_t[ae]):_t[ae]instanceof j0&&hn(_t[ae],U))},cn=function(U){for(var ae in U.objectNumber=Dr(),se("<<"),U)switch(ae){case"opacity":se("/ca "+F(U[ae]));break;case"stroke-opacity":se("/CA "+F(U[ae]))}se(">>"),se("endobj")},tr=function(){var U;for(U in lt)lt.hasOwnProperty(U)&&cn(lt[U])},Or=function(){for(var U in se("/XObject <<"),ln)ln.hasOwnProperty(U)&&ln[U].objectNumber>=0&&se("/"+U+" "+ln[U].objectNumber+" 0 R");Mt.publish("putXobjectDict"),se(">>")},gr=function(){Tr.oid=Dr(),se("<<"),se("/Filter /Standard"),se("/V "+Tr.v),se("/R "+Tr.r),se("/U <"+Tr.toHexString(Tr.U)+">"),se("/O <"+Tr.toHexString(Tr.O)+">"),se("/P "+Tr.P),se(">>"),se("endobj")},Wr=function(){for(var U in se("/Font <<"),Ct)Ct.hasOwnProperty(U)&&(A===!1||A===!0&&f.hasOwnProperty(U))&&se("/"+U+" "+Ct[U].objectNumber+" 0 R");se(">>")},un=function(){if(Object.keys(_t).length>0){for(var U in se("/Shading <<"),_t)_t.hasOwnProperty(U)&&_t[U]instanceof zp&&_t[U].objectNumber>=0&&se("/"+U+" "+_t[U].objectNumber+" 0 R");Mt.publish("putShadingPatternDict"),se(">>")}},kt=function(U){if(Object.keys(_t).length>0){for(var ae in se("/Pattern <<"),_t)_t.hasOwnProperty(ae)&&_t[ae]instanceof h.TilingPattern&&_t[ae].objectNumber>=0&&_t[ae].objectNumber<U&&se("/"+ae+" "+_t[ae].objectNumber+" 0 R");Mt.publish("putTilingPatternDict"),se(">>")}},ps=function(){if(Object.keys(lt).length>0){var U;for(U in se("/ExtGState <<"),lt)lt.hasOwnProperty(U)&&lt[U].objectNumber>=0&&se("/"+U+" "+lt[U].objectNumber+" 0 R");Mt.publish("putGStateDict"),se(">>")}},Jt=function(U){Br(U.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Wr(),un(),kt(U.objectOid),ps(),Or(),se(">>"),se("endobj")},wr=function(){var U=[];Xe(),tr(),$t(),an(U),Mt.publish("putResources"),U.forEach(Jt),Jt({resourcesOid:$i,objectOid:Number.MAX_SAFE_INTEGER}),Mt.publish("postPutResources")},qs=function(){Mt.publish("putAdditionalObjects");for(var U=0;U<ve.length;U++){var ae=ve[U];Br(ae.objId,!0),se(ae.content),se("endobj")}Mt.publish("postPutAdditionalObjects")},Ns=function(U){Pe[U.fontName]=Pe[U.fontName]||{},Pe[U.fontName][U.fontStyle]=U.id},Kr=function(U,ae,Me,Fe,Qe){var it={id:"F"+(Object.keys(Ct).length+1).toString(10),postScriptName:U,fontName:ae,fontStyle:Me,encoding:Fe,isStandardFont:Qe||!1,metadata:{}};return Mt.publish("addFont",{font:it,instance:this}),Ct[it.id]=it,Ns(it),it.id},Rr=function(U){for(var ae=0,Me=z.length;ae<Me;ae++){var Fe=Kr.call(this,U[ae][0],U[ae][1],U[ae][2],z[ae][3],!0);A===!1&&(f[Fe]=!0);var Qe=U[ae][0].split("-");Ns({id:Fe,fontName:Qe[0],fontStyle:Qe[1]||""})}Mt.publish("addFonts",{fonts:Ct,dictionary:Pe})},ii=function(U){return U.foo=function(){try{return U.apply(this,arguments)}catch(Fe){var ae=Fe.stack||"";~ae.indexOf(" at ")&&(ae=ae.split(" at ")[1]);var Me="Error in function "+ae.split(`
`)[0].split("<")[0]+": "+Fe.message;if(!_n.console)throw new Error(Me);_n.console.error(Me,Fe),_n.alert&&alert(Me)}},U.foo.bar=U,U.foo},Eo=function(U,ae){var Me,Fe,Qe,it,vt,Lt,b,Q,Z;if(Qe=(ae=ae||{}).sourceEncoding||"Unicode",vt=ae.outputEncoding,(ae.autoencode||vt)&&Ct[Ze].metadata&&Ct[Ze].metadata[Qe]&&Ct[Ze].metadata[Qe].encoding&&(it=Ct[Ze].metadata[Qe].encoding,!vt&&Ct[Ze].encoding&&(vt=Ct[Ze].encoding),!vt&&it.codePages&&(vt=it.codePages[0]),typeof vt=="string"&&(vt=it[vt]),vt)){for(b=!1,Lt=[],Me=0,Fe=U.length;Me<Fe;Me++)(Q=vt[U.charCodeAt(Me)])?Lt.push(String.fromCharCode(Q)):Lt.push(U[Me]),Lt[Me].charCodeAt(0)>>8&&(b=!0);U=Lt.join("")}for(Me=U.length;b===void 0&&Me!==0;)U.charCodeAt(Me-1)>>8&&(b=!0),Me--;if(!b)return U;for(Lt=ae.noBOM?[]:[254,255],Me=0,Fe=U.length;Me<Fe;Me++){if((Z=(Q=U.charCodeAt(Me))>>8)>>8)throw new Error("Character at position "+Me+" of string '"+U+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Lt.push(Z),Lt.push(Q-(Z<<8))}return String.fromCharCode.apply(void 0,Lt)},Qn=h.__private__.pdfEscape=h.pdfEscape=function(U,ae){return Eo(U,ae).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Di=h.__private__.beginPage=function(U){Ee[++Et]=[],xt[Et]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(U[0]),topRightY:Number(U[1])}},MA(Et),_e(Ee[$])},Ei=function(U,ae){var Me,Fe,Qe;switch(n=ae||n,typeof U=="string"&&(Me=m(U.toLowerCase()),Array.isArray(Me)&&(Fe=Me[0],Qe=Me[1])),Array.isArray(U)&&(Fe=U[0]*ht,Qe=U[1]*ht),isNaN(Fe)&&(Fe=i[0],Qe=i[1]),(Fe>14400||Qe>14400)&&(Hr.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Fe=Math.min(14400,Fe),Qe=Math.min(14400,Qe)),i=[Fe,Qe],n.substr(0,1)){case"l":Qe>Fe&&(i=[Qe,Fe]);break;case"p":Fe>Qe&&(i=[Qe,Fe])}Di(i),IA(jc),se(gi),Jo!==0&&se(Jo+" J"),Xi!==0&&se(Xi+" j"),Mt.publish("addPage",{pageNumber:Et})},_l=function(U){U>0&&U<=Et&&(Ee.splice(U,1),xt.splice(U,1),Et--,$>Et&&($=Et),this.setPage($))},MA=function(U){U>0&&U<=Et&&($=U)},vr=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ee.length-1},Ko=function(U,ae,Me){var Fe,Qe=void 0;return Me=Me||{},U=U!==void 0?U:Ct[Ze].fontName,ae=ae!==void 0?ae:Ct[Ze].fontStyle,Fe=U.toLowerCase(),Pe[Fe]!==void 0&&Pe[Fe][ae]!==void 0?Qe=Pe[Fe][ae]:Pe[U]!==void 0&&Pe[U][ae]!==void 0?Qe=Pe[U][ae]:Me.disableWarning===!1&&Hr.warn("Unable to look up font label for font '"+U+"', '"+ae+"'. Refer to getFontList() for available fonts."),Qe||Me.noFallback||(Qe=Pe.times[ae])==null&&(Qe=Pe.times.normal),Qe},qo=h.__private__.putInfo=function(){var U=Dr(),ae=function(Fe){return Fe};for(var Me in u!==null&&(ae=Tr.encryptor(U,0)),se("<<"),se("/Producer ("+Qn(ae("jsPDF "+yn.version))+")"),bt)bt.hasOwnProperty(Me)&&bt[Me]&&se("/"+Me.substr(0,1).toUpperCase()+Me.substr(1)+" ("+Qn(ae(bt[Me]))+")");se("/CreationDate ("+Qn(ae(fe))+")"),se(">>"),se("endobj")},xa=h.__private__.putCatalog=function(U){var ae=(U=U||{}).rootDictionaryObjId||za;switch(Dr(),se("<<"),se("/Type /Catalog"),se("/Pages "+ae+" 0 R"),Be||(Be="fullwidth"),Be){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Me=""+Be;Me.substr(Me.length-1)==="%"&&(Be=parseInt(Be)/100),typeof Be=="number"&&se("/OpenAction [3 0 R /XYZ null null "+F(Be)+"]")}switch(nt||(nt="continuous"),nt){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}je&&se("/PageMode /"+je),Mt.publish("putCatalog"),se(">>"),se("endobj")},Ru=h.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(q+1)),se("/Root "+q+" 0 R"),se("/Info "+(q-1)+" 0 R"),u!==null&&se("/Encrypt "+Tr.oid+" 0 R"),se("/ID [ <"+ue+"> <"+ue+"> ]"),se(">>")},Gf=h.__private__.putHeader=function(){se("%PDF-"+p),se("%")},$d=h.__private__.putXRef=function(){var U="0000000000";se("xref"),se("0 "+(q+1)),se("0000000000 65535 f ");for(var ae=1;ae<=q;ae++)typeof W[ae]=="function"?se((U+W[ae]()).slice(-10)+" 00000 n "):W[ae]!==void 0?se((U+W[ae]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},So=h.__private__.buildDocument=function(){ye(),_e(ge),Mt.publish("buildDocument"),Gf(),Ye(),qs(),wr(),u!==null&&gr(),qo(),xa();var U=he;return $d(),Ru(),se("startxref"),se(""+U),se("%%EOF"),_e(Ee[$]),ge.join(`
`)},Zl=h.__private__.getBlob=function(U){return new Blob([be(U)],{type:"application/pdf"})},$o=h.output=h.__private__.output=ii(function(U,ae){switch(typeof(ae=ae||{})=="string"?ae={filename:ae}:ae.filename=ae.filename||"generated.pdf",U){case void 0:return So();case"save":h.save(ae.filename);break;case"arraybuffer":return be(So());case"blob":return Zl(So());case"bloburi":case"bloburl":if(_n.URL!==void 0&&typeof _n.URL.createObjectURL=="function")return _n.URL&&_n.URL.createObjectURL(Zl(So()))||void 0;Hr.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Me="",Fe=So();try{Me=OL(Fe)}catch{Me=OL(unescape(encodeURIComponent(Fe)))}return"data:application/pdf;filename="+ae.filename+";base64,"+Me;case"pdfobjectnewwindow":if(Object.prototype.toString.call(_n)==="[object Window]"){var Qe="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",it=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';ae.pdfObjectUrl&&(Qe=ae.pdfObjectUrl,it="");var vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Qe+'"'+it+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(ae)+");<\/script></body></html>",Lt=_n.open();return Lt!==null&&Lt.document.write(vt),Lt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(_n)==="[object Window]"){var b='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(ae.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+ae.filename+'" width="500px" height="400px" /></body></html>',Q=_n.open();if(Q!==null){Q.document.write(b);var Z=this;Q.document.documentElement.querySelector("#pdfViewer").onload=function(){Q.document.title=ae.filename,Q.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Z.output("bloburl"))}}return Q}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(_n)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var de='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",ae)+'"></iframe></body></html>',Oe=_n.open();if(Oe!==null&&(Oe.document.write(de),Oe.document.title=ae.filename),Oe||typeof safari>"u")return Oe;break;case"datauri":case"dataurl":return _n.document.location.href=this.output("datauristring",ae);default:return null}}),ec=function(U){return Array.isArray(vn)===!0&&vn.indexOf(U)>-1};switch(r){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=ec("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);ht=r}var Tr=null;re(),J();var zn=function(U){return u!==null?Tr.encryptor(U,0):function(ae){return ae}},Uu=h.__private__.getPageInfo=h.getPageInfo=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xt[U].objId,pageNumber:U,pageContext:xt[U]}},dn=h.__private__.getPageInfoByObjId=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var ae in xt)if(xt[ae].objId===U)break;return Uu(ae)},xl=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:xt[$].objId,pageNumber:$,pageContext:xt[$]}};h.addPage=function(){return Ei.apply(this,arguments),this},h.setPage=function(){return MA.apply(this,arguments),_e.call(this,Ee[$]),this},h.insertPage=function(U){return this.addPage(),this.movePage($,U),this},h.movePage=function(U,ae){var Me,Fe;if(U>ae){Me=Ee[U],Fe=xt[U];for(var Qe=U;Qe>ae;Qe--)Ee[Qe]=Ee[Qe-1],xt[Qe]=xt[Qe-1];Ee[ae]=Me,xt[ae]=Fe,this.setPage(ae)}else if(U<ae){Me=Ee[U],Fe=xt[U];for(var it=U;it<ae;it++)Ee[it]=Ee[it+1],xt[it]=xt[it+1];Ee[ae]=Me,xt[ae]=Fe,this.setPage(ae)}return this},h.deletePage=function(){return _l.apply(this,arguments),this},h.__private__.text=h.text=function(U,ae,Me,Fe,Qe){var it,vt,Lt,b,Q,Z,de,Oe,qe,gt=(Fe=Fe||{}).scope||this;if(typeof U=="number"&&typeof ae=="number"&&(typeof Me=="string"||Array.isArray(Me))){var pn=Me;Me=ae,ae=U,U=pn}if(arguments[3]instanceof St?(M("The transform parameter of text() with a Matrix value"),qe=Qe):(Lt=arguments[4],b=arguments[5],Nr(de=arguments[3])==="object"&&de!==null||(typeof Lt=="string"&&(b=Lt,Lt=null),typeof de=="string"&&(b=de,de=null),typeof de=="number"&&(Lt=de,de=null),Fe={flags:de,angle:Lt,align:b})),isNaN(ae)||isNaN(Me)||U==null)throw new Error("Invalid arguments passed to jsPDF.text");if(U.length===0)return gt;var jn="",bn=!1,ir=typeof Fe.lineHeightFactor=="number"?Fe.lineHeightFactor:nr,Un=gt.internal.scaleFactor;function ai(Kn){return Kn=Kn.split("	").join(Array(Fe.TabLen||9).join(" ")),Qn(Kn,de)}function Fn(Kn){for(var sr,$r=Kn.concat(),yi=[],cc=$r.length;cc--;)typeof(sr=$r.shift())=="string"?yi.push(sr):Array.isArray(Kn)&&(sr.length===1||sr[1]===void 0&&sr[2]===void 0)?yi.push(sr[0]):yi.push([sr[0],sr[1],sr[2]]);return yi}function Ga(Kn,sr){var $r;if(typeof Kn=="string")$r=sr(Kn)[0];else if(Array.isArray(Kn)){for(var yi,cc,Yf=Kn.concat(),DA=[],Jd=Yf.length;Jd--;)typeof(yi=Yf.shift())=="string"?DA.push(sr(yi)[0]):Array.isArray(yi)&&typeof yi[0]=="string"&&(cc=sr(yi[0],yi[1],yi[2]),DA.push([cc[0],cc[1],cc[2]]));$r=DA}return $r}var ki=!1,Wf=!0;if(typeof U=="string")ki=!0;else if(Array.isArray(U)){var Kf=U.concat();vt=[];for(var ku,Ji=Kf.length;Ji--;)(typeof(ku=Kf.shift())!="string"||Array.isArray(ku)&&typeof ku[0]!="string")&&(Wf=!1);ki=Wf}if(ki===!1)throw new Error('Type of text must be string or Array. "'+U+'" is not recognized.');typeof U=="string"&&(U=U.match(/[\r?\n]/)?U.split(/\r\n|\r|\n/g):[U]);var NA=te/gt.internal.scaleFactor,sc=NA*(ir-1);switch(Fe.baseline){case"bottom":Me-=sc;break;case"top":Me+=NA-sc;break;case"hanging":Me+=NA-2*sc;break;case"middle":Me+=NA/2-sc}if((Z=Fe.maxWidth||0)>0&&(typeof U=="string"?U=gt.splitTextToSize(U,Z):Object.prototype.toString.call(U)==="[object Array]"&&(U=U.reduce(function(Kn,sr){return Kn.concat(gt.splitTextToSize(sr,Z))},[]))),it={text:U,x:ae,y:Me,options:Fe,mutex:{pdfEscape:Qn,activeFontKey:Ze,fonts:Ct,activeFontSize:te}},Mt.publish("preProcessText",it),U=it.text,Lt=(Fe=it.options).angle,!(qe instanceof St)&&Lt&&typeof Lt=="number"){Lt*=Math.PI/180,Fe.rotationDirection===0&&(Lt=-Lt),_===w.ADVANCED&&(Lt=-Lt);var Tl=Math.cos(Lt),LA=Math.sin(Lt);qe=new St(Tl,LA,-LA,Tl,0,0)}else Lt&&Lt instanceof St&&(qe=Lt);_!==w.ADVANCED||qe||(qe=Sr),(Q=Fe.charSpace||Sl)!==void 0&&(jn+=S(D(Q))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Oe=Fe.horizontalScale)!==void 0&&(jn+=S(100*Oe)+` Tz
`),Fe.lang;var ms=-1,qf=Fe.renderingMode!==void 0?Fe.renderingMode:Fe.stroke,$f=gt.internal.getCurrentPageInfo().pageContext;switch(qf){case 0:case!1:case"fill":ms=0;break;case 1:case!0:case"stroke":ms=1;break;case 2:case"fillThenStroke":ms=2;break;case 3:case"invisible":ms=3;break;case 4:case"fillAndAddForClipping":ms=4;break;case 5:case"strokeAndAddPathForClipping":ms=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ms=6;break;case 7:case"addToPathForClipping":ms=7}var Yd=$f.usedRenderingMode!==void 0?$f.usedRenderingMode:-1;ms!==-1?jn+=ms+` Tr
`:Yd!==-1&&(jn+=`0 Tr
`),ms!==-1&&($f.usedRenderingMode=ms),b=Fe.align||"left";var Fs,FA=te*ir,Qu=gt.internal.pageSize.getWidth(),Ca=Ct[Ze];Q=Fe.charSpace||Sl,Z=Fe.maxWidth||0,de=Object.assign({autoencode:!0,noBOM:!0},Fe.flags);var Zo=[],el=function(Kn){return gt.getStringUnitWidth(Kn,{font:Ca,charSpace:Q,fontSize:te,doKerning:!1})*te/Un};if(Object.prototype.toString.call(U)==="[object Array]"){var oi;vt=Fn(U),b!=="left"&&(Fs=vt.map(el));var Rs,Po=0;if(b==="right"){ae-=Fs[0],U=[],Ji=vt.length;for(var ac=0;ac<Ji;ac++)ac===0?(Rs=Bo(ae),oi=yr(Me)):(Rs=D(Po-Fs[ac]),oi=-FA),U.push([vt[ac],Rs,oi]),Po=Fs[ac]}else if(b==="center"){ae-=Fs[0]/2,U=[],Ji=vt.length;for(var Ml=0;Ml<Ji;Ml++)Ml===0?(Rs=Bo(ae),oi=yr(Me)):(Rs=D((Po-Fs[Ml])/2),oi=-FA),U.push([vt[Ml],Rs,oi]),Po=Fs[Ml]}else if(b==="left"){U=[],Ji=vt.length;for(var _r=0;_r<Ji;_r++)U.push(vt[_r])}else if(b==="justify"&&Ca.encoding==="Identity-H"){U=[],Ji=vt.length,Z=Z!==0?Z:Qu;for(var tl=0,li=0;li<Ji;li++)if(oi=li===0?yr(Me):-FA,Rs=li===0?Bo(ae):tl,li<Ji-1){var RA=D((Z-Fs[li])/(vt[li].split(" ").length-1)),gs=vt[li].split(" ");U.push([gs[0]+" ",Rs,oi]),tl=0;for(var ci=1;ci<gs.length;ci++){var Il=(el(gs[ci-1]+" "+gs[ci])-el(gs[ci]))*Un+RA;ci==gs.length-1?U.push([gs[ci],Il,0]):U.push([gs[ci]+" ",Il,0]),tl-=Il}}else U.push([vt[li],Rs,oi]);U.push(["",tl,0])}else{if(b!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(U=[],Ji=vt.length,Z=Z!==0?Z:Qu,li=0;li<Ji;li++)oi=li===0?yr(Me):-FA,Rs=li===0?Bo(ae):0,li<Ji-1?Zo.push(S(D((Z-Fs[li])/(vt[li].split(" ").length-1)))):Zo.push(0),U.push([vt[li],Rs,oi])}}var kr=typeof Fe.R2L=="boolean"?Fe.R2L:Ke;kr===!0&&(U=Ga(U,function(Kn,sr,$r){return[Kn.split("").reverse().join(""),sr,$r]})),it={text:U,x:ae,y:Me,options:Fe,mutex:{pdfEscape:Qn,activeFontKey:Ze,fonts:Ct,activeFontSize:te}},Mt.publish("postProcessText",it),U=it.text,bn=it.mutex.isHex||!1;var Qi=Ct[Ze].encoding;Qi!=="WinAnsiEncoding"&&Qi!=="StandardEncoding"||(U=Ga(U,function(Kn,sr,$r){return[ai(Kn),sr,$r]})),vt=Fn(U),U=[];for(var qr,oc,nl,Pl=0,Xf=1,vi=Array.isArray(vt[0])?Xf:Pl,lc="",UA=function(Kn,sr,$r){var yi="";return $r instanceof St?($r=typeof Fe.angle=="number"?Ar($r,new St(1,0,0,1,Kn,sr)):Ar(new St(1,0,0,1,Kn,sr),$r),_===w.ADVANCED&&($r=Ar(new St(1,0,0,-1,0,0),$r)),yi=$r.join(" ")+` Tm
`):yi=S(Kn)+" "+S(sr)+` Td
`,yi},Wa=0;Wa<vt.length;Wa++){switch(lc="",vi){case Xf:nl=(bn?"<":"(")+vt[Wa][0]+(bn?">":")"),qr=parseFloat(vt[Wa][1]),oc=parseFloat(vt[Wa][2]);break;case Pl:nl=(bn?"<":"(")+vt[Wa]+(bn?">":")"),qr=Bo(ae),oc=yr(Me)}Zo!==void 0&&Zo[Wa]!==void 0&&(lc=Zo[Wa]+` Tw
`),Wa===0?U.push(lc+UA(qr,oc,qe)+nl):vi===Pl?U.push(lc+nl):vi===Xf&&U.push(lc+UA(qr,oc,qe)+nl)}U=vi===Pl?U.join(` Tj
T* `):U.join(` Tj
`),U+=` Tj
`;var Hi=`BT
/`;return Hi+=Ze+" "+te+` Tf
`,Hi+=S(te*ir)+` TL
`,Hi+=Mo+`
`,Hi+=jn,Hi+=U,se(Hi+="ET"),f[Ze]=!0,gt};var Xd=h.__private__.clip=h.clip=function(U){return se(U==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return Xd("evenodd")},h.__private__.discardPath=h.discardPath=function(){return se("n"),this};var Xo=h.__private__.isValidStyle=function(U){var ae=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(U)!==-1&&(ae=!0),ae};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(U){return Xo(U)&&(c=U),this};var si=h.__private__.getStyle=h.getStyle=function(U){var ae=c;switch(U){case"D":case"S":ae="S";break;case"F":ae="f";break;case"FD":case"DF":ae="B";break;case"f":case"f*":case"B":case"B*":ae=U}return ae},ba=h.close=function(){return se("h"),this};h.stroke=function(){return se("S"),this},h.fill=function(U){return Du("f",U),this},h.fillEvenOdd=function(U){return Du("f*",U),this},h.fillStroke=function(U){return Du("B",U),this},h.fillStrokeEvenOdd=function(U){return Du("B*",U),this};var Du=function(U,ae){Nr(ae)==="object"?bl(ae,U):se(U)},zc=function(U){U===null||_===w.ADVANCED&&U===void 0||(U=si(U),se(U))};function Ou(U,ae,Me,Fe,Qe){var it=new j0(ae||this.boundingBox,Me||this.xStep,Fe||this.yStep,this.gState,Qe||this.matrix);it.stream=this.stream;var vt=U+"$$"+this.cloneIndex+++"$$";return Gr(vt,it),it}var bl=function(U,ae){var Me=Ft[U.key],Fe=_t[Me];if(Fe instanceof zp)se("q"),se(Ea(ae)),Fe.gState&&h.setGState(Fe.gState),se(U.matrix.toString()+" cm"),se("/"+Me+" sh"),se("Q");else if(Fe instanceof j0){var Qe=new St(1,0,0,-1,0,Ls());U.matrix&&(Qe=Qe.multiply(U.matrix||Sr),Me=Ou.call(Fe,U.key,U.boundingBox,U.xStep,U.yStep,Qe).id),se("q"),se("/Pattern cs"),se("/"+Me+" scn"),Fe.gState&&h.setGState(Fe.gState),se(ae),se("Q")}},Ea=function(U){switch(U){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},El=h.moveTo=function(U,ae){return se(S(D(U))+" "+S(X(ae))+" m"),this},Co=h.lineTo=function(U,ae){return se(S(D(U))+" "+S(X(ae))+" l"),this},Oi=h.curveTo=function(U,ae,Me,Fe,Qe,it){return se([S(D(U)),S(X(ae)),S(D(Me)),S(X(Fe)),S(D(Qe)),S(X(it)),"c"].join(" ")),this};h.__private__.line=h.line=function(U,ae,Me,Fe,Qe){if(isNaN(U)||isNaN(ae)||isNaN(Me)||isNaN(Fe)||!Xo(Qe))throw new Error("Invalid arguments passed to jsPDF.line");return _===w.COMPAT?this.lines([[Me-U,Fe-ae]],U,ae,[1,1],Qe||"S"):this.lines([[Me-U,Fe-ae]],U,ae,[1,1]).stroke()},h.__private__.lines=h.lines=function(U,ae,Me,Fe,Qe,it){var vt,Lt,b,Q,Z,de,Oe,qe,gt,pn,jn,bn;if(typeof U=="number"&&(bn=Me,Me=ae,ae=U,U=bn),Fe=Fe||[1,1],it=it||!1,isNaN(ae)||isNaN(Me)||!Array.isArray(U)||!Array.isArray(Fe)||!Xo(Qe)||typeof it!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(El(ae,Me),vt=Fe[0],Lt=Fe[1],Q=U.length,pn=ae,jn=Me,b=0;b<Q;b++)(Z=U[b]).length===2?(pn=Z[0]*vt+pn,jn=Z[1]*Lt+jn,Co(pn,jn)):(de=Z[0]*vt+pn,Oe=Z[1]*Lt+jn,qe=Z[2]*vt+pn,gt=Z[3]*Lt+jn,pn=Z[4]*vt+pn,jn=Z[5]*Lt+jn,Oi(de,Oe,qe,gt,pn,jn));return it&&ba(),zc(Qe),this},h.path=function(U){for(var ae=0;ae<U.length;ae++){var Me=U[ae],Fe=Me.c;switch(Me.op){case"m":El(Fe[0],Fe[1]);break;case"l":Co(Fe[0],Fe[1]);break;case"c":Oi.apply(this,Fe);break;case"h":ba()}}return this},h.__private__.rect=h.rect=function(U,ae,Me,Fe,Qe){if(isNaN(U)||isNaN(ae)||isNaN(Me)||isNaN(Fe)||!Xo(Qe))throw new Error("Invalid arguments passed to jsPDF.rect");return _===w.COMPAT&&(Fe=-Fe),se([S(D(U)),S(X(ae)),S(D(Me)),S(D(Fe)),"re"].join(" ")),zc(Qe),this},h.__private__.triangle=h.triangle=function(U,ae,Me,Fe,Qe,it,vt){if(isNaN(U)||isNaN(ae)||isNaN(Me)||isNaN(Fe)||isNaN(Qe)||isNaN(it)||!Xo(vt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Me-U,Fe-ae],[Qe-Me,it-Fe],[U-Qe,ae-it]],U,ae,[1,1],vt,!0),this},h.__private__.roundedRect=h.roundedRect=function(U,ae,Me,Fe,Qe,it,vt){if(isNaN(U)||isNaN(ae)||isNaN(Me)||isNaN(Fe)||isNaN(Qe)||isNaN(it)||!Xo(vt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Lt=4/3*(Math.SQRT2-1);return Qe=Math.min(Qe,.5*Me),it=Math.min(it,.5*Fe),this.lines([[Me-2*Qe,0],[Qe*Lt,0,Qe,it-it*Lt,Qe,it],[0,Fe-2*it],[0,it*Lt,-Qe*Lt,it,-Qe,it],[2*Qe-Me,0],[-Qe*Lt,0,-Qe,-it*Lt,-Qe,-it],[0,2*it-Fe],[0,-it*Lt,Qe*Lt,-it,Qe,-it]],U+Qe,ae,[1,1],vt,!0),this},h.__private__.ellipse=h.ellipse=function(U,ae,Me,Fe,Qe){if(isNaN(U)||isNaN(ae)||isNaN(Me)||isNaN(Fe)||!Xo(Qe))throw new Error("Invalid arguments passed to jsPDF.ellipse");var it=4/3*(Math.SQRT2-1)*Me,vt=4/3*(Math.SQRT2-1)*Fe;return El(U+Me,ae),Oi(U+Me,ae-vt,U+it,ae-Fe,U,ae-Fe),Oi(U-it,ae-Fe,U-Me,ae-vt,U-Me,ae),Oi(U-Me,ae+vt,U-it,ae+Fe,U,ae+Fe),Oi(U+it,ae+Fe,U+Me,ae+vt,U+Me,ae),zc(Qe),this},h.__private__.circle=h.circle=function(U,ae,Me,Fe){if(isNaN(U)||isNaN(ae)||isNaN(Me)||!Xo(Fe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(U,ae,Me,Me,Fe)},h.setFont=function(U,ae,Me){return Me&&(ae=L(ae,Me)),Ze=Ko(U,ae,{disableWarning:!1}),this};var Sa=h.__private__.getFont=h.getFont=function(){return Ct[Ko.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var U,ae,Me={};for(U in Pe)if(Pe.hasOwnProperty(U))for(ae in Me[U]=[],Pe[U])Pe[U].hasOwnProperty(ae)&&Me[U].push(ae);return Me},h.addFont=function(U,ae,Me,Fe,Qe){var it=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&it.indexOf(arguments[3])!==-1?Qe=arguments[3]:arguments[3]&&it.indexOf(arguments[3])==-1&&(Me=L(Me,Fe)),Qe=Qe||"Identity-H",Kr.call(this,U,ae,Me,Qe)};var nr,jc=t.lineWidth||.200025,Gc=h.__private__.getLineWidth=h.getLineWidth=function(){return jc},IA=h.__private__.setLineWidth=h.setLineWidth=function(U){return jc=U,se(S(D(U))+" w"),this};h.__private__.setLineDash=yn.API.setLineDash=yn.API.setLineDashPattern=function(U,ae){if(U=U||[],ae=ae||0,isNaN(ae)||!Array.isArray(U))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return U=U.map(function(Me){return S(D(Me))}).join(" "),ae=S(D(ae)),se("["+U+"] "+ae+" d"),this};var $s=h.__private__.getLineHeight=h.getLineHeight=function(){return te*nr};h.__private__.getLineHeight=h.getLineHeight=function(){return te*nr};var PA=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(U){return typeof(U=U||1.15)=="number"&&(nr=U),this},Yo=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return nr};PA(t.lineHeight);var Bo=h.__private__.getHorizontalCoordinate=function(U){return D(U)},yr=h.__private__.getVerticalCoordinate=function(U){return _===w.ADVANCED?U:xt[$].mediaBox.topRightY-xt[$].mediaBox.bottomLeftY-D(U)},Wc=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(U){return S(Bo(U))},To=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(U){return S(yr(U))},gi=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Ks(gi)},h.__private__.setStrokeColor=h.setDrawColor=function(U,ae,Me,Fe){return gi=Is({ch1:U,ch2:ae,ch3:Me,ch4:Fe,pdfColorType:"draw",precision:2}),se(gi),this};var tc=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Ks(tc)},h.__private__.setFillColor=h.setFillColor=function(U,ae,Me,Fe){return tc=Is({ch1:U,ch2:ae,ch3:Me,ch4:Fe,pdfColorType:"fill",precision:2}),se(tc),this};var Mo=t.textColor||"0 g",Kc=h.__private__.getTextColor=h.getTextColor=function(){return Ks(Mo)};h.__private__.setTextColor=h.setTextColor=function(U,ae,Me,Fe){return Mo=Is({ch1:U,ch2:ae,ch3:Me,ch4:Fe,pdfColorType:"text",precision:3}),this};var Sl=t.charSpace,nc=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(Sl||0)};h.__private__.setCharSpace=h.setCharSpace=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Sl=U,this};var Jo=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(U){var ae=h.CapJoinStyles[U];if(ae===void 0)throw new Error("Line cap style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Jo=ae,se(ae+" J"),this};var Xi=0;h.__private__.setLineJoin=h.setLineJoin=function(U){var ae=h.CapJoinStyles[U];if(ae===void 0)throw new Error("Line join style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xi=ae,se(ae+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(U){if(U=U||0,isNaN(U))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(S(D(U))+" M"),this},h.GState=vC,h.setGState=function(U){(U=typeof U=="string"?lt[Le[U]]:Yi(null,U)).equals(Bt)||(se("/"+U.id+" gs"),Bt=U)};var Yi=function(U,ae){if(!U||!Le[U]){var Me=!1;for(var Fe in lt)if(lt.hasOwnProperty(Fe)&&lt[Fe].equals(ae)){Me=!0;break}if(Me)ae=lt[Fe];else{var Qe="GS"+(Object.keys(lt).length+1).toString(10);lt[Qe]=ae,ae.id=Qe}return U&&(Le[U]=ae.id),Mt.publish("addGState",ae),ae}};h.addGState=function(U,ae){return Yi(U,ae),this},h.saveGraphicsState=function(){return se("q"),ut.push({key:Ze,size:te,color:Mo}),this},h.restoreGraphicsState=function(){se("Q");var U=ut.pop();return Ze=U.key,te=U.size,Mo=U.color,Bt=null,this},h.setCurrentTransformationMatrix=function(U){return se(U.toString()+" cm"),this},h.comment=function(U){return se("#"+U),this};var Xs=function(U,ae){var Me=U||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Me},set:function(it){isNaN(it)||(Me=parseFloat(it))}});var Fe=ae||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Fe},set:function(it){isNaN(it)||(Fe=parseFloat(it))}});var Qe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Qe},set:function(it){Qe=it.toString()}}),this},rc=function(U,ae,Me,Fe){Xs.call(this,U,ae),this.type="rect";var Qe=Me||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Qe},set:function(vt){isNaN(vt)||(Qe=parseFloat(vt))}});var it=Fe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return it},set:function(vt){isNaN(vt)||(it=parseFloat(vt))}}),this},ic=function(){this.page=Et,this.currentPage=$,this.pages=Ee.slice(0),this.pagesContext=xt.slice(0),this.x=Gt,this.y=Nt,this.matrix=Qt,this.width=Cl($),this.height=Ls($),this.outputDestination=Te,this.id="",this.objectNumber=-1};ic.prototype.restore=function(){Et=this.page,$=this.currentPage,xt=this.pagesContext,Ee=this.pages,Gt=this.x,Nt=this.y,Qt=this.matrix,Bl($,this.width),qc($,this.height),Te=this.outputDestination};var Ys=function(U,ae,Me,Fe,Qe){Gn.push(new ic),Et=$=0,Ee=[],Gt=U,Nt=ae,Qt=Qe,Di([Me,Fe])},Io=function(U){if(Tn[U])Gn.pop().restore();else{var ae=new ic,Me="Xo"+(Object.keys(ln).length+1).toString(10);ae.id=Me,Tn[U]=Me,ln[Me]=ae,Mt.publish("addFormObject",ae),Gn.pop().restore()}};for(var ja in h.beginFormObject=function(U,ae,Me,Fe,Qe){return Ys(U,ae,Me,Fe,Qe),this},h.endFormObject=function(U){return Io(U),this},h.doFormObject=function(U,ae){var Me=ln[Tn[U]];return se("q"),se(ae.toString()+" cm"),se("/"+Me.id+" Do"),se("Q"),this},h.getFormObject=function(U){var ae=ln[Tn[U]];return{x:ae.x,y:ae.y,width:ae.width,height:ae.height,matrix:ae.matrix}},h.save=function(U,ae){return U=U||"generated.pdf",(ae=ae||{}).returnPromise=ae.returnPromise||!1,ae.returnPromise===!1?(kp(Zl(So()),U),typeof kp.unload=="function"&&_n.setTimeout&&setTimeout(kp.unload,911),this):new Promise(function(Me,Fe){try{var Qe=kp(Zl(So()),U);typeof kp.unload=="function"&&_n.setTimeout&&setTimeout(kp.unload,911),Me(Qe)}catch(it){Fe(it.message)}})},yn.API)yn.API.hasOwnProperty(ja)&&(ja==="events"&&yn.API.events.length?function(U,ae){var Me,Fe,Qe;for(Qe=ae.length-1;Qe!==-1;Qe--)Me=ae[Qe][0],Fe=ae[Qe][1],U.subscribe.apply(U,[Me].concat(typeof Fe=="function"?[Fe]:Fe))}(Mt,yn.API.events):h[ja]=yn.API[ja]);var Cl=h.getPageWidth=function(U){return(xt[U=U||$].mediaBox.topRightX-xt[U].mediaBox.bottomLeftX)/ht},Bl=h.setPageWidth=function(U,ae){xt[U].mediaBox.topRightX=ae*ht+xt[U].mediaBox.bottomLeftX},Ls=h.getPageHeight=function(U){return(xt[U=U||$].mediaBox.topRightY-xt[U].mediaBox.bottomLeftY)/ht},qc=h.setPageHeight=function(U,ae){xt[U].mediaBox.topRightY=ae*ht+xt[U].mediaBox.bottomLeftY};return h.internal={pdfEscape:Qn,getStyle:si,getFont:Sa,getFontSize:ke,getCharSpace:nc,getTextColor:Kc,getLineHeight:$s,getLineHeightFactor:Yo,getLineWidth:Gc,write:ze,getHorizontalCoordinate:Bo,getVerticalCoordinate:yr,getCoordinateString:Wc,getVerticalCoordinateString:To,collections:{},newObject:Dr,newAdditionalObject:bo,newObjectDeferred:Cr,newObjectDeferredBegin:Br,getFilters:Ps,putStream:xe,events:Mt,scaleFactor:ht,pageSize:{getWidth:function(){return Cl($)},setWidth:function(U){Bl($,U)},getHeight:function(){return Ls($)},setHeight:function(U){qc($,U)}},encryptionOptions:u,encryption:Tr,getEncryptor:zn,output:$o,getNumberOfPages:vr,pages:Ee,out:se,f2:F,f3:P,getPageInfo:Uu,getPageInfoByObjId:dn,getCurrentPageInfo:xl,getPDFVersion:y,Point:Xs,Rectangle:rc,Matrix:St,hasHotfix:ec},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return Cl($)},set:function(U){Bl($,U)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return Ls($)},set:function(U){qc($,U)},enumerable:!0,configurable:!0}),Rr.call(h,z),Ze="F1",Ei(i,n),Mt.publish("initialized"),h}d0.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},d0.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},d0.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},d0.prototype.processOwnerPassword=function(t,e){return QL(kL(e).substr(0,5),t)},d0.prototype.encryptor=function(t,e){var n=kL(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return QL(n,r)}},vC.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||Nr(t)!==Nr(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},yn.API={events:[]},yn.version="3.0.1";var Gi=yn.API,LD=1,ag=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},o0=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},In=function(t){return t.toFixed(2)},xh=function(t){return t.toFixed(5)};Gi.__acroform__={};var wl=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Rz=function(t){return t*LD},qu=function(t){var e=new Hne,n=en.internal.getHeight(t)||0,r=en.internal.getWidth(t)||0;return e.BBox=[0,0,Number(In(r)),Number(In(n))],e},J4e=Gi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},Z4e=Gi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},eUe=Gi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ls=Gi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return eUe(t,e-1)},cs=Gi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return J4e(t,e-1)},us=Gi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Z4e(t,e-1)},tUe=Gi.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(In(l.lowerLeft_X)),Number(In(l.lowerLeft_Y)),Number(In(l.upperRight_X)),Number(In(l.upperRight_Y))]},nUe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=HL(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+In(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=qu(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},HL=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var s=n,a=en.internal.getHeight(t)||0;a=a<0?-a:a;var o=en.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(P,D,H){if(P+1<i.length){var X=D+" "+i[P+1][0];return HE(X,t,H).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,u,A=HE("3",t,s).height,f=t.multiline?a-s:(a-A)/2,h=f+=2,p=0,y=0,v=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+HE(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var m="",w=0,_=0;_<i.length;_++)if(i.hasOwnProperty(_)){var B=!1;if(i[_].length!==1&&v!==i[_].length-1){if((A+2)*(w+2)+2>a)continue e;m+=i[_][v],B=!0,y=_,_--}else{m=(m+=i[_][v]+" ").substr(m.length-1)==" "?m.substr(0,m.length-1):m;var R=parseInt(_),L=l(R,m,s),S=_>=i.length-1;if(L&&!S){m+=" ",v=0;continue}if(L||S){if(S)y=R;else if(t.multiline&&(A+2)*(w+2)+2>a)continue e}else{if(!t.multiline||(A+2)*(w+2)+2>a)continue e;y=R}}for(var M="",T=p;T<=y;T++){var F=i[T];if(t.multiline){if(T===y){M+=F[v]+" ",v=(v+1)%F.length;continue}if(T===p){M+=F[F.length-1]+" ";continue}}M+=F[0]+" "}switch(M=M.substr(M.length-1)==" "?M.substr(0,M.length-1):M,u=HE(M,t,s).width,t.textAlign){case"right":c=o-u-2;break;case"center":c=(o-u)/2;break;case"left":default:c=2}e+=In(c)+" "+In(h)+` Td
`,e+="("+ag(M)+`) Tj
`,e+=-In(c)+` 0 Td
`,h=-(s+2),u=0,p=B?y:y+1,w++,m=""}break}return r.text=e,r.fontSize=s,r},HE=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},rUe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},iUe=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},sUe=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),Nr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},aUe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(Lu.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(rUe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");LD=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new Vne,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&iUe(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=tUe(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=en.createDefaultAppearanceStream(o),Nr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var u=nUe(o);l.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(o.appearanceStreamContent){var A="";for(var f in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(f)){var h=o.appearanceStreamContent[f];if(A+="/"+f+" ",A+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var p=h[a];typeof p=="function"&&(p=p.call(i,o)),A+="/"+a+" "+p+" ",i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p)}}else typeof(p=h)=="function"&&(p=p.call(i,o)),A+="/"+a+" "+p,i.internal.acroformPlugin.xForms.indexOf(p)>=0||i.internal.acroformPlugin.xForms.push(p);A+=">>"}l.push({key:"AP",value:`<<
`+A+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&sUe(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},Qne=Gi.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),Nr(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+ag(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},sP=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+ag(r(t))+")"},eA=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};eA.prototype.toString=function(){return this.objId+" 0 R"},eA.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},eA.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:Qne(i,this.objId,this.scope)}):i instanceof eA?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var Hne=function(){eA.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};wl(Hne,eA);var Vne=function(){eA.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+ag(n(t))+")"}},set:function(n){t=n}})};wl(Vne,eA);var Lu=function t(){eA.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute F supplied.');e=m}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ls(e,3)},set:function(m){m?this.F=cs(e,3):this.F=us(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(m){if(isNaN(m))throw new Error('Invalid value "'+m+'" for attribute Ff supplied.');n=m}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(m){r=m!==void 0?m:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(m){r[0]=m}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(m){r[1]=m}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(m){r[2]=m}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(m){r[3]=m}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(m){switch(m){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=m;break;default:throw new Error('Invalid value "'+m+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof yC)return;s="FieldObject"+t.FieldNum++}var m=function(w){return w};return this.scope&&(m=this.scope.internal.getEncryptor(this.objId)),"("+ag(m(s))+")"},set:function(m){s=m.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(m){s=m}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(m){a=m}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(m){o=m}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(m){l=m}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/LD:c},set:function(m){c=m}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(m){u=m}});var A="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!A||this instanceof yC||this instanceof ym))return sP(A,this.objId,this.scope)},set:function(m){m=m.toString(),A=m}});var f=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof da?f:sP(f,this.objId,this.scope)},set:function(m){m=m.toString(),f=this instanceof da?m:m.substr(0,1)==="("?o0(m.substr(1,m.length-2)):o0(m)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof da?o0(f.substr(1,f.length-1)):f},set:function(m){m=m.toString(),f=this instanceof da?"/"+m:m}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(m){this.V=m}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof da?h:sP(h,this.objId,this.scope)},set:function(m){m=m.toString(),h=this instanceof da?m:m.substr(0,1)==="("?o0(m.substr(1,m.length-2)):o0(m)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof da?o0(h.substr(1,h.length-1)):h},set:function(m){m=m.toString(),h=this instanceof da?"/"+m:m}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var p,y=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return y},set:function(m){m=!!m,y=m}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(p)return p},set:function(m){p=m}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,1)},set:function(m){m?this.Ff=cs(this.Ff,1):this.Ff=us(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,2)},set:function(m){m?this.Ff=cs(this.Ff,2):this.Ff=us(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,3)},set:function(m){m?this.Ff=cs(this.Ff,3):this.Ff=us(this.Ff,3)}});var v=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(v!==null)return v},set:function(m){if([0,1,2].indexOf(m)===-1)throw new Error('Invalid value "'+m+'" for attribute Q supplied.');v=m}}),Object.defineProperty(this,"textAlign",{get:function(){var m;switch(v){case 0:default:m="left";break;case 1:m="center";break;case 2:m="right"}return m},configurable:!0,enumerable:!0,set:function(m){switch(m){case"right":case 2:v=2;break;case"center":case 1:v=1;break;case"left":case 0:default:v=0}}})};wl(Lu,eA);var nv=function(){Lu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return Qne(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,18)},set:function(n){n?this.Ff=cs(this.Ff,18):this.Ff=us(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=cs(this.Ff,19):this.Ff=us(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,20)},set:function(n){n?(this.Ff=cs(this.Ff,20),e.sort()):this.Ff=us(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,22)},set:function(n){n?this.Ff=cs(this.Ff,22):this.Ff=us(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,23)},set:function(n){n?this.Ff=cs(this.Ff,23):this.Ff=us(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,27)},set:function(n){n?this.Ff=cs(this.Ff,27):this.Ff=us(this.Ff,27)}}),this.hasAppearanceStream=!1};wl(nv,Lu);var rv=function(){nv.call(this),this.fontName="helvetica",this.combo=!1};wl(rv,nv);var iv=function(){rv.call(this),this.combo=!0};wl(iv,rv);var S2=function(){iv.call(this),this.edit=!0};wl(S2,iv);var da=function(){Lu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,15)},set:function(n){n?this.Ff=cs(this.Ff,15):this.Ff=us(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,16)},set:function(n){n?this.Ff=cs(this.Ff,16):this.Ff=us(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,17)},set:function(n){n?this.Ff=cs(this.Ff,17):this.Ff=us(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,26)},set:function(n){n?this.Ff=cs(this.Ff,26):this.Ff=us(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+ag(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){Nr(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};wl(da,Lu);var C2=function(){da.call(this),this.pushButton=!0};wl(C2,da);var sv=function(){da.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};wl(sv,da);var yC=function(){var t,e;Lu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+ag(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){Nr(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=en.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};wl(yC,Lu),sv.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},sv.prototype.createOption=function(t){var e=new yC;return e.Parent=this,e.optionName=t,this.Kids.push(e),oUe.call(this.scope,e),e};var B2=function(){da.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=en.CheckBox.createAppearanceStream()};wl(B2,da);var ym=function(){Lu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,13)},set:function(e){e?this.Ff=cs(this.Ff,13):this.Ff=us(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,21)},set:function(e){e?this.Ff=cs(this.Ff,21):this.Ff=us(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,23)},set:function(e){e?this.Ff=cs(this.Ff,23):this.Ff=us(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,24)},set:function(e){e?this.Ff=cs(this.Ff,24):this.Ff=us(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,25)},set:function(e){e?this.Ff=cs(this.Ff,25):this.Ff=us(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,26)},set:function(e){e?this.Ff=cs(this.Ff,26):this.Ff=us(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};wl(ym,Lu);var T2=function(){ym.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ls(this.Ff,14)},set:function(t){t?this.Ff=cs(this.Ff,14):this.Ff=us(this.Ff,14)}}),this.password=!0};wl(T2,ym);var en={CheckBox:{createAppearanceStream:function(){return{N:{On:en.CheckBox.YesNormal},D:{On:en.CheckBox.YesPushDown,Off:en.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=qu(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=HL(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+In(en.internal.getWidth(t))+" "+In(en.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+In(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=qu(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=en.internal.getHeight(t),a=en.internal.getWidth(t),o=HL(t,t.caption);return i.push("1 g"),i.push("0 0 "+In(a)+" "+In(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+In(a-1)+" "+In(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+In(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=qu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+In(en.internal.getWidth(t))+" "+In(en.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:en.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=en.RadioButton.Circle.YesNormal,e.D[t]=en.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=qu(t);e.scope=t.scope;var n=[],r=en.internal.getWidth(t)<=en.internal.getHeight(t)?en.internal.getWidth(t)/4:en.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=en.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+xh(en.internal.getWidth(t)/2)+" "+xh(en.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=qu(t);e.scope=t.scope;var n=[],r=en.internal.getWidth(t)<=en.internal.getHeight(t)?en.internal.getWidth(t)/4:en.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*en.internal.Bezier_C).toFixed(5)),a=Number((r*en.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+xh(en.internal.getWidth(t)/2)+" "+xh(en.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+xh(en.internal.getWidth(t)/2)+" "+xh(en.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=qu(t);e.scope=t.scope;var n=[],r=en.internal.getWidth(t)<=en.internal.getHeight(t)?en.internal.getWidth(t)/4:en.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*en.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+xh(en.internal.getWidth(t)/2)+" "+xh(en.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:en.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=en.RadioButton.Cross.YesNormal,e.D[t]=en.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=qu(t);e.scope=t.scope;var n=[],r=en.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+In(en.internal.getWidth(t)-2)+" "+In(en.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(In(r.x1.x)+" "+In(r.x1.y)+" m"),n.push(In(r.x2.x)+" "+In(r.x2.y)+" l"),n.push(In(r.x4.x)+" "+In(r.x4.y)+" m"),n.push(In(r.x3.x)+" "+In(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=qu(t);e.scope=t.scope;var n=en.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+In(en.internal.getWidth(t))+" "+In(en.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+In(en.internal.getWidth(t)-2)+" "+In(en.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(In(n.x1.x)+" "+In(n.x1.y)+" m"),r.push(In(n.x2.x)+" "+In(n.x2.y)+" l"),r.push(In(n.x4.x)+" "+In(n.x4.y)+" m"),r.push(In(n.x3.x)+" "+In(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=qu(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+In(en.internal.getWidth(t))+" "+In(en.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};en.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=en.internal.getWidth(t),n=en.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},en.internal.getWidth=function(t){var e=0;return Nr(t)==="object"&&(e=Rz(t.Rect[2])),e},en.internal.getHeight=function(t){var e=0;return Nr(t)==="object"&&(e=Rz(t.Rect[3])),e};var oUe=Gi.addField=function(t){if(aUe(this,t),!(t instanceof Lu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Gi.AcroFormChoiceField=nv,Gi.AcroFormListBox=rv,Gi.AcroFormComboBox=iv,Gi.AcroFormEditBox=S2,Gi.AcroFormButton=da,Gi.AcroFormPushButton=C2,Gi.AcroFormRadioButton=sv,Gi.AcroFormCheckBox=B2,Gi.AcroFormTextField=ym,Gi.AcroFormPasswordField=T2,Gi.AcroFormAppearance=en,Gi.AcroForm={ChoiceField:nv,ListBox:rv,ComboBox:iv,EditBox:S2,Button:da,PushButton:C2,RadioButton:sv,CheckBox:B2,TextField:ym,PasswordField:T2,Appearance:en},yn.AcroForm={ChoiceField:nv,ListBox:rv,ComboBox:iv,EditBox:S2,Button:da,PushButton:C2,RadioButton:sv,CheckBox:B2,TextField:ym,PasswordField:T2,Appearance:en};yn.AcroForm;function zne(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(P,D){var H,X,fe,ue,me,J=e;if((D=D||e)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(L(P))for(me in n)for(fe=n[me],H=0;H<fe.length;H+=1){for(ue=!0,X=0;X<fe[H].length;X+=1)if(fe[H][X]!==void 0&&fe[H][X]!==P[X]){ue=!1;break}if(ue===!0){J=me;break}}else for(me in n)for(fe=n[me],H=0;H<fe.length;H+=1){for(ue=!0,X=0;X<fe[H].length;X+=1)if(fe[H][X]!==void 0&&fe[H][X]!==P.charCodeAt(X)){ue=!1;break}if(ue===!0){J=me;break}}return J===e&&D!==e&&(J=D),J},i=function P(D){for(var H=this.internal.write,X=this.internal.putStream,fe=(0,this.internal.getFilters)();fe.indexOf("FlateEncode")!==-1;)fe.splice(fe.indexOf("FlateEncode"),1);D.objectId=this.internal.newObject();var ue=[];if(ue.push({key:"Type",value:"/XObject"}),ue.push({key:"Subtype",value:"/Image"}),ue.push({key:"Width",value:D.width}),ue.push({key:"Height",value:D.height}),D.colorSpace===v.INDEXED?ue.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(D.palette.length/3-1)+" "+("sMask"in D&&D.sMask!==void 0?D.objectId+2:D.objectId+1)+" 0 R]"}):(ue.push({key:"ColorSpace",value:"/"+D.colorSpace}),D.colorSpace===v.DEVICE_CMYK&&ue.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ue.push({key:"BitsPerComponent",value:D.bitsPerComponent}),"decodeParameters"in D&&D.decodeParameters!==void 0&&ue.push({key:"DecodeParms",value:"<<"+D.decodeParameters+">>"}),"transparency"in D&&Array.isArray(D.transparency)){for(var me="",J=0,le=D.transparency.length;J<le;J++)me+=D.transparency[J]+" "+D.transparency[J]+" ";ue.push({key:"Mask",value:"["+me+"]"})}D.sMask!==void 0&&ue.push({key:"SMask",value:D.objectId+1+" 0 R"});var ee=D.filter!==void 0?["/"+D.filter]:void 0;if(X({data:D.data,additionalKeyValues:ue,alreadyAppliedFilters:ee,objectId:D.objectId}),H("endobj"),"sMask"in D&&D.sMask!==void 0){var re="/Predictor "+D.predictor+" /Colors 1 /BitsPerComponent "+D.bitsPerComponent+" /Columns "+D.width,k={width:D.width,height:D.height,colorSpace:"DeviceGray",bitsPerComponent:D.bitsPerComponent,decodeParameters:re,data:D.sMask};"filter"in D&&(k.filter=D.filter),P.call(this,k)}if(D.colorSpace===v.INDEXED){var $=this.internal.newObject();X({data:M(new Uint8Array(D.palette)),objectId:$}),H("endobj")}},s=function(){var P=this.internal.collections.addImage_images;for(var D in P)i.call(this,P[D])},a=function(){var P,D=this.internal.collections.addImage_images,H=this.internal.write;for(var X in D)H("/I"+(P=D[X]).index,P.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var P=this.internal.collections.addImage_images;return o.call(this),P},c=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(P){return typeof t["process"+P.toUpperCase()]=="function"},A=function(P){return Nr(P)==="object"&&P.nodeType===1},f=function(P,D){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var H=""+P.getAttribute("src");if(H.indexOf("data:image/")===0)return cw(unescape(H).split("base64,").pop());var X=t.loadFile(H,!0);if(X!==void 0)return X}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var fe;switch(D){case"PNG":fe="image/png";break;case"WEBP":fe="image/webp";break;case"JPEG":case"JPG":default:fe="image/jpeg"}return cw(P.toDataURL(fe,1).split("base64,").pop())}},h=function(P){var D=this.internal.collections.addImage_images;if(D){for(var H in D)if(P===D[H].alias)return D[H]}},p=function(P,D,H){return P||D||(P=-96,D=-96),P<0&&(P=-1*H.width*72/P/this.internal.scaleFactor),D<0&&(D=-1*H.height*72/D/this.internal.scaleFactor),P===0&&(P=D*H.width/H.height),D===0&&(D=P*H.height/H.width),[P,D]},y=function(P,D,H,X,fe,ue){var me=p.call(this,H,X,fe),J=this.internal.getCoordinateString,le=this.internal.getVerticalCoordinateString,ee=l.call(this);if(H=me[0],X=me[1],ee[fe.index]=fe,ue){ue*=Math.PI/180;var re=Math.cos(ue),k=Math.sin(ue),$=function(G){return G.toFixed(4)},j=[$(re),$(k),$(-1*k),$(re),0,0,"cm"]}this.internal.write("q"),ue?(this.internal.write([1,"0","0",1,J(P),le(D+X),"cm"].join(" ")),this.internal.write(j.join(" ")),this.internal.write([J(H),"0","0",J(X),"0","0","cm"].join(" "))):this.internal.write([J(H),"0","0",J(X),J(P),le(D+X),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+fe.index+" Do"),this.internal.write("Q")},v=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var m=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(P){var D,H,X=0;if(typeof P=="string")for(H=P.length,D=0;D<H;D++)X=(X<<5)-X+P.charCodeAt(D),X|=0;else if(L(P))for(H=P.byteLength/2,D=0;D<H;D++)X=(X<<5)-X+P[D],X|=0;return X},_=t.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var D=!0;return P.length===0&&(D=!1),P.length%4!=0&&(D=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(D=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(D=!1),D},B=t.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var D=P.indexOf(",");return D<0?null:P.substring(0,D).trim().endsWith("base64")?P.substring(D+1):null},R=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(P){return R()&&P instanceof ArrayBuffer};var L=t.__addimage__.isArrayBufferView=function(P){return R()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},S=t.__addimage__.binaryStringToUint8Array=function(P){for(var D=P.length,H=new Uint8Array(D),X=0;X<D;X++)H[X]=P.charCodeAt(X);return H},M=t.__addimage__.arrayBufferToBinaryString=function(P){for(var D="",H=L(P)?P:new Uint8Array(P),X=0;X<H.length;X+=8192)D+=String.fromCharCode.apply(null,H.subarray(X,X+8192));return D};t.addImage=function(){var P,D,H,X,fe,ue,me,J,le;if(typeof arguments[1]=="number"?(D=e,H=arguments[1],X=arguments[2],fe=arguments[3],ue=arguments[4],me=arguments[5],J=arguments[6],le=arguments[7]):(D=arguments[1],H=arguments[2],X=arguments[3],fe=arguments[4],ue=arguments[5],me=arguments[6],J=arguments[7],le=arguments[8]),Nr(P=arguments[0])==="object"&&!A(P)&&"imageData"in P){var ee=P;P=ee.imageData,D=ee.format||D||e,H=ee.x||H||0,X=ee.y||X||0,fe=ee.w||ee.width||fe,ue=ee.h||ee.height||ue,me=ee.alias||me,J=ee.compression||J,le=ee.rotation||ee.angle||le}var re=this.internal.getFilters();if(J===void 0&&re.indexOf("FlateEncode")!==-1&&(J="SLOW"),isNaN(H)||isNaN(X))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var k=T.call(this,P,D,me,J);return y.call(this,H,X,fe,ue,k,le),this};var T=function(P,D,H,X){var fe,ue,me;if(typeof P=="string"&&r(P)===e){P=unescape(P);var J=F(P,!1);(J!==""||(J=t.loadFile(P,!0))!==void 0)&&(P=J)}if(A(P)&&(P=f(P,D)),D=r(P,D),!u(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(((me=H)==null||me.length===0)&&(H=function(le){return typeof le=="string"||L(le)?w(le):L(le.data)?w(le.data):null}(P)),(fe=h.call(this,H))||(R()&&(P instanceof Uint8Array||D==="RGBA"||(ue=P,P=S(P))),fe=this["process"+D.toUpperCase()](P,c.call(this),H,function(le){return le&&typeof le=="string"&&(le=le.toUpperCase()),le in t.image_compression?le:m.NONE}(X),ue)),!fe)throw new Error("An unknown error occurred whilst processing the image.");return fe},F=t.__addimage__.convertBase64ToBinaryString=function(P,D){D=typeof D!="boolean"||D;var H,X="";if(typeof P=="string"){var fe;H=(fe=B(P))!==null&&fe!==void 0?fe:P;try{X=cw(H)}catch(ue){if(D)throw _(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ue.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return X};t.getImageProperties=function(P){var D,H,X="";if(A(P)&&(P=f(P)),typeof P=="string"&&r(P)===e&&((X=F(P,!1))===""&&(X=t.loadFile(P)||""),P=X),H=r(P),!u(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(!R()||P instanceof Uint8Array||(P=S(P)),!(D=this["process"+H.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return D.fileType=H,D}})(yn.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};yn.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,u=!1,A=0;A<c.length&&!u;A++)switch((r=c[A]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var f=0;f<c.length;f++){r=c[f];var h=this.internal.pdfEscape,p=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var y=this.internal.newAdditionalObject(),v=this.internal.newAdditionalObject(),m=this.internal.getEncryptor(y.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+h(m(r.contents))+")",s+=" /Popup "+v.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(m(w))+") >>",y.content=s;var _=y.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+_,r.open&&(s+=" /Open true"),s+=" >>",v.content=s,this.internal.write(y.objId,"0 R",v.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var B=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(p(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var R=this.annotations._nameMap[r.options.name];r.options.pageNumber=R.page,r.options.top=R.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(p(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var L=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+L+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var u=this.splitTextToSize(n,o).length;a=Math.ceil(c*u)}else o=l,a=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,o,a,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(yn.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(y){return e[y.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(y){return typeof y=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(y)},o=t.__arabicParser__.isArabicEndLetter=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(y){return a(y)&&i.indexOf(y.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(y){return a(y)&&s(y)&&e[y.charCodeAt(0)].length==4},A=t.__arabicParser__.resolveLigatures=function(y){var v=0,m=n,w="",_=0;for(v=0;v<y.length;v+=1)m[y.charCodeAt(v)]!==void 0?(_++,typeof(m=m[y.charCodeAt(v)])=="number"&&(w+=String.fromCharCode(m),m=n,_=0),v===y.length-1&&(m=n,w+=y.charAt(v-(_-1)),v-=_-1,_=0)):(m=n,w+=y.charAt(v-_),v-=_,_=0);return w};t.__arabicParser__.isArabicDiacritic=function(y){return y!==void 0&&r[y.charCodeAt(0)]!==void 0};var f=t.__arabicParser__.getCorrectForm=function(y,v,m){return a(y)?s(y)===!1?-1:!c(y)||!a(v)&&!a(m)||!a(m)&&o(v)||o(y)&&!a(v)||o(y)&&l(v)||o(y)&&o(v)?0:u(y)&&a(v)&&!o(v)&&a(m)&&c(m)?3:o(y)||!a(m)?1:2:-1},h=function(y){var v=0,m=0,w=0,_="",B="",R="",L=(y=y||"").split("\\s+"),S=[];for(v=0;v<L.length;v+=1){for(S.push(""),m=0;m<L[v].length;m+=1)_=L[v][m],B=L[v][m-1],R=L[v][m+1],a(_)?(w=f(_,B,R),S[v]+=w!==-1?String.fromCharCode(e[_.charCodeAt(0)][w]):_):S[v]+=_;S[v]=A(S[v])}return S.join(" ")},p=t.__arabicParser__.processArabic=t.processArabic=function(){var y,v=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,m=[];if(Array.isArray(v)){var w=0;for(m=[],w=0;w<v.length;w+=1)Array.isArray(v[w])?m.push([h(v[w][0]),v[w][1],v[w][2]]):m.push([h(v[w])]);y=m}else y=h(v);return typeof arguments[0]=="string"?y:(arguments[0].text=y,arguments[0])};t.events.push(["preProcessText",p])}(yn.API),yn.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(yn.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(y){l=y}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(y){c=y}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(y){u=y}});var A=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return A},set:function(y){A=y}});var f=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return f},set:function(y){f=y}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(y){h=y}});var p=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return p},set:function(y){p=y}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var u=(c=c||{}).fontSize||this.getFontSize(),A=c.font||this.getFont(),f=c.scaleFactor||this.internal.scaleFactor,h=0,p=0,y=0,v=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var m=c.maxWidth;m>0?typeof l=="string"?l=this.splitTextToSize(l,m):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(_,B){return _.concat(v.splitTextToSize(B,m))},[])):l=Array.isArray(l)?l:[l];for(var w=0;w<l.length;w++)h<(y=this.getStringUnitWidth(l[w],{font:A})*u)&&(h=y);return h!==0&&(p=l.length),{w:h/=f,h:Math.max((p*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/f,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,A=this.internal.__cell__.margins||e,f=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+A.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=A.top,h&&f&&(this.printHeaderRow(l.lineNumber,!0),l.y+=f[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-u,l.y+u,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+u,{align:"center",baseline:"top",maxWidth:l.width-u-u}):this.text(l.text,l.x+u,l.y+u,{align:"left",baseline:"top",maxWidth:l.width-u-u})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,u,A,f){if(r.call(this),!u)throw new Error("No data for PDF table.");var h,p,y,v,m=[],w=[],_=[],B={},R={},L=[],S=[],M=(f=f||{}).autoSize||!1,T=f.printHeaders!==!1,F=f.css&&f.css["font-size"]!==void 0?16*f.css["font-size"]:f.fontSize||12,P=f.margins||Object.assign({width:this.getPageWidth()},e),D=typeof f.padding=="number"?f.padding:3,H=f.headerBackgroundColor||"#c8c8c8",X=f.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=T,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=D,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=X,this.setFontSize(F),A==null)w=m=Object.keys(u[0]),_=m.map(function(){return"left"});else if(Array.isArray(A)&&Nr(A[0])==="object")for(m=A.map(function(ee){return ee.name}),w=A.map(function(ee){return ee.prompt||ee.name||""}),_=A.map(function(ee){return ee.align||"left"}),h=0;h<A.length;h+=1)R[A[h].name]=A[h].width*(19.049976/25.4);else Array.isArray(A)&&typeof A[0]=="string"&&(w=m=A,_=m.map(function(){return"left"}));if(M||Array.isArray(A)&&typeof A[0]=="string")for(h=0;h<m.length;h+=1){for(B[v=m[h]]=u.map(function(ee){return ee[v]}),this.setFont(void 0,"bold"),L.push(this.getTextDimensions(w[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),p=B[v],this.setFont(void 0,"normal"),y=0;y<p.length;y+=1)L.push(this.getTextDimensions(p[y],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);R[v]=Math.max.apply(null,L)+D+D,L=[]}if(T){var fe={};for(h=0;h<m.length;h+=1)fe[m[h]]={},fe[m[h]].text=w[h],fe[m[h]].align=_[h];var ue=o.call(this,fe,R);S=m.map(function(ee){return new s(l,c,R[ee],ue,fe[ee].text,void 0,fe[ee].align)}),this.setTableHeaderRow(S),this.printHeaderRow(1,!1)}var me=A.reduce(function(ee,re){return ee[re.name]=re.align,ee},{});for(h=0;h<u.length;h+=1){"rowStart"in f&&f.rowStart instanceof Function&&f.rowStart({row:h,data:u[h]},this);var J=o.call(this,u[h],R);for(y=0;y<m.length;y+=1){var le=u[h][m[y]];"cellStart"in f&&f.cellStart instanceof Function&&f.cellStart({row:h,col:y,data:le},this),a.call(this,new s(l,c,R[m[y]],J,le,h+2,me[m[y]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var u=this.internal.__cell__.padding,A=this.internal.__cell__.table_font_size,f=this.internal.scaleFactor;return Object.keys(l).map(function(h){var p=l[h];return this.splitTextToSize(p.hasOwnProperty("text")?p.text:p,c[h]-u-u)},this).map(function(h){return this.getLineHeightFactor()*h.length*A/f+u+u},this).reduce(function(h,p){return Math.max(h,p)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var A=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(A[0],A[1],A[2],A[3],void 0,-1)}this.setFont(void 0,"bold");for(var f=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){u=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(u.y=this.internal.__cell__.margins.top||0,f.push(u)),u.lineNumber=l;var p=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,u),this.setTextColor(p)}f.length>0&&this.setTableHeaderRow(f),this.setFont(void 0,"normal"),n=!1}}(yn.API);var jne={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Gne=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],VL=zne(Gne),Wne=[100,200,300,400,500,600,700,800,900],lUe=zne(Wne);function zL(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return jne[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof VL[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Uz(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var cUe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Dz={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Oz(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function uUe(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},cUe,n.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=zL(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[r]))throw new Error("Could not find a font-family for the rule '"+Oz(s)+"' and default family '"+r+"'.");if(a=function(l,c){if(c[l])return c[l];var u=VL[l],A=u<=VL.normal?-1:1,f=Uz(c,Gne,u,A);if(!f)throw new Error("Could not find a matching font-stretch value for "+l);return f}(s.stretch,a),a=function(l,c){if(c[l])return c[l];for(var u=jne[l],A=0;A<u.length;++A)if(c[u[A]])return c[u[A]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var u=lUe[l],A=Uz(c,Wne,u,l<400?-1:1);if(!A)throw new Error("Could not find a matching font-weight for value "+l);return A}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+Oz(s)+"'.");return a}function kz(t){return t.trimLeft()}function AUe(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function fUe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var VE,Qz,Hz,aP=["times"];(function(t){var e,n,r,i,s,a,o,l,c,u=function(k){return k=k||{},this.isStrokeTransparent=k.isStrokeTransparent||!1,this.strokeOpacity=k.strokeOpacity||1,this.strokeStyle=k.strokeStyle||"#000000",this.fillStyle=k.fillStyle||"#000000",this.isFillTransparent=k.isFillTransparent||!1,this.fillOpacity=k.fillOpacity||1,this.font=k.font||"10px sans-serif",this.textBaseline=k.textBaseline||"alphabetic",this.textAlign=k.textAlign||"left",this.lineWidth=k.lineWidth||1,this.lineJoin=k.lineJoin||"miter",this.lineCap=k.lineCap||"butt",this.path=k.path||[],this.transform=k.transform!==void 0?k.transform.clone():new l,this.globalCompositeOperation=k.globalCompositeOperation||"normal",this.globalAlpha=k.globalAlpha||1,this.clip_path=k.clip_path||[],this.currentPoint=k.currentPoint||new a,this.miterLimit=k.miterLimit||10,this.lastPoint=k.lastPoint||new a,this.lineDashOffset=k.lineDashOffset||0,this.lineDash=k.lineDash||[],this.margin=k.margin||[0,0,0,0],this.prevPageLastElemOffset=k.prevPageLastElemOffset||0,this.ignoreClearRect=typeof k.ignoreClearRect!="boolean"||k.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new A(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new u}]);var A=function(k){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=k;Object.defineProperty(this,"pdf",{get:function(){return $}});var j=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return j},set:function(_e){j=!!_e}});var G=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return G},set:function(_e){G=!!_e}});var q=0;Object.defineProperty(this,"posX",{get:function(){return q},set:function(_e){isNaN(_e)||(q=_e)}});var W=0;Object.defineProperty(this,"posY",{get:function(){return W},set:function(_e){isNaN(_e)||(W=_e)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(_e){var se;typeof _e=="number"?se=[_e,_e,_e,_e]:((se=new Array(4))[0]=_e[0],se[1]=_e.length>=2?_e[1]:se[0],se[2]=_e.length>=3?_e[2]:se[0],se[3]=_e.length>=4?_e[3]:se[1]),c.margin=se}});var ge=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ge},set:function(_e){ge=_e}});var he=0;Object.defineProperty(this,"lastBreak",{get:function(){return he},set:function(_e){he=_e}});var ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ve},set:function(_e){ve=_e}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(_e){_e instanceof u&&(c=_e)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(_e){c.path=_e}});var Ee=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ee},set:function(_e){Ee=_e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(_e){var se;se=f(_e),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(_e){var se=f(_e);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(_e){["butt","round","square"].indexOf(_e)!==-1&&(this.ctx.lineCap=_e,this.pdf.setLineCap(_e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(_e){isNaN(_e)||(this.ctx.lineWidth=_e,this.pdf.setLineWidth(_e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(_e){["bevel","round","miter"].indexOf(_e)!==-1&&(this.ctx.lineJoin=_e,this.pdf.setLineJoin(_e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(_e){isNaN(_e)||(this.ctx.miterLimit=_e,this.pdf.setMiterLimit(_e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(_e){this.ctx.textBaseline=_e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(_e){["right","end","center","left","start"].indexOf(_e)!==-1&&(this.ctx.textAlign=_e)}});var ie=null;function Te(_e,se){if(ie===null){var ze=function(be){var z=[];return Object.keys(be).forEach(function(te){be[te].forEach(function(Be){var ke=null;switch(Be){case"bold":ke={family:te,weight:"bold"};break;case"italic":ke={family:te,style:"italic"};break;case"bolditalic":ke={family:te,weight:"bold",style:"italic"};break;case"":case"normal":ke={family:te}}ke!==null&&(ke.ref={name:te,style:Be},z.push(ke))})}),z}(_e.getFontList());ie=function(be){for(var z={},te=0;te<be.length;++te){var Be=zL(be[te]),ke=Be.family,Ke=Be.stretch,je=Be.style,ft=Be.weight;z[ke]=z[ke]||{},z[ke][Ke]=z[ke][Ke]||{},z[ke][Ke][je]=z[ke][Ke][je]||{},z[ke][Ke][je][ft]=Be}return z}(ze.concat(se))}return ie}var ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return ye},set:function(_e){ie=null,ye=_e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(_e){var se;if(this.ctx.font=_e,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(_e))!==null){var ze=se[1];se[2];var be=se[3],z=se[4];se[5];var te=se[6],Be=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(z)[2];z=Math.floor(Be==="px"?parseFloat(z)*this.pdf.internal.scaleFactor:Be==="em"?parseFloat(z)*this.pdf.getFontSize():parseFloat(z)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(z);var ke=function(bt){var Ze,ht,Gt=[],Nt=bt.trim();if(Nt==="")return aP;if(Nt in Dz)return[Dz[Nt]];for(;Nt!=="";){switch(ht=null,Ze=(Nt=kz(Nt)).charAt(0)){case'"':case"'":ht=AUe(Nt.substring(1),Ze);break;default:ht=fUe(Nt)}if(ht===null||(Gt.push(ht[0]),(Nt=kz(ht[1]))!==""&&Nt.charAt(0)!==","))return aP;Nt=Nt.replace(/^,/,"")}return Gt}(te);if(this.fontFaces){var Ke=uUe(Te(this.pdf,this.fontFaces),ke.map(function(bt){return{family:bt,stretch:"normal",weight:be,style:ze}}));this.pdf.setFont(Ke.ref.name,Ke.ref.style)}else{var je="";(be==="bold"||parseInt(be,10)>=700||ze==="bold")&&(je="bold"),ze==="italic"&&(je+="italic"),je.length===0&&(je="normal");for(var ft="",nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},ct=0;ct<ke.length;ct++){if(this.pdf.internal.getFont(ke[ct],je,{noFallback:!0,disableWarning:!0})!==void 0){ft=ke[ct];break}if(je==="bolditalic"&&this.pdf.internal.getFont(ke[ct],"bold",{noFallback:!0,disableWarning:!0})!==void 0)ft=ke[ct],je="bold";else if(this.pdf.internal.getFont(ke[ct],"normal",{noFallback:!0,disableWarning:!0})!==void 0){ft=ke[ct],je="normal";break}}if(ft===""){for(var Tt=0;Tt<ke.length;Tt++)if(nt[ke[Tt]]){ft=nt[ke[Tt]];break}}ft=ft===""?"Times":ft,this.pdf.setFont(ft,je)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(_e){this.ctx.globalCompositeOperation=_e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(_e){this.ctx.globalAlpha=_e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(_e){this.ctx.lineDashOffset=_e,re.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(_e){this.ctx.lineDash=_e,re.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(_e){this.ctx.ignoreClearRect=!!_e}})};A.prototype.setLineDash=function(k){this.lineDash=k},A.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},A.prototype.fill=function(){B.call(this,"fill",!1)},A.prototype.stroke=function(){B.call(this,"stroke",!1)},A.prototype.beginPath=function(){this.path=[{type:"begin"}]},A.prototype.moveTo=function(k,$){if(isNaN(k)||isNaN($))throw Hr.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var j=this.ctx.transform.applyToPoint(new a(k,$));this.path.push({type:"mt",x:j.x,y:j.y}),this.ctx.lastPoint=new a(k,$)},A.prototype.closePath=function(){var k=new a(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&Nr(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){k=new a(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(k.x,k.y)},A.prototype.lineTo=function(k,$){if(isNaN(k)||isNaN($))throw Hr.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var j=this.ctx.transform.applyToPoint(new a(k,$));this.path.push({type:"lt",x:j.x,y:j.y}),this.ctx.lastPoint=new a(j.x,j.y)},A.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},A.prototype.quadraticCurveTo=function(k,$,j,G){if(isNaN(j)||isNaN(G)||isNaN(k)||isNaN($))throw Hr.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var q=this.ctx.transform.applyToPoint(new a(j,G)),W=this.ctx.transform.applyToPoint(new a(k,$));this.path.push({type:"qct",x1:W.x,y1:W.y,x:q.x,y:q.y}),this.ctx.lastPoint=new a(q.x,q.y)},A.prototype.bezierCurveTo=function(k,$,j,G,q,W){if(isNaN(q)||isNaN(W)||isNaN(k)||isNaN($)||isNaN(j)||isNaN(G))throw Hr.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ge=this.ctx.transform.applyToPoint(new a(q,W)),he=this.ctx.transform.applyToPoint(new a(k,$)),ve=this.ctx.transform.applyToPoint(new a(j,G));this.path.push({type:"bct",x1:he.x,y1:he.y,x2:ve.x,y2:ve.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new a(ge.x,ge.y)},A.prototype.arc=function(k,$,j,G,q,W){if(isNaN(k)||isNaN($)||isNaN(j)||isNaN(G)||isNaN(q))throw Hr.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(W=!!W,!this.ctx.transform.isIdentity){var ge=this.ctx.transform.applyToPoint(new a(k,$));k=ge.x,$=ge.y;var he=this.ctx.transform.applyToPoint(new a(0,j)),ve=this.ctx.transform.applyToPoint(new a(0,0));j=Math.sqrt(Math.pow(he.x-ve.x,2)+Math.pow(he.y-ve.y,2))}Math.abs(q-G)>=2*Math.PI&&(G=0,q=2*Math.PI),this.path.push({type:"arc",x:k,y:$,radius:j,startAngle:G,endAngle:q,counterclockwise:W})},A.prototype.arcTo=function(k,$,j,G,q){throw new Error("arcTo not implemented.")},A.prototype.rect=function(k,$,j,G){if(isNaN(k)||isNaN($)||isNaN(j)||isNaN(G))throw Hr.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(k,$),this.lineTo(k+j,$),this.lineTo(k+j,$+G),this.lineTo(k,$+G),this.lineTo(k,$),this.lineTo(k+j,$),this.lineTo(k,$)},A.prototype.fillRect=function(k,$,j,G){if(isNaN(k)||isNaN($)||isNaN(j)||isNaN(G))throw Hr.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var q={};this.lineCap!=="butt"&&(q.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(q.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(k,$,j,G),this.fill(),q.hasOwnProperty("lineCap")&&(this.lineCap=q.lineCap),q.hasOwnProperty("lineJoin")&&(this.lineJoin=q.lineJoin)}},A.prototype.strokeRect=function(k,$,j,G){if(isNaN(k)||isNaN($)||isNaN(j)||isNaN(G))throw Hr.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");p.call(this)||(this.beginPath(),this.rect(k,$,j,G),this.stroke())},A.prototype.clearRect=function(k,$,j,G){if(isNaN(k)||isNaN($)||isNaN(j)||isNaN(G))throw Hr.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(k,$,j,G))},A.prototype.save=function(k){k=typeof k!="boolean"||k;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,j=0;j<this.pdf.internal.getNumberOfPages();j++)this.pdf.setPage(j+1),this.pdf.internal.out("q");if(this.pdf.setPage($),k){this.ctx.fontSize=this.pdf.internal.getFontSize();var G=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=G}},A.prototype.restore=function(k){k=typeof k!="boolean"||k;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,j=0;j<this.pdf.internal.getNumberOfPages();j++)this.pdf.setPage(j+1),this.pdf.internal.out("Q");this.pdf.setPage($),k&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},A.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var f=function(k){var $,j,G,q;if(k.isCanvasGradient===!0&&(k=k.getColor()),!k)return{r:0,g:0,b:0,a:0,style:k};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(k))$=0,j=0,G=0,q=0;else{var W=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(k);if(W!==null)$=parseInt(W[1]),j=parseInt(W[2]),G=parseInt(W[3]),q=1;else if((W=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(k))!==null)$=parseInt(W[1]),j=parseInt(W[2]),G=parseInt(W[3]),q=parseFloat(W[4]);else{if(q=1,typeof k=="string"&&k.charAt(0)!=="#"){var ge=new Dne(k);k=ge.ok?ge.toHex():"#000000"}k.length===4?($=k.substring(1,2),$+=$,j=k.substring(2,3),j+=j,G=k.substring(3,4),G+=G):($=k.substring(1,3),j=k.substring(3,5),G=k.substring(5,7)),$=parseInt($,16),j=parseInt(j,16),G=parseInt(G,16)}}return{r:$,g:j,b:G,a:q,style:k}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},p=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};A.prototype.fillText=function(k,$,j,G){if(isNaN($)||isNaN(j)||typeof k!="string")throw Hr.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(G=isNaN(G)?void 0:G,!h.call(this)){var q=J(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;D.call(this,{text:k,x:$,y:j,scale:W,angle:q,align:this.textAlign,maxWidth:G})}},A.prototype.strokeText=function(k,$,j,G){if(isNaN($)||isNaN(j)||typeof k!="string")throw Hr.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!p.call(this)){G=isNaN(G)?void 0:G;var q=J(this.ctx.transform.rotation),W=this.ctx.transform.scaleX;D.call(this,{text:k,x:$,y:j,scale:W,renderingMode:"stroke",angle:q,align:this.textAlign,maxWidth:G})}},A.prototype.measureText=function(k){if(typeof k!="string")throw Hr.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,j=this.pdf.internal.scaleFactor,G=$.internal.getFontSize(),q=$.getStringUnitWidth(k)*G/$.internal.scaleFactor,W=function(ge){var he=(ge=ge||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return he}}),this};return new W({width:q*=Math.round(96*j/72*1e4)/1e4})},A.prototype.scale=function(k,$){if(isNaN(k)||isNaN($))throw Hr.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var j=new l(k,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(j)},A.prototype.rotate=function(k){if(isNaN(k))throw Hr.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new l(Math.cos(k),Math.sin(k),-Math.sin(k),Math.cos(k),0,0);this.ctx.transform=this.ctx.transform.multiply($)},A.prototype.translate=function(k,$){if(isNaN(k)||isNaN($))throw Hr.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var j=new l(1,0,0,1,k,$);this.ctx.transform=this.ctx.transform.multiply(j)},A.prototype.transform=function(k,$,j,G,q,W){if(isNaN(k)||isNaN($)||isNaN(j)||isNaN(G)||isNaN(q)||isNaN(W))throw Hr.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ge=new l(k,$,j,G,q,W);this.ctx.transform=this.ctx.transform.multiply(ge)},A.prototype.setTransform=function(k,$,j,G,q,W){k=isNaN(k)?1:k,$=isNaN($)?0:$,j=isNaN(j)?0:j,G=isNaN(G)?1:G,q=isNaN(q)?0:q,W=isNaN(W)?0:W,this.ctx.transform=new l(k,$,j,G,q,W)};var y=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};A.prototype.drawImage=function(k,$,j,G,q,W,ge,he,ve){var Ee=this.pdf.getImageProperties(k),ie=1,Te=1,ye=1,_e=1;G!==void 0&&he!==void 0&&(ye=he/G,_e=ve/q,ie=Ee.width/G*he/G,Te=Ee.height/q*ve/q),W===void 0&&(W=$,ge=j,$=0,j=0),G!==void 0&&he===void 0&&(he=G,ve=q),G===void 0&&he===void 0&&(he=Ee.width,ve=Ee.height);for(var se,ze=this.ctx.transform.decompose(),be=J(ze.rotate.shx),z=new l,te=(z=(z=(z=z.multiply(ze.translate)).multiply(ze.skew)).multiply(ze.scale)).applyToRectangle(new o(W-$*ye,ge-j*_e,G*ie,q*Te)),Be=v.call(this,te),ke=[],Ke=0;Ke<Be.length;Ke+=1)ke.indexOf(Be[Ke])===-1&&ke.push(Be[Ke]);if(_(ke),this.autoPaging)for(var je=ke[0],ft=ke[ke.length-1],nt=je;nt<ft+1;nt++){this.pdf.setPage(nt);var ct=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Tt=nt===1?this.posY+this.margin[0]:this.margin[0],bt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ze=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=nt===1?0:bt+(nt-2)*Ze;if(this.ctx.clip_path.length!==0){var Gt=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(se,this.posX+this.margin[3],-ht+Tt+this.ctx.prevPageLastElemOffset),R.call(this,"fill",!0),this.path=Gt}var Nt=JSON.parse(JSON.stringify(te));Nt=w([Nt],this.posX+this.margin[3],-ht+Tt+this.ctx.prevPageLastElemOffset)[0];var Qt=(nt>je||nt<ft)&&y.call(this);Qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,Ze,null).clip().discardPath()),this.pdf.addImage(k,"JPEG",Nt.x,Nt.y,Nt.w,Nt.h,null,null,be),Qt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(k,"JPEG",te.x,te.y,te.w,te.h,null,null,be)};var v=function(k,$,j){var G=[];$=$||this.pdf.internal.pageSize.width,j=j||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var q=this.posY+this.ctx.prevPageLastElemOffset;switch(k.type){default:case"mt":case"lt":G.push(Math.floor((k.y+q)/j)+1);break;case"arc":G.push(Math.floor((k.y+q-k.radius)/j)+1),G.push(Math.floor((k.y+q+k.radius)/j)+1);break;case"qct":var W=le(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x,k.y);G.push(Math.floor((W.y+q)/j)+1),G.push(Math.floor((W.y+W.h+q)/j)+1);break;case"bct":var ge=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,k.x1,k.y1,k.x2,k.y2,k.x,k.y);G.push(Math.floor((ge.y+q)/j)+1),G.push(Math.floor((ge.y+ge.h+q)/j)+1);break;case"rect":G.push(Math.floor((k.y+q)/j)+1),G.push(Math.floor((k.y+k.h+q)/j)+1)}for(var he=0;he<G.length;he+=1)for(;this.pdf.internal.getNumberOfPages()<G[he];)m.call(this);return G},m=function(){var k=this.fillStyle,$=this.strokeStyle,j=this.font,G=this.lineCap,q=this.lineWidth,W=this.lineJoin;this.pdf.addPage(),this.fillStyle=k,this.strokeStyle=$,this.font=j,this.lineCap=G,this.lineWidth=q,this.lineJoin=W},w=function(k,$,j){for(var G=0;G<k.length;G++)switch(k[G].type){case"bct":k[G].x2+=$,k[G].y2+=j;case"qct":k[G].x1+=$,k[G].y1+=j;case"mt":case"lt":case"arc":default:k[G].x+=$,k[G].y+=j}return k},_=function(k){return k.sort(function($,j){return $-j})},B=function(k,$){for(var j,G,q=this.fillStyle,W=this.strokeStyle,ge=this.lineCap,he=this.lineWidth,ve=Math.abs(he*this.ctx.transform.scaleX),Ee=this.lineJoin,ie=JSON.parse(JSON.stringify(this.path)),Te=JSON.parse(JSON.stringify(this.path)),ye=[],_e=0;_e<Te.length;_e++)if(Te[_e].x!==void 0)for(var se=v.call(this,Te[_e]),ze=0;ze<se.length;ze+=1)ye.indexOf(se[ze])===-1&&ye.push(se[ze]);for(var be=0;be<ye.length;be++)for(;this.pdf.internal.getNumberOfPages()<ye[be];)m.call(this);if(_(ye),this.autoPaging)for(var z=ye[0],te=ye[ye.length-1],Be=z;Be<te+1;Be++){this.pdf.setPage(Be),this.fillStyle=q,this.strokeStyle=W,this.lineCap=ge,this.lineWidth=ve,this.lineJoin=Ee;var ke=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ke=Be===1?this.posY+this.margin[0]:this.margin[0],je=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ft=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],nt=Be===1?0:je+(Be-2)*ft;if(this.ctx.clip_path.length!==0){var ct=this.path;j=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(j,this.posX+this.margin[3],-nt+Ke+this.ctx.prevPageLastElemOffset),R.call(this,k,!0),this.path=ct}if(G=JSON.parse(JSON.stringify(ie)),this.path=w(G,this.posX+this.margin[3],-nt+Ke+this.ctx.prevPageLastElemOffset),$===!1||Be===0){var Tt=(Be>z||Be<te)&&y.call(this);Tt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ke,ft,null).clip().discardPath()),R.call(this,k,$),Tt&&this.pdf.restoreGraphicsState()}this.lineWidth=he}else this.lineWidth=ve,R.call(this,k,$),this.lineWidth=he;this.path=ie},R=function(k,$){if((k!=="stroke"||$||!p.call(this))&&(k==="stroke"||$||!h.call(this))){for(var j,G,q=[],W=this.path,ge=0;ge<W.length;ge++){var he=W[ge];switch(he.type){case"begin":q.push({begin:!0});break;case"close":q.push({close:!0});break;case"mt":q.push({start:he,deltas:[],abs:[]});break;case"lt":var ve=q.length;if(W[ge-1]&&!isNaN(W[ge-1].x)&&(j=[he.x-W[ge-1].x,he.y-W[ge-1].y],ve>0)){for(;ve>=0;ve--)if(q[ve-1].close!==!0&&q[ve-1].begin!==!0){q[ve-1].deltas.push(j),q[ve-1].abs.push(he);break}}break;case"bct":j=[he.x1-W[ge-1].x,he.y1-W[ge-1].y,he.x2-W[ge-1].x,he.y2-W[ge-1].y,he.x-W[ge-1].x,he.y-W[ge-1].y],q[q.length-1].deltas.push(j);break;case"qct":var Ee=W[ge-1].x+2/3*(he.x1-W[ge-1].x),ie=W[ge-1].y+2/3*(he.y1-W[ge-1].y),Te=he.x+2/3*(he.x1-he.x),ye=he.y+2/3*(he.y1-he.y),_e=he.x,se=he.y;j=[Ee-W[ge-1].x,ie-W[ge-1].y,Te-W[ge-1].x,ye-W[ge-1].y,_e-W[ge-1].x,se-W[ge-1].y],q[q.length-1].deltas.push(j);break;case"arc":q.push({deltas:[],abs:[],arc:!0}),Array.isArray(q[q.length-1].abs)&&q[q.length-1].abs.push(he)}}G=$?null:k==="stroke"?"stroke":"fill";for(var ze=!1,be=0;be<q.length;be++)if(q[be].arc)for(var z=q[be].abs,te=0;te<z.length;te++){var Be=z[te];Be.type==="arc"?M.call(this,Be.x,Be.y,Be.radius,Be.startAngle,Be.endAngle,Be.counterclockwise,void 0,$,!ze):H.call(this,Be.x,Be.y),ze=!0}else if(q[be].close===!0)this.pdf.internal.out("h"),ze=!1;else if(q[be].begin!==!0){var ke=q[be].start.x,Ke=q[be].start.y;X.call(this,q[be].deltas,ke,Ke),ze=!0}G&&T.call(this,G),$&&F.call(this)}},L=function(k){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,j=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return k-j;case"top":return k+$-j;case"hanging":return k+$-2*j;case"middle":return k+$/2-j;case"ideographic":return k;case"alphabetic":default:return k}},S=function(k){return k+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};A.prototype.createLinearGradient=function(){var k=function(){};return k.colorStops=[],k.addColorStop=function($,j){this.colorStops.push([$,j])},k.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},k.isCanvasGradient=!0,k},A.prototype.createPattern=function(){return this.createLinearGradient()},A.prototype.createRadialGradient=function(){return this.createLinearGradient()};var M=function(k,$,j,G,q,W,ge,he,ve){for(var Ee=ue.call(this,j,G,q,W),ie=0;ie<Ee.length;ie++){var Te=Ee[ie];ie===0&&(ve?P.call(this,Te.x1+k,Te.y1+$):H.call(this,Te.x1+k,Te.y1+$)),fe.call(this,k,$,Te.x2,Te.y2,Te.x3,Te.y3,Te.x4,Te.y4)}he?F.call(this):T.call(this,ge)},T=function(k){switch(k){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(k,$){this.pdf.internal.out(n(k)+" "+r($)+" m")},D=function(k){var $;switch(k.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var j=this.pdf.getTextDimensions(k.text),G=L.call(this,k.y),q=S.call(this,G)-j.h,W=this.ctx.transform.applyToPoint(new a(k.x,G)),ge=this.ctx.transform.decompose(),he=new l;he=(he=(he=he.multiply(ge.translate)).multiply(ge.skew)).multiply(ge.scale);for(var ve,Ee,ie,Te=this.ctx.transform.applyToRectangle(new o(k.x,G,j.w,j.h)),ye=he.applyToRectangle(new o(k.x,q,j.w,j.h)),_e=v.call(this,ye),se=[],ze=0;ze<_e.length;ze+=1)se.indexOf(_e[ze])===-1&&se.push(_e[ze]);if(_(se),this.autoPaging)for(var be=se[0],z=se[se.length-1],te=be;te<z+1;te++){this.pdf.setPage(te);var Be=te===1?this.posY+this.margin[0]:this.margin[0],ke=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ke=this.pdf.internal.pageSize.height-this.margin[2],je=Ke-this.margin[0],ft=this.pdf.internal.pageSize.width-this.margin[1],nt=ft-this.margin[3],ct=te===1?0:ke+(te-2)*je;if(this.ctx.clip_path.length!==0){var Tt=this.path;ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ve,this.posX+this.margin[3],-1*ct+Be),R.call(this,"fill",!0),this.path=Tt}var bt=w([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-ct+Be+this.ctx.prevPageLastElemOffset)[0];k.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*k.scale),ie=this.lineWidth,this.lineWidth=ie*k.scale);var Ze=this.autoPaging!=="text";if(Ze||bt.y+bt.h<=Ke){if(Ze||bt.y>=Be&&bt.x<=ft){var ht=Ze?k.text:this.pdf.splitTextToSize(k.text,k.maxWidth||ft-bt.x)[0],Gt=w([JSON.parse(JSON.stringify(Te))],this.posX+this.margin[3],-ct+Be+this.ctx.prevPageLastElemOffset)[0],Nt=Ze&&(te>be||te<z)&&y.call(this);Nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],nt,je,null).clip().discardPath()),this.pdf.text(ht,Gt.x,Gt.y,{angle:k.angle,align:$,renderingMode:k.renderingMode}),Nt&&this.pdf.restoreGraphicsState()}}else bt.y<Ke&&(this.ctx.prevPageLastElemOffset+=Ke-bt.y);k.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=ie)}else k.scale>=.01&&(Ee=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ee*k.scale),ie=this.lineWidth,this.lineWidth=ie*k.scale),this.pdf.text(k.text,W.x+this.posX,W.y+this.posY,{angle:k.angle,align:$,renderingMode:k.renderingMode,maxWidth:k.maxWidth}),k.scale>=.01&&(this.pdf.setFontSize(Ee),this.lineWidth=ie)},H=function(k,$,j,G){j=j||0,G=G||0,this.pdf.internal.out(n(k+j)+" "+r($+G)+" l")},X=function(k,$,j){return this.pdf.lines(k,$,j,null,null)},fe=function(k,$,j,G,q,W,ge,he){this.pdf.internal.out([e(i(j+k)),e(s(G+$)),e(i(q+k)),e(s(W+$)),e(i(ge+k)),e(s(he+$)),"c"].join(" "))},ue=function(k,$,j,G){for(var q=2*Math.PI,W=Math.PI/2;$>j;)$-=q;var ge=Math.abs(j-$);ge<q&&G&&(ge=q-ge);for(var he=[],ve=G?-1:1,Ee=$;ge>1e-5;){var ie=Ee+ve*Math.min(ge,W);he.push(me.call(this,k,Ee,ie)),ge-=Math.abs(ie-Ee),Ee=ie}return he},me=function(k,$,j){var G=(j-$)/2,q=k*Math.cos(G),W=k*Math.sin(G),ge=q,he=-W,ve=ge*ge+he*he,Ee=ve+ge*q+he*W,ie=4/3*(Math.sqrt(2*ve*Ee)-Ee)/(ge*W-he*q),Te=ge-ie*he,ye=he+ie*ge,_e=Te,se=-ye,ze=G+$,be=Math.cos(ze),z=Math.sin(ze);return{x1:k*Math.cos($),y1:k*Math.sin($),x2:Te*be-ye*z,y2:Te*z+ye*be,x3:_e*be-se*z,y3:_e*z+se*be,x4:k*Math.cos(j),y4:k*Math.sin(j)}},J=function(k){return 180*k/Math.PI},le=function(k,$,j,G,q,W){var ge=k+.5*(j-k),he=$+.5*(G-$),ve=q+.5*(j-q),Ee=W+.5*(G-W),ie=Math.min(k,q,ge,ve),Te=Math.max(k,q,ge,ve),ye=Math.min($,W,he,Ee),_e=Math.max($,W,he,Ee);return new o(ie,ye,Te-ie,_e-ye)},ee=function(k,$,j,G,q,W,ge,he){var ve,Ee,ie,Te,ye,_e,se,ze,be,z,te,Be,ke,Ke,je=j-k,ft=G-$,nt=q-j,ct=W-G,Tt=ge-q,bt=he-W;for(Ee=0;Ee<41;Ee++)be=(se=(ie=k+(ve=Ee/40)*je)+ve*((ye=j+ve*nt)-ie))+ve*(ye+ve*(q+ve*Tt-ye)-se),z=(ze=(Te=$+ve*ft)+ve*((_e=G+ve*ct)-Te))+ve*(_e+ve*(W+ve*bt-_e)-ze),Ee==0?(te=be,Be=z,ke=be,Ke=z):(te=Math.min(te,be),Be=Math.min(Be,z),ke=Math.max(ke,be),Ke=Math.max(Ke,z));return new o(Math.round(te),Math.round(Be),Math.round(ke-te),Math.round(Ke-Be))},re=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var k,$,j=(k=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:k,lineDashOffset:$}));this.prevLineDash!==j&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=j)}}})(yn.API),function(t){var e=function(s){var a,o,l,c,u,A,f,h,p,y;for(o=[],l=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(u=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(A=(u=((u=((u=((u=(u-(y=u%85))/85)-(p=u%85))/85)-(h=u%85))/85)-(f=u%85))/85)%85,o.push(A+33,f+33,h+33,p+33,y+33)):o.push(122);return function(v,m){for(var w=m;w>0;w--)v.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},n=function(s){var a,o,l,c,u,A=String,f="length",h=255,p="charCodeAt",y="slice",v="replace";for(s[y](-2),s=s[y](0,-2)[v](/\s/g,"")[v]("z","!!!!!"),l=[],c=0,u=(s+=a="uuuuu"[y](s[f]%5||5))[f];u>c;c+=5)o=52200625*(s[p](c)-33)+614125*(s[p](c+1)-33)+7225*(s[p](c+2)-33)+85*(s[p](c+3)-33)+(s[p](c+4)-33),l.push(h&o>>24,h&o>>16,h&o>>8,h&o);return function(m,w){for(var _=w;_>0;_--)m.pop()}(l,a[f]),A.fromCharCode.apply(A,l)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=DL(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(yn.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,u){var A=new XMLHttpRequest,f=0,h=function(p){var y=p.length,v=[],m=String.fromCharCode;for(f=0;f<y;f+=1)v.push(m(255&p.charCodeAt(f)));return v.join("")};if(A.open("GET",l,!c),A.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(A.onload=function(){A.status===200?u(h(this.responseText)):u(void 0)}),A.send(null),c&&A.status===200)return h(A.responseText)}(i,s,a)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(yn.API),function(t){function e(){return(_n.html2canvas?Promise.resolve(_n.html2canvas):wN(()=>Promise.resolve().then(()=>DSe),void 0)).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(_n.DOMPurify?Promise.resolve(_n.DOMPurify):wN(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var o=Nr(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,u){for(var A=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),f=c.firstChild;f;f=f.nextSibling)u!==!0&&f.nodeType===1&&f.nodeName==="SCRIPT"||A.appendChild(l(f,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(A.width=c.width,A.height=c.height,A.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(A.value=c.value),A.addEventListener("load",function(){A.scrollTop=c.scrollTop,A.scrollLeft=c.scrollLeft},!0)),A}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,A=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete A.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var f=0;f<c.length;++f){var h=c[f],p=h.src.find(function(y){return y.format==="truetype"});p&&l.addFont(p.url,h.ref.name,h.ref.style)}return A.windowHeight=A.windowHeight||0,A.windowHeight=A.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):A.windowHeight,l.context2d.save(!0),o(this.prop.container,A)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||yn.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,c){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,c){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(c,u){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(A){return l.updateProgress(null,c),A}).then(c,u).then(function(A){return l.updateProgress(1),A})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=l.call(c,a,o);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,yn.getPageSize=function(a,o,l){if(Nr(a)==="object"){var c=a;a=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var u,A=(""+l).toLowerCase(),f={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+o}var h,p=0,y=0;if(f.hasOwnProperty(A))p=f[A][1]/u,y=f[A][0]/u;else try{p=l[1],y=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",y>p&&(h=y,y=p,p=h);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",p>y&&(h=y,y=p,p=h)}return{width:y,height:p,unit:o,k:u,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(zL):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(yn.API),yn.API.addJS=function(t){return Hz=t,this.internal.events.subscribe("postPutResources",function(){VE=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(VE+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Qz=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Hz+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){VE!==void 0&&Qz!==void 0&&this.internal.out("/Names <</JavaScript "+VE+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,u=[];for(s=0;s<c;s++){var A=n.internal.newObject();u.push(A);var f=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+f.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(yn.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var l,c=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(A){for(var f,h=256*A.charCodeAt(4)+A.charCodeAt(5),p=A.length,y={width:0,height:0,numcomponents:1},v=4;v<p;v+=2){if(v+=h,e.indexOf(A.charCodeAt(v+1))!==-1){f=256*A.charCodeAt(v+5)+A.charCodeAt(v+6),y={width:256*A.charCodeAt(v+7)+A.charCodeAt(v+8),height:f,numcomponents:A.charCodeAt(v+9)};break}h=256*A.charCodeAt(v+2)+A.charCodeAt(v+3)}return y}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}u={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return u}}(yn.API);var l0,zE,Vz,zz,jz,hUe=function(){var t,e,n;function r(s){var a,o,l,c,u,A,f,h,p,y,v,m,w,_;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},A=null;;){switch(a=this.readUInt32(),p=(function(){var B,R;for(R=[],B=0;B<4;++B)R.push(String.fromCharCode(this.data[this.pos++]));return R}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":A&&this.animation.frames.push(A),this.pos+=4,A={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),c=this.readUInt16()||100,A.delay=1e3*u/c,A.disposeOp=this.data[this.pos++],A.blendOp=this.data[this.pos++],A.data=[];break;case"IDAT":case"fdAT":for(p==="fdAT"&&(this.pos+=4,a-=4),s=(A!=null?A.data:void 0)||this.imgData,m=0;0<=a?m<a:m>a;0<=a?++m:--m)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((y=l-this.transparency.indexed.length)>0)for(w=0;0<=y?w<y:w>y;0<=y?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":f=(v=this.read(a)).indexOf(0),h=String.fromCharCode.apply(String,v.slice(0,f)),this.text[h]=String.fromCharCode.apply(String,v.slice(f+1));break;case"IEND":return A&&this.animation.frames.push(A),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(_=this.colorType)===4||_===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(A,f,h,p){var y,v,m,w,_,B,R,L,S,M,T,F,P,D,H,X,fe,ue,me,J,le,ee=Math.ceil((c.width-A)/h),re=Math.ceil((c.height-f)/p),k=c.width==ee&&c.height==re;for(D=a*ee,F=k?o:new Uint8Array(D*re),B=s.length,P=0,v=0;P<re&&l<B;){switch(s[l++]){case 0:for(w=fe=0;fe<D;w=fe+=1)F[v++]=s[l++];break;case 1:for(w=ue=0;ue<D;w=ue+=1)y=s[l++],_=w<a?0:F[v-a],F[v++]=(y+_)%256;break;case 2:for(w=me=0;me<D;w=me+=1)y=s[l++],m=(w-w%a)/a,H=P&&F[(P-1)*D+m*a+w%a],F[v++]=(H+y)%256;break;case 3:for(w=J=0;J<D;w=J+=1)y=s[l++],m=(w-w%a)/a,_=w<a?0:F[v-a],H=P&&F[(P-1)*D+m*a+w%a],F[v++]=(y+Math.floor((_+H)/2))%256;break;case 4:for(w=le=0;le<D;w=le+=1)y=s[l++],m=(w-w%a)/a,_=w<a?0:F[v-a],P===0?H=X=0:(H=F[(P-1)*D+m*a+w%a],X=m&&F[(P-1)*D+(m-1)*a+w%a]),R=_+H-X,L=Math.abs(R-_),M=Math.abs(R-H),T=Math.abs(R-X),S=L<=M&&L<=T?_:M<=T?H:X,F[v++]=(y+S)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!k){var $=((f+P*p)*c.width+A)*a,j=P*D;for(w=0;w<ee;w+=1){for(var G=0;G<a;G+=1)o[$++]=F[j++];$+=(h-1)*a}}P++}}return s=G4e(s),c.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),o},r.prototype.decodePalette=function(){var s,a,o,l,c,u,A,f,h;for(o=this.palette,u=this.transparency.indexed||[],c=new Uint8Array((u.length||0)+o.length),l=0,s=0,a=A=0,f=o.length;A<f;a=A+=3)c[l++]=o[a],c[l++]=o[a+1],c[l++]=o[a+2],c[l++]=(h=u[s++])!=null?h:255;return c},r.prototype.copyToImageData=function(s,a){var o,l,c,u,A,f,h,p,y,v,m;if(l=this.colors,y=null,o=this.hasAlphaChannel,this.palette.length&&(y=(m=this._decodedPalette)!=null?m:this._decodedPalette=this.decodePalette(),l=4,o=!0),p=(c=s.data||s).length,A=y||a,u=f=0,l===1)for(;u<p;)h=y?4*a[u/4]:f,v=A[h++],c[u++]=v,c[u++]=v,c[u++]=v,c[u++]=o?A[h++]:255,f=h;else for(;u<p;)h=y?4*a[u/4]:f,c[u++]=A[h++],c[u++]=A[h++],c[u++]=A[h++],c[u++]=o?A[h++]:255,f=h},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(_n)==="[object Window]"){try{e=_n.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,o,l,c,u,A,f,h;if(this.animation){for(h=[],o=u=0,A=(f=this.animation.frames).length;u<A;o=++u)a=f[o],l=s.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,h.push(a.image=t(l));return h}},r.prototype.renderFrame=function(s,a){var o,l,c;return o=(l=this.animation.frames)[a],c=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(s){var a,o,l,c,u,A,f=this;return o=0,A=this.animation,c=A.numFrames,l=A.frames,u=A.numPlays,(a=function(){var h,p;if(h=o++%c,p=l[h],f.renderFrame(s,h),c>1&&o/c<u)return f.animation._timeout=setTimeout(a,p.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function dUe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,u=[],A=0,f=null,h=0,p=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,p=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var y=t[e++];A=t[e++]|t[e++]<<8,f=t[e++],!(1&y)&&(f=null),h=y>>2&7,e++;break;case 254:for(;;){if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var v=t[e++]|t[e++]<<8,m=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,B=t[e++],R=B>>6&1,L=1<<(7&B)+1,S=o,M=l,T=!1;B>>7&&(T=!0,S=e,M=L,e+=3*L);var F=e;for(e++;;){var P;if(!((P=t[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}u.push({x:v,y:m,width:w,height:_,has_local_palette:T,palette_offset:S,palette_size:M,data_offset:F,data_length:e-F,transparent_index:f,interlaced:!!R,delay:A,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return p},this.frameInfo=function(D){if(D<0||D>=u.length)throw new Error("Frame index out of range.");return u[D]},this.decodeAndBlitFrameBGRA=function(D,H){var X=this.frameInfo(D),fe=X.width*X.height,ue=new Uint8Array(fe);Gz(t,X.data_offset,ue,fe);var me=X.palette_offset,J=X.transparent_index;J===null&&(J=256);var le=X.width,ee=n-le,re=le,k=4*(X.y*n+X.x),$=4*((X.y+X.height)*n+X.x),j=k,G=4*ee;X.interlaced===!0&&(G+=4*n*7);for(var q=8,W=0,ge=ue.length;W<ge;++W){var he=ue[W];if(re===0&&(re=le,(j+=G)>=$&&(G=4*ee+4*n*(q-1),j=k+(le+ee)*(q<<1),q>>=1)),he===J)j+=4;else{var ve=t[me+3*he],Ee=t[me+3*he+1],ie=t[me+3*he+2];H[j++]=ie,H[j++]=Ee,H[j++]=ve,H[j++]=255}--re}},this.decodeAndBlitFrameRGBA=function(D,H){var X=this.frameInfo(D),fe=X.width*X.height,ue=new Uint8Array(fe);Gz(t,X.data_offset,ue,fe);var me=X.palette_offset,J=X.transparent_index;J===null&&(J=256);var le=X.width,ee=n-le,re=le,k=4*(X.y*n+X.x),$=4*((X.y+X.height)*n+X.x),j=k,G=4*ee;X.interlaced===!0&&(G+=4*n*7);for(var q=8,W=0,ge=ue.length;W<ge;++W){var he=ue[W];if(re===0&&(re=le,(j+=G)>=$&&(G=4*ee+4*n*(q-1),j=k+(le+ee)*(q<<1),q>>=1)),he===J)j+=4;else{var ve=t[me+3*he],Ee=t[me+3*he+1],ie=t[me+3*he+2];H[j++]=ve,H[j++]=Ee,H[j++]=ie,H[j++]=255}--re}}}function Gz(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,u=0,A=0,f=0,h=t[e++],p=new Int32Array(4096),y=null;;){for(;u<16&&h!==0;)A|=t[e++]<<u,u+=8,h===1?h=t[e++]:--h;if(u<l)break;var v=A&c;if(A>>=l,u-=l,v!==s){if(v===a)break;for(var m=v<o?v:y,w=0,_=m;_>s;)_=p[_]>>8,++w;var B=_;if(f+w+(m!==v?1:0)>r)return void Hr.log("Warning, gif stream longer than expected.");n[f++]=B;var R=f+=w;for(m!==v&&(n[f++]=B),_=m;w--;)_=p[_],n[--R]=255&_,_>>=8;y!==null&&o<4096&&(p[o++]=y<<8|B,o>=c+1&&l<12&&(++l,c=c<<1|1)),y=v}else o=a+1,c=(1<<(l=i+1))-1,y=null}return f!==r&&Hr.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function oP(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),u=new Array(64),A=new Array(65535),f=new Array(65535),h=new Array(64),p=new Array(64),y=[],v=0,m=7,w=new Array(64),_=new Array(64),B=new Array(64),R=new Array(256),L=new Array(2048),S=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],M=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],T=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],D=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],fe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ue(k,$){for(var j=0,G=0,q=new Array,W=1;W<=16;W++){for(var ge=1;ge<=k[W];ge++)q[$[G]]=[],q[$[G]][0]=j,q[$[G]][1]=W,G++,j++;j*=2}return q}function me(k){for(var $=k[0],j=k[1]-1;j>=0;)$&1<<j&&(v|=1<<m),j--,--m<0&&(v==255?(J(255),J(0)):J(v),m=7,v=0)}function J(k){y.push(k)}function le(k){J(k>>8&255),J(255&k)}function ee(k,$,j,G,q){for(var W,ge=q[0],he=q[240],ve=function(z,te){var Be,ke,Ke,je,ft,nt,ct,Tt,bt,Ze,ht=0;for(bt=0;bt<8;++bt){Be=z[ht],ke=z[ht+1],Ke=z[ht+2],je=z[ht+3],ft=z[ht+4],nt=z[ht+5],ct=z[ht+6];var Gt=Be+(Tt=z[ht+7]),Nt=Be-Tt,Qt=ke+ct,Ct=ke-ct,Pe=Ke+nt,ut=Ke-nt,_t=je+ft,Ft=je-ft,lt=Gt+_t,Le=Gt-_t,Bt=Qt+Pe,Et=Qt-Pe;z[ht]=lt+Bt,z[ht+4]=lt-Bt;var xt=.707106781*(Et+Le);z[ht+2]=Le+xt,z[ht+6]=Le-xt;var Mt=.382683433*((lt=Ft+ut)-(Et=Ct+Nt)),vn=.5411961*lt+Mt,ln=1.306562965*Et+Mt,Tn=.707106781*(Bt=ut+Ct),Gn=Nt+Tn,St=Nt-Tn;z[ht+5]=St+vn,z[ht+3]=St-vn,z[ht+1]=Gn+ln,z[ht+7]=Gn-ln,ht+=8}for(ht=0,bt=0;bt<8;++bt){Be=z[ht],ke=z[ht+8],Ke=z[ht+16],je=z[ht+24],ft=z[ht+32],nt=z[ht+40],ct=z[ht+48];var Ar=Be+(Tt=z[ht+56]),Sr=Be-Tt,Gr=ke+ct,Dr=ke-ct,Cr=Ke+nt,Br=Ke-nt,bo=je+ft,za=je-ft,$i=Ar+bo,Ks=Ar-bo,Is=Gr+Cr,Ps=Gr-Cr;z[ht]=$i+Is,z[ht+32]=$i-Is;var xe=.707106781*(Ps+Ks);z[ht+16]=Ks+xe,z[ht+48]=Ks-xe;var Ge=.382683433*(($i=za+Br)-(Ps=Dr+Sr)),Ye=.5411961*$i+Ge,et=1.306562965*Ps+Ge,Xe=.707106781*(Is=Br+Dr),Dt=Sr+Xe,$t=Sr-Xe;z[ht+40]=$t+Ye,z[ht+24]=$t-Ye,z[ht+8]=Dt+et,z[ht+56]=Dt-et,ht++}for(bt=0;bt<64;++bt)Ze=z[bt]*te[bt],h[bt]=Ze>0?Ze+.5|0:Ze-.5|0;return h}(k,$),Ee=0;Ee<64;++Ee)p[S[Ee]]=ve[Ee];var ie=p[0]-j;j=p[0],ie==0?me(G[0]):(me(G[f[W=32767+ie]]),me(A[W]));for(var Te=63;Te>0&&p[Te]==0;)Te--;if(Te==0)return me(ge),j;for(var ye,_e=1;_e<=Te;){for(var se=_e;p[_e]==0&&_e<=Te;)++_e;var ze=_e-se;if(ze>=16){ye=ze>>4;for(var be=1;be<=ye;++be)me(he);ze&=15}W=32767+p[_e],me(q[(ze<<4)+f[W]]),me(A[W]),_e++}return Te!=63&&me(ge),j}function re(k){k=Math.min(Math.max(k,1),100),s!=k&&(function($){for(var j=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],G=0;G<64;G++){var q=a((j[G]*$+50)/100);q=Math.min(Math.max(q,1),255),o[S[G]]=q}for(var W=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ge=0;ge<64;ge++){var he=a((W[ge]*$+50)/100);he=Math.min(Math.max(he,1),255),l[S[ge]]=he}for(var ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ee=0,ie=0;ie<8;ie++)for(var Te=0;Te<8;Te++)c[Ee]=1/(o[S[Ee]]*ve[ie]*ve[Te]*8),u[Ee]=1/(l[S[Ee]]*ve[ie]*ve[Te]*8),Ee++}(k<50?Math.floor(5e3/k):Math.floor(200-2*k)),s=k)}this.encode=function(k,$){$&&re($),y=new Array,v=0,m=7,le(65496),le(65504),le(16),J(74),J(70),J(73),J(70),J(0),J(1),J(1),J(0),le(1),le(1),J(0),J(0),function(){le(65499),le(132),J(0);for(var ke=0;ke<64;ke++)J(o[ke]);J(1);for(var Ke=0;Ke<64;Ke++)J(l[Ke])}(),function(ke,Ke){le(65472),le(17),J(8),le(Ke),le(ke),J(3),J(1),J(17),J(0),J(2),J(17),J(1),J(3),J(17),J(1)}(k.width,k.height),function(){le(65476),le(418),J(0);for(var ke=0;ke<16;ke++)J(M[ke+1]);for(var Ke=0;Ke<=11;Ke++)J(T[Ke]);J(16);for(var je=0;je<16;je++)J(F[je+1]);for(var ft=0;ft<=161;ft++)J(P[ft]);J(1);for(var nt=0;nt<16;nt++)J(D[nt+1]);for(var ct=0;ct<=11;ct++)J(H[ct]);J(17);for(var Tt=0;Tt<16;Tt++)J(X[Tt+1]);for(var bt=0;bt<=161;bt++)J(fe[bt])}(),le(65498),le(12),J(3),J(1),J(0),J(2),J(17),J(3),J(17),J(0),J(63),J(0);var j=0,G=0,q=0;v=0,m=7,this.encode.displayName="_encode_";for(var W,ge,he,ve,Ee,ie,Te,ye,_e,se=k.data,ze=k.width,be=k.height,z=4*ze,te=0;te<be;){for(W=0;W<z;){for(Ee=z*te+W,Te=-1,ye=0,_e=0;_e<64;_e++)ie=Ee+(ye=_e>>3)*z+(Te=4*(7&_e)),te+ye>=be&&(ie-=z*(te+1+ye-be)),W+Te>=z&&(ie-=W+Te-z+4),ge=se[ie++],he=se[ie++],ve=se[ie++],w[_e]=(L[ge]+L[he+256>>0]+L[ve+512>>0]>>16)-128,_[_e]=(L[ge+768>>0]+L[he+1024>>0]+L[ve+1280>>0]>>16)-128,B[_e]=(L[ge+1280>>0]+L[he+1536>>0]+L[ve+1792>>0]>>16)-128;j=ee(w,c,j,e,r),G=ee(_,u,G,n,i),q=ee(B,u,q,n,i),W+=32}te+=8}if(m>=0){var Be=[];Be[1]=m+1,Be[0]=(1<<m+1)-1,me(Be)}return le(65497),new Uint8Array(y)},t=t||50,function(){for(var k=String.fromCharCode,$=0;$<256;$++)R[$]=k($)}(),e=ue(M,T),n=ue(D,H),r=ue(F,P),i=ue(X,fe),function(){for(var k=1,$=2,j=1;j<=15;j++){for(var G=k;G<$;G++)f[32767+G]=j,A[32767+G]=[],A[32767+G][1]=j,A[32767+G][0]=G;for(var q=-($-1);q<=-k;q++)f[32767+q]=j,A[32767+q]=[],A[32767+q][1]=j,A[32767+q][0]=$-1+q;k<<=1,$<<=1}}(),function(){for(var k=0;k<256;k++)L[k]=19595*k,L[k+256>>0]=38470*k,L[k+512>>0]=7471*k+32768,L[k+768>>0]=-11059*k,L[k+1024>>0]=-21709*k,L[k+1280>>0]=32768*k+8421375,L[k+1536>>0]=-27439*k,L[k+1792>>0]=-5329*k}(),re(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ru(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Wz(t){function e(M){if(!M)throw Error("assert :P")}function n(M,T,F){for(var P=0;4>P;P++)if(M[T+P]!=F.charCodeAt(P))return!0;return!1}function r(M,T,F,P,D){for(var H=0;H<D;H++)M[T+H]=F[P+H]}function i(M,T,F,P){for(var D=0;D<P;D++)M[T+D]=F}function s(M){return new Int32Array(M)}function a(M,T){for(var F=[],P=0;P<M;P++)F.push(new T);return F}function o(M,T){var F=[];return function P(D,H,X){for(var fe=X[H],ue=0;ue<fe&&(D.push(X.length>H+1?[]:new T),!(X.length<H+1));ue++)P(D[ue],H+1,X)}(F,0,M),F}var l=function(){var M=this;function T(x,C){for(var O=1<<C-1>>>0;x&O;)O>>>=1;return O?(x&O-1)+O:x}function F(x,C,O,K,oe){e(!(K%O));do x[C+(K-=O)]=oe;while(0<K)}function P(x,C,O,K,oe){if(e(2328>=oe),512>=oe)var ce=s(512);else if((ce=s(oe))==null)return 0;return function(Ae,pe,we,Se,Ue,Ne){var $e,Ve,pt=pe,rt=1<<we,Re=s(16),De=s(16);for(e(Ue!=0),e(Se!=null),e(Ae!=null),e(0<we),Ve=0;Ve<Ue;++Ve){if(15<Se[Ve])return 0;++Re[Se[Ve]]}if(Re[0]==Ue)return 0;for(De[1]=0,$e=1;15>$e;++$e){if(Re[$e]>1<<$e)return 0;De[$e+1]=De[$e]+Re[$e]}for(Ve=0;Ve<Ue;++Ve)$e=Se[Ve],0<Se[Ve]&&(Ne[De[$e]++]=Ve);if(De[15]==1)return(Se=new D).g=0,Se.value=Ne[0],F(Ae,pt,1,rt,Se),rt;var At,wt=-1,dt=rt-1,Ht=0,Rt=1,An=1,Ot=1<<we;for(Ve=0,$e=1,Ue=2;$e<=we;++$e,Ue<<=1){if(Rt+=An<<=1,0>(An-=Re[$e]))return 0;for(;0<Re[$e];--Re[$e])(Se=new D).g=$e,Se.value=Ne[Ve++],F(Ae,pt+Ht,Ue,Ot,Se),Ht=T(Ht,$e)}for($e=we+1,Ue=2;15>=$e;++$e,Ue<<=1){if(Rt+=An<<=1,0>(An-=Re[$e]))return 0;for(;0<Re[$e];--Re[$e]){if(Se=new D,(Ht&dt)!=wt){for(pt+=Ot,At=1<<(wt=$e)-we;15>wt&&!(0>=(At-=Re[wt]));)++wt,At<<=1;rt+=Ot=1<<(At=wt-we),Ae[pe+(wt=Ht&dt)].g=At+we,Ae[pe+wt].value=pt-pe-wt}Se.g=$e-we,Se.value=Ne[Ve++],F(Ae,pt+(Ht>>we),Ue,Ot,Se),Ht=T(Ht,$e)}}return Rt!=2*De[15]-1?0:rt}(x,C,O,K,oe,ce)}function D(){this.value=this.g=0}function H(){this.value=this.g=0}function X(){this.G=a(5,D),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Ji,H)}function fe(x,C,O,K){e(x!=null),e(C!=null),e(2147483648>K),x.Ca=254,x.I=0,x.b=-8,x.Ka=0,x.oa=C,x.pa=O,x.Jd=C,x.Yc=O+K,x.Zc=4<=K?O+K-4+1:O,W(x)}function ue(x,C){for(var O=0;0<C--;)O|=he(x,128)<<C;return O}function me(x,C){var O=ue(x,C);return ge(x)?-O:O}function J(x,C,O,K){var oe,ce=0;for(e(x!=null),e(C!=null),e(4294967288>K),x.Sb=K,x.Ra=0,x.u=0,x.h=0,4<K&&(K=4),oe=0;oe<K;++oe)ce+=C[O+oe]<<8*oe;x.Ra=ce,x.bb=K,x.oa=C,x.pa=O}function le(x){for(;8<=x.u&&x.bb<x.Sb;)x.Ra>>>=8,x.Ra+=x.oa[x.pa+x.bb]<<Tl-8>>>0,++x.bb,x.u-=8;j(x)&&(x.h=1,x.u=0)}function ee(x,C){if(e(0<=C),!x.h&&C<=sc){var O=$(x)&NA[C];return x.u+=C,le(x),O}return x.h=1,x.u=0}function re(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function k(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(x){return x.Ra>>>(x.u&Tl-1)>>>0}function j(x){return e(x.bb<=x.Sb),x.h||x.bb==x.Sb&&x.u>Tl}function G(x,C){x.u=C,x.h=j(x)}function q(x){x.u>=LA&&(e(x.u>=LA),le(x))}function W(x){e(x!=null&&x.oa!=null),x.pa<x.Zc?(x.I=(x.oa[x.pa++]|x.I<<8)>>>0,x.b+=8):(e(x!=null&&x.oa!=null),x.pa<x.Yc?(x.b+=8,x.I=x.oa[x.pa++]|x.I<<8):x.Ka?x.b=0:(x.I<<=8,x.b+=8,x.Ka=1))}function ge(x){return ue(x,1)}function he(x,C){var O=x.Ca;0>x.b&&W(x);var K=x.b,oe=O*C>>>8,ce=(x.I>>>K>oe)+0;for(ce?(O-=oe,x.I-=oe+1<<K>>>0):O=oe+1,K=O,oe=0;256<=K;)oe+=8,K>>=8;return K=7^oe+ms[K],x.b-=K,x.Ca=(O<<K)-1,ce}function ve(x,C,O){x[C+0]=O>>24&255,x[C+1]=O>>16&255,x[C+2]=O>>8&255,x[C+3]=O>>0&255}function Ee(x,C){return x[C+0]<<0|x[C+1]<<8}function ie(x,C){return Ee(x,C)|x[C+2]<<16}function Te(x,C){return Ee(x,C)|Ee(x,C+2)<<16}function ye(x,C){var O=1<<C;return e(x!=null),e(0<C),x.X=s(O),x.X==null?0:(x.Mb=32-C,x.Xa=C,1)}function _e(x,C){e(x!=null),e(C!=null),e(x.Xa==C.Xa),r(C.X,0,x.X,0,1<<C.Xa)}function se(){this.X=[],this.Xa=this.Mb=0}function ze(x,C,O,K){e(O!=null),e(K!=null);var oe=O[0],ce=K[0];return oe==0&&(oe=(x*ce+C/2)/C),ce==0&&(ce=(C*oe+x/2)/x),0>=oe||0>=ce?0:(O[0]=oe,K[0]=ce,1)}function be(x,C){return x+(1<<C)-1>>>C}function z(x,C){return((4278255360&x)+(4278255360&C)>>>0&4278255360)+((16711935&x)+(16711935&C)>>>0&16711935)>>>0}function te(x,C){M[C]=function(O,K,oe,ce,Ae,pe,we){var Se;for(Se=0;Se<Ae;++Se){var Ue=M[x](pe[we+Se-1],oe,ce+Se);pe[we+Se]=z(O[K+Se],Ue)}}}function Be(){this.ud=this.hd=this.jd=0}function ke(x,C){return((4278124286&(x^C))>>>1)+(x&C)>>>0}function Ke(x){return 0<=x&&256>x?x:0>x?0:255<x?255:void 0}function je(x,C){return Ke(x+(x-C+.5>>1))}function ft(x,C,O){return Math.abs(C-O)-Math.abs(x-O)}function nt(x,C,O,K,oe,ce,Ae){for(K=ce[Ae-1],O=0;O<oe;++O)ce[Ae+O]=K=z(x[C+O],K)}function ct(x,C,O,K,oe){var ce;for(ce=0;ce<O;++ce){var Ae=x[C+ce],pe=Ae>>8&255,we=16711935&(we=(we=16711935&Ae)+((pe<<16)+pe));K[oe+ce]=(4278255360&Ae)+we>>>0}}function Tt(x,C){C.jd=x>>0&255,C.hd=x>>8&255,C.ud=x>>16&255}function bt(x,C,O,K,oe,ce){var Ae;for(Ae=0;Ae<K;++Ae){var pe=C[O+Ae],we=pe>>>8,Se=pe,Ue=255&(Ue=(Ue=pe>>>16)+((x.jd<<24>>24)*(we<<24>>24)>>>5));Se=255&(Se=(Se=Se+((x.hd<<24>>24)*(we<<24>>24)>>>5))+((x.ud<<24>>24)*(Ue<<24>>24)>>>5)),oe[ce+Ae]=(4278255360&pe)+(Ue<<16)+Se}}function Ze(x,C,O,K,oe){M[C]=function(ce,Ae,pe,we,Se,Ue,Ne,$e,Ve){for(we=Ne;we<$e;++we)for(Ne=0;Ne<Ve;++Ne)Se[Ue++]=oe(pe[K(ce[Ae++])])},M[x]=function(ce,Ae,pe,we,Se,Ue,Ne){var $e=8>>ce.b,Ve=ce.Ea,pt=ce.K[0],rt=ce.w;if(8>$e)for(ce=(1<<ce.b)-1,rt=(1<<$e)-1;Ae<pe;++Ae){var Re,De=0;for(Re=0;Re<Ve;++Re)Re&ce||(De=K(we[Se++])),Ue[Ne++]=oe(pt[De&rt]),De>>=$e}else M["VP8LMapColor"+O](we,Se,pt,rt,Ue,Ne,Ae,pe,Ve)}}function ht(x,C,O,K,oe){for(O=C+O;C<O;){var ce=x[C++];K[oe++]=ce>>16&255,K[oe++]=ce>>8&255,K[oe++]=ce>>0&255}}function Gt(x,C,O,K,oe){for(O=C+O;C<O;){var ce=x[C++];K[oe++]=ce>>16&255,K[oe++]=ce>>8&255,K[oe++]=ce>>0&255,K[oe++]=ce>>24&255}}function Nt(x,C,O,K,oe){for(O=C+O;C<O;){var ce=(Ae=x[C++])>>16&240|Ae>>12&15,Ae=Ae>>0&240|Ae>>28&15;K[oe++]=ce,K[oe++]=Ae}}function Qt(x,C,O,K,oe){for(O=C+O;C<O;){var ce=(Ae=x[C++])>>16&248|Ae>>13&7,Ae=Ae>>5&224|Ae>>3&31;K[oe++]=ce,K[oe++]=Ae}}function Ct(x,C,O,K,oe){for(O=C+O;C<O;){var ce=x[C++];K[oe++]=ce>>0&255,K[oe++]=ce>>8&255,K[oe++]=ce>>16&255}}function Pe(x,C,O,K,oe,ce){if(ce==0)for(O=C+O;C<O;)ve(K,((ce=x[C++])[0]>>24|ce[1]>>8&65280|ce[2]<<8&16711680|ce[3]<<24)>>>0),oe+=32;else r(K,oe,x,C,O)}function ut(x,C){M[C][0]=M[x+"0"],M[C][1]=M[x+"1"],M[C][2]=M[x+"2"],M[C][3]=M[x+"3"],M[C][4]=M[x+"4"],M[C][5]=M[x+"5"],M[C][6]=M[x+"6"],M[C][7]=M[x+"7"],M[C][8]=M[x+"8"],M[C][9]=M[x+"9"],M[C][10]=M[x+"10"],M[C][11]=M[x+"11"],M[C][12]=M[x+"12"],M[C][13]=M[x+"13"],M[C][14]=M[x+"0"],M[C][15]=M[x+"0"]}function _t(x){return x==hg||x==dg||x==Zf||x==pg}function Ft(){this.eb=[],this.size=this.A=this.fb=0}function lt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Le(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ft,this.f.kb=new lt,this.sd=null}function Bt(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Et(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xt(x){return alert("todo:WebPSamplerProcessPlane"),x.T}function Mt(x,C){var O=x.T,K=C.ba.f.RGBA,oe=K.eb,ce=K.fb+x.ka*K.A,Ae=Zs[C.ba.S],pe=x.y,we=x.O,Se=x.f,Ue=x.N,Ne=x.ea,$e=x.W,Ve=C.cc,pt=C.dc,rt=C.Mc,Re=C.Nc,De=x.ka,At=x.ka+x.T,wt=x.U,dt=wt+1>>1;for(De==0?Ae(pe,we,null,null,Se,Ue,Ne,$e,Se,Ue,Ne,$e,oe,ce,null,null,wt):(Ae(C.ec,C.fc,pe,we,Ve,pt,rt,Re,Se,Ue,Ne,$e,oe,ce-K.A,oe,ce,wt),++O);De+2<At;De+=2)Ve=Se,pt=Ue,rt=Ne,Re=$e,Ue+=x.Rc,$e+=x.Rc,ce+=2*K.A,Ae(pe,(we+=2*x.fa)-x.fa,pe,we,Ve,pt,rt,Re,Se,Ue,Ne,$e,oe,ce-K.A,oe,ce,wt);return we+=x.fa,x.j+At<x.o?(r(C.ec,C.fc,pe,we,wt),r(C.cc,C.dc,Se,Ue,dt),r(C.Mc,C.Nc,Ne,$e,dt),O--):1&At||Ae(pe,we,null,null,Se,Ue,Ne,$e,Se,Ue,Ne,$e,oe,ce+K.A,null,null,wt),O}function vn(x,C,O){var K=x.F,oe=[x.J];if(K!=null){var ce=x.U,Ae=C.ba.S,pe=Ae==Hu||Ae==Zf;C=C.ba.f.RGBA;var we=[0],Se=x.ka;we[0]=x.T,x.Kb&&(Se==0?--we[0]:(--Se,oe[0]-=x.width),x.j+x.ka+x.T==x.o&&(we[0]=x.o-x.j-Se));var Ue=C.eb;Se=C.fb+Se*C.A,x=sr(K,oe[0],x.width,ce,we,Ue,Se+(pe?0:3),C.A),e(O==we),x&&_t(Ae)&&Hi(Ue,Se,pe,ce,we,C.A)}return 0}function ln(x){var C=x.ma,O=C.ba.S,K=11>O,oe=O==OA||O==Jf||O==Hu||O==fg||O==12||_t(O);if(C.memory=null,C.Ib=null,C.Jb=null,C.Nd=null,!Wf(C.Oa,x,oe?11:12))return 0;if(oe&&_t(O)&&vt(),x.da)alert("todo:use_scaling");else{if(K){if(C.Ib=xt,x.Kb){if(O=x.U+1>>1,C.memory=s(x.U+2*O),C.memory==null)return 0;C.ec=C.memory,C.fc=0,C.cc=C.ec,C.dc=C.fc+x.U,C.Mc=C.cc,C.Nc=C.dc+O,C.Ib=Mt,vt()}}else alert("todo:EmitYUV");oe&&(C.Jb=vn,K&&Qe())}if(K&&!Sy){for(x=0;256>x;++x)Px[x]=89858*(x-128)+vs>>ea,By[x]=-22014*(x-128)+vs,Nx[x]=-45773*(x-128),Cy[x]=113618*(x-128)+vs>>ea;for(x=nh;x<wg;++x)C=76283*(x-16)+vs>>ea,Lx[x-nh]=ir(C,255),Fx[x-nh]=ir(C+8>>4,15);Sy=1}return 1}function Tn(x){var C=x.ma,O=x.U,K=x.T;return e(!(1&x.ka)),0>=O||0>=K?0:(O=C.Ib(x,C),C.Jb!=null&&C.Jb(x,C,O),C.Dc+=O,1)}function Gn(x){x.ma.memory=null}function St(x,C,O,K){return ee(x,8)!=47?0:(C[0]=ee(x,14)+1,O[0]=ee(x,14)+1,K[0]=ee(x,1),ee(x,3)!=0?0:!x.h)}function Ar(x,C){if(4>x)return x+1;var O=x-2>>1;return(2+(1&x)<<O)+ee(C,O)+1}function Sr(x,C){return 120<C?C-120:1<=(O=((O=Ex[C-1])>>4)*x+(8-(15&O)))?O:1;var O}function Gr(x,C,O){var K=$(O),oe=x[C+=255&K].g-8;return 0<oe&&(G(O,O.u+8),K=$(O),C+=x[C].value,C+=K&(1<<oe)-1),G(O,O.u+x[C].g),x[C].value}function Dr(x,C,O){return O.g+=x.g,O.value+=x.value<<C>>>0,e(8>=O.g),x.g}function Cr(x,C,O){var K=x.xc;return e((C=K==0?0:x.vc[x.md*(O>>K)+(C>>K)])<x.Wb),x.Ya[C]}function Br(x,C,O,K){var oe=x.ab,ce=x.c*C,Ae=x.C;C=Ae+C;var pe=O,we=K;for(K=x.Ta,O=x.Ua;0<oe--;){var Se=x.gc[oe],Ue=Ae,Ne=C,$e=pe,Ve=we,pt=(we=K,pe=O,Se.Ea);switch(e(Ue<Ne),e(Ne<=Se.nc),Se.hc){case 2:Yd($e,Ve,(Ne-Ue)*pt,we,pe);break;case 0:var rt=Ue,Re=Ne,De=we,At=pe,wt=(Ot=Se).Ea;rt==0&&(qf($e,Ve,null,null,1,De,At),nt($e,Ve+1,0,0,wt-1,De,At+1),Ve+=wt,At+=wt,++rt);for(var dt=1<<Ot.b,Ht=dt-1,Rt=be(wt,Ot.b),An=Ot.K,Ot=Ot.w+(rt>>Ot.b)*Rt;rt<Re;){var rr=An,lr=Ot,$n=1;for($f($e,Ve,De,At-wt,1,De,At);$n<wt;){var Hn=($n&~Ht)+dt;Hn>wt&&(Hn=wt),(0,Zo[rr[lr++]>>8&15])($e,Ve+ +$n,De,At+$n-wt,Hn-$n,De,At+$n),$n=Hn}Ve+=wt,At+=wt,++rt&Ht||(Ot+=Rt)}Ne!=Se.nc&&r(we,pe-pt,we,pe+(Ne-Ue-1)*pt,pt);break;case 1:for(pt=$e,Re=Ve,wt=($e=Se.Ea)-(At=$e&~(De=(Ve=1<<Se.b)-1)),rt=be($e,Se.b),dt=Se.K,Se=Se.w+(Ue>>Se.b)*rt;Ue<Ne;){for(Ht=dt,Rt=Se,An=new Be,Ot=Re+At,rr=Re+$e;Re<Ot;)Tt(Ht[Rt++],An),el(An,pt,Re,Ve,we,pe),Re+=Ve,pe+=Ve;Re<rr&&(Tt(Ht[Rt++],An),el(An,pt,Re,wt,we,pe),Re+=wt,pe+=wt),++Ue&De||(Se+=rt)}break;case 3:if($e==we&&Ve==pe&&0<Se.b){for(Re=we,$e=pt=pe+(Ne-Ue)*pt-(At=(Ne-Ue)*be(Se.Ea,Se.b)),Ve=we,De=pe,rt=[],At=(wt=At)-1;0<=At;--At)rt[At]=Ve[De+At];for(At=wt-1;0<=At;--At)Re[$e+At]=rt[At];Fs(Se,Ue,Ne,we,pt,we,pe)}else Fs(Se,Ue,Ne,$e,Ve,we,pe)}pe=K,we=O}we!=O&&r(K,O,pe,we,ce)}function bo(x,C){var O=x.V,K=x.Ba+x.c*x.C,oe=C-x.C;if(e(C<=x.l.o),e(16>=oe),0<oe){var ce=x.l,Ae=x.Ta,pe=x.Ua,we=ce.width;if(Br(x,oe,O,K),oe=pe=[pe],e((O=x.C)<(K=C)),e(ce.v<ce.va),K>ce.o&&(K=ce.o),O<ce.j){var Se=ce.j-O;O=ce.j,oe[0]+=Se*we}if(O>=K?O=0:(oe[0]+=4*ce.v,ce.ka=O-ce.j,ce.U=ce.va-ce.v,ce.T=K-O,O=1),O){if(pe=pe[0],11>(O=x.ca).S){var Ue=O.f.RGBA,Ne=(K=O.S,oe=ce.U,ce=ce.T,Se=Ue.eb,Ue.A),$e=ce;for(Ue=Ue.fb+x.Ma*Ue.A;0<$e--;){var Ve=Ae,pt=pe,rt=oe,Re=Se,De=Ue;switch(K){case ep:oi(Ve,pt,rt,Re,De);break;case OA:Rs(Ve,pt,rt,Re,De);break;case hg:Rs(Ve,pt,rt,Re,De),Hi(Re,De,0,rt,1,0);break;case tp:Ml(Ve,pt,rt,Re,De);break;case Jf:Pe(Ve,pt,rt,Re,De,1);break;case dg:Pe(Ve,pt,rt,Re,De,1),Hi(Re,De,0,rt,1,0);break;case Hu:Pe(Ve,pt,rt,Re,De,0);break;case Zf:Pe(Ve,pt,rt,Re,De,0),Hi(Re,De,1,rt,1,0);break;case fg:Po(Ve,pt,rt,Re,De);break;case pg:Po(Ve,pt,rt,Re,De),Kn(Re,De,rt,1,0);break;case wy:ac(Ve,pt,rt,Re,De);break;default:e(0)}pe+=we,Ue+=Ne}x.Ma+=ce}else alert("todo:EmitRescaledRowsYUVA");e(x.Ma<=O.height)}}x.C=C,e(x.C<=x.i)}function za(x){var C;if(0<x.ua)return 0;for(C=0;C<x.Wb;++C){var O=x.Ya[C].G,K=x.Ya[C].H;if(0<O[1][K[1]+0].g||0<O[2][K[2]+0].g||0<O[3][K[3]+0].g)return 0}return 1}function $i(x,C,O,K,oe,ce){if(x.Z!=0){var Ae=x.qd,pe=x.rd;for(e(il[x.Z]!=null);C<O;++C)il[x.Z](Ae,pe,K,oe,K,oe,ce),Ae=K,pe=oe,oe+=ce;x.qd=Ae,x.rd=pe}}function Ks(x,C){var O=x.l.ma,K=O.Z==0||O.Z==1?x.l.j:x.C;if(K=x.C<K?K:x.C,e(C<=x.l.o),C>K){var oe=x.l.width,ce=O.ca,Ae=O.tb+oe*K,pe=x.V,we=x.Ba+x.c*K,Se=x.gc;e(x.ab==1),e(Se[0].hc==3),Qu(Se[0],K,C,pe,we,ce,Ae),$i(O,K,C,ce,Ae,oe)}x.C=x.Ma=C}function Is(x,C,O,K,oe,ce,Ae){var pe=x.$/K,we=x.$%K,Se=x.m,Ue=x.s,Ne=O+x.$,$e=Ne;oe=O+K*oe;var Ve=O+K*ce,pt=280+Ue.ua,rt=x.Pb?pe:16777216,Re=0<Ue.ua?Ue.Wa:null,De=Ue.wc,At=Ne<Ve?Cr(Ue,we,pe):null;e(x.C<ce),e(Ve<=oe);var wt=!1;e:for(;;){for(;wt||Ne<Ve;){var dt=0;if(pe>=rt){var Ht=Ne-O;e((rt=x).Pb),rt.wd=rt.m,rt.xd=Ht,0<rt.s.ua&&_e(rt.s.Wa,rt.s.vb),rt=pe+Cx}if(we&De||(At=Cr(Ue,we,pe)),e(At!=null),At.Qb&&(C[Ne]=At.qb,wt=!0),!wt)if(q(Se),At.jc){dt=Se,Ht=C;var Rt=Ne,An=At.pd[$(dt)&Ji-1];e(At.jc),256>An.g?(G(dt,dt.u+An.g),Ht[Rt]=An.value,dt=0):(G(dt,dt.u+An.g-256),e(256<=An.value),dt=An.value),dt==0&&(wt=!0)}else dt=Gr(At.G[0],At.H[0],Se);if(Se.h)break;if(wt||256>dt){if(!wt)if(At.nd)C[Ne]=(At.qb|dt<<8)>>>0;else{if(q(Se),wt=Gr(At.G[1],At.H[1],Se),q(Se),Ht=Gr(At.G[2],At.H[2],Se),Rt=Gr(At.G[3],At.H[3],Se),Se.h)break;C[Ne]=(Rt<<24|wt<<16|dt<<8|Ht)>>>0}if(wt=!1,++Ne,++we>=K&&(we=0,++pe,Ae!=null&&pe<=ce&&!(pe%16)&&Ae(x,pe),Re!=null))for(;$e<Ne;)dt=C[$e++],Re.X[(506832829*dt&4294967295)>>>Re.Mb]=dt}else if(280>dt){if(dt=Ar(dt-256,Se),Ht=Gr(At.G[4],At.H[4],Se),q(Se),Ht=Sr(K,Ht=Ar(Ht,Se)),Se.h)break;if(Ne-O<Ht||oe-Ne<dt)break e;for(Rt=0;Rt<dt;++Rt)C[Ne+Rt]=C[Ne+Rt-Ht];for(Ne+=dt,we+=dt;we>=K;)we-=K,++pe,Ae!=null&&pe<=ce&&!(pe%16)&&Ae(x,pe);if(e(Ne<=oe),we&De&&(At=Cr(Ue,we,pe)),Re!=null)for(;$e<Ne;)dt=C[$e++],Re.X[(506832829*dt&4294967295)>>>Re.Mb]=dt}else{if(!(dt<pt))break e;for(wt=dt-280,e(Re!=null);$e<Ne;)dt=C[$e++],Re.X[(506832829*dt&4294967295)>>>Re.Mb]=dt;dt=Ne,e(!(wt>>>(Ht=Re).Xa)),C[dt]=Ht.X[wt],wt=!0}wt||e(Se.h==j(Se))}if(x.Pb&&Se.h&&Ne<oe)e(x.m.h),x.a=5,x.m=x.wd,x.$=x.xd,0<x.s.ua&&_e(x.s.vb,x.s.Wa);else{if(Se.h)break e;Ae!=null&&Ae(x,pe>ce?ce:pe),x.a=0,x.$=Ne-O}return 1}return x.a=3,0}function Ps(x){e(x!=null),x.vc=null,x.yc=null,x.Ya=null;var C=x.Wa;C!=null&&(C.X=null),x.vb=null,e(x!=null)}function xe(){var x=new Io;return x==null?null:(x.a=0,x.xb=by,ut("Predictor","VP8LPredictors"),ut("Predictor","VP8LPredictors_C"),ut("PredictorAdd","VP8LPredictorsAdd"),ut("PredictorAdd","VP8LPredictorsAdd_C"),Yd=ct,el=bt,oi=ht,Rs=Gt,Po=Nt,ac=Qt,Ml=Ct,M.VP8LMapColor32b=FA,M.VP8LMapColor8b=Ca,x)}function Ge(x,C,O,K,oe){var ce=1,Ae=[x],pe=[C],we=K.m,Se=K.s,Ue=null,Ne=0;e:for(;;){if(O)for(;ce&&ee(we,1);){var $e=Ae,Ve=pe,pt=K,rt=1,Re=pt.m,De=pt.gc[pt.ab],At=ee(Re,2);if(pt.Oc&1<<At)ce=0;else{switch(pt.Oc|=1<<At,De.hc=At,De.Ea=$e[0],De.nc=Ve[0],De.K=[null],++pt.ab,e(4>=pt.ab),At){case 0:case 1:De.b=ee(Re,3)+2,rt=Ge(be(De.Ea,De.b),be(De.nc,De.b),0,pt,De.K),De.K=De.K[0];break;case 3:var wt,dt=ee(Re,8)+1,Ht=16<dt?0:4<dt?1:2<dt?2:3;if($e[0]=be(De.Ea,Ht),De.b=Ht,wt=rt=Ge(dt,1,0,pt,De.K)){var Rt,An=dt,Ot=De,rr=1<<(8>>Ot.b),lr=s(rr);if(lr==null)wt=0;else{var $n=Ot.K[0],Hn=Ot.w;for(lr[0]=Ot.K[0][0],Rt=1;Rt<1*An;++Rt)lr[Rt]=z($n[Hn+Rt],lr[Rt-1]);for(;Rt<4*rr;++Rt)lr[Rt]=0;Ot.K[0]=null,Ot.K[0]=lr,wt=1}}rt=wt;break;case 2:break;default:e(0)}ce=rt}}if(Ae=Ae[0],pe=pe[0],ce&&ee(we,1)&&!(ce=1<=(Ne=ee(we,4))&&11>=Ne)){K.a=3;break e}var fr;if(fr=ce)t:{var xr,Mn,Si,Ta=K,Ci=Ae,Ma=pe,ar=Ne,ta=O,na=Ta.m,Bi=Ta.s,Vi=[null],Zi=1,Ka=0,sl=Sx[ar];n:for(;;){if(ta&&ee(na,1)){var zi=ee(na,3)+2,fc=be(Ci,zi),Xc=be(Ma,zi),rh=fc*Xc;if(!Ge(fc,Xc,0,Ta,Vi))break n;for(Vi=Vi[0],Bi.xc=zi,xr=0;xr<rh;++xr){var Nl=Vi[xr]>>8&65535;Vi[xr]=Nl,Nl>=Zi&&(Zi=Nl+1)}}if(na.h)break n;for(Mn=0;5>Mn;++Mn){var Xr=_y[Mn];!Mn&&0<ar&&(Xr+=1<<ar),Ka<Xr&&(Ka=Xr)}var ui=a(Zi*sl,D),Rn=Zi,Ti=a(Rn,X);if(Ti==null)var Ai=null;else e(65536>=Rn),Ai=Ti;var Mi=s(Ka);if(Ai==null||Mi==null||ui==null){Ta.a=1;break n}var ra=ui;for(xr=Si=0;xr<Zi;++xr){var ia=Ai[xr],Yr=ia.G,hc=ia.H,QA=0,HA=1,_g=0;for(Mn=0;5>Mn;++Mn){Xr=_y[Mn],Yr[Mn]=ra,hc[Mn]=Si,!Mn&&0<ar&&(Xr+=1<<ar);i:{var Vu,sa=Xr,ih=Ta,VA=Mi,sh=ra,xg=Si,ip=0,Ia=ih.m,bg=ee(Ia,1);if(i(VA,0,0,sa),bg){var zu=ee(Ia,1)+1,Eg=ee(Ia,1),ah=ee(Ia,Eg==0?1:8);VA[ah]=1,zu==2&&(VA[ah=ee(Ia,8)]=1);var oh=1}else{var sp=s(19),ap=ee(Ia,4)+4;if(19<ap){ih.a=3;var ys=0;break i}for(Vu=0;Vu<ap;++Vu)sp[xM[Vu]]=ee(Ia,3);var dc=void 0,aa=void 0,op=ih,qa=sp,lp=sa,Sg=VA,cp=0,ju=op.m,Yc=8,Iy=a(128,D);r:for(;P(Iy,0,7,qa,19);){if(ee(ju,1)){var Ux=2+2*ee(ju,3);if((dc=2+ee(ju,Ux))>lp)break r}else dc=lp;for(aa=0;aa<lp&&dc--;){q(ju);var Cg=Iy[0+(127&$(ju))];G(ju,ju.u+Cg.g);var al=Cg.value;if(16>al)Sg[aa++]=al,al!=0&&(Yc=al);else{var Dx=al==16,Py=al-16,Ny=wM[Py],up=ee(ju,bx[Py])+Ny;if(aa+up>lp)break r;for(var BM=Dx?Yc:0;0<up--;)Sg[aa++]=BM}}cp=1;break r}cp||(op.a=3),oh=cp}(oh=oh&&!Ia.h)&&(ip=P(sh,xg,8,VA,sa)),oh&&ip!=0?ys=ip:(ih.a=3,ys=0)}if(ys==0)break n;if(HA&&_M[Mn]==1&&(HA=ra[Si].g==0),QA+=ra[Si].g,Si+=ys,3>=Mn){var Ap,Bg=Mi[0];for(Ap=1;Ap<Xr;++Ap)Mi[Ap]>Bg&&(Bg=Mi[Ap]);_g+=Bg}}if(ia.nd=HA,ia.Qb=0,HA&&(ia.qb=(Yr[3][hc[3]+0].value<<24|Yr[1][hc[1]+0].value<<16|Yr[2][hc[2]+0].value)>>>0,QA==0&&256>Yr[0][hc[0]+0].value&&(ia.Qb=1,ia.qb+=Yr[0][hc[0]+0].value<<8)),ia.jc=!ia.Qb&&6>_g,ia.jc){var fp,Pa=ia;for(fp=0;fp<Ji;++fp){var Gu=fp,$a=Pa.pd[Gu],hp=Pa.G[0][Pa.H[0]+Gu];256<=hp.value?($a.g=hp.g+256,$a.value=hp.value):($a.g=0,$a.value=0,Gu>>=Dr(hp,8,$a),Gu>>=Dr(Pa.G[1][Pa.H[1]+Gu],16,$a),Gu>>=Dr(Pa.G[2][Pa.H[2]+Gu],0,$a),Dr(Pa.G[3][Pa.H[3]+Gu],24,$a))}}}Bi.vc=Vi,Bi.Wb=Zi,Bi.Ya=Ai,Bi.yc=ui,fr=1;break t}fr=0}if(!(ce=fr)){K.a=3;break e}if(0<Ne){if(Se.ua=1<<Ne,!ye(Se.Wa,Ne)){K.a=1,ce=0;break e}}else Se.ua=0;var oa=K,Ox=Ae,kx=pe,Ly=oa.s,Fy=Ly.xc;if(oa.c=Ox,oa.i=kx,Ly.md=be(Ox,Fy),Ly.wc=Fy==0?-1:(1<<Fy)-1,O){K.xb=Ac;break e}if((Ue=s(Ae*pe))==null){K.a=1,ce=0;break e}ce=(ce=Is(K,Ue,0,Ae,pe,pe,null))&&!we.h;break e}return ce?(oe!=null?oe[0]=Ue:(e(Ue==null),e(O)),K.$=0,O||Ps(Se)):Ps(Se),ce}function Ye(x,C){var O=x.c*x.i,K=O+C+16*C;return e(x.c<=C),x.V=s(K),x.V==null?(x.Ta=null,x.Ua=0,x.a=1,0):(x.Ta=x.V,x.Ua=x.Ba+O+C,1)}function et(x,C){var O=x.C,K=C-O,oe=x.V,ce=x.Ba+x.c*O;for(e(C<=x.l.o);0<K;){var Ae=16<K?16:K,pe=x.l.ma,we=x.l.width,Se=we*Ae,Ue=pe.ca,Ne=pe.tb+we*O,$e=x.Ta,Ve=x.Ua;Br(x,Ae,oe,ce),$r($e,Ve,Ue,Ne,Se),$i(pe,O,O+Ae,Ue,Ne,we),K-=Ae,oe+=Ae*x.c,O+=Ae}e(O==C),x.C=x.Ma=C}function Xe(){this.ub=this.yd=this.td=this.Rb=0}function Dt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function $t(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function sn(){this.Yb=function(){var x=[];return function C(O,K,oe){for(var ce=oe[K],Ae=0;Ae<ce&&(O.push(oe.length>K+1?[]:0),!(oe.length<K+1));Ae++)C(O[Ae],K+1,oe)}(x,0,[3,11]),x}()}function nn(){this.jb=s(3),this.Wc=o([4,8],sn),this.Xc=o([4,17],sn)}function hn(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function an(){this.ld=this.La=this.dd=this.tc=0}function cn(){this.Na=this.la=0}function tr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Or(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function gr(){this.uc=this.M=this.Nb=0,this.wa=Array(new an),this.Y=0,this.ya=Array(new Or),this.aa=0,this.l=new kt}function Wr(){this.y=s(16),this.f=s(8),this.ea=s(8)}function un(){this.cb=this.a=0,this.sc="",this.m=new re,this.Od=new Xe,this.Kc=new Dt,this.ed=new hn,this.Qa=new $t,this.Ic=this.$c=this.Aa=0,this.D=new gr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,re),this.ia=0,this.pb=a(4,tr),this.Pa=new nn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wr),this.Hd=0,this.rb=Array(new cn),this.sb=0,this.wa=Array(new an),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Or),this.L=this.aa=0,this.gd=o([4,2],an),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function kt(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ps(){var x=new un;return x!=null&&(x.a=0,x.sc="OK",x.cb=0,x.Xb=0,np||(np=Ns)),x}function Jt(x,C,O){return x.a==0&&(x.a=C,x.sc=O,x.cb=0),0}function wr(x,C,O){return 3<=O&&x[C+0]==157&&x[C+1]==1&&x[C+2]==42}function qs(x,C){if(x==null)return 0;if(x.a=0,x.sc="OK",C==null)return Jt(x,2,"null VP8Io passed to VP8GetHeaders()");var O=C.data,K=C.w,oe=C.ha;if(4>oe)return Jt(x,7,"Truncated header.");var ce=O[K+0]|O[K+1]<<8|O[K+2]<<16,Ae=x.Od;if(Ae.Rb=!(1&ce),Ae.td=ce>>1&7,Ae.yd=ce>>4&1,Ae.ub=ce>>5,3<Ae.td)return Jt(x,3,"Incorrect keyframe parameters.");if(!Ae.yd)return Jt(x,4,"Frame not displayable.");K+=3,oe-=3;var pe=x.Kc;if(Ae.Rb){if(7>oe)return Jt(x,7,"cannot parse picture header");if(!wr(O,K,oe))return Jt(x,3,"Bad code word");pe.c=16383&(O[K+4]<<8|O[K+3]),pe.Td=O[K+4]>>6,pe.i=16383&(O[K+6]<<8|O[K+5]),pe.Ud=O[K+6]>>6,K+=7,oe-=7,x.za=pe.c+15>>4,x.Ub=pe.i+15>>4,C.width=pe.c,C.height=pe.i,C.Da=0,C.j=0,C.v=0,C.va=C.width,C.o=C.height,C.da=0,C.ib=C.width,C.hb=C.height,C.U=C.width,C.T=C.height,i((ce=x.Pa).jb,0,255,ce.jb.length),e((ce=x.Qa)!=null),ce.Cb=0,ce.Bb=0,ce.Fb=1,i(ce.Zb,0,0,ce.Zb.length),i(ce.Lb,0,0,ce.Lb)}if(Ae.ub>oe)return Jt(x,7,"bad partition length");fe(ce=x.m,O,K,Ae.ub),K+=Ae.ub,oe-=Ae.ub,Ae.Rb&&(pe.Ld=ge(ce),pe.Kd=ge(ce)),pe=x.Qa;var we,Se=x.Pa;if(e(ce!=null),e(pe!=null),pe.Cb=ge(ce),pe.Cb){if(pe.Bb=ge(ce),ge(ce)){for(pe.Fb=ge(ce),we=0;4>we;++we)pe.Zb[we]=ge(ce)?me(ce,7):0;for(we=0;4>we;++we)pe.Lb[we]=ge(ce)?me(ce,6):0}if(pe.Bb)for(we=0;3>we;++we)Se.jb[we]=ge(ce)?ue(ce,8):255}else pe.Bb=0;if(ce.Ka)return Jt(x,3,"cannot parse segment header");if((pe=x.ed).zd=ge(ce),pe.Tb=ue(ce,6),pe.wb=ue(ce,3),pe.Pc=ge(ce),pe.Pc&&ge(ce)){for(Se=0;4>Se;++Se)ge(ce)&&(pe.vd[Se]=me(ce,6));for(Se=0;4>Se;++Se)ge(ce)&&(pe.od[Se]=me(ce,6))}if(x.L=pe.Tb==0?0:pe.zd?1:2,ce.Ka)return Jt(x,3,"cannot parse filter header");var Ue=oe;if(oe=we=K,K=we+Ue,pe=Ue,x.Xb=(1<<ue(x.m,2))-1,Ue<3*(Se=x.Xb))O=7;else{for(we+=3*Se,pe-=3*Se,Ue=0;Ue<Se;++Ue){var Ne=O[oe+0]|O[oe+1]<<8|O[oe+2]<<16;Ne>pe&&(Ne=pe),fe(x.Jc[+Ue],O,we,Ne),we+=Ne,pe-=Ne,oe+=3}fe(x.Jc[+Se],O,we,pe),O=we<K?0:5}if(O!=0)return Jt(x,O,"cannot parse partitions");for(O=ue(we=x.m,7),oe=ge(we)?me(we,4):0,K=ge(we)?me(we,4):0,pe=ge(we)?me(we,4):0,Se=ge(we)?me(we,4):0,we=ge(we)?me(we,4):0,Ue=x.Qa,Ne=0;4>Ne;++Ne){if(Ue.Cb){var $e=Ue.Zb[Ne];Ue.Fb||($e+=O)}else{if(0<Ne){x.pb[Ne]=x.pb[0];continue}$e=O}var Ve=x.pb[Ne];Ve.Sc[0]=mg[ir($e+oe,127)],Ve.Sc[1]=eh[ir($e+0,127)],Ve.Eb[0]=2*mg[ir($e+K,127)],Ve.Eb[1]=101581*eh[ir($e+pe,127)]>>16,8>Ve.Eb[1]&&(Ve.Eb[1]=8),Ve.Qc[0]=mg[ir($e+Se,117)],Ve.Qc[1]=eh[ir($e+we,127)],Ve.lc=$e+we}if(!Ae.Rb)return Jt(x,4,"Not a key frame.");for(ge(ce),Ae=x.Pa,O=0;4>O;++O){for(oe=0;8>oe;++oe)for(K=0;3>K;++K)for(pe=0;11>pe;++pe)Se=he(ce,Bx[O][oe][K][pe])?ue(ce,8):xy[O][oe][K][pe],Ae.Wc[O][oe].Yb[K][pe]=Se;for(oe=0;17>oe;++oe)Ae.Xc[O][oe]=Ae.Wc[O][Tx[oe]]}return x.kc=ge(ce),x.kc&&(x.Bd=ue(ce,8)),x.cb=1}function Ns(x,C,O,K,oe,ce,Ae){var pe=C[oe].Yb[O];for(O=0;16>oe;++oe){if(!he(x,pe[O+0]))return oe;for(;!he(x,pe[O+1]);)if(pe=C[++oe].Yb[0],O=0,oe==16)return 16;var we=C[oe+1].Yb;if(he(x,pe[O+2])){var Se=x,Ue=0;if(he(Se,($e=pe)[(Ne=O)+3]))if(he(Se,$e[Ne+6])){for(pe=0,Ne=2*(Ue=he(Se,$e[Ne+8]))+($e=he(Se,$e[Ne+9+Ue])),Ue=0,$e=bM[Ne];$e[pe];++pe)Ue+=Ue+he(Se,$e[pe]);Ue+=3+(8<<Ne)}else he(Se,$e[Ne+7])?(Ue=7+2*he(Se,165),Ue+=he(Se,145)):Ue=5+he(Se,159);else Ue=he(Se,$e[Ne+4])?3+he(Se,$e[Ne+5]):2;pe=we[2]}else Ue=1,pe=we[1];we=Ae+EM[oe],0>(Se=x).b&&W(Se);var Ne,$e=Se.b,Ve=(Ne=Se.Ca>>1)-(Se.I>>$e)>>31;--Se.b,Se.Ca+=Ve,Se.Ca|=1,Se.I-=(Ne+1&Ve)<<$e,ce[we]=((Ue^Ve)-Ve)*K[(0<oe)+0]}return 16}function Kr(x){var C=x.rb[x.sb-1];C.la=0,C.Na=0,i(x.zc,0,0,x.zc.length),x.ja=0}function Rr(x,C){if(x==null)return 0;if(C==null)return Jt(x,2,"NULL VP8Io parameter in VP8Decode().");if(!x.cb&&!qs(x,C))return 0;if(e(x.cb),C.ac==null||C.ac(C)){C.ob&&(x.L=0);var O=kA[x.L];if(x.L==2?(x.yb=0,x.zb=0):(x.yb=C.v-O>>4,x.zb=C.j-O>>4,0>x.yb&&(x.yb=0),0>x.zb&&(x.zb=0)),x.Va=C.o+15+O>>4,x.Hb=C.va+15+O>>4,x.Hb>x.za&&(x.Hb=x.za),x.Va>x.Ub&&(x.Va=x.Ub),0<x.L){var K=x.ed;for(O=0;4>O;++O){var oe;if(x.Qa.Cb){var ce=x.Qa.Lb[O];x.Qa.Fb||(ce+=K.Tb)}else ce=K.Tb;for(oe=0;1>=oe;++oe){var Ae=x.gd[O][oe],pe=ce;if(K.Pc&&(pe+=K.vd[0],oe&&(pe+=K.od[0])),0<(pe=0>pe?0:63<pe?63:pe)){var we=pe;0<K.wb&&(we=4<K.wb?we>>2:we>>1)>9-K.wb&&(we=9-K.wb),1>we&&(we=1),Ae.dd=we,Ae.tc=2*pe+we,Ae.ld=40<=pe?2:15<=pe?1:0}else Ae.tc=0;Ae.La=oe}}}O=0}else Jt(x,6,"Frame setup failed"),O=x.a;if(O=O==0){if(O){x.$c=0,0<x.Aa||(x.Ic=Ty);e:{O=x.Ic,K=4*(we=x.za);var Se=32*we,Ue=we+1,Ne=0<x.L?we*(0<x.Aa?2:1):0,$e=(x.Aa==2?2:1)*we;if((Ae=K+832+(oe=3*(16*O+kA[x.L])/2*Se)+(ce=x.Fa!=null&&0<x.Fa.length?x.Kc.c*x.Kc.i:0))!=Ae)O=0;else{if(Ae>x.Vb){if(x.Vb=0,x.Ec=s(Ae),x.Fc=0,x.Ec==null){O=Jt(x,1,"no memory during frame initialization.");break e}x.Vb=Ae}Ae=x.Ec,pe=x.Fc,x.Ac=Ae,x.Bc=pe,pe+=K,x.Gd=a(Se,Wr),x.Hd=0,x.rb=a(Ue+1,cn),x.sb=1,x.wa=Ne?a(Ne,an):null,x.Y=0,x.D.Nb=0,x.D.wa=x.wa,x.D.Y=x.Y,0<x.Aa&&(x.D.Y+=we),e(!0),x.oc=Ae,x.pc=pe,pe+=832,x.ya=a($e,Or),x.aa=0,x.D.ya=x.ya,x.D.aa=x.aa,x.Aa==2&&(x.D.aa+=we),x.R=16*we,x.B=8*we,we=(Se=kA[x.L])*x.R,Se=Se/2*x.B,x.sa=Ae,x.ta=pe+we,x.qa=x.sa,x.ra=x.ta+16*O*x.R+Se,x.Ha=x.qa,x.Ia=x.ra+8*O*x.B+Se,x.$c=0,pe+=oe,x.mb=ce?Ae:null,x.nb=ce?pe:null,e(pe+ce<=x.Fc+x.Vb),Kr(x),i(x.Ac,x.Bc,0,K),O=1}}if(O){if(C.ka=0,C.y=x.sa,C.O=x.ta,C.f=x.qa,C.N=x.ra,C.ea=x.Ha,C.Vd=x.Ia,C.fa=x.R,C.Rc=x.B,C.F=null,C.J=0,!Jd){for(O=-255;255>=O;++O)yi[255+O]=0>O?-O:O;for(O=-1020;1020>=O;++O)cc[1020+O]=-128>O?-128:127<O?127:O;for(O=-112;112>=O;++O)Yf[112+O]=-16>O?-16:15<O?15:O;for(O=-255;510>=O;++O)DA[255+O]=0>O?0:255<O?255:O;Jd=1}_r=qo,tl=_l,RA=MA,gs=vr,ci=Ko,li=Ei,Il=tc,kr=Mo,Qi=nc,qr=Jo,oc=Kc,nl=Sl,Pl=Xi,Xf=Yi,vi=Yo,lc=Bo,UA=yr,Wa=Wc,rl[0]=Xo,rl[1]=Ru,rl[2]=xl,rl[3]=Xd,rl[4]=si,rl[5]=Du,rl[6]=ba,rl[7]=zc,rl[8]=bl,rl[9]=Ou,$c[0]=ec,$c[1]=$d,$c[2]=So,$c[3]=Zl,$c[4]=Tr,$c[5]=zn,$c[6]=Uu,uc[0]=Oi,uc[1]=Gf,uc[2]=Ea,uc[3]=El,uc[4]=nr,uc[5]=Sa,uc[6]=jc,O=1}else O=0}O&&(O=function(Ve,pt){for(Ve.M=0;Ve.M<Ve.Va;++Ve.M){var rt,Re=Ve.Jc[Ve.M&Ve.Xb],De=Ve.m,At=Ve;for(rt=0;rt<At.za;++rt){var wt=De,dt=At,Ht=dt.Ac,Rt=dt.Bc+4*rt,An=dt.zc,Ot=dt.ya[dt.aa+rt];if(dt.Qa.Bb?Ot.$b=he(wt,dt.Pa.jb[0])?2+he(wt,dt.Pa.jb[2]):he(wt,dt.Pa.jb[1]):Ot.$b=0,dt.kc&&(Ot.Ad=he(wt,dt.Bd)),Ot.Za=!he(wt,145)+0,Ot.Za){var rr=Ot.Ob,lr=0;for(dt=0;4>dt;++dt){var $n,Hn=An[0+dt];for($n=0;4>$n;++$n){Hn=SM[Ht[Rt+$n]][Hn];for(var fr=gg[he(wt,Hn[0])];0<fr;)fr=gg[2*fr+he(wt,Hn[fr])];Hn=-fr,Ht[Rt+$n]=Hn}r(rr,lr,Ht,Rt,4),lr+=4,An[0+dt]=Hn}}else Hn=he(wt,156)?he(wt,128)?1:3:he(wt,163)?2:0,Ot.Ob[0]=Hn,i(Ht,Rt,Hn,4),i(An,0,Hn,4);Ot.Dd=he(wt,142)?he(wt,114)?he(wt,183)?1:3:2:0}if(At.m.Ka)return Jt(Ve,7,"Premature end-of-partition0 encountered.");for(;Ve.ja<Ve.za;++Ve.ja){if(At=Re,wt=(De=Ve).rb[De.sb-1],Ht=De.rb[De.sb+De.ja],rt=De.ya[De.aa+De.ja],Rt=De.kc?rt.Ad:0)wt.la=Ht.la=0,rt.Za||(wt.Na=Ht.Na=0),rt.Hc=0,rt.Gc=0,rt.ia=0;else{var xr,Mn;if(wt=Ht,Ht=At,Rt=De.Pa.Xc,An=De.ya[De.aa+De.ja],Ot=De.pb[An.$b],dt=An.ad,rr=0,lr=De.rb[De.sb-1],Hn=$n=0,i(dt,rr,0,384),An.Za)var Si=0,Ta=Rt[3];else{fr=s(16);var Ci=wt.Na+lr.Na;if(Ci=np(Ht,Rt[1],Ci,Ot.Eb,0,fr,0),wt.Na=lr.Na=(0<Ci)+0,1<Ci)_r(fr,0,dt,rr);else{var Ma=fr[0]+3>>3;for(fr=0;256>fr;fr+=16)dt[rr+fr]=Ma}Si=1,Ta=Rt[0]}var ar=15&wt.la,ta=15&lr.la;for(fr=0;4>fr;++fr){var na=1&ta;for(Ma=Mn=0;4>Ma;++Ma)ar=ar>>1|(na=(Ci=np(Ht,Ta,Ci=na+(1&ar),Ot.Sc,Si,dt,rr))>Si)<<7,Mn=Mn<<2|(3<Ci?3:1<Ci?2:dt[rr+0]!=0),rr+=16;ar>>=4,ta=ta>>1|na<<7,$n=($n<<8|Mn)>>>0}for(Ta=ar,Si=ta>>4,xr=0;4>xr;xr+=2){for(Mn=0,ar=wt.la>>4+xr,ta=lr.la>>4+xr,fr=0;2>fr;++fr){for(na=1&ta,Ma=0;2>Ma;++Ma)Ci=na+(1&ar),ar=ar>>1|(na=0<(Ci=np(Ht,Rt[2],Ci,Ot.Qc,0,dt,rr)))<<3,Mn=Mn<<2|(3<Ci?3:1<Ci?2:dt[rr+0]!=0),rr+=16;ar>>=2,ta=ta>>1|na<<5}Hn|=Mn<<4*xr,Ta|=ar<<4<<xr,Si|=(240&ta)<<xr}wt.la=Ta,lr.la=Si,An.Hc=$n,An.Gc=Hn,An.ia=43690&Hn?0:Ot.ia,Rt=!($n|Hn)}if(0<De.L&&(De.wa[De.Y+De.ja]=De.gd[rt.$b][rt.Za],De.wa[De.Y+De.ja].La|=!Rt),At.Ka)return Jt(Ve,7,"Premature end-of-file encountered.")}if(Kr(Ve),De=pt,At=1,rt=(Re=Ve).D,wt=0<Re.L&&Re.M>=Re.zb&&Re.M<=Re.Va,Re.Aa==0)e:{if(rt.M=Re.M,rt.uc=wt,Ga(Re,rt),At=1,rt=(Mn=Re.D).Nb,wt=(Hn=kA[Re.L])*Re.R,Ht=Hn/2*Re.B,fr=16*rt*Re.R,Ma=8*rt*Re.B,Rt=Re.sa,An=Re.ta-wt+fr,Ot=Re.qa,dt=Re.ra-Ht+Ma,rr=Re.Ha,lr=Re.Ia-Ht+Ma,ta=(ar=Mn.M)==0,$n=ar>=Re.Va-1,Re.Aa==2&&Ga(Re,Mn),Mn.uc)for(na=(Ci=Re).D.M,e(Ci.D.uc),Mn=Ci.yb;Mn<Ci.Hb;++Mn){Si=Mn,Ta=na;var Bi=(Vi=(Xr=Ci).D).Nb;xr=Xr.R;var Vi=Vi.wa[Vi.Y+Si],Zi=Xr.sa,Ka=Xr.ta+16*Bi*xr+16*Si,sl=Vi.dd,zi=Vi.tc;if(zi!=0)if(e(3<=zi),Xr.L==1)0<Si&&lc(Zi,Ka,xr,zi+4),Vi.La&&Wa(Zi,Ka,xr,zi),0<Ta&&vi(Zi,Ka,xr,zi+4),Vi.La&&UA(Zi,Ka,xr,zi);else{var fc=Xr.B,Xc=Xr.qa,rh=Xr.ra+8*Bi*fc+8*Si,Nl=Xr.Ha,Xr=Xr.Ia+8*Bi*fc+8*Si;Bi=Vi.ld,0<Si&&(kr(Zi,Ka,xr,zi+4,sl,Bi),qr(Xc,rh,Nl,Xr,fc,zi+4,sl,Bi)),Vi.La&&(nl(Zi,Ka,xr,zi,sl,Bi),Xf(Xc,rh,Nl,Xr,fc,zi,sl,Bi)),0<Ta&&(Il(Zi,Ka,xr,zi+4,sl,Bi),Qi(Xc,rh,Nl,Xr,fc,zi+4,sl,Bi)),Vi.La&&(oc(Zi,Ka,xr,zi,sl,Bi),Pl(Xc,rh,Nl,Xr,fc,zi,sl,Bi))}}if(Re.ia&&alert("todo:DitherRow"),De.put!=null){if(Mn=16*ar,ar=16*(ar+1),ta?(De.y=Re.sa,De.O=Re.ta+fr,De.f=Re.qa,De.N=Re.ra+Ma,De.ea=Re.Ha,De.W=Re.Ia+Ma):(Mn-=Hn,De.y=Rt,De.O=An,De.f=Ot,De.N=dt,De.ea=rr,De.W=lr),$n||(ar-=Hn),ar>De.o&&(ar=De.o),De.F=null,De.J=null,Re.Fa!=null&&0<Re.Fa.length&&Mn<ar&&(De.J=qc(Re,De,Mn,ar-Mn),De.F=Re.mb,De.F==null&&De.F.length==0)){At=Jt(Re,3,"Could not decode alpha data.");break e}Mn<De.j&&(Hn=De.j-Mn,Mn=De.j,e(!(1&Hn)),De.O+=Re.R*Hn,De.N+=Re.B*(Hn>>1),De.W+=Re.B*(Hn>>1),De.F!=null&&(De.J+=De.width*Hn)),Mn<ar&&(De.O+=De.v,De.N+=De.v>>1,De.W+=De.v>>1,De.F!=null&&(De.J+=De.v),De.ka=Mn-De.j,De.U=De.va-De.v,De.T=ar-Mn,At=De.put(De))}rt+1!=Re.Ic||$n||(r(Re.sa,Re.ta-wt,Rt,An+16*Re.R,wt),r(Re.qa,Re.ra-Ht,Ot,dt+8*Re.B,Ht),r(Re.Ha,Re.Ia-Ht,rr,lr+8*Re.B,Ht))}if(!At)return Jt(Ve,6,"Output aborted.")}return 1}(x,C)),C.bc!=null&&C.bc(C),O&=1}return O?(x.cb=0,O):0}function ii(x,C,O,K,oe){oe=x[C+O+32*K]+(oe>>3),x[C+O+32*K]=-256&oe?0>oe?0:255:oe}function Eo(x,C,O,K,oe,ce){ii(x,C,0,O,K+oe),ii(x,C,1,O,K+ce),ii(x,C,2,O,K-ce),ii(x,C,3,O,K-oe)}function Qn(x){return(20091*x>>16)+x}function Di(x,C,O,K){var oe,ce=0,Ae=s(16);for(oe=0;4>oe;++oe){var pe=x[C+0]+x[C+8],we=x[C+0]-x[C+8],Se=(35468*x[C+4]>>16)-Qn(x[C+12]),Ue=Qn(x[C+4])+(35468*x[C+12]>>16);Ae[ce+0]=pe+Ue,Ae[ce+1]=we+Se,Ae[ce+2]=we-Se,Ae[ce+3]=pe-Ue,ce+=4,C++}for(oe=ce=0;4>oe;++oe)pe=(x=Ae[ce+0]+4)+Ae[ce+8],we=x-Ae[ce+8],Se=(35468*Ae[ce+4]>>16)-Qn(Ae[ce+12]),ii(O,K,0,0,pe+(Ue=Qn(Ae[ce+4])+(35468*Ae[ce+12]>>16))),ii(O,K,1,0,we+Se),ii(O,K,2,0,we-Se),ii(O,K,3,0,pe-Ue),ce++,K+=32}function Ei(x,C,O,K){var oe=x[C+0]+4,ce=35468*x[C+4]>>16,Ae=Qn(x[C+4]),pe=35468*x[C+1]>>16;Eo(O,K,0,oe+Ae,x=Qn(x[C+1]),pe),Eo(O,K,1,oe+ce,x,pe),Eo(O,K,2,oe-ce,x,pe),Eo(O,K,3,oe-Ae,x,pe)}function _l(x,C,O,K,oe){Di(x,C,O,K),oe&&Di(x,C+16,O,K+4)}function MA(x,C,O,K){tl(x,C+0,O,K,1),tl(x,C+32,O,K+128,1)}function vr(x,C,O,K){var oe;for(x=x[C+0]+4,oe=0;4>oe;++oe)for(C=0;4>C;++C)ii(O,K,C,oe,x)}function Ko(x,C,O,K){x[C+0]&&gs(x,C+0,O,K),x[C+16]&&gs(x,C+16,O,K+4),x[C+32]&&gs(x,C+32,O,K+128),x[C+48]&&gs(x,C+48,O,K+128+4)}function qo(x,C,O,K){var oe,ce=s(16);for(oe=0;4>oe;++oe){var Ae=x[C+0+oe]+x[C+12+oe],pe=x[C+4+oe]+x[C+8+oe],we=x[C+4+oe]-x[C+8+oe],Se=x[C+0+oe]-x[C+12+oe];ce[0+oe]=Ae+pe,ce[8+oe]=Ae-pe,ce[4+oe]=Se+we,ce[12+oe]=Se-we}for(oe=0;4>oe;++oe)Ae=(x=ce[0+4*oe]+3)+ce[3+4*oe],pe=ce[1+4*oe]+ce[2+4*oe],we=ce[1+4*oe]-ce[2+4*oe],Se=x-ce[3+4*oe],O[K+0]=Ae+pe>>3,O[K+16]=Se+we>>3,O[K+32]=Ae-pe>>3,O[K+48]=Se-we>>3,K+=64}function xa(x,C,O){var K,oe=C-32,ce=Ba,Ae=255-x[oe-1];for(K=0;K<O;++K){var pe,we=ce,Se=Ae+x[C-1];for(pe=0;pe<O;++pe)x[C+pe]=we[Se+x[oe+pe]];C+=32}}function Ru(x,C){xa(x,C,4)}function Gf(x,C){xa(x,C,8)}function $d(x,C){xa(x,C,16)}function So(x,C){var O;for(O=0;16>O;++O)r(x,C+32*O,x,C-32,16)}function Zl(x,C){var O;for(O=16;0<O;--O)i(x,C,x[C-1],16),C+=32}function $o(x,C,O){var K;for(K=0;16>K;++K)i(C,O+32*K,x,16)}function ec(x,C){var O,K=16;for(O=0;16>O;++O)K+=x[C-1+32*O]+x[C+O-32];$o(K>>5,x,C)}function Tr(x,C){var O,K=8;for(O=0;16>O;++O)K+=x[C-1+32*O];$o(K>>4,x,C)}function zn(x,C){var O,K=8;for(O=0;16>O;++O)K+=x[C+O-32];$o(K>>4,x,C)}function Uu(x,C){$o(128,x,C)}function dn(x,C,O){return x+2*C+O+2>>2}function xl(x,C){var O,K=C-32;for(K=new Uint8Array([dn(x[K-1],x[K+0],x[K+1]),dn(x[K+0],x[K+1],x[K+2]),dn(x[K+1],x[K+2],x[K+3]),dn(x[K+2],x[K+3],x[K+4])]),O=0;4>O;++O)r(x,C+32*O,K,0,K.length)}function Xd(x,C){var O=x[C-1],K=x[C-1+32],oe=x[C-1+64],ce=x[C-1+96];ve(x,C+0,16843009*dn(x[C-1-32],O,K)),ve(x,C+32,16843009*dn(O,K,oe)),ve(x,C+64,16843009*dn(K,oe,ce)),ve(x,C+96,16843009*dn(oe,ce,ce))}function Xo(x,C){var O,K=4;for(O=0;4>O;++O)K+=x[C+O-32]+x[C-1+32*O];for(K>>=3,O=0;4>O;++O)i(x,C+32*O,K,4)}function si(x,C){var O=x[C-1+0],K=x[C-1+32],oe=x[C-1+64],ce=x[C-1-32],Ae=x[C+0-32],pe=x[C+1-32],we=x[C+2-32],Se=x[C+3-32];x[C+0+96]=dn(K,oe,x[C-1+96]),x[C+1+96]=x[C+0+64]=dn(O,K,oe),x[C+2+96]=x[C+1+64]=x[C+0+32]=dn(ce,O,K),x[C+3+96]=x[C+2+64]=x[C+1+32]=x[C+0+0]=dn(Ae,ce,O),x[C+3+64]=x[C+2+32]=x[C+1+0]=dn(pe,Ae,ce),x[C+3+32]=x[C+2+0]=dn(we,pe,Ae),x[C+3+0]=dn(Se,we,pe)}function ba(x,C){var O=x[C+1-32],K=x[C+2-32],oe=x[C+3-32],ce=x[C+4-32],Ae=x[C+5-32],pe=x[C+6-32],we=x[C+7-32];x[C+0+0]=dn(x[C+0-32],O,K),x[C+1+0]=x[C+0+32]=dn(O,K,oe),x[C+2+0]=x[C+1+32]=x[C+0+64]=dn(K,oe,ce),x[C+3+0]=x[C+2+32]=x[C+1+64]=x[C+0+96]=dn(oe,ce,Ae),x[C+3+32]=x[C+2+64]=x[C+1+96]=dn(ce,Ae,pe),x[C+3+64]=x[C+2+96]=dn(Ae,pe,we),x[C+3+96]=dn(pe,we,we)}function Du(x,C){var O=x[C-1+0],K=x[C-1+32],oe=x[C-1+64],ce=x[C-1-32],Ae=x[C+0-32],pe=x[C+1-32],we=x[C+2-32],Se=x[C+3-32];x[C+0+0]=x[C+1+64]=ce+Ae+1>>1,x[C+1+0]=x[C+2+64]=Ae+pe+1>>1,x[C+2+0]=x[C+3+64]=pe+we+1>>1,x[C+3+0]=we+Se+1>>1,x[C+0+96]=dn(oe,K,O),x[C+0+64]=dn(K,O,ce),x[C+0+32]=x[C+1+96]=dn(O,ce,Ae),x[C+1+32]=x[C+2+96]=dn(ce,Ae,pe),x[C+2+32]=x[C+3+96]=dn(Ae,pe,we),x[C+3+32]=dn(pe,we,Se)}function zc(x,C){var O=x[C+0-32],K=x[C+1-32],oe=x[C+2-32],ce=x[C+3-32],Ae=x[C+4-32],pe=x[C+5-32],we=x[C+6-32],Se=x[C+7-32];x[C+0+0]=O+K+1>>1,x[C+1+0]=x[C+0+64]=K+oe+1>>1,x[C+2+0]=x[C+1+64]=oe+ce+1>>1,x[C+3+0]=x[C+2+64]=ce+Ae+1>>1,x[C+0+32]=dn(O,K,oe),x[C+1+32]=x[C+0+96]=dn(K,oe,ce),x[C+2+32]=x[C+1+96]=dn(oe,ce,Ae),x[C+3+32]=x[C+2+96]=dn(ce,Ae,pe),x[C+3+64]=dn(Ae,pe,we),x[C+3+96]=dn(pe,we,Se)}function Ou(x,C){var O=x[C-1+0],K=x[C-1+32],oe=x[C-1+64],ce=x[C-1+96];x[C+0+0]=O+K+1>>1,x[C+2+0]=x[C+0+32]=K+oe+1>>1,x[C+2+32]=x[C+0+64]=oe+ce+1>>1,x[C+1+0]=dn(O,K,oe),x[C+3+0]=x[C+1+32]=dn(K,oe,ce),x[C+3+32]=x[C+1+64]=dn(oe,ce,ce),x[C+3+64]=x[C+2+64]=x[C+0+96]=x[C+1+96]=x[C+2+96]=x[C+3+96]=ce}function bl(x,C){var O=x[C-1+0],K=x[C-1+32],oe=x[C-1+64],ce=x[C-1+96],Ae=x[C-1-32],pe=x[C+0-32],we=x[C+1-32],Se=x[C+2-32];x[C+0+0]=x[C+2+32]=O+Ae+1>>1,x[C+0+32]=x[C+2+64]=K+O+1>>1,x[C+0+64]=x[C+2+96]=oe+K+1>>1,x[C+0+96]=ce+oe+1>>1,x[C+3+0]=dn(pe,we,Se),x[C+2+0]=dn(Ae,pe,we),x[C+1+0]=x[C+3+32]=dn(O,Ae,pe),x[C+1+32]=x[C+3+64]=dn(K,O,Ae),x[C+1+64]=x[C+3+96]=dn(oe,K,O),x[C+1+96]=dn(ce,oe,K)}function Ea(x,C){var O;for(O=0;8>O;++O)r(x,C+32*O,x,C-32,8)}function El(x,C){var O;for(O=0;8>O;++O)i(x,C,x[C-1],8),C+=32}function Co(x,C,O){var K;for(K=0;8>K;++K)i(C,O+32*K,x,8)}function Oi(x,C){var O,K=8;for(O=0;8>O;++O)K+=x[C+O-32]+x[C-1+32*O];Co(K>>4,x,C)}function Sa(x,C){var O,K=4;for(O=0;8>O;++O)K+=x[C+O-32];Co(K>>3,x,C)}function nr(x,C){var O,K=4;for(O=0;8>O;++O)K+=x[C-1+32*O];Co(K>>3,x,C)}function jc(x,C){Co(128,x,C)}function Gc(x,C,O){var K=x[C-O],oe=x[C+0],ce=3*(oe-K)+Ag[1020+x[C-2*O]-x[C+O]],Ae=Zd[112+(ce+4>>3)];x[C-O]=Ba[255+K+Zd[112+(ce+3>>3)]],x[C+0]=Ba[255+oe-Ae]}function IA(x,C,O,K){var oe=x[C+0],ce=x[C+O];return Js[255+x[C-2*O]-x[C-O]]>K||Js[255+ce-oe]>K}function $s(x,C,O,K){return 4*Js[255+x[C-O]-x[C+0]]+Js[255+x[C-2*O]-x[C+O]]<=K}function PA(x,C,O,K,oe){var ce=x[C-3*O],Ae=x[C-2*O],pe=x[C-O],we=x[C+0],Se=x[C+O],Ue=x[C+2*O],Ne=x[C+3*O];return 4*Js[255+pe-we]+Js[255+Ae-Se]>K?0:Js[255+x[C-4*O]-ce]<=oe&&Js[255+ce-Ae]<=oe&&Js[255+Ae-pe]<=oe&&Js[255+Ne-Ue]<=oe&&Js[255+Ue-Se]<=oe&&Js[255+Se-we]<=oe}function Yo(x,C,O,K){var oe=2*K+1;for(K=0;16>K;++K)$s(x,C+K,O,oe)&&Gc(x,C+K,O)}function Bo(x,C,O,K){var oe=2*K+1;for(K=0;16>K;++K)$s(x,C+K*O,1,oe)&&Gc(x,C+K*O,1)}function yr(x,C,O,K){var oe;for(oe=3;0<oe;--oe)Yo(x,C+=4*O,O,K)}function Wc(x,C,O,K){var oe;for(oe=3;0<oe;--oe)Bo(x,C+=4,O,K)}function To(x,C,O,K,oe,ce,Ae,pe){for(ce=2*ce+1;0<oe--;){if(PA(x,C,O,ce,Ae))if(IA(x,C,O,pe))Gc(x,C,O);else{var we=x,Se=C,Ue=O,Ne=we[Se-2*Ue],$e=we[Se-Ue],Ve=we[Se+0],pt=we[Se+Ue],rt=we[Se+2*Ue],Re=27*(At=Ag[1020+3*(Ve-$e)+Ag[1020+Ne-pt]])+63>>7,De=18*At+63>>7,At=9*At+63>>7;we[Se-3*Ue]=Ba[255+we[Se-3*Ue]+At],we[Se-2*Ue]=Ba[255+Ne+De],we[Se-Ue]=Ba[255+$e+Re],we[Se+0]=Ba[255+Ve-Re],we[Se+Ue]=Ba[255+pt-De],we[Se+2*Ue]=Ba[255+rt-At]}C+=K}}function gi(x,C,O,K,oe,ce,Ae,pe){for(ce=2*ce+1;0<oe--;){if(PA(x,C,O,ce,Ae))if(IA(x,C,O,pe))Gc(x,C,O);else{var we=x,Se=C,Ue=O,Ne=we[Se-Ue],$e=we[Se+0],Ve=we[Se+Ue],pt=Zd[112+((rt=3*($e-Ne))+4>>3)],rt=Zd[112+(rt+3>>3)],Re=pt+1>>1;we[Se-2*Ue]=Ba[255+we[Se-2*Ue]+Re],we[Se-Ue]=Ba[255+Ne+rt],we[Se+0]=Ba[255+$e-pt],we[Se+Ue]=Ba[255+Ve-Re]}C+=K}}function tc(x,C,O,K,oe,ce){To(x,C,O,1,16,K,oe,ce)}function Mo(x,C,O,K,oe,ce){To(x,C,1,O,16,K,oe,ce)}function Kc(x,C,O,K,oe,ce){var Ae;for(Ae=3;0<Ae;--Ae)gi(x,C+=4*O,O,1,16,K,oe,ce)}function Sl(x,C,O,K,oe,ce){var Ae;for(Ae=3;0<Ae;--Ae)gi(x,C+=4,1,O,16,K,oe,ce)}function nc(x,C,O,K,oe,ce,Ae,pe){To(x,C,oe,1,8,ce,Ae,pe),To(O,K,oe,1,8,ce,Ae,pe)}function Jo(x,C,O,K,oe,ce,Ae,pe){To(x,C,1,oe,8,ce,Ae,pe),To(O,K,1,oe,8,ce,Ae,pe)}function Xi(x,C,O,K,oe,ce,Ae,pe){gi(x,C+4*oe,oe,1,8,ce,Ae,pe),gi(O,K+4*oe,oe,1,8,ce,Ae,pe)}function Yi(x,C,O,K,oe,ce,Ae,pe){gi(x,C+4,1,oe,8,ce,Ae,pe),gi(O,K+4,1,oe,8,ce,Ae,pe)}function Xs(){this.ba=new Le,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Et,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rc(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function ic(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ys(){this.ua=0,this.Wa=new se,this.vb=new se,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new X,this.yc=new D}function Io(){this.xb=this.a=0,this.l=new kt,this.ca=new Le,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new k,this.Pb=0,this.wd=new k,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ys,this.ab=0,this.gc=a(4,ic),this.Oc=0}function ja(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new kt,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Cl(x,C,O,K,oe,ce,Ae){for(x=x==null?0:x[C+0],C=0;C<Ae;++C)oe[ce+C]=x+O[K+C]&255,x=oe[ce+C]}function Bl(x,C,O,K,oe,ce,Ae){var pe;if(x==null)Cl(null,null,O,K,oe,ce,Ae);else for(pe=0;pe<Ae;++pe)oe[ce+pe]=x[C+pe]+O[K+pe]&255}function Ls(x,C,O,K,oe,ce,Ae){if(x==null)Cl(null,null,O,K,oe,ce,Ae);else{var pe,we=x[C+0],Se=we,Ue=we;for(pe=0;pe<Ae;++pe)Se=Ue+(we=x[C+pe])-Se,Ue=O[K+pe]+(-256&Se?0>Se?0:255:Se)&255,Se=we,oe[ce+pe]=Ue}}function qc(x,C,O,K){var oe=C.width,ce=C.o;if(e(x!=null&&C!=null),0>O||0>=K||O+K>ce)return null;if(!x.Cc){if(x.ga==null){var Ae;if(x.ga=new ja,(Ae=x.ga==null)||(Ae=C.width*C.o,e(x.Gb.length==0),x.Gb=s(Ae),x.Uc=0,x.Gb==null?Ae=0:(x.mb=x.Gb,x.nb=x.Uc,x.rc=null,Ae=1),Ae=!Ae),!Ae){Ae=x.ga;var pe=x.Fa,we=x.P,Se=x.qc,Ue=x.mb,Ne=x.nb,$e=we+1,Ve=Se-1,pt=Ae.l;if(e(pe!=null&&Ue!=null&&C!=null),il[0]=null,il[1]=Cl,il[2]=Bl,il[3]=Ls,Ae.ca=Ue,Ae.tb=Ne,Ae.c=C.width,Ae.i=C.height,e(0<Ae.c&&0<Ae.i),1>=Se)C=0;else if(Ae.$a=pe[we+0]>>0&3,Ae.Z=pe[we+0]>>2&3,Ae.Lc=pe[we+0]>>4&3,we=pe[we+0]>>6&3,0>Ae.$a||1<Ae.$a||4<=Ae.Z||1<Ae.Lc||we)C=0;else if(pt.put=Tn,pt.ac=ln,pt.bc=Gn,pt.ma=Ae,pt.width=C.width,pt.height=C.height,pt.Da=C.Da,pt.v=C.v,pt.va=C.va,pt.j=C.j,pt.o=C.o,Ae.$a)e:{e(Ae.$a==1),C=xe();t:for(;;){if(C==null){C=0;break e}if(e(Ae!=null),Ae.mc=C,C.c=Ae.c,C.i=Ae.i,C.l=Ae.l,C.l.ma=Ae,C.l.width=Ae.c,C.l.height=Ae.i,C.a=0,J(C.m,pe,$e,Ve),!Ge(Ae.c,Ae.i,1,C,null)||(C.ab==1&&C.gc[0].hc==3&&za(C.s)?(Ae.ic=1,pe=C.c*C.i,C.Ta=null,C.Ua=0,C.V=s(pe),C.Ba=0,C.V==null?(C.a=1,C=0):C=1):(Ae.ic=0,C=Ye(C,Ae.c)),!C))break t;C=1;break e}Ae.mc=null,C=0}else C=Ve>=Ae.c*Ae.i;Ae=!C}if(Ae)return null;x.ga.Lc!=1?x.Ga=0:K=ce-O}e(x.ga!=null),e(O+K<=ce);e:{if(C=(pe=x.ga).c,ce=pe.l.o,pe.$a==0){if($e=x.rc,Ve=x.Vc,pt=x.Fa,we=x.P+1+O*C,Se=x.mb,Ue=x.nb+O*C,e(we<=x.P+x.qc),pe.Z!=0)for(e(il[pe.Z]!=null),Ae=0;Ae<K;++Ae)il[pe.Z]($e,Ve,pt,we,Se,Ue,C),$e=Se,Ve=Ue,Ue+=C,we+=C;else for(Ae=0;Ae<K;++Ae)r(Se,Ue,pt,we,C),$e=Se,Ve=Ue,Ue+=C,we+=C;x.rc=$e,x.Vc=Ve}else{if(e(pe.mc!=null),C=O+K,e((Ae=pe.mc)!=null),e(C<=Ae.i),Ae.C>=C)C=1;else if(pe.ic||Qe(),pe.ic){pe=Ae.V,$e=Ae.Ba,Ve=Ae.c;var rt=Ae.i,Re=(pt=1,we=Ae.$/Ve,Se=Ae.$%Ve,Ue=Ae.m,Ne=Ae.s,Ae.$),De=Ve*rt,At=Ve*C,wt=Ne.wc,dt=Re<At?Cr(Ne,Se,we):null;e(Re<=De),e(C<=rt),e(za(Ne));t:for(;;){for(;!Ue.h&&Re<At;){if(Se&wt||(dt=Cr(Ne,Se,we)),e(dt!=null),q(Ue),256>(rt=Gr(dt.G[0],dt.H[0],Ue)))pe[$e+Re]=rt,++Re,++Se>=Ve&&(Se=0,++we<=C&&!(we%16)&&Ks(Ae,we));else{if(!(280>rt)){pt=0;break t}rt=Ar(rt-256,Ue);var Ht,Rt=Gr(dt.G[4],dt.H[4],Ue);if(q(Ue),!(Re>=(Rt=Sr(Ve,Rt=Ar(Rt,Ue)))&&De-Re>=rt)){pt=0;break t}for(Ht=0;Ht<rt;++Ht)pe[$e+Re+Ht]=pe[$e+Re+Ht-Rt];for(Re+=rt,Se+=rt;Se>=Ve;)Se-=Ve,++we<=C&&!(we%16)&&Ks(Ae,we);Re<At&&Se&wt&&(dt=Cr(Ne,Se,we))}e(Ue.h==j(Ue))}Ks(Ae,we>C?C:we);break t}!pt||Ue.h&&Re<De?(pt=0,Ae.a=Ue.h?5:3):Ae.$=Re,C=pt}else C=Is(Ae,Ae.V,Ae.Ba,Ae.c,Ae.i,C,et);if(!C){K=0;break e}}O+K>=ce&&(x.Cc=1),K=1}if(!K)return null;if(x.Cc&&((K=x.ga)!=null&&(K.mc=null),x.ga=null,0<x.Ga))return alert("todo:WebPDequantizeLevels"),null}return x.nb+O*oe}function U(x,C,O,K,oe,ce){for(;0<oe--;){var Ae,pe=x,we=C+(O?1:0),Se=x,Ue=C+(O?0:3);for(Ae=0;Ae<K;++Ae){var Ne=Se[Ue+4*Ae];Ne!=255&&(Ne*=32897,pe[we+4*Ae+0]=pe[we+4*Ae+0]*Ne>>23,pe[we+4*Ae+1]=pe[we+4*Ae+1]*Ne>>23,pe[we+4*Ae+2]=pe[we+4*Ae+2]*Ne>>23)}C+=ce}}function ae(x,C,O,K,oe){for(;0<K--;){var ce;for(ce=0;ce<O;++ce){var Ae=x[C+2*ce+0],pe=15&(Se=x[C+2*ce+1]),we=4369*pe,Se=(240&Se|Se>>4)*we>>16;x[C+2*ce+0]=(240&Ae|Ae>>4)*we>>16&240|(15&Ae|Ae<<4)*we>>16>>4&15,x[C+2*ce+1]=240&Se|pe}C+=oe}}function Me(x,C,O,K,oe,ce,Ae,pe){var we,Se,Ue=255;for(Se=0;Se<oe;++Se){for(we=0;we<K;++we){var Ne=x[C+we];ce[Ae+4*we]=Ne,Ue&=Ne}C+=O,Ae+=pe}return Ue!=255}function Fe(x,C,O,K,oe){var ce;for(ce=0;ce<oe;++ce)O[K+ce]=x[C+ce]>>8}function Qe(){Hi=U,Kn=ae,sr=Me,$r=Fe}function it(x,C,O){M[x]=function(K,oe,ce,Ae,pe,we,Se,Ue,Ne,$e,Ve,pt,rt,Re,De,At,wt){var dt,Ht=wt-1>>1,Rt=pe[we+0]|Se[Ue+0]<<16,An=Ne[$e+0]|Ve[pt+0]<<16;e(K!=null);var Ot=3*Rt+An+131074>>2;for(C(K[oe+0],255&Ot,Ot>>16,rt,Re),ce!=null&&(Ot=3*An+Rt+131074>>2,C(ce[Ae+0],255&Ot,Ot>>16,De,At)),dt=1;dt<=Ht;++dt){var rr=pe[we+dt]|Se[Ue+dt]<<16,lr=Ne[$e+dt]|Ve[pt+dt]<<16,$n=Rt+rr+An+lr+524296,Hn=$n+2*(rr+An)>>3;Ot=Hn+Rt>>1,Rt=($n=$n+2*(Rt+lr)>>3)+rr>>1,C(K[oe+2*dt-1],255&Ot,Ot>>16,rt,Re+(2*dt-1)*O),C(K[oe+2*dt-0],255&Rt,Rt>>16,rt,Re+(2*dt-0)*O),ce!=null&&(Ot=$n+An>>1,Rt=Hn+lr>>1,C(ce[Ae+2*dt-1],255&Ot,Ot>>16,De,At+(2*dt-1)*O),C(ce[Ae+2*dt+0],255&Rt,Rt>>16,De,At+(2*dt+0)*O)),Rt=rr,An=lr}1&wt||(Ot=3*Rt+An+131074>>2,C(K[oe+wt-1],255&Ot,Ot>>16,rt,Re+(wt-1)*O),ce!=null&&(Ot=3*An+Rt+131074>>2,C(ce[Ae+wt-1],255&Ot,Ot>>16,De,At+(wt-1)*O)))}}function vt(){Zs[ep]=vg,Zs[OA]=Ey,Zs[tp]=yg,Zs[Jf]=th,Zs[Hu]=Us,Zs[fg]=Mx,Zs[wy]=CM,Zs[hg]=Ey,Zs[dg]=th,Zs[Zf]=Us,Zs[pg]=Mx}function Lt(x){return x&-16384?0>x?0:255:x>>Ix}function b(x,C){return Lt((19077*x>>8)+(26149*C>>8)-14234)}function Q(x,C,O){return Lt((19077*x>>8)-(6419*C>>8)-(13320*O>>8)+8708)}function Z(x,C){return Lt((19077*x>>8)+(33050*C>>8)-17685)}function de(x,C,O,K,oe){K[oe+0]=b(x,O),K[oe+1]=Q(x,C,O),K[oe+2]=Z(x,C)}function Oe(x,C,O,K,oe){K[oe+0]=Z(x,C),K[oe+1]=Q(x,C,O),K[oe+2]=b(x,O)}function qe(x,C,O,K,oe){var ce=Q(x,C,O);C=ce<<3&224|Z(x,C)>>3,K[oe+0]=248&b(x,O)|ce>>5,K[oe+1]=C}function gt(x,C,O,K,oe){var ce=240&Z(x,C)|15;K[oe+0]=240&b(x,O)|Q(x,C,O)>>4,K[oe+1]=ce}function pn(x,C,O,K,oe){K[oe+0]=255,de(x,C,O,K,oe+1)}function jn(x,C,O,K,oe){Oe(x,C,O,K,oe),K[oe+3]=255}function bn(x,C,O,K,oe){de(x,C,O,K,oe),K[oe+3]=255}function ir(x,C){return 0>x?0:x>C?C:x}function Un(x,C,O){M[x]=function(K,oe,ce,Ae,pe,we,Se,Ue,Ne){for(var $e=Ue+(-2&Ne)*O;Ue!=$e;)C(K[oe+0],ce[Ae+0],pe[we+0],Se,Ue),C(K[oe+1],ce[Ae+0],pe[we+0],Se,Ue+O),oe+=2,++Ae,++we,Ue+=2*O;1&Ne&&C(K[oe+0],ce[Ae+0],pe[we+0],Se,Ue)}}function ai(x,C,O){return O==0?x==0?C==0?6:5:C==0?4:0:O}function Fn(x,C,O,K,oe){switch(x>>>30){case 3:tl(C,O,K,oe,0);break;case 2:li(C,O,K,oe);break;case 1:gs(C,O,K,oe)}}function Ga(x,C){var O,K,oe=C.M,ce=C.Nb,Ae=x.oc,pe=x.pc+40,we=x.oc,Se=x.pc+584,Ue=x.oc,Ne=x.pc+600;for(O=0;16>O;++O)Ae[pe+32*O-1]=129;for(O=0;8>O;++O)we[Se+32*O-1]=129,Ue[Ne+32*O-1]=129;for(0<oe?Ae[pe-1-32]=we[Se-1-32]=Ue[Ne-1-32]=129:(i(Ae,pe-32-1,127,21),i(we,Se-32-1,127,9),i(Ue,Ne-32-1,127,9)),K=0;K<x.za;++K){var $e=C.ya[C.aa+K];if(0<K){for(O=-1;16>O;++O)r(Ae,pe+32*O-4,Ae,pe+32*O+12,4);for(O=-1;8>O;++O)r(we,Se+32*O-4,we,Se+32*O+4,4),r(Ue,Ne+32*O-4,Ue,Ne+32*O+4,4)}var Ve=x.Gd,pt=x.Hd+K,rt=$e.ad,Re=$e.Hc;if(0<oe&&(r(Ae,pe-32,Ve[pt].y,0,16),r(we,Se-32,Ve[pt].f,0,8),r(Ue,Ne-32,Ve[pt].ea,0,8)),$e.Za){var De=Ae,At=pe-32+16;for(0<oe&&(K>=x.za-1?i(De,At,Ve[pt].y[15],4):r(De,At,Ve[pt+1].y,0,4)),O=0;4>O;O++)De[At+128+O]=De[At+256+O]=De[At+384+O]=De[At+0+O];for(O=0;16>O;++O,Re<<=2)De=Ae,At=pe+rp[O],rl[$e.Ob[O]](De,At),Fn(Re,rt,16*+O,De,At)}else if(De=ai(K,oe,$e.Ob[0]),$c[De](Ae,pe),Re!=0)for(O=0;16>O;++O,Re<<=2)Fn(Re,rt,16*+O,Ae,pe+rp[O]);for(O=$e.Gc,De=ai(K,oe,$e.Dd),uc[De](we,Se),uc[De](Ue,Ne),Re=rt,De=we,At=Se,255&($e=O>>0)&&(170&$e?RA(Re,256,De,At):ci(Re,256,De,At)),$e=Ue,Re=Ne,255&(O>>=8)&&(170&O?RA(rt,320,$e,Re):ci(rt,320,$e,Re)),oe<x.Ub-1&&(r(Ve[pt].y,0,Ae,pe+480,16),r(Ve[pt].f,0,we,Se+224,8),r(Ve[pt].ea,0,Ue,Ne+224,8)),O=8*ce*x.B,Ve=x.sa,pt=x.ta+16*K+16*ce*x.R,rt=x.qa,$e=x.ra+8*K+O,Re=x.Ha,De=x.Ia+8*K+O,O=0;16>O;++O)r(Ve,pt+O*x.R,Ae,pe+32*O,16);for(O=0;8>O;++O)r(rt,$e+O*x.B,we,Se+32*O,8),r(Re,De+O*x.B,Ue,Ne+32*O,8)}}function ki(x,C,O,K,oe,ce,Ae,pe,we){var Se=[0],Ue=[0],Ne=0,$e=we!=null?we.kd:0,Ve=we??new rc;if(x==null||12>O)return 7;Ve.data=x,Ve.w=C,Ve.ha=O,C=[C],O=[O],Ve.gb=[Ve.gb];e:{var pt=C,rt=O,Re=Ve.gb;if(e(x!=null),e(rt!=null),e(Re!=null),Re[0]=0,12<=rt[0]&&!n(x,pt[0],"RIFF")){if(n(x,pt[0]+8,"WEBP")){Re=3;break e}var De=Te(x,pt[0]+4);if(12>De||4294967286<De){Re=3;break e}if($e&&De>rt[0]-8){Re=7;break e}Re[0]=De,pt[0]+=12,rt[0]-=12}Re=0}if(Re!=0)return Re;for(De=0<Ve.gb[0],O=O[0];;){e:{var At=x;rt=C,Re=O;var wt=Se,dt=Ue,Ht=pt=[0];if((Ot=Ne=[Ne])[0]=0,8>Re[0])Re=7;else{if(!n(At,rt[0],"VP8X")){if(Te(At,rt[0]+4)!=10){Re=3;break e}if(18>Re[0]){Re=7;break e}var Rt=Te(At,rt[0]+8),An=1+ie(At,rt[0]+12);if(2147483648<=An*(At=1+ie(At,rt[0]+15))){Re=3;break e}Ht!=null&&(Ht[0]=Rt),wt!=null&&(wt[0]=An),dt!=null&&(dt[0]=At),rt[0]+=18,Re[0]-=18,Ot[0]=1}Re=0}}if(Ne=Ne[0],pt=pt[0],Re!=0)return Re;if(rt=!!(2&pt),!De&&Ne)return 3;if(ce!=null&&(ce[0]=!!(16&pt)),Ae!=null&&(Ae[0]=rt),pe!=null&&(pe[0]=0),Ae=Se[0],pt=Ue[0],Ne&&rt&&we==null){Re=0;break}if(4>O){Re=7;break}if(De&&Ne||!De&&!Ne&&!n(x,C[0],"ALPH")){O=[O],Ve.na=[Ve.na],Ve.P=[Ve.P],Ve.Sa=[Ve.Sa];e:{Rt=x,Re=C,De=O;var Ot=Ve.gb;wt=Ve.na,dt=Ve.P,Ht=Ve.Sa,An=22,e(Rt!=null),e(De!=null),At=Re[0];var rr=De[0];for(e(wt!=null),e(Ht!=null),wt[0]=null,dt[0]=null,Ht[0]=0;;){if(Re[0]=At,De[0]=rr,8>rr){Re=7;break e}var lr=Te(Rt,At+4);if(4294967286<lr){Re=3;break e}var $n=8+lr+1&-2;if(An+=$n,0<Ot&&An>Ot){Re=3;break e}if(!n(Rt,At,"VP8 ")||!n(Rt,At,"VP8L")){Re=0;break e}if(rr[0]<$n){Re=7;break e}n(Rt,At,"ALPH")||(wt[0]=Rt,dt[0]=At+8,Ht[0]=lr),At+=$n,rr-=$n}}if(O=O[0],Ve.na=Ve.na[0],Ve.P=Ve.P[0],Ve.Sa=Ve.Sa[0],Re!=0)break}O=[O],Ve.Ja=[Ve.Ja],Ve.xa=[Ve.xa];e:if(Ot=x,Re=C,De=O,wt=Ve.gb[0],dt=Ve.Ja,Ht=Ve.xa,Rt=Re[0],At=!n(Ot,Rt,"VP8 "),An=!n(Ot,Rt,"VP8L"),e(Ot!=null),e(De!=null),e(dt!=null),e(Ht!=null),8>De[0])Re=7;else{if(At||An){if(Ot=Te(Ot,Rt+4),12<=wt&&Ot>wt-12){Re=3;break e}if($e&&Ot>De[0]-8){Re=7;break e}dt[0]=Ot,Re[0]+=8,De[0]-=8,Ht[0]=An}else Ht[0]=5<=De[0]&&Ot[Rt+0]==47&&!(Ot[Rt+4]>>5),dt[0]=De[0];Re=0}if(O=O[0],Ve.Ja=Ve.Ja[0],Ve.xa=Ve.xa[0],C=C[0],Re!=0)break;if(4294967286<Ve.Ja)return 3;if(pe==null||rt||(pe[0]=Ve.xa?2:1),Ae=[Ae],pt=[pt],Ve.xa){if(5>O){Re=7;break}pe=Ae,$e=pt,rt=ce,x==null||5>O?x=0:5<=O&&x[C+0]==47&&!(x[C+4]>>5)?(De=[0],Ot=[0],wt=[0],J(dt=new k,x,C,O),St(dt,De,Ot,wt)?(pe!=null&&(pe[0]=De[0]),$e!=null&&($e[0]=Ot[0]),rt!=null&&(rt[0]=wt[0]),x=1):x=0):x=0}else{if(10>O){Re=7;break}pe=pt,x==null||10>O||!wr(x,C+3,O-3)?x=0:($e=x[C+0]|x[C+1]<<8|x[C+2]<<16,rt=16383&(x[C+7]<<8|x[C+6]),x=16383&(x[C+9]<<8|x[C+8]),1&$e||3<($e>>1&7)||!($e>>4&1)||$e>>5>=Ve.Ja||!rt||!x?x=0:(Ae&&(Ae[0]=rt),pe&&(pe[0]=x),x=1))}if(!x||(Ae=Ae[0],pt=pt[0],Ne&&(Se[0]!=Ae||Ue[0]!=pt)))return 3;we!=null&&(we[0]=Ve,we.offset=C-we.w,e(4294967286>C-we.w),e(we.offset==we.ha-O));break}return Re==0||Re==7&&Ne&&we==null?(ce!=null&&(ce[0]|=Ve.na!=null&&0<Ve.na.length),K!=null&&(K[0]=Ae),oe!=null&&(oe[0]=pt),0):Re}function Wf(x,C,O){var K=C.width,oe=C.height,ce=0,Ae=0,pe=K,we=oe;if(C.Da=x!=null&&0<x.Da,C.Da&&(pe=x.cd,we=x.bd,ce=x.v,Ae=x.j,11>O||(ce&=-2,Ae&=-2),0>ce||0>Ae||0>=pe||0>=we||ce+pe>K||Ae+we>oe))return 0;if(C.v=ce,C.j=Ae,C.va=ce+pe,C.o=Ae+we,C.U=pe,C.T=we,C.da=x!=null&&0<x.da,C.da){if(!ze(pe,we,O=[x.ib],ce=[x.hb]))return 0;C.ib=O[0],C.hb=ce[0]}return C.ob=x!=null&&x.ob,C.Kb=x==null||!x.Sd,C.da&&(C.ob=C.ib<3*K/4&&C.hb<3*oe/4,C.Kb=0),1}function Kf(x){if(x==null)return 2;if(11>x.S){var C=x.f.RGBA;C.fb+=(x.height-1)*C.A,C.A=-C.A}else C=x.f.kb,x=x.height,C.O+=(x-1)*C.fa,C.fa=-C.fa,C.N+=(x-1>>1)*C.Ab,C.Ab=-C.Ab,C.W+=(x-1>>1)*C.Db,C.Db=-C.Db,C.F!=null&&(C.J+=(x-1)*C.lb,C.lb=-C.lb);return 0}function ku(x,C,O,K){if(K==null||0>=x||0>=C)return 2;if(O!=null){if(O.Da){var oe=O.cd,ce=O.bd,Ae=-2&O.v,pe=-2&O.j;if(0>Ae||0>pe||0>=oe||0>=ce||Ae+oe>x||pe+ce>C)return 2;x=oe,C=ce}if(O.da){if(!ze(x,C,oe=[O.ib],ce=[O.hb]))return 2;x=oe[0],C=ce[0]}}K.width=x,K.height=C;e:{var we=K.width,Se=K.height;if(x=K.S,0>=we||0>=Se||!(x>=ep&&13>x))x=2;else{if(0>=K.Rd&&K.sd==null){Ae=ce=oe=C=0;var Ue=(pe=we*My[x])*Se;if(11>x||(ce=(Se+1)/2*(C=(we+1)/2),x==12&&(Ae=(oe=we)*Se)),(Se=s(Ue+2*ce+Ae))==null){x=1;break e}K.sd=Se,11>x?((we=K.f.RGBA).eb=Se,we.fb=0,we.A=pe,we.size=Ue):((we=K.f.kb).y=Se,we.O=0,we.fa=pe,we.Fd=Ue,we.f=Se,we.N=0+Ue,we.Ab=C,we.Cd=ce,we.ea=Se,we.W=0+Ue+ce,we.Db=C,we.Ed=ce,x==12&&(we.F=Se,we.J=0+Ue+2*ce),we.Tc=Ae,we.lb=oe)}if(C=1,oe=K.S,ce=K.width,Ae=K.height,oe>=ep&&13>oe)if(11>oe)x=K.f.RGBA,C&=(pe=Math.abs(x.A))*(Ae-1)+ce<=x.size,C&=pe>=ce*My[oe],C&=x.eb!=null;else{x=K.f.kb,pe=(ce+1)/2,Ue=(Ae+1)/2,we=Math.abs(x.fa),Se=Math.abs(x.Ab);var Ne=Math.abs(x.Db),$e=Math.abs(x.lb),Ve=$e*(Ae-1)+ce;C&=we*(Ae-1)+ce<=x.Fd,C&=Se*(Ue-1)+pe<=x.Cd,C=(C&=Ne*(Ue-1)+pe<=x.Ed)&we>=ce&Se>=pe&Ne>=pe,C&=x.y!=null,C&=x.f!=null,C&=x.ea!=null,oe==12&&(C&=$e>=ce,C&=Ve<=x.Tc,C&=x.F!=null)}else C=0;x=C?0:2}}return x!=0||O!=null&&O.fd&&(x=Kf(K)),x}var Ji=64,NA=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],sc=24,Tl=32,LA=8,ms=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];te("Predictor0","PredictorAdd0"),M.Predictor0=function(){return 4278190080},M.Predictor1=function(x){return x},M.Predictor2=function(x,C,O){return C[O+0]},M.Predictor3=function(x,C,O){return C[O+1]},M.Predictor4=function(x,C,O){return C[O-1]},M.Predictor5=function(x,C,O){return ke(ke(x,C[O+1]),C[O+0])},M.Predictor6=function(x,C,O){return ke(x,C[O-1])},M.Predictor7=function(x,C,O){return ke(x,C[O+0])},M.Predictor8=function(x,C,O){return ke(C[O-1],C[O+0])},M.Predictor9=function(x,C,O){return ke(C[O+0],C[O+1])},M.Predictor10=function(x,C,O){return ke(ke(x,C[O-1]),ke(C[O+0],C[O+1]))},M.Predictor11=function(x,C,O){var K=C[O+0];return 0>=ft(K>>24&255,x>>24&255,(C=C[O-1])>>24&255)+ft(K>>16&255,x>>16&255,C>>16&255)+ft(K>>8&255,x>>8&255,C>>8&255)+ft(255&K,255&x,255&C)?K:x},M.Predictor12=function(x,C,O){var K=C[O+0];return(Ke((x>>24&255)+(K>>24&255)-((C=C[O-1])>>24&255))<<24|Ke((x>>16&255)+(K>>16&255)-(C>>16&255))<<16|Ke((x>>8&255)+(K>>8&255)-(C>>8&255))<<8|Ke((255&x)+(255&K)-(255&C)))>>>0},M.Predictor13=function(x,C,O){var K=C[O-1];return(je((x=ke(x,C[O+0]))>>24&255,K>>24&255)<<24|je(x>>16&255,K>>16&255)<<16|je(x>>8&255,K>>8&255)<<8|je(x>>0&255,K>>0&255))>>>0};var qf=M.PredictorAdd0;M.PredictorAdd1=nt,te("Predictor2","PredictorAdd2"),te("Predictor3","PredictorAdd3"),te("Predictor4","PredictorAdd4"),te("Predictor5","PredictorAdd5"),te("Predictor6","PredictorAdd6"),te("Predictor7","PredictorAdd7"),te("Predictor8","PredictorAdd8"),te("Predictor9","PredictorAdd9"),te("Predictor10","PredictorAdd10"),te("Predictor11","PredictorAdd11"),te("Predictor12","PredictorAdd12"),te("Predictor13","PredictorAdd13");var $f=M.PredictorAdd2;Ze("ColorIndexInverseTransform","MapARGB","32b",function(x){return x>>8&255},function(x){return x}),Ze("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(x){return x},function(x){return x>>8&255});var Yd,Fs=M.ColorIndexInverseTransform,FA=M.MapARGB,Qu=M.VP8LColorIndexInverseTransformAlpha,Ca=M.MapAlpha,Zo=M.VP8LPredictorsAdd=[];Zo.length=16,(M.VP8LPredictors=[]).length=16,(M.VP8LPredictorsAdd_C=[]).length=16,(M.VP8LPredictors_C=[]).length=16;var el,oi,Rs,Po,ac,Ml,_r,tl,li,RA,gs,ci,Il,kr,Qi,qr,oc,nl,Pl,Xf,vi,lc,UA,Wa,Hi,Kn,sr,$r,yi=s(511),cc=s(2041),Yf=s(225),DA=s(767),Jd=0,Ag=cc,Zd=Yf,Ba=DA,Js=yi,ep=0,OA=1,tp=2,Jf=3,Hu=4,fg=5,wy=6,hg=7,dg=8,Zf=9,pg=10,bx=[2,3,7],wM=[3,3,11],_y=[280,256,256,256,40],_M=[0,1,1,1,0],xM=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ex=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Sx=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Cx=8,mg=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],eh=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],np=null,bM=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],EM=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],gg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],xy=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],SM=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Bx=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Tx=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$c=[],rl=[],uc=[],Ac=1,by=2,il=[],Zs=[];it("UpsampleRgbLinePair",de,3),it("UpsampleBgrLinePair",Oe,3),it("UpsampleRgbaLinePair",bn,4),it("UpsampleBgraLinePair",jn,4),it("UpsampleArgbLinePair",pn,4),it("UpsampleRgba4444LinePair",gt,2),it("UpsampleRgb565LinePair",qe,2);var vg=M.UpsampleRgbLinePair,yg=M.UpsampleBgrLinePair,Ey=M.UpsampleRgbaLinePair,th=M.UpsampleBgraLinePair,Us=M.UpsampleArgbLinePair,Mx=M.UpsampleRgba4444LinePair,CM=M.UpsampleRgb565LinePair,ea=16,vs=1<<ea-1,nh=-227,wg=482,Ix=6,Sy=0,Px=s(256),Cy=s(256),Nx=s(256),By=s(256),Lx=s(wg-nh),Fx=s(wg-nh);Un("YuvToRgbRow",de,3),Un("YuvToBgrRow",Oe,3),Un("YuvToRgbaRow",bn,4),Un("YuvToBgraRow",jn,4),Un("YuvToArgbRow",pn,4),Un("YuvToRgba4444Row",gt,2),Un("YuvToRgb565Row",qe,2);var rp=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],kA=[0,2,8],Rx=[8,7,6,4,4,2,2,2,1,1,1,1],Ty=1;this.WebPDecodeRGBA=function(x,C,O,K,oe){var ce=OA,Ae=new Xs,pe=new Le;Ae.ba=pe,pe.S=ce,pe.width=[pe.width],pe.height=[pe.height];var we=pe.width,Se=pe.height,Ue=new Bt;if(Ue==null||x==null)var Ne=2;else e(Ue!=null),Ne=ki(x,C,O,Ue.width,Ue.height,Ue.Pd,Ue.Qd,Ue.format,null);if(Ne!=0?we=0:(we!=null&&(we[0]=Ue.width[0]),Se!=null&&(Se[0]=Ue.height[0]),we=1),we){pe.width=pe.width[0],pe.height=pe.height[0],K!=null&&(K[0]=pe.width),oe!=null&&(oe[0]=pe.height);e:{if(K=new kt,(oe=new rc).data=x,oe.w=C,oe.ha=O,oe.kd=1,C=[0],e(oe!=null),((x=ki(oe.data,oe.w,oe.ha,null,null,null,C,null,oe))==0||x==7)&&C[0]&&(x=4),(C=x)==0){if(e(Ae!=null),K.data=oe.data,K.w=oe.w+oe.offset,K.ha=oe.ha-oe.offset,K.put=Tn,K.ac=ln,K.bc=Gn,K.ma=Ae,oe.xa){if((x=xe())==null){Ae=1;break e}if(function($e,Ve){var pt=[0],rt=[0],Re=[0];t:for(;;){if($e==null)return 0;if(Ve==null)return $e.a=2,0;if($e.l=Ve,$e.a=0,J($e.m,Ve.data,Ve.w,Ve.ha),!St($e.m,pt,rt,Re)){$e.a=3;break t}if($e.xb=by,Ve.width=pt[0],Ve.height=rt[0],!Ge(pt[0],rt[0],1,$e,null))break t;return 1}return e($e.a!=0),0}(x,K)){if(K=(C=ku(K.width,K.height,Ae.Oa,Ae.ba))==0){t:{K=x;n:for(;;){if(K==null){K=0;break t}if(e(K.s.yc!=null),e(K.s.Ya!=null),e(0<K.s.Wb),e((O=K.l)!=null),e((oe=O.ma)!=null),K.xb!=0){if(K.ca=oe.ba,K.tb=oe.tb,e(K.ca!=null),!Wf(oe.Oa,O,Jf)){K.a=2;break n}if(!Ye(K,O.width)||O.da)break n;if((O.da||_t(K.ca.S))&&Qe(),11>K.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),K.ca.f.kb.F!=null&&Qe()),K.Pb&&0<K.s.ua&&K.s.vb.X==null&&!ye(K.s.vb,K.s.Wa.Xa)){K.a=1;break n}K.xb=0}if(!Is(K,K.V,K.Ba,K.c,K.i,O.o,bo))break n;oe.Dc=K.Ma,K=1;break t}e(K.a!=0),K=0}K=!K}K&&(C=x.a)}else C=x.a}else{if((x=new ps)==null){Ae=1;break e}if(x.Fa=oe.na,x.P=oe.P,x.qc=oe.Sa,qs(x,K)){if((C=ku(K.width,K.height,Ae.Oa,Ae.ba))==0){if(x.Aa=0,O=Ae.Oa,e((oe=x)!=null),O!=null){if(0<(we=0>(we=O.Md)?0:100<we?255:255*we/100)){for(Se=Ue=0;4>Se;++Se)12>(Ne=oe.pb[Se]).lc&&(Ne.ia=we*Rx[0>Ne.lc?0:Ne.lc]>>3),Ue|=Ne.ia;Ue&&(alert("todo:VP8InitRandom"),oe.ia=1)}oe.Ga=O.Id,100<oe.Ga?oe.Ga=100:0>oe.Ga&&(oe.Ga=0)}Rr(x,K)||(C=x.a)}}else C=x.a}C==0&&Ae.Oa!=null&&Ae.Oa.fd&&(C=Kf(Ae.ba))}Ae=C}ce=Ae!=0?null:11>ce?pe.f.RGBA.eb:pe.f.kb.y}else ce=null;return ce};var My=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(M,T){for(var F="",P=0;P<4;P++)F+=String.fromCharCode(M[T++]);return F}function u(M,T){return(M[T+0]<<0|M[T+1]<<8|M[T+2]<<16)>>>0}function A(M,T){return(M[T+0]<<0|M[T+1]<<8|M[T+2]<<16|M[T+3]<<24)>>>0}new l;var f=[0],h=[0],p=[],y=new l,v=t,m=function(M,T){var F={},P=0,D=!1,H=0,X=0;if(F.frames=[],!function($,j,G,q){for(var W=0;W<q;W++)if($[j+W]!=G.charCodeAt(W))return!0;return!1}(M,T,"RIFF",4)){for(A(M,T+=4),T+=8;T<M.length;){var fe=c(M,T),ue=A(M,T+=4);T+=4;var me=ue+(1&ue);switch(fe){case"VP8 ":case"VP8L":F.frames[P]===void 0&&(F.frames[P]={}),(ee=F.frames[P]).src_off=D?X:T-8,ee.src_size=H+ue+8,P++,D&&(D=!1,H=0,X=0);break;case"VP8X":(ee=F.header={}).feature_flags=M[T];var J=T+4;ee.canvas_width=1+u(M,J),J+=3,ee.canvas_height=1+u(M,J),J+=3;break;case"ALPH":D=!0,H=me+8,X=T-8;break;case"ANIM":(ee=F.header).bgcolor=A(M,T),J=T+4,ee.loop_count=(re=M)[(k=J)+0]<<0|re[k+1]<<8,J+=2;break;case"ANMF":var le,ee;(ee=F.frames[P]={}).offset_x=2*u(M,T),T+=3,ee.offset_y=2*u(M,T),T+=3,ee.width=1+u(M,T),T+=3,ee.height=1+u(M,T),T+=3,ee.duration=u(M,T),T+=3,le=M[T++],ee.dispose=1&le,ee.blend=le>>1&1}fe!="ANMF"&&(T+=me)}var re,k;return F}}(v,0);m.response=v,m.rgbaoutput=!0,m.dataurl=!1;var w=m.header?m.header:null,_=m.frames?m.frames:null;if(w){w.loop_counter=w.loop_count,f=[w.canvas_height],h=[w.canvas_width];for(var B=0;B<_.length&&_[B].blend!=0;B++);}var R=_[0],L=y.WebPDecodeRGBA(v,R.src_off,R.src_size,h,f);R.rgba=L,R.imgwidth=h[0],R.imgheight=f[0];for(var S=0;S<h[0]*f[0]*4;S++)p[S]=L[S];return this.width=h,this.height=f,this.data=p,this}(function(t){var e=function(){return typeof DL=="function"},n=function(f,h,p,y){var v=4,m=a;switch(y){case t.image_compression.FAST:v=1,m=s;break;case t.image_compression.MEDIUM:v=6,m=o;break;case t.image_compression.SLOW:v=9,m=l}f=r(f,h,p,m);var w=DL(f,{level:v});return t.__addimage__.arrayBufferToBinaryString(w)},r=function(f,h,p,y){for(var v,m,w,_=f.length/h,B=new Uint8Array(f.length+_),R=u(),L=0;L<_;L+=1){if(w=L*h,v=f.subarray(w,w+h),y)B.set(y(v,p,m),w+L);else{for(var S,M=R.length,T=[];S<M;S+=1)T[S]=R[S](v,p,m);var F=A(T.concat());B.set(T[F],w+L)}m=v}return B},i=function(f){var h=Array.apply([],f);return h.unshift(0),h},s=function(f,h){var p,y=[],v=f.length;y[0]=1;for(var m=0;m<v;m+=1)p=f[m-h]||0,y[m+1]=f[m]-p+256&255;return y},a=function(f,h,p){var y,v=[],m=f.length;v[0]=2;for(var w=0;w<m;w+=1)y=p&&p[w]||0,v[w+1]=f[w]-y+256&255;return v},o=function(f,h,p){var y,v,m=[],w=f.length;m[0]=3;for(var _=0;_<w;_+=1)y=f[_-h]||0,v=p&&p[_]||0,m[_+1]=f[_]+256-(y+v>>>1)&255;return m},l=function(f,h,p){var y,v,m,w,_=[],B=f.length;_[0]=4;for(var R=0;R<B;R+=1)y=f[R-h]||0,v=p&&p[R]||0,m=p&&p[R-h]||0,w=c(y,v,m),_[R+1]=f[R]-w+256&255;return _},c=function(f,h,p){if(f===h&&h===p)return f;var y=Math.abs(h-p),v=Math.abs(f-p),m=Math.abs(f+h-p-p);return y<=v&&y<=m?f:v<=m?h:p},u=function(){return[i,s,a,o,l]},A=function(f){var h=f.map(function(p){return p.reduce(function(y,v){return y+Math.abs(v)},0)});return h.indexOf(Math.min.apply(null,h))};t.processPNG=function(f,h,p,y){var v,m,w,_,B,R,L,S,M,T,F,P,D,H,X,fe=this.decode.FLATE_DECODE,ue="";if(this.__addimage__.isArrayBuffer(f)&&(f=new Uint8Array(f)),this.__addimage__.isArrayBufferView(f)){if(f=(w=new hUe(f)).imgData,m=w.bits,v=w.colorSpace,B=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){M=(S=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,F=new Uint8Array(M*w.colors),T=new Uint8Array(M);var me,J=w.pixelBitlength-w.bits;for(H=0,X=0;H<M;H++){for(D=S[H],me=0;me<J;)F[X++]=D>>>me&255,me+=w.bits;T[H]=D>>>me&255}}if(w.bits===16){M=(S=new Uint32Array(w.decodePixels().buffer)).length,F=new Uint8Array(M*(32/w.pixelBitlength)*w.colors),T=new Uint8Array(M*(32/w.pixelBitlength)),P=w.colors>1,H=0,X=0;for(var le=0;H<M;)D=S[H++],F[X++]=D>>>0&255,P&&(F[X++]=D>>>16&255,D=S[H++],F[X++]=D>>>0&255),T[le++]=D>>>16&255;m=8}y!==t.image_compression.NONE&&e()?(f=n(F,w.width*w.colors,w.colors,y),L=n(T,w.width,1,y)):(f=F,L=T,fe=void 0)}if(w.colorType===3&&(v=this.color_spaces.INDEXED,R=w.palette,w.transparency.indexed)){var ee=w.transparency.indexed,re=0;for(H=0,M=ee.length;H<M;++H)re+=ee[H];if((re/=255)===M-1&&ee.indexOf(0)!==-1)_=[ee.indexOf(0)];else if(re!==M){for(S=w.decodePixels(),T=new Uint8Array(S.length),H=0,M=S.length;H<M;H++)T[H]=ee[S[H]];L=n(T,w.width,1)}}var k=function($){var j;switch($){case t.image_compression.FAST:j=11;break;case t.image_compression.MEDIUM:j=13;break;case t.image_compression.SLOW:j=14;break;default:j=12}return j}(y);return fe===this.decode.FLATE_DECODE&&(ue="/Predictor "+k+" "),ue+="/Colors "+B+" /BitsPerComponent "+m+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(f)||this.__addimage__.isArrayBufferView(f))&&(f=this.__addimage__.arrayBufferToBinaryString(f)),(L&&this.__addimage__.isArrayBuffer(L)||this.__addimage__.isArrayBufferView(L))&&(L=this.__addimage__.arrayBufferToBinaryString(L)),{alias:p,data:f,index:h,filter:fe,decodeParameters:ue,transparency:_,palette:R,sMask:L,predictor:k,width:w.width,height:w.height,bitsPerComponent:m,colorSpace:v}}}})(yn.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new dUe(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},u=new oP(100).encode(c,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(yn.API),ru.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ru.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Hr.log("bit decode error:"+n)}},ru.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},ru.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},ru.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ru.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=l,this.data[u+1]=o,this.data[u+2]=a,this.data[u+3]=c}this.pos+=t}},ru.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=c,this.data[u+1]=l,this.data[u+2]=o,this.data[u+3]=255}this.pos+=t}},ru.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},ru.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},ru.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new ru(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new oP(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(yn.API),Wz.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new Wz(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new oP(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(yn.API),yn.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var u=r[c],A=r[c+1],f=r[c+2],h=r[c+3];s[o++]=u,s[o++]=A,s[o++]=f,a[l++]=h}var p=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:p,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},yn.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},l0=yn.API,zE=l0.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=c.fof?c.fof:1,A=e.doKerning!==!1,f=0,h=t.length,p=0,y=o[0]||l,v=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?v.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(f=A&&Nr(c[r])==="object"&&!isNaN(parseInt(c[r][p],10))?c[r][p]/u:0,v.push((o[r]||y)/l+f)),p=r;return v},Vz=l0.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return l0.processArabic&&(t=l0.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:zE.apply(this,arguments).reduce(function(s,a){return s+a},0)},zz=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},jz=function(t,e,n){n||(n={});var r,i,s,a,o,l,c,u=[],A=[u],f=n.textIndent||0,h=0,p=0,y=t.split(" "),v=zE.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?y[0].length+2:n.lineIndent||0){var m=Array(l).join(" "),w=[];y.map(function(B){(B=B.split(/\s*\n/)).length>1?w=w.concat(B.map(function(R,L){return(L&&R.length?`
`:"")+R})):w.push(B[0])}),y=w,l=Vz.apply(this,[m,n])}for(s=0,a=y.length;s<a;s++){var _=0;if(r=y[s],l&&r[0]==`
`&&(r=r.substr(1),_=1),f+h+(p=(i=zE.apply(this,[r,n])).reduce(function(B,R){return B+R},0))>e||_){if(p>e){for(o=zz.apply(this,[r,i,e-(f+h),e]),u.push(o.shift()),u=[o.pop()];o.length;)A.push([o.shift()]);p=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(B,R){return B+R},0)}else u=[r];A.push(u),f=p+l,h=v}else u.push(r),f+=h+p,h=v}return c=l?function(B,R){return(R?m:"")+B.join(" ")}:function(B){return B.join(" ")},A.map(c)},l0.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var A=this.internal.getFont(u.fontName,u.fontStyle);return A.metadata.Unicode?{widths:A.metadata.Unicode.widths||{0:1},kerning:A.metadata.Unicode.kerning||{}}:{font:A.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(jz.apply(this,[r[o],a,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(A){return"0x"+parseInt(A,10).toString(16)},a=t.__fontmetrics__.compress=function(A){var f,h,p,y,v=["{"];for(var m in A){if(f=A[m],isNaN(parseInt(m,10))?h="'"+m+"'":(m=parseInt(m,10),h=(h=s(m).slice(2)).slice(0,-1)+r[h.slice(-1)]),typeof f=="number")f<0?(p=s(f).slice(3),y="-"):(p=s(f).slice(2),y=""),p=y+p.slice(0,-1)+r[p.slice(-1)];else{if(Nr(f)!=="object")throw new Error("Don't know what to do with value type "+Nr(f)+".");p=a(f)}v.push(h+p)}return v.push("}"),v.join("")},o=t.__fontmetrics__.uncompress=function(A){if(typeof A!="string")throw new Error("Invalid argument passed to uncompress.");for(var f,h,p,y,v={},m=1,w=v,_=[],B="",R="",L=A.length-1,S=1;S<L;S+=1)(y=A[S])=="'"?f?(p=f.join(""),f=void 0):f=[]:f?f.push(y):y=="{"?(_.push([w,p]),w={},p=void 0):y=="}"?((h=_.pop())[0][h[1]]=w,p=void 0,w=h[0]):y=="-"?m=-1:p===void 0?n.hasOwnProperty(y)?(B+=n[y],p=parseInt(B,16)*m,m=1,B=""):B+=y:n.hasOwnProperty(y)?(R+=n[y],w[p]=parseInt(R,16)*m,m=1,p=void 0,R=""):R+=y;return v},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},u={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(A){var f=A.font,h=u.Unicode[f.postScriptName];h&&(f.metadata.Unicode={},f.metadata.Unicode.widths=h.widths,f.metadata.Unicode.kerning=h.kerning);var p=c.Unicode[f.postScriptName];p&&(f.metadata.Unicode.encoding=p,f.encoding=p.codePages[0])}])}(yn.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(cw(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(yn),function(t){function e(){return(_n.canvg?Promise.resolve(_n.canvg):wN(()=>import("./index.es-NmwDuzbz.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}yn.API.addSvgAsImage=function(n,r,i,s,a,o,l,c){if(isNaN(r)||isNaN(i))throw Hr.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Hr.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=a;var A=u.getContext("2d");A.fillStyle="#fff",A.fillRect(0,0,u.width,u.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(p){return p.fromString(A,n,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(f)}).then(function(){h.addImage(u.toDataURL("image/jpeg",1),r,i,s,a,l,c)})}}(),yn.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},yn.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,u=0,A=0;function f(p,y){var v,m=!1;for(v=0;v<p.length;v+=1)p[v]===y&&(m=!0);return m}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(A=0;A<h;A+=1)n[o[A]].value=n[o[A]].defaultValue,n[o[A]].explicitSet=!1}if(Nr(t)==="object"){for(i in t)if(s=t[i],f(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&f(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(u=0;u<s[c].length;u+=1)typeof s[c][u]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var p,y=[];for(p in n)n[p].explicitSet===!0&&(n[p].type==="name"?y.push("/"+p+" /"+n[p].value):y.push("/"+p+" "+n[p].value));y.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+y.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(yn.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],u=[""],A=0,f=s.length;A<f;++A){if(o=a.metadata.characterToGlyph(s.charCodeAt(A)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(A),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return u.join("");o=o.toString(16),u.push(c[4-o.length],o)}return u.join("")},r=function(s){var a,o,l,c,u,A,f;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],A=0,f=(o=Object.keys(s).sort(function(h,p){return h-p})).length;A<f;A++)a=o[A],l.length>=100&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(u+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var A=o.metadata.Unicode.widths,f=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",p=0;p<f.length;p++)h+=String.fromCharCode(f[p]);var y=c();u({data:h,addLength1:!0,objectId:y}),l("endobj");var v=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var m=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+p0(o.fontName)),l("/FontFile2 "+y+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var w=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+p0(o.fontName)),l("/FontDescriptor "+m+" 0 R"),l("/W "+t.API.PDFObject.convert(A)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+v+" 0 R"),l("/BaseFont /"+p0(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+w+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,u=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var A=o.metadata.rawData,f="",h=0;h<A.length;h++)f+=String.fromCharCode(A[h]);var p=c();u({data:f,addLength1:!0,objectId:p}),l("endobj");var y=c();u({data:r(o.metadata.toUnicode),addLength1:!0,objectId:y}),l("endobj");var v=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+p+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+p0(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var m=0;m<o.metadata.hmtx.widths.length;m++)o.metadata.hmtx.widths[m]=parseInt(o.metadata.hmtx.widths[m]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+y+" 0 R/BaseFont/"+p0(o.fontName)+"/FontDescriptor "+v+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,u=s.options||{},A=s.mutex||{},f=A.pdfEscape,h=A.activeFontKey,p=A.fonts,y=h,v="",m=0,w="",_=p[y].encoding;if(p[y].encoding!=="Identity-H")return{text:o,x:l,y:c,options:u,mutex:A};for(w=o,y=h,Array.isArray(o)&&(w=o[0]),m=0;m<w.length;m+=1)p[y].metadata.hasOwnProperty("cmap")&&(a=p[y].metadata.cmap.unicode.codeMap[w[m].charCodeAt(0)]),a||w[m].charCodeAt(0)<256&&p[y].metadata.hasOwnProperty("Unicode")?v+=w[m]:v+="";var B="";return parseInt(y.slice(1))<14||_==="WinAnsiEncoding"?B=f(v,y).split("").map(function(R){return R.charCodeAt(0).toString(16)}).join(""):_==="Identity-H"&&(B=n(v,p[y])),A.isHex=!0,{text:B,x:l,y:c,options:u,mutex:A}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(yn),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(yn.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,l,c,u,A=e,f=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],p={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},y={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},v=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,_=0;this.__bidiEngine__={};var B=function(P){var D=P.charCodeAt(),H=D>>8,X=y[H];return X!==void 0?A[256*X+(255&D)]:H===252||H===253?"AL":m.test(H)?"L":H===8?"R":"N"},R=function(P){for(var D,H=0;H<P.length;H++){if((D=B(P.charAt(H)))==="L")return!1;if(D==="R")return!0}return!1},L=function(P,D,H,X){var fe,ue,me,J,le=D[X];switch(le){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(le="AN");break;case"AL":w=!0,le="R";break;case"WS":le="N";break;case"CS":X<1||X+1>=D.length||(fe=H[X-1])!=="EN"&&fe!=="AN"||(ue=D[X+1])!=="EN"&&ue!=="AN"?le="N":w&&(ue="AN"),le=ue===fe?ue:"N";break;case"ES":le=(fe=X>0?H[X-1]:"B")==="EN"&&X+1<D.length&&D[X+1]==="EN"?"EN":"N";break;case"ET":if(X>0&&H[X-1]==="EN"){le="EN";break}if(w){le="N";break}for(me=X+1,J=D.length;me<J&&D[me]==="ET";)me++;le=me<J&&D[me]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(J=D.length,me=X+1;me<J&&D[me]==="NSM";)me++;if(me<J){var ee=P[X],re=ee>=1425&&ee<=2303||ee===64286;if(fe=D[me],re&&(fe==="R"||fe==="AL")){le="R";break}}}le=X<1||(fe=D[X-1])==="B"?"N":H[X-1];break;case"B":w=!1,i=!0,le=_;break;case"S":s=!0,le="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":le="N"}return le},S=function(P,D,H){var X=P.split("");return H&&M(X,H,{hiLevel:_}),X.reverse(),D&&D.reverse(),X.join("")},M=function(P,D,H){var X,fe,ue,me,J,le=-1,ee=P.length,re=0,k=[],$=_?h:f,j=[];for(w=!1,i=!1,s=!1,fe=0;fe<ee;fe++)j[fe]=B(P[fe]);for(ue=0;ue<ee;ue++){if(J=re,k[ue]=L(P,j,k,ue),X=240&(re=$[J][p[k[ue]]]),re&=15,D[ue]=me=$[re][5],X>0)if(X===16){for(fe=le;fe<ue;fe++)D[fe]=1;le=-1}else le=-1;if($[re][6])le===-1&&(le=ue);else if(le>-1){for(fe=le;fe<ue;fe++)D[fe]=me;le=-1}j[ue]==="B"&&(D[ue]=0),H.hiLevel|=me}s&&function(G,q,W){for(var ge=0;ge<W;ge++)if(G[ge]==="S"){q[ge]=_;for(var he=ge-1;he>=0&&G[he]==="WS";he--)q[he]=_}}(j,D,ee)},T=function(P,D,H,X,fe){if(!(fe.hiLevel<P)){if(P===1&&_===1&&!i)return D.reverse(),void(H&&H.reverse());for(var ue,me,J,le,ee=D.length,re=0;re<ee;){if(X[re]>=P){for(J=re+1;J<ee&&X[J]>=P;)J++;for(le=re,me=J-1;le<me;le++,me--)ue=D[le],D[le]=D[me],D[me]=ue,H&&(ue=H[le],H[le]=H[me],H[me]=ue);re=J}re++}}},F=function(P,D,H){var X=P.split(""),fe={hiLevel:_};return H||(H=[]),M(X,H,fe),function(ue,me,J){if(J.hiLevel!==0&&u)for(var le,ee=0;ee<ue.length;ee++)me[ee]===1&&(le=v.indexOf(ue[ee]))>=0&&(ue[ee]=v[le+1])}(X,H,fe),T(2,X,D,H,fe),T(1,X,D,H,fe),X.join("")};return this.__bidiEngine__.doBidiReorder=function(P,D,H){if(function(fe,ue){if(ue)for(var me=0;me<fe.length;me++)ue[me]=me;o===void 0&&(o=R(fe)),c===void 0&&(c=R(fe))}(P,D),a||!l||c)if(a&&l&&o^c)_=o?1:0,P=S(P,D,H);else if(!a&&l&&c)_=o?1:0,P=F(P,D,H),P=S(P,D);else if(!a||o||l||c){if(a&&!l&&o^c)P=S(P,D),o?(_=0,P=F(P,D,H)):(_=1,P=F(P,D,H),P=S(P,D));else if(a&&o&&!l&&c)_=1,P=F(P,D,H),P=S(P,D);else if(!a&&!l&&o^c){var X=u;o?(_=1,P=F(P,D,H),_=0,u=!1,P=F(P,D,H),u=X):(_=0,P=F(P,D,H),P=S(P,D),_=1,u=!1,P=F(P,D,H),u=X,P=S(P,D))}}else _=0,P=F(P,D,H);else _=o?1:0,P=F(P,D,H);return P},this.__bidiEngine__.setOptions=function(P){P&&(a=P.isInputVisual,l=P.isOutputVisual,o=P.isInputRtl,c=P.isOutputRtl,u=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var s=r.options||{};r.mutex,s.lang;var a=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(yn),yn.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new Bd(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new MUe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new pUe(this.contents),this.head=new gUe(this),this.name=new xUe(this),this.cmap=new Kne(this),this.toUnicode={},this.hhea=new vUe(this),this.maxp=new bUe(this),this.hmtx=new EUe(this),this.post=new wUe(this),this.os2=new yUe(this),this.loca=new TUe(this),this.glyf=new SUe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var Fu,Bd=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),pUe=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,l,c,u,A,f,h,p,y;for(y in h=Object.keys(n).length,l=Math.log(2),A=16*Math.floor(Math.log(h)/l),a=Math.floor(A/l),u=16*h-A,(i=new Bd).writeInt(this.scalarType),i.writeShort(h),i.writeShort(A),i.writeShort(a),i.writeShort(u),s=16*h,c=i.pos+s,o=null,p=[],n)for(f=n[y],i.writeString(y),i.writeInt(t(f)),i.writeInt(c),i.writeInt(f.length),p=p.concat(f),y==="head"&&(o=c),c+=f.length;c%4;)p.push(0),c++;return i.write(p),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=qne.call(n);n.length%4;)n.push(0);for(s=new Bd(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),mUe={}.hasOwnProperty,CA=function(t,e){for(var n in e)mUe.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};Fu=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var gUe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,Fu),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new Bd).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),Kz=function(){function t(e,n){var r,i,s,a,o,l,c,u,A,f,h,p,y,v,m,w,_;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),A=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),f=h/2,e.pos+=6,s=function(){var B,R;for(R=[],l=B=0;0<=f?B<f:B>f;l=0<=f?++B:--B)R.push(e.readUInt16());return R}(),e.pos+=2,y=function(){var B,R;for(R=[],l=B=0;0<=f?B<f:B>f;l=0<=f?++B:--B)R.push(e.readUInt16());return R}(),c=function(){var B,R;for(R=[],l=B=0;0<=f?B<f:B>f;l=0<=f?++B:--B)R.push(e.readUInt16());return R}(),u=function(){var B,R;for(R=[],l=B=0;0<=f?B<f:B>f;l=0<=f?++B:--B)R.push(e.readUInt16());return R}(),i=(this.length-e.pos+this.offset)/2,o=function(){var B,R;for(R=[],l=B=0;0<=i?B<i:B>i;l=0<=i?++B:--B)R.push(e.readUInt16());return R}(),l=m=0,_=s.length;m<_;l=++m)for(v=s[l],r=w=p=y[l];p<=v?w<=v:w>=v;r=p<=v?++w:--w)u[l]===0?a=r+c[l]:(a=o[u[l]/2+(r-p)-(f-l)]||0)!==0&&(a+=c[l]),this.codeMap[r]=65535&a}e.pos=A}return t.encode=function(e,n){var r,i,s,a,o,l,c,u,A,f,h,p,y,v,m,w,_,B,R,L,S,M,T,F,P,D,H,X,fe,ue,me,J,le,ee,re,k,$,j,G,q,W,ge,he,ve,Ee,ie;switch(X=new Bd,a=Object.keys(e).sort(function(Te,ye){return Te-ye}),n){case"macroman":for(y=0,v=function(){var Te=[];for(p=0;p<256;++p)Te.push(0);return Te}(),w={0:0},s={},fe=0,le=a.length;fe<le;fe++)w[he=e[i=a[fe]]]==null&&(w[he]=++y),s[i]={old:e[i],new:w[e[i]]},v[i]=w[e[i]];return X.writeUInt16(1),X.writeUInt16(0),X.writeUInt32(12),X.writeUInt16(0),X.writeUInt16(262),X.writeUInt16(0),X.write(v),{charMap:s,subtable:X.data,maxGlyphID:y+1};case"unicode":for(D=[],A=[],_=0,w={},r={},m=c=null,ue=0,ee=a.length;ue<ee;ue++)w[R=e[i=a[ue]]]==null&&(w[R]=++_),r[i]={old:R,new:w[R]},o=w[R]-i,m!=null&&o===c||(m&&A.push(m),D.push(i),c=o),m=i;for(m&&A.push(m),A.push(65535),D.push(65535),F=2*(T=D.length),M=2*Math.pow(Math.log(T)/Math.LN2,2),f=Math.log(M/2)/Math.LN2,S=2*T-M,l=[],L=[],h=[],p=me=0,re=D.length;me<re;p=++me){if(P=D[p],u=A[p],P===65535){l.push(0),L.push(0);break}if(P-(H=r[P].new)>=32768)for(l.push(0),L.push(2*(h.length+T-p)),i=J=P;P<=u?J<=u:J>=u;i=P<=u?++J:--J)h.push(r[i].new);else l.push(H-P),L.push(0)}for(X.writeUInt16(3),X.writeUInt16(1),X.writeUInt32(12),X.writeUInt16(4),X.writeUInt16(16+8*T+2*h.length),X.writeUInt16(0),X.writeUInt16(F),X.writeUInt16(M),X.writeUInt16(f),X.writeUInt16(S),W=0,k=A.length;W<k;W++)i=A[W],X.writeUInt16(i);for(X.writeUInt16(0),ge=0,$=D.length;ge<$;ge++)i=D[ge],X.writeUInt16(i);for(ve=0,j=l.length;ve<j;ve++)o=l[ve],X.writeUInt16(o);for(Ee=0,G=L.length;Ee<G;Ee++)B=L[Ee],X.writeUInt16(B);for(ie=0,q=h.length;ie<q;ie++)y=h[ie],X.writeUInt16(y);return{charMap:r,subtable:X.data,maxGlyphID:_+1}}},t}(),Kne=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,Fu),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new Kz(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=Kz.encode(n,r),(s=new Bd).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),vUe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,Fu),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),yUe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,Fu),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),wUe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,Fu),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(n.readUInt32());return c}).call(this)}},e}(),_Ue=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},xUe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,Fu),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,a,o,l,c,u,A,f,h;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},a=A=0,f=i.length;A<f;a=++A)s=i[a],n.pos=s.offset,u=n.readString(s.length),o=new _Ue(u,s),c[h=s.nameID]==null&&(c[h]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),bUe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,Fu),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),EUe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,Fu),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,a,o,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,A;for(A=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)A.push(n.readInt16());return A}(),this.widths=(function(){var u,A,f,h;for(h=[],u=0,A=(f=this.metrics).length;u<A;u++)a=f[u],h.push(a.advance);return h}).call(this),i=this.widths[this.widths.length-1],c=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),qne=[].slice,SUe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,Fu),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,a,o,l,c,u,A,f;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,o=(l=new Bd(r.read(s))).readShort(),u=l.readShort(),f=l.readShort(),c=l.readShort(),A=l.readShort(),this.cache[n]=o===-1?new BUe(l,u,f,c,A):new CUe(l,o,u,f,c,A),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)s=n[r[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),CUe=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),BUe=function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new Bd(qne.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),TUe=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return CA(e,Fu),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(n.readUInt32());return a}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<r.length&&r[a]==o){++a,i[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var u=new Array(4*i.length),A=0;A<i.length;++A)u[4*A+3]=255&i[A],u[4*A+2]=(65280&i[A])>>8,u[4*A+1]=(16711680&i[A])>>16,u[4*A]=(4278190080&i[A])>>24;return u},e}(),MUe=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,l,c,u,A,f,h,p,y,v,m;for(i in r=Kne.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),h={0:0},m=r.charMap)h[(l=m[i]).old]=l.new;for(p in f=r.maxGlyphID,a)p in h||(h[p]=f++);return u=function(w){var _,B;for(_ in B={},w)B[w[_]]=_;return B}(h),A=Object.keys(u).sort(function(w,_){return w-_}),y=function(){var w,_,B;for(B=[],w=0,_=A.length;w<_;w++)o=A[w],B.push(u[o]);return B}(),s=this.font.glyf.encode(a,y,h),c=this.font.loca.encode(s.offsets,y),v={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(v["OS/2"]=this.font.os2.raw()),this.font.directory.encode(v)},t}();yn.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)r=n[o],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();const qz=["Travel","Stay","Food","Misc"],$z=["#0088FE","#00C49F","#FFBB28","#FF8042"];function IUe(){const[t,e]=Y.useState(""),[n,r]=Y.useState("Mid-range"),[i,s]=Y.useState("Train"),[a,o]=Y.useState(1),[l,c]=Y.useState(3),[u,A]=Y.useState({Travel:0,Stay:0,Food:0,Misc:0}),[f,h]=Y.useState(!1),[p,y]=Y.useState(""),[v,m]=Y.useState(""),w=qz.map(S=>({name:S,value:Number(u[S])})),_=async()=>{if(!t.trim()){y("Please enter a destination");return}if(a<1){y("Number of people must be at least 1");return}if(l<1){y("Number of days must be at least 1");return}h(!0),y(""),m("");try{let S;try{S=await fetch("/.netlify/functions/budget-proxy",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({destination:t,travelStyle:n,travelMode:i,people:a,days:l})})}catch(T){console.warn("Netlify function failed, trying CORS proxy:",T),S=await fetch("https://corsproxy.io/?https://packpalgo-backend.onrender.com/api/estimate-budget",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({destination:t,travelStyle:n,travelMode:i,people:a,days:l})})}if(!S.ok)throw new Error(`HTTP error! status: ${S.status}`);const M=await S.json();console.log("Backend response:",M),M.budget?(A(M.budget),y(""),m(` Budget estimated for ${t}! You can modify the values below.`)):y("Could not fetch estimate. Please check your inputs and try again.")}catch(S){console.error("API Error:",S),console.warn("All API methods failed, using sample data. Users will see this as normal budget estimate.");const M={Travel:Math.round(l*a*(n==="Budget"?200:n==="Luxury"?800:400)),Stay:Math.round(l*a*(n==="Budget"?500:n==="Luxury"?2e3:1e3)),Food:Math.round(l*a*(n==="Budget"?300:n==="Luxury"?1200:600)),Misc:Math.round(l*a*(n==="Budget"?100:n==="Luxury"?500:200))};A(M),m(` Budget estimated for ${t}! You can modify the values below.`),y("")}finally{h(!1)}},B=(S,M)=>{A({...u,[S]:Number(M)})},R=async()=>{const S=document.getElementById("budget-section"),T=(await Q4(S)).toDataURL("image/png"),F=new yn;F.addImage(T,"PNG",10,10,190,0),F.save("TripBudget.pdf")},L=async()=>{navigator.share?await navigator.share({title:"My Trip Budget",text:`Here's my budget for ${t} trip! `,url:window.location.href}):alert("Sharing not supported in your browser.")};return I.createElement("section",{className:"py-20 px-4 bg-gradient-to-br from-blue-950 to-black text-white",id:"budget-section"},I.createElement("div",{className:"max-w-4xl mx-auto text-center"},I.createElement("h2",{className:"text-4xl font-bold mb-4"}," AI-Powered Budget Planner"),I.createElement("p",{className:"text-gray-300 mb-6"},"Enter your destination and preferences to get smart, category-wise budget estimates."),I.createElement("div",{className:"grid md:grid-cols-2 gap-6 text-left mb-6"},I.createElement("div",null,I.createElement("label",{className:"block mb-1 text-sm"},"Destination"),I.createElement("input",{type:"text",value:t,onChange:S=>e(S.target.value),placeholder:"e.g., Manali",className:"w-full p-2 rounded bg-gray-900 text-white border border-gray-700"})),I.createElement("div",null,I.createElement("label",{className:"block mb-1 text-sm"},"No. of People"),I.createElement("input",{type:"number",min:"1",value:a,onChange:S=>o(Number(S.target.value)),className:"w-full p-2 rounded bg-gray-900 text-white border border-gray-700"})),I.createElement("div",null,I.createElement("label",{className:"block mb-1 text-sm"},"Days of Trip"),I.createElement("input",{type:"number",min:"1",value:l,onChange:S=>c(Number(S.target.value)),className:"w-full p-2 rounded bg-gray-900 text-white border border-gray-700"})),I.createElement("div",null,I.createElement("label",{className:"block mb-1 text-sm"},"Travel Style"),I.createElement("select",{value:n,onChange:S=>r(S.target.value),className:"w-full p-2 rounded bg-gray-900 text-white border border-gray-700"},I.createElement("option",null,"Budget"),I.createElement("option",null,"Mid-range"),I.createElement("option",null,"Luxury"))),I.createElement("div",null,I.createElement("label",{className:"block mb-1 text-sm"},"Travel Mode"),I.createElement("select",{value:i,onChange:S=>s(S.target.value),className:"w-full p-2 rounded bg-gray-900 text-white border border-gray-700"},I.createElement("option",null,"Flight"),I.createElement("option",null,"Train"),I.createElement("option",null,"Road")))),I.createElement("button",{onClick:_,className:`px-6 py-2 rounded mb-6 transition-colors ${f||!t.trim()?"bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700"}`,disabled:f||!t.trim()},f?" Estimating...":" Get AI Budget Estimate"),p&&I.createElement("p",{className:"text-red-400 mb-4"},p),v&&I.createElement("p",{className:"text-green-400 mb-4"},v),I.createElement("div",{className:"grid md:grid-cols-2 gap-10 items-start"},I.createElement("div",null,qz.map((S,M)=>I.createElement("div",{key:M,className:"mb-4 text-left"},I.createElement("label",{className:"block text-sm mb-1"},S," ()"),I.createElement("input",{type:"number",value:u[S],onChange:T=>B(S,T.target.value),className:"w-full p-2 rounded bg-gray-900 text-white border border-gray-700"}))),I.createElement("div",{className:"flex gap-4 mt-6"},I.createElement("button",{onClick:R,className:"bg-purple-600 hover:bg-purple-700 px-4 py-2 rounded"}," Download PDF"),I.createElement("button",{onClick:L,className:"bg-green-600 hover:bg-green-700 px-4 py-2 rounded"}," Share"))),I.createElement("div",{className:"relative z-20"},I.createElement(N4e,{width:320,height:320},I.createElement(BD,{data:w,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",label:!0},w.map((S,M)=>I.createElement(jT,{key:`cell-${M}`,fill:$z[M%$z.length]}))),I.createElement(VLe,null),I.createElement(CT,null))))))}function PUe(){const{theme:t}=OR(),e=Gm();return I.createElement("main",{className:"relative min-h-screen overflow-x-hidden",style:{color:"var(--text)"}},I.createElement("section",{className:"relative z-10 py-20 text-center bg-cover bg-center",style:{backgroundImage:"var(--bg-image)"}},I.createElement("div",{className:"absolute inset-0 bg-black/50 z-0 pointer-events-none"}),I.createElement("div",{className:"relative z-10"},I.createElement(Pi.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"max-w-4xl mx-auto px-4"},I.createElement("div",{className:"flex justify-between items-center mb-8"},I.createElement("button",{onClick:()=>e("/"),className:"flex items-center gap-2 px-4 py-2 bg-gray-800/80 hover:bg-gray-700/80 rounded-lg transition-colors"}," Back to Home"),I.createElement("h1",{className:"text-4xl md:text-5xl font-bold"}," Budget Calculator"),I.createElement("div",{className:"w-32"})," "),I.createElement(Pi.p,{className:"text-lg md:text-xl max-w-2xl mx-auto mb-8 text-gray-300",initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3,duration:.8}},"Get AI-powered budget estimates for your next adventure. Plan smarter, travel better!")))),I.createElement(IUe,null),I.createElement("section",{className:"py-16 bg-gradient-to-br from-gray-900 to-black text-center"},I.createElement("div",{className:"max-w-4xl mx-auto px-4"},I.createElement("h3",{className:"text-2xl font-bold mb-6 text-white"},"What's Next?"),I.createElement("div",{className:"flex flex-col sm:flex-row gap-4 justify-center"},I.createElement("button",{onClick:()=>e("/things-to-carry"),className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors"}," Create Pack List"),I.createElement("button",{onClick:()=>e("/itinerary-planner"),className:"px-6 py-3 bg-purple-600 hover:bg-purple-700 text-white rounded-lg transition-colors"}," Plan Itinerary"),I.createElement("button",{onClick:()=>e("/explore"),className:"px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-lg transition-colors"}," Explore Destinations"),I.createElement("button",{onClick:()=>e("/"),className:"px-6 py-3 bg-orange-600 hover:bg-orange-700 text-white rounded-lg transition-colors"}," Play Travel Games")))))}const Xz={sightseeing:{name:" City Sightseeing",gradient:"from-blue-500 via-purple-600 to-indigo-700",activities:[{name:"Visit Local Museum",duration:120,category:"culture",icon:""},{name:"Historic City Center Tour",duration:90,category:"culture",icon:""},{name:"Cathedral Visit",duration:60,category:"culture",icon:""},{name:"Viewpoint Photography",duration:45,category:"photo",icon:""},{name:"Local Market Exploration",duration:75,category:"shopping",icon:""}]},foodie:{name:" Foodie Adventure",gradient:"from-orange-500 via-red-600 to-pink-700",activities:[{name:"Local Breakfast Spot",duration:60,category:"food",icon:""},{name:"Street Food Tour",duration:120,category:"food",icon:""},{name:"Cooking Class Experience",duration:180,category:"food",icon:""},{name:"Wine Tasting",duration:90,category:"food",icon:""},{name:"Rooftop Dinner",duration:120,category:"food",icon:""}]},adventure:{name:" Adventure Day",gradient:"from-green-500 via-emerald-600 to-teal-700",activities:[{name:"Mountain Hiking",duration:240,category:"outdoor",icon:""},{name:"Rock Climbing",duration:180,category:"outdoor",icon:""},{name:"Kayak Adventure",duration:150,category:"outdoor",icon:""},{name:"Zip Line Experience",duration:90,category:"outdoor",icon:""},{name:"Sunset Camping",duration:300,category:"outdoor",icon:""}]},relaxation:{name:" Wellness Day",gradient:"from-pink-400 via-rose-500 to-purple-600",activities:[{name:"Morning Yoga",duration:60,category:"wellness",icon:""},{name:"Spa Treatment",duration:120,category:"wellness",icon:""},{name:"Meditation Session",duration:45,category:"wellness",icon:""},{name:"Healthy Lunch",duration:75,category:"wellness",icon:""},{name:"Beach Walk",duration:90,category:"wellness",icon:""}]},family:{name:" Family Fun",gradient:"from-yellow-400 via-orange-500 to-red-600",activities:[{name:"Theme Park Visit",duration:360,category:"family",icon:""},{name:"Zoo Exploration",duration:180,category:"family",icon:""},{name:"Interactive Museum",duration:120,category:"family",icon:""},{name:"Park Picnic",duration:90,category:"family",icon:""},{name:"Ice Cream Tour",duration:60,category:"family",icon:""}]},nightlife:{name:" Nightlife Experience",gradient:"from-purple-600 via-pink-700 to-red-800",activities:[{name:"Sunset Cocktails",duration:90,category:"nightlife",icon:""},{name:"Live Music Venue",duration:120,category:"nightlife",icon:""},{name:"Night Market",duration:75,category:"nightlife",icon:""},{name:"Rooftop Bar",duration:105,category:"nightlife",icon:""},{name:"Dance Club",duration:180,category:"nightlife",icon:""}]},nature:{name:" Nature Walk",gradient:"from-green-300 via-green-500 to-green-700",activities:[{name:"Botanical Garden Visit",duration:90,category:"nature",icon:""},{name:"Forest Trail Hike",duration:120,category:"nature",icon:""},{name:"Bird Watching",duration:60,category:"nature",icon:""},{name:"Picnic by the Lake",duration:90,category:"nature",icon:""},{name:"Sunrise Walk",duration:60,category:"nature",icon:""}]},shopping:{name:" Shopping Spree",gradient:"from-pink-300 via-pink-500 to-pink-700",activities:[{name:"Mall Shopping",duration:120,category:"shopping",icon:""},{name:"Local Boutique Tour",duration:90,category:"shopping",icon:""},{name:"Souvenir Hunt",duration:60,category:"shopping",icon:""},{name:"Coffee Break",duration:45,category:"food",icon:""},{name:"Evening Market",duration:90,category:"shopping",icon:""}]},art:{name:" Art & Culture",gradient:"from-indigo-300 via-indigo-500 to-indigo-700",activities:[{name:"Art Gallery Tour",duration:90,category:"culture",icon:""},{name:"Sculpture Park",duration:60,category:"culture",icon:""},{name:"Theater Show",duration:120,category:"culture",icon:""},{name:"Bookstore Visit",duration:45,category:"culture",icon:""},{name:"Poetry Reading",duration:60,category:"culture",icon:""}]},sports:{name:" Sports Day",gradient:"from-yellow-300 via-yellow-500 to-yellow-700",activities:[{name:"Morning Jog",duration:45,category:"sports",icon:""},{name:"Tennis Match",duration:90,category:"sports",icon:""},{name:"Swimming",duration:60,category:"sports",icon:""},{name:"Cycling Tour",duration:120,category:"sports",icon:""},{name:"Evening Yoga",duration:60,category:"wellness",icon:""}]},tech:{name:" Tech Tour",gradient:"from-gray-400 via-gray-600 to-gray-800",activities:[{name:"Science Museum",duration:120,category:"tech",icon:""},{name:"Tech Startup Visit",duration:90,category:"tech",icon:""},{name:"Gadget Shopping",duration:60,category:"tech",icon:""},{name:"VR Experience",duration:75,category:"tech",icon:""},{name:"Coding Workshop",duration:120,category:"tech",icon:""}]}},Yz={paris:[{name:"Eiffel Tower Visit",duration:120,category:"culture",icon:"",location:"Eiffel Tower"},{name:"Louvre Museum Tour",duration:180,category:"culture",icon:"",location:"Louvre Museum"},{name:"Seine River Cruise",duration:90,category:"outdoor",icon:"",location:"Seine River"},{name:"Montmartre Walk",duration:60,category:"culture",icon:"",location:"Montmartre"},{name:"French Pastry Tasting",duration:60,category:"food",icon:"",location:"Bakery"}],tokyo:[{name:"Shibuya Crossing",duration:30,category:"culture",icon:"",location:"Shibuya"},{name:"Senso-ji Temple",duration:90,category:"culture",icon:"",location:"Asakusa"},{name:"Sushi Making Class",duration:120,category:"food",icon:"",location:"Cooking Studio"},{name:"Akihabara Anime Tour",duration:120,category:"tech",icon:"",location:"Akihabara"},{name:"Cherry Blossom Viewing",duration:60,category:"nature",icon:"",location:"Ueno Park"}],goa:[{name:"Butterfly Beach",duration:120,category:"nature",icon:"",location:"Butterfly Beach"},{name:"Fort Aguada Visit",duration:90,category:"culture",icon:"",location:"Fort Aguada"},{name:"Goan Seafood Lunch",duration:75,category:"food",icon:"",location:"Beach Shack"},{name:"Dudhsagar Waterfall Trek",duration:180,category:"outdoor",icon:"",location:"Dudhsagar Falls"},{name:"Night Market Shopping",duration:90,category:"shopping",icon:"",location:"Arpora Night Market"}],"new york":[{name:"Statue of Liberty Tour",duration:120,category:"culture",icon:"",location:"Liberty Island"},{name:"Central Park Walk",duration:90,category:"nature",icon:"",location:"Central Park"},{name:"Broadway Show",duration:150,category:"culture",icon:"",location:"Broadway"},{name:"Times Square Nightlife",duration:60,category:"nightlife",icon:"",location:"Times Square"},{name:"NYC Pizza Tasting",duration:60,category:"food",icon:"",location:"Pizzeria"}],rome:[{name:"Colosseum Tour",duration:120,category:"culture",icon:"",location:"Colosseum"},{name:"Vatican Museums",duration:180,category:"culture",icon:"",location:"Vatican City"},{name:"Trevi Fountain Visit",duration:30,category:"culture",icon:"",location:"Trevi Fountain"},{name:"Gelato Tasting",duration:45,category:"food",icon:"",location:"Gelateria"},{name:"Piazza Navona Stroll",duration:60,category:"culture",icon:"",location:"Piazza Navona"}],london:[{name:"Buckingham Palace",duration:90,category:"culture",icon:"",location:"Buckingham Palace"},{name:"British Museum",duration:150,category:"culture",icon:"",location:"British Museum"},{name:"London Eye Ride",duration:60,category:"outdoor",icon:"",location:"London Eye"},{name:"West End Theatre",duration:120,category:"culture",icon:"",location:"West End"},{name:"Fish & Chips Lunch",duration:60,category:"food",icon:"",location:"Pub"}]},jL=[{key:"morning",label:"Morning",icon:""},{key:"noon",label:"Noon",icon:""},{key:"evening",label:"Evening",icon:""}],$ne=({activity:t,onEdit:e,onDelete:n,isDragging:r=!1})=>{const i=a=>({culture:"bg-blue-100 text-blue-800",food:"bg-orange-100 text-orange-800",outdoor:"bg-green-100 text-green-800",wellness:"bg-pink-100 text-pink-800",family:"bg-yellow-100 text-yellow-800",nightlife:"bg-purple-100 text-purple-800",photo:"bg-indigo-100 text-indigo-800",shopping:"bg-red-100 text-red-800",nature:"bg-teal-100 text-teal-800",sports:"bg-yellow-100 text-yellow-800",tech:"bg-gray-100 text-gray-800"})[a]||"bg-gray-100 text-gray-800",s=a=>{const o=Math.floor(a/60),l=a%60;return o>0?`${o}h ${l>0?`${l}m`:""}`:`${l}m`};return I.createElement(Pi.div,{layout:!0,initial:{opacity:0,scale:.9},animate:{opacity:1,scale:r?1.05:1},exit:{opacity:0,scale:.9},whileHover:{scale:1.02},className:`bg-white rounded-xl shadow-md hover:shadow-lg p-4 cursor-grab active:cursor-grabbing transition-all duration-200 border border-gray-100 ${r?"shadow-2xl rotate-2":""}`},I.createElement("div",{className:"flex items-start justify-between mb-3"},I.createElement("div",{className:"flex items-center gap-3"},I.createElement("span",{className:"text-2xl"},t.icon),I.createElement("div",null,I.createElement("h4",{className:"font-semibold text-gray-800 text-sm"},t.name),I.createElement("p",{className:"text-xs text-gray-500"},s(t.duration)))),I.createElement("div",{className:"flex gap-1"},I.createElement("button",{onClick:()=>e(t),className:"text-gray-400 hover:text-blue-500 transition-colors p-1"},""),I.createElement("button",{onClick:()=>n(t.id),className:"text-gray-400 hover:text-red-500 transition-colors p-1"},""))),I.createElement("div",{className:"flex items-center justify-between"},I.createElement("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${i(t.category)}`},t.category),I.createElement("div",{className:"flex items-center gap-1 text-xs text-gray-500"},I.createElement("span",null,""),I.createElement("span",null,t.location||"Add location"))))},NUe=({day:t,activities:e,onActivityDrop:n,onDeleteActivity:r,onEditActivity:i,selectedActivityForMobile:s,setSelectedActivityForMobile:a})=>{const[o,l]=Y.useState(!1),c=v=>{v.preventDefault(),l(!0)},u=()=>{l(!1)},A=v=>{v.preventDefault(),l(!1);const m=v.dataTransfer.getData("application/json");if(m){const w=JSON.parse(m);n(t.id,w)}},f=e.reduce((v,m)=>v+m.duration,0),h=Math.floor(f/60),p=f%60,y=jL.reduce((v,m)=>(v[m.key]=e.filter(w=>(w.timeOfDay||"morning")===m.key),v),{});return I.createElement("div",{className:"flex-1 min-w-80"},I.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 h-full"},I.createElement("div",{className:`bg-gradient-to-r ${t.gradient} p-4 rounded-t-xl text-white`},I.createElement("h3",{className:"font-bold text-lg"},t.name),I.createElement("p",{className:"text-white/80 text-sm"},t.date),I.createElement("div",{className:"flex items-center gap-2 mt-2 text-sm"},I.createElement("span",null,""),I.createElement("span",null,h>0?`${h}h `:"",p>0?`${p}m`:"0m"," planned"))),I.createElement("div",{className:`p-4 min-h-96 transition-all duration-200 ${o?"bg-blue-50 border-2 border-dashed border-blue-300":""} ${s&&window.innerWidth<1024?"bg-blue-50 border-2 border-dashed border-blue-300 cursor-pointer":""}`,onDragOver:c,onDragLeave:u,onDrop:A,onClick:()=>{s&&window.innerWidth<1024&&(n(t.id,s),a(null))}},e.length===0?I.createElement("div",{className:"text-center py-12 text-gray-400"},I.createElement("div",{className:"text-4xl mb-2"},""),I.createElement("p",{className:"hidden sm:block"},"Drag activities here to plan your day"),I.createElement("p",{className:"sm:hidden"},s?"Tap here to add selected activity":"Select an activity from the sidebar first")):I.createElement("div",{className:"space-y-6"},jL.map(v=>I.createElement("div",{key:v.key},I.createElement("div",{className:"flex items-center gap-2 mb-2"},I.createElement("span",null,v.icon),I.createElement("span",{className:"font-semibold text-gray-700"},v.label)),y[v.key].length===0?I.createElement("div",{className:"text-gray-300 text-sm mb-2"},"No activities planned"):I.createElement(uQ.Group,{values:y[v.key],onReorder:()=>{}},I.createElement("div",{className:"space-y-3"},y[v.key].map((m,w)=>I.createElement(uQ.Item,{key:m.id,value:m},I.createElement($ne,{activity:m,onEdit:i,onDelete:r})))))))),o&&I.createElement(Pi.div,{initial:{opacity:0},animate:{opacity:1},className:"border-2 border-dashed border-blue-300 rounded-lg p-4 mt-3 bg-blue-50 text-center text-blue-600"},"Drop activity here!"))))},LUe=({isOpen:t,onClose:e,onSelectTemplate:n,onCreateTemplate:r,allTemplates:i})=>t?I.createElement(Pi.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4"},I.createElement(Pi.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl max-w-4xl w-full max-h-[80vh] overflow-y-auto shadow-2xl"},I.createElement("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between"},I.createElement("h2",{className:"text-2xl font-bold text-gray-800"},"Choose Activity Template"),I.createElement("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 text-xl"},"")),I.createElement("p",{className:"text-gray-600 mt-2 px-6"},"Quick start your itinerary with curated activity templates"),I.createElement("div",{className:"p-6 grid md:grid-cols-2 lg:grid-cols-3 gap-4"},Object.entries(i).map(([s,a])=>I.createElement(Pi.div,{key:s,whileHover:{scale:1.02},className:`bg-gradient-to-r ${a.gradient} rounded-xl p-6 text-white cursor-pointer hover:shadow-lg transition-all`,onClick:()=>n(a)},I.createElement("h3",{className:"font-bold text-lg mb-2"},a.name),I.createElement("p",{className:"text-white/80 text-sm mb-4"},a.activities.length," activities included"),I.createElement("div",{className:"space-y-2"},a.activities.slice(0,3).map((o,l)=>I.createElement("div",{key:l,className:"flex items-center gap-2 text-sm"},I.createElement("span",null,o.icon),I.createElement("span",null,o.name))),a.activities.length>3&&I.createElement("div",{className:"text-white/70 text-sm"},"+",a.activities.length-3," more activities"))))),I.createElement("div",{className:"p-6 border-t border-gray-200 flex justify-end"},I.createElement("button",{className:"bg-blue-500 text-white px-4 py-2 rounded-lg",onClick:r}," Create New Template")))):null;function FD({value:t,onChange:e}){return I.createElement("div",{className:"flex gap-2 mt-2"},jL.map(n=>I.createElement("button",{key:n.key,type:"button",className:`px-3 py-1 rounded-full border ${t===n.key?"bg-blue-500 text-white":"bg-gray-100 text-gray-700"} transition`,onClick:()=>e(n.key)},n.icon," ",n.label)))}function FUe({activity:t,isOpen:e,onClose:n,onSave:r}){const[i,s]=Y.useState(t||{});return Y.useEffect(()=>{s(t||{})},[t]),e?I.createElement("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center"},I.createElement("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-2xl"},I.createElement("h2",{className:"text-xl font-bold mb-4"},"Edit Activity"),I.createElement("div",{className:"space-y-3"},I.createElement("input",{className:"w-full border rounded p-2 text-black",placeholder:"Name",value:i.name||"",onChange:a=>s(o=>({...o,name:a.target.value}))}),I.createElement("input",{className:"w-full border rounded p-2 text-black",placeholder:"Duration (min)",type:"number",value:i.duration||"",onChange:a=>s(o=>({...o,duration:Number(a.target.value)}))}),I.createElement("input",{className:"w-full border rounded p-2 text-black",placeholder:"Category",value:i.category||"",onChange:a=>s(o=>({...o,category:a.target.value}))}),I.createElement("input",{className:"w-full border rounded p-2 text-black",placeholder:"Icon (emoji)",value:i.icon||"",onChange:a=>s(o=>({...o,icon:a.target.value}))}),I.createElement("input",{className:"w-full border rounded p-2 text-black",placeholder:"Location",value:i.location||"",onChange:a=>s(o=>({...o,location:a.target.value}))}),I.createElement(FD,{value:i.timeOfDay||"morning",onChange:a=>s(o=>({...o,timeOfDay:a}))})),I.createElement("div",{className:"flex gap-2 mt-6 justify-end"},I.createElement("button",{className:"px-4 py-2 rounded bg-gray-200",onClick:n},"Cancel"),I.createElement("button",{className:"px-4 py-2 rounded bg-blue-600 text-white",onClick:()=>r(i)},"Save")))):null}function RUe({isOpen:t,onClose:e,onAdd:n}){const[r,i]=Y.useState({name:"",duration:60,category:"",icon:"",location:"",timeOfDay:"morning"});return t?I.createElement("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center"},I.createElement("div",{className:"bg-white rounded-xl p-6 w-full max-w-md shadow-2xl"},I.createElement("h2",{className:"text-xl font-bold mb-4"},"Add Activity"),I.createElement("div",{className:"space-y-3"},I.createElement("input",{className:"w-full border rounded p-2 text-black",placeholder:"Name",value:r.name,onChange:s=>i(a=>({...a,name:s.target.value}))}),I.createElement("input",{className:"w-full border rounded p-2 text-black",placeholder:"Duration (min)",type:"number",value:r.duration,onChange:s=>i(a=>({...a,duration:Number(s.target.value)}))}),I.createElement("input",{className:"w-full border rounded p-2 text-black",placeholder:"Category",value:r.category,onChange:s=>i(a=>({...a,category:s.target.value}))}),I.createElement("input",{className:"w-full border rounded p-2 text-black",placeholder:"Icon (emoji)",value:r.icon,onChange:s=>i(a=>({...a,icon:s.target.value}))}),I.createElement("input",{className:"w-full border rounded p-2 text-black",placeholder:"Location",value:r.location,onChange:s=>i(a=>({...a,location:s.target.value}))}),I.createElement(FD,{value:r.timeOfDay,onChange:s=>i(a=>({...a,timeOfDay:s}))})),I.createElement("div",{className:"flex gap-2 mt-6 justify-end"},I.createElement("button",{className:"px-4 py-2 rounded bg-gray-200",onClick:e},"Cancel"),I.createElement("button",{className:"px-4 py-2 rounded bg-blue-600 text-white",onClick:()=>{n(r),e()}},"Add")))):null}function RD(t,e){return t.map(n=>{const r=e[n.id]||[];if(r.length===0)return`${n.name} (${n.date}): No activities planned.`;const i={morning:[],noon:[],evening:[]};return r.forEach(s=>i[s.timeOfDay||"morning"].push(s)),`${n.name} (${n.date}):
`+["morning","noon","evening"].map(s=>i[s].length===0?`  ${s[0].toUpperCase()+s.slice(1)}: None`:`  ${s[0].toUpperCase()+s.slice(1)}:`+i[s].map(a=>`
    - ${a.icon} ${a.name} (${a.duration} min)`).join("")).join(`
`)}).join(`

`)}function UUe(t,e){const n=new Blob([e],{type:"text/plain"}),r=document.createElement("a");r.href=URL.createObjectURL(n),r.download=t,document.body.appendChild(r),r.click(),document.body.removeChild(r)}function DUe(t,e){const n=encodeURIComponent("My Travel Itinerary"),r=encodeURIComponent(RD(t,e));window.location.href=`mailto:?subject=${n}&body=${r}`}function OUe(t,e){const n=RD(t,e);navigator.share?navigator.share({title:"My Itinerary",text:n}):(navigator.clipboard.writeText(n),alert("Itinerary copied to clipboard!"))}function kUe({isOpen:t,onClose:e,onSave:n}){const[r,i]=Y.useState(""),[s,a]=Y.useState("from-blue-500 via-purple-600 to-indigo-700"),[o,l]=Y.useState([]),[c,u]=Y.useState({name:"",duration:60,category:"",icon:"",location:"",timeOfDay:"morning"}),A=["from-blue-500 via-purple-600 to-indigo-700","from-orange-500 via-red-600 to-pink-700","from-green-500 via-emerald-600 to-teal-700","from-pink-400 via-rose-500 to-purple-600","from-yellow-400 via-orange-500 to-red-600","from-purple-600 via-pink-700 to-red-800","from-green-300 via-green-500 to-green-700","from-pink-300 via-pink-500 to-pink-700","from-indigo-300 via-indigo-500 to-indigo-700","from-yellow-300 via-yellow-500 to-yellow-700","from-gray-400 via-gray-600 to-gray-800"];return t?I.createElement("div",{className:"fixed inset-0 bg-black/40 z-50 flex items-center justify-center"},I.createElement("div",{className:"bg-white rounded-xl p-6 w-full max-w-lg shadow-2xl"},I.createElement("h2",{className:"text-xl font-bold mb-4"},"Create New Template"),I.createElement("input",{className:"w-full border rounded p-2 text-black mb-2",placeholder:"Template Name",value:r,onChange:f=>i(f.target.value)}),I.createElement("div",{className:"mb-2"},I.createElement("label",{className:"block mb-1 font-medium text-black"},"Gradient"),I.createElement("select",{className:"w-full border rounded p-2 text-black",value:s,onChange:f=>a(f.target.value)},A.map(f=>I.createElement("option",{key:f,value:f,className:"text-black"},f)))),I.createElement("div",{className:"mb-2"},I.createElement("label",{className:"block mb-1 font-medium text-black"},"Add Activity"),I.createElement("div",{className:"flex flex-col gap-2"},I.createElement("input",{className:"border rounded p-2 text-black",placeholder:"Name",value:c.name,onChange:f=>u(h=>({...h,name:f.target.value}))}),I.createElement("input",{className:"border rounded p-2 text-black",placeholder:"Duration (min)",type:"number",value:c.duration,onChange:f=>u(h=>({...h,duration:Number(f.target.value)}))}),I.createElement("input",{className:"border rounded p-2 text-black",placeholder:"Category",value:c.category,onChange:f=>u(h=>({...h,category:f.target.value}))}),I.createElement("input",{className:"border rounded p-2 text-black",placeholder:"Icon (emoji)",value:c.icon,onChange:f=>u(h=>({...h,icon:f.target.value}))}),I.createElement("input",{className:"border rounded p-2 text-black",placeholder:"Location",value:c.location,onChange:f=>u(h=>({...h,location:f.target.value}))}),I.createElement(FD,{value:c.timeOfDay,onChange:f=>u(h=>({...h,timeOfDay:f}))}),I.createElement("button",{className:"mt-2 px-3 py-1 rounded bg-blue-100 text-blue-800",onClick:()=>{l(f=>[...f,c]),u({name:"",duration:60,category:"",icon:"",location:"",timeOfDay:"morning"})}},"Add Activity"))),I.createElement("div",{className:"mb-2"},I.createElement("label",{className:"block mb-1 font-medium text-black"},"Activities"),I.createElement("ul",{className:"mb-2"},o.map((f,h)=>I.createElement("li",{key:h,className:"text-sm flex gap-2 items-center text-black"},f.icon," ",f.name," ",I.createElement("span",{className:"text-xs text-gray-400"},"(",f.timeOfDay,")"))))),I.createElement("div",{className:"flex gap-2 mt-4 justify-end"},I.createElement("button",{className:"px-4 py-2 rounded bg-gray-200",onClick:e},"Cancel"),I.createElement("button",{className:"px-4 py-2 rounded bg-blue-600 text-white",onClick:()=>{n({key:`user_${Date.now()}`,name:r,gradient:s,activities:o}),e()}},"Save Template")))):null}function QUe(){const{theme:t}=OR(),e=Gm(),[n,r]=Y.useState([{id:1,name:"Day 1",date:"Today",gradient:"from-blue-500 to-purple-600"},{id:2,name:"Day 2",date:"Tomorrow",gradient:"from-purple-500 to-pink-600"},{id:3,name:"Day 3",date:"Day After",gradient:"from-pink-500 to-red-600"}]),[i,s]=Y.useState({1:[],2:[],3:[]}),[a,o]=Y.useState([]),[l,c]=Y.useState(!1),[u,A]=Y.useState(""),[f,h]=Y.useState(null),[p,y]=Y.useState(!1),[v,m]=Y.useState(null),[w,_]=Y.useState([]),[B,R]=Y.useState(!1),[L,S]=Y.useState(!1),[M,T]=Y.useState([]);Y.useEffect(()=>{const k=[{id:Date.now()+1,name:"Explore Old Town",duration:120,category:"culture",icon:"",location:"City Center"},{id:Date.now()+2,name:"Local Food Market",duration:90,category:"food",icon:"",location:"Market Square"},{id:Date.now()+3,name:"Museum Visit",duration:150,category:"culture",icon:"",location:"Art District"}];o(k)},[]),Y.useEffect(()=>{if(u&&u.trim().length>1){const k=u.trim().toLowerCase();if(Yz[k]){const $=Yz[k].map(j=>({...j,id:Date.now()+Math.random()}));T($),S(!0)}else{const $=Object.values(Xz).flatMap(j=>j.activities.slice(0,2).map(G=>({...G,id:Date.now()+Math.random(),location:u,templateName:j.name})));T($),S(!0)}}else S(!1),T([])},[u]);const F=()=>{o(k=>[...k,...M]),S(!1)},P=k=>{o($=>[...$,k]),T(M.filter($=>$.id!==k.id)),M.length<=1&&S(!1)},D=()=>{S(!1)},H=(k,$)=>{const j={...$,id:Date.now()+Math.random(),timeOfDay:$.timeOfDay||"morning"};s(G=>({...G,[k]:[...G[k],j]}))},X=k=>{s($=>{const j={...$};return Object.keys(j).forEach(G=>{j[G]=j[G].filter(q=>q.id!==k)}),j})},fe=k=>{m(k)},ue=k=>{o($=>$.map(j=>j.id===k.id?k:j)),m(null)},me=k=>{const $=k.activities.map(j=>({...j,id:Date.now()+Math.random(),location:`${u||"Destination"}`,timeOfDay:j.timeOfDay||"morning"}));o(j=>[...j,...$]),c(!1)},J=()=>{const k=n.length+1,$=["from-blue-500 to-purple-600","from-purple-500 to-pink-600","from-pink-500 to-red-600","from-red-500 to-orange-600","from-orange-500 to-yellow-600","from-yellow-500 to-green-600","from-green-500 to-teal-600","from-teal-500 to-blue-600"],j={id:Date.now(),name:`Day ${k}`,date:`Day ${k}`,gradient:$[(k-1)%$.length]};r(G=>[...G,j]),s(G=>({...G,[j.id]:[]}))},le=()=>{S(!0)},ee=k=>{o($=>[...$,{...k,id:Date.now()+Math.random()}])},re={...Xz,...Object.fromEntries(w.map(k=>[k.key,k]))};return I.createElement("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-blue-50"},I.createElement("div",{className:"bg-white shadow-sm border-b"},I.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6"},I.createElement("div",{className:"flex items-center justify-between mb-6"},I.createElement("button",{onClick:()=>e("/"),className:"flex items-center gap-2 text-gray-600 hover:text-gray-800 transition-colors"}," Back to Home"),I.createElement("h1",{className:"text-4xl font-bold text-gray-800 text-center flex items-center gap-3"},I.createElement("span",{className:"text-4xl"},""),"Itinerary Planner"),I.createElement("div",{className:"w-24"})),I.createElement("p",{className:"text-gray-600 text-center text-lg mb-8 max-w-2xl mx-auto"},"Drag & drop activities to create the perfect day-by-day itinerary.",I.createElement("span",{className:"block sm:inline"},"Smart timing and route optimization included!"),I.createElement("span",{className:"block text-sm text-blue-600 mt-2 sm:hidden"}," On mobile: Tap activity  Tap day to add")),I.createElement("div",{className:"flex flex-col md:flex-row gap-4 items-center justify-center mb-6 relative"},I.createElement("input",{type:"text",placeholder:"Enter destination (e.g., Paris, Tokyo)...",value:u,onChange:k=>A(k.target.value),className:"w-full md:w-80 px-4 py-3 border border-gray-300 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 text-black placeholder:text-gray-700"}),I.createElement(c0,null,L&&I.createElement(Pi.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute left-0 top-full mt-2 w-full md:w-96 z-40"},I.createElement("div",{className:"bg-white border border-blue-200 rounded-xl shadow-xl p-4"},I.createElement("div",{className:"flex items-center justify-between mb-2"},I.createElement("h3",{className:"font-bold text-lg text-blue-700"},"Smart Suggestions",u?` for ${u}`:""),I.createElement("button",{onClick:D,className:"text-gray-400 hover:text-gray-600 text-xl"},"")),u&&M.length>0?I.createElement(I.Fragment,null,I.createElement("ul",{className:"divide-y divide-blue-100 max-h-64 overflow-y-auto mb-3"},M.map((k,$)=>I.createElement("li",{key:k.id,className:"py-2 flex items-center gap-3"},I.createElement("span",{className:"text-2xl"},k.icon),I.createElement("div",{className:"flex-1"},I.createElement("div",{className:"font-semibold text-gray-800"},k.name),I.createElement("div",{className:"text-xs text-gray-500"},k.templateName||k.location,"  ",k.duration," min")),I.createElement("button",{onClick:()=>P(k),className:"text-green-600 hover:underline text-sm"},"Add")))),I.createElement("div",{className:"flex gap-2 justify-end"},I.createElement("button",{onClick:F,className:"bg-blue-500 text-white px-4 py-2 rounded-lg"},"Add All"),I.createElement("button",{onClick:D,className:"bg-gray-200 text-gray-700 px-4 py-2 rounded-lg"},"Dismiss"))):I.createElement("div",{className:"text-gray-500 text-center py-6"},"Please enter a destination to get smart suggestions!")))),I.createElement("div",{className:"flex gap-3"},I.createElement("button",{onClick:()=>c(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl transition-all"}," Add Templates"),I.createElement("button",{onClick:le,className:"bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white px-6 py-3 rounded-xl transition-all"}," Smart Suggestions"),I.createElement("button",{onClick:J,className:"bg-gradient-to-r from-purple-500 to-pink-600 hover:from-purple-600 hover:to-pink-700 text-white px-6 py-3 rounded-xl transition-all"}," Add Day"))))),I.createElement("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},I.createElement("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6"},I.createElement("div",{className:"lg:col-span-1"},I.createElement("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-6"},I.createElement("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2"},I.createElement("span",null,""),"Available Activities"),I.createElement("div",{className:"space-y-3 max-h-96 overflow-y-auto"},a.map(k=>I.createElement("div",{key:k.id,draggable:!0,onDragStart:$=>{$.dataTransfer.setData("application/json",JSON.stringify(k))},onClick:()=>{window.innerWidth<1024&&h((f==null?void 0:f.id)===k.id?null:k)},className:`cursor-grab active:cursor-grabbing select-none transition-all duration-200 ${(f==null?void 0:f.id)===k.id?"ring-2 ring-blue-500 ring-offset-2":""}`},I.createElement($ne,{activity:k,onEdit:fe,onDelete:$=>o(j=>j.filter(G=>G.id!==$))}),(f==null?void 0:f.id)===k.id&&I.createElement("div",{className:"lg:hidden text-center mt-2 text-sm text-blue-600 font-medium"}," Now tap a day to add this activity")))),a.length===0&&I.createElement("div",{className:"text-center py-8 text-gray-400"},I.createElement("div",{className:"text-3xl mb-2"},""),I.createElement("p",{className:"text-sm"},"Add activity templates to get started!")),I.createElement("button",{onClick:()=>y(!0),className:"w-full mb-4 bg-blue-100 hover:bg-blue-200 text-blue-800 px-4 py-2 rounded-lg transition-colors"}," Add Activity"))),I.createElement("div",{className:"lg:col-span-3"},I.createElement("div",{className:"flex gap-6 overflow-x-auto pb-6"},n.map(k=>I.createElement(NUe,{key:k.id,day:k,activities:i[k.id]||[],onActivityDrop:H,onDeleteActivity:X,onEditActivity:fe,selectedActivityForMobile:f,setSelectedActivityForMobile:h}))),I.createElement("div",{className:"mt-8 bg-white rounded-xl shadow-sm border border-gray-200 p-6"},I.createElement("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2"},I.createElement("span",null,""),"Route Overview"),I.createElement("div",{className:"bg-gradient-to-br from-blue-100 to-purple-100 rounded-lg h-64 flex items-center justify-center"},I.createElement("div",{className:"text-center text-gray-600"},I.createElement("div",{className:"text-4xl mb-2"},""),I.createElement("p",{className:"font-semibold"},"Interactive Map Coming Soon!"),I.createElement("p",{className:"text-sm"},"Google Maps integration with route optimization")))),I.createElement("div",{className:"mt-6 bg-white rounded-xl shadow-sm border border-gray-200 p-6"},I.createElement("h3",{className:"font-bold text-lg mb-4"},"Quick Actions"),I.createElement("div",{className:"flex flex-wrap gap-3"},I.createElement("button",{className:"bg-blue-100 hover:bg-blue-200 text-blue-800 px-4 py-2 rounded-lg transition-colors",onClick:()=>DUe(n,i)}," Email Itinerary"),I.createElement("button",{className:"bg-purple-100 hover:bg-purple-200 text-purple-800 px-4 py-2 rounded-lg transition-colors",onClick:()=>UUe("itinerary.txt",RD(n,i))}," Generate PDF"),I.createElement("button",{className:"bg-orange-100 hover:bg-orange-200 text-orange-800 px-4 py-2 rounded-lg transition-colors",onClick:()=>OUe(n,i)}," Share with Friends")))))),I.createElement(c0,null,l&&I.createElement(LUe,{isOpen:l,onClose:()=>c(!1),onSelectTemplate:me,onCreateTemplate:()=>R(!0),allTemplates:re})),I.createElement(c0,null,I.createElement(RUe,{isOpen:p,onClose:()=>y(!1),onAdd:ee})),I.createElement(c0,null,I.createElement(FUe,{activity:v,isOpen:!!v,onClose:()=>m(null),onSave:ue})),I.createElement(c0,null,I.createElement(kUe,{isOpen:B,onClose:()=>R(!1),onSave:k=>_($=>[...$,k])})))}const HUe=()=>{};var Jz={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xne=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},VUe=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],a=t[n++],o=t[n++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],a=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Yne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,u=s>>2,A=(s&3)<<4|o>>4;let f=(o&15)<<2|c>>6,h=c&63;l||(h=64,a||(f=64)),r.push(n[u],n[A],n[f],n[h])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Xne(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):VUe(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],o=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const A=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||o==null||c==null||A==null)throw new zUe;const f=s<<2|o>>4;if(r.push(f),c!==64){const h=o<<4&240|c>>2;if(r.push(h),A!==64){const p=c<<6&192|A;r.push(p)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zUe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jUe=function(t){const e=Xne(t);return Yne.encodeByteArray(e,!0)},wC=function(t){return jUe(t).replace(/\./g,"")},Jne=function(t){try{return Yne.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GUe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WUe=()=>GUe().__FIREBASE_DEFAULTS__,KUe=()=>{if(typeof process>"u"||typeof Jz>"u")return;const t=Jz.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},qUe=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Jne(t[1]);return e&&JSON.parse(e)},$T=()=>{try{return HUe()||WUe()||KUe()||qUe()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Zne=t=>{var e,n;return(n=(e=$T())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ere=t=>{const e=Zne(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},tre=()=>{var t;return(t=$T())==null?void 0:t.config},nre=t=>{var e;return(e=$T())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $Ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function og(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function UD(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rre(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[wC(JSON.stringify(n)),wC(JSON.stringify(a)),""].join(".")}const uw={};function XUe(){const t={prod:[],emulator:[]};for(const e of Object.keys(uw))uw[e]?t.emulator.push(e):t.prod.push(e);return t}function YUe(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Zz=!1;function DD(t,e){if(typeof window>"u"||typeof document>"u"||!og(window.location.host)||uw[t]===e||uw[t]||Zz)return;uw[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=XUe().prod.length>0;function a(){const f=document.getElementById(r);f&&f.remove()}function o(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,h){f.setAttribute("width","24"),f.setAttribute("id",h),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{Zz=!0,a()},f}function u(f,h){f.setAttribute("id",h),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function A(){const f=YUe(r),h=n("text"),p=document.getElementById(h)||document.createElement("span"),y=n("learnmore"),v=document.getElementById(y)||document.createElement("a"),m=n("preprendIcon"),w=document.getElementById(m)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const _=f.element;o(_),u(v,y);const B=c();l(w,m),_.append(w,p,v,B),document.body.appendChild(_)}s?(p.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,p.innerText="Preview backend running in this workspace."),p.setAttribute("id",h)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",A):A()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wo(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JUe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wo())}function ZUe(){var e;const t=(e=$T())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function eDe(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function tDe(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function nDe(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function rDe(){const t=wo();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function iDe(){return!ZUe()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function sDe(){try{return typeof indexedDB=="object"}catch{return!1}}function aDe(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oDe="FirebaseError";class BA extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=oDe,Object.setPrototypeOf(this,BA.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fx.prototype.create)}}class fx{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?lDe(s,r):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new BA(i,o,r)}}function lDe(t,e){return t.replace(cDe,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cDe=/\{\$([^}]+)}/g;function uDe(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Td(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],a=e[i];if(e9(s)&&e9(a)){if(!Td(s,a))return!1}else if(s!==a)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function e9(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hx(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ADe(t,e){const n=new fDe(t,e);return n.subscribe.bind(n)}class fDe{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hDe(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=lP),i.error===void 0&&(i.error=lP),i.complete===void 0&&(i.complete=lP);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hDe(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function lP(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gs(t){return t&&t._delegate?t._delegate:t}class Md{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dDe{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new $Ue;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(mDe(e))try{this.getOrInitializeService({instanceIdentifier:Qp})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Qp){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qp){return this.instances.has(e)}getOptions(e=Qp){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);r===o&&a.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:pDe(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qp){return this.component?this.component.multipleInstances?e:Qp:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function pDe(t){return t===Qp?void 0:t}function mDe(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gDe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new dDe(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yn;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Yn||(Yn={}));const vDe={debug:Yn.DEBUG,verbose:Yn.VERBOSE,info:Yn.INFO,warn:Yn.WARN,error:Yn.ERROR,silent:Yn.SILENT},yDe=Yn.INFO,wDe={[Yn.DEBUG]:"log",[Yn.VERBOSE]:"log",[Yn.INFO]:"info",[Yn.WARN]:"warn",[Yn.ERROR]:"error"},_De=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=wDe[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class OD{constructor(e){this.name=e,this._logLevel=yDe,this._logHandler=_De,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Yn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?vDe[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Yn.DEBUG,...e),this._logHandler(this,Yn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Yn.VERBOSE,...e),this._logHandler(this,Yn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Yn.INFO,...e),this._logHandler(this,Yn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Yn.WARN,...e),this._logHandler(this,Yn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Yn.ERROR,...e),this._logHandler(this,Yn.ERROR,...e)}}const xDe=(t,e)=>e.some(n=>t instanceof n);let t9,n9;function bDe(){return t9||(t9=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function EDe(){return n9||(n9=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ire=new WeakMap,GL=new WeakMap,sre=new WeakMap,cP=new WeakMap,kD=new WeakMap;function SDe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{n(hd(t.result)),i()},a=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(n=>{n instanceof IDBCursor&&ire.set(n,t)}).catch(()=>{}),kD.set(e,t),e}function CDe(t){if(GL.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{n(),i()},a=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});GL.set(t,e)}let WL={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return GL.get(t);if(e==="objectStoreNames")return t.objectStoreNames||sre.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hd(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function BDe(t){WL=t(WL)}function TDe(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(uP(this),e,...n);return sre.set(r,e.sort?e.sort():[e]),hd(r)}:EDe().includes(t)?function(...e){return t.apply(uP(this),e),hd(ire.get(this))}:function(...e){return hd(t.apply(uP(this),e))}}function MDe(t){return typeof t=="function"?TDe(t):(t instanceof IDBTransaction&&CDe(t),xDe(t,bDe())?new Proxy(t,WL):t)}function hd(t){if(t instanceof IDBRequest)return SDe(t);if(cP.has(t))return cP.get(t);const e=MDe(t);return e!==t&&(cP.set(t,e),kD.set(e,t)),e}const uP=t=>kD.get(t);function IDe(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=hd(a);return r&&a.addEventListener("upgradeneeded",l=>{r(hd(a.result),l.oldVersion,l.newVersion,hd(a.transaction),l)}),n&&a.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),o}const PDe=["get","getKey","getAll","getAllKeys","count"],NDe=["put","add","delete","clear"],AP=new Map;function r9(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(AP.get(e))return AP.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=NDe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PDe.includes(n)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(o.shift())),(await Promise.all([c[n](...o),i&&l.done]))[0]};return AP.set(e,s),s}BDe(t=>({...t,get:(e,n,r)=>r9(e,n)||t.get(e,n,r),has:(e,n)=>!!r9(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LDe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(FDe(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function FDe(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const KL="@firebase/app",i9="0.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ff=new OD("@firebase/app"),RDe="@firebase/app-compat",UDe="@firebase/analytics-compat",DDe="@firebase/analytics",ODe="@firebase/app-check-compat",kDe="@firebase/app-check",QDe="@firebase/auth",HDe="@firebase/auth-compat",VDe="@firebase/database",zDe="@firebase/data-connect",jDe="@firebase/database-compat",GDe="@firebase/functions",WDe="@firebase/functions-compat",KDe="@firebase/installations",qDe="@firebase/installations-compat",$De="@firebase/messaging",XDe="@firebase/messaging-compat",YDe="@firebase/performance",JDe="@firebase/performance-compat",ZDe="@firebase/remote-config",eOe="@firebase/remote-config-compat",tOe="@firebase/storage",nOe="@firebase/storage-compat",rOe="@firebase/firestore",iOe="@firebase/ai",sOe="@firebase/firestore-compat",aOe="firebase",oOe="12.0.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qL="[DEFAULT]",lOe={[KL]:"fire-core",[RDe]:"fire-core-compat",[DDe]:"fire-analytics",[UDe]:"fire-analytics-compat",[kDe]:"fire-app-check",[ODe]:"fire-app-check-compat",[QDe]:"fire-auth",[HDe]:"fire-auth-compat",[VDe]:"fire-rtdb",[zDe]:"fire-data-connect",[jDe]:"fire-rtdb-compat",[GDe]:"fire-fn",[WDe]:"fire-fn-compat",[KDe]:"fire-iid",[qDe]:"fire-iid-compat",[$De]:"fire-fcm",[XDe]:"fire-fcm-compat",[YDe]:"fire-perf",[JDe]:"fire-perf-compat",[ZDe]:"fire-rc",[eOe]:"fire-rc-compat",[tOe]:"fire-gcs",[nOe]:"fire-gcs-compat",[rOe]:"fire-fst",[sOe]:"fire-fst-compat",[iOe]:"fire-vertex","fire-js":"fire-js",[aOe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=new Map,cOe=new Map,$L=new Map;function s9(t,e){try{t.container.addComponent(e)}catch(n){Ff.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Om(t){const e=t.name;if($L.has(e))return Ff.debug(`There were multiple attempts to register component ${e}.`),!1;$L.set(e,t);for(const n of _C.values())s9(n,t);for(const n of cOe.values())s9(n,t);return!0}function XT(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mc(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uOe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},dd=new fx("app","Firebase",uOe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AOe{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Md("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw dd.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg=oOe;function are(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:qL,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw dd.create("bad-app-name",{appName:String(i)});if(n||(n=tre()),!n)throw dd.create("no-options");const s=_C.get(i);if(s){if(Td(n,s.options)&&Td(r,s.config))return s;throw dd.create("duplicate-app",{appName:i})}const a=new gDe(i);for(const l of $L.values())a.addComponent(l);const o=new AOe(n,r,a);return _C.set(i,o),o}function QD(t=qL){const e=_C.get(t);if(!e&&t===qL&&tre())return are();if(!e)throw dd.create("no-app",{appName:t});return e}function cA(t,e,n){let r=lOe[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ff.warn(a.join(" "));return}Om(new Md(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fOe="firebase-heartbeat-database",hOe=1,y_="firebase-heartbeat-store";let fP=null;function ore(){return fP||(fP=IDe(fOe,hOe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(y_)}catch(n){console.warn(n)}}}}).catch(t=>{throw dd.create("idb-open",{originalErrorMessage:t.message})})),fP}async function dOe(t){try{const n=(await ore()).transaction(y_),r=await n.objectStore(y_).get(lre(t));return await n.done,r}catch(e){if(e instanceof BA)Ff.warn(e.message);else{const n=dd.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Ff.warn(n.message)}}}async function a9(t,e){try{const r=(await ore()).transaction(y_,"readwrite");await r.objectStore(y_).put(e,lre(t)),await r.done}catch(n){if(n instanceof BA)Ff.warn(n.message);else{const r=dd.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Ff.warn(r.message)}}}function lre(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pOe=1024,mOe=30;class gOe{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new yOe(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=o9();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>mOe){const a=wOe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Ff.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=o9(),{heartbeatsToSend:r,unsentEntries:i}=vOe(this._heartbeatsCache.heartbeats),s=wC(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Ff.warn(n),""}}}function o9(){return new Date().toISOString().substring(0,10)}function vOe(t,e=pOe){const n=[];let r=t.slice();for(const i of t){const s=n.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),l9(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),l9(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class yOe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sDe()?aDe().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await dOe(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return a9(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return a9(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function l9(t){return wC(JSON.stringify({version:2,heartbeats:t})).length}function wOe(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _Oe(t){Om(new Md("platform-logger",e=>new LDe(e),"PRIVATE")),Om(new Md("heartbeat",e=>new gOe(e),"PRIVATE")),cA(KL,i9,t),cA(KL,i9,"esm2020"),cA("fire-js","")}_Oe("");var xOe="firebase",bOe="12.0.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cA(xOe,bOe,"app");var c9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var pd,cre;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,M){function T(){}T.prototype=M.prototype,S.D=M.prototype,S.prototype=new T,S.prototype.constructor=S,S.C=function(F,P,D){for(var H=Array(arguments.length-2),X=2;X<arguments.length;X++)H[X-2]=arguments[X];return M.prototype[P].apply(F,H)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,M,T){T||(T=0);var F=Array(16);if(typeof M=="string")for(var P=0;16>P;++P)F[P]=M.charCodeAt(T++)|M.charCodeAt(T++)<<8|M.charCodeAt(T++)<<16|M.charCodeAt(T++)<<24;else for(P=0;16>P;++P)F[P]=M[T++]|M[T++]<<8|M[T++]<<16|M[T++]<<24;M=S.g[0],T=S.g[1],P=S.g[2];var D=S.g[3],H=M+(D^T&(P^D))+F[0]+3614090360&4294967295;M=T+(H<<7&4294967295|H>>>25),H=D+(P^M&(T^P))+F[1]+3905402710&4294967295,D=M+(H<<12&4294967295|H>>>20),H=P+(T^D&(M^T))+F[2]+606105819&4294967295,P=D+(H<<17&4294967295|H>>>15),H=T+(M^P&(D^M))+F[3]+3250441966&4294967295,T=P+(H<<22&4294967295|H>>>10),H=M+(D^T&(P^D))+F[4]+4118548399&4294967295,M=T+(H<<7&4294967295|H>>>25),H=D+(P^M&(T^P))+F[5]+1200080426&4294967295,D=M+(H<<12&4294967295|H>>>20),H=P+(T^D&(M^T))+F[6]+2821735955&4294967295,P=D+(H<<17&4294967295|H>>>15),H=T+(M^P&(D^M))+F[7]+4249261313&4294967295,T=P+(H<<22&4294967295|H>>>10),H=M+(D^T&(P^D))+F[8]+1770035416&4294967295,M=T+(H<<7&4294967295|H>>>25),H=D+(P^M&(T^P))+F[9]+2336552879&4294967295,D=M+(H<<12&4294967295|H>>>20),H=P+(T^D&(M^T))+F[10]+4294925233&4294967295,P=D+(H<<17&4294967295|H>>>15),H=T+(M^P&(D^M))+F[11]+2304563134&4294967295,T=P+(H<<22&4294967295|H>>>10),H=M+(D^T&(P^D))+F[12]+1804603682&4294967295,M=T+(H<<7&4294967295|H>>>25),H=D+(P^M&(T^P))+F[13]+4254626195&4294967295,D=M+(H<<12&4294967295|H>>>20),H=P+(T^D&(M^T))+F[14]+2792965006&4294967295,P=D+(H<<17&4294967295|H>>>15),H=T+(M^P&(D^M))+F[15]+1236535329&4294967295,T=P+(H<<22&4294967295|H>>>10),H=M+(P^D&(T^P))+F[1]+4129170786&4294967295,M=T+(H<<5&4294967295|H>>>27),H=D+(T^P&(M^T))+F[6]+3225465664&4294967295,D=M+(H<<9&4294967295|H>>>23),H=P+(M^T&(D^M))+F[11]+643717713&4294967295,P=D+(H<<14&4294967295|H>>>18),H=T+(D^M&(P^D))+F[0]+3921069994&4294967295,T=P+(H<<20&4294967295|H>>>12),H=M+(P^D&(T^P))+F[5]+3593408605&4294967295,M=T+(H<<5&4294967295|H>>>27),H=D+(T^P&(M^T))+F[10]+38016083&4294967295,D=M+(H<<9&4294967295|H>>>23),H=P+(M^T&(D^M))+F[15]+3634488961&4294967295,P=D+(H<<14&4294967295|H>>>18),H=T+(D^M&(P^D))+F[4]+3889429448&4294967295,T=P+(H<<20&4294967295|H>>>12),H=M+(P^D&(T^P))+F[9]+568446438&4294967295,M=T+(H<<5&4294967295|H>>>27),H=D+(T^P&(M^T))+F[14]+3275163606&4294967295,D=M+(H<<9&4294967295|H>>>23),H=P+(M^T&(D^M))+F[3]+4107603335&4294967295,P=D+(H<<14&4294967295|H>>>18),H=T+(D^M&(P^D))+F[8]+1163531501&4294967295,T=P+(H<<20&4294967295|H>>>12),H=M+(P^D&(T^P))+F[13]+2850285829&4294967295,M=T+(H<<5&4294967295|H>>>27),H=D+(T^P&(M^T))+F[2]+4243563512&4294967295,D=M+(H<<9&4294967295|H>>>23),H=P+(M^T&(D^M))+F[7]+1735328473&4294967295,P=D+(H<<14&4294967295|H>>>18),H=T+(D^M&(P^D))+F[12]+2368359562&4294967295,T=P+(H<<20&4294967295|H>>>12),H=M+(T^P^D)+F[5]+4294588738&4294967295,M=T+(H<<4&4294967295|H>>>28),H=D+(M^T^P)+F[8]+2272392833&4294967295,D=M+(H<<11&4294967295|H>>>21),H=P+(D^M^T)+F[11]+1839030562&4294967295,P=D+(H<<16&4294967295|H>>>16),H=T+(P^D^M)+F[14]+4259657740&4294967295,T=P+(H<<23&4294967295|H>>>9),H=M+(T^P^D)+F[1]+2763975236&4294967295,M=T+(H<<4&4294967295|H>>>28),H=D+(M^T^P)+F[4]+1272893353&4294967295,D=M+(H<<11&4294967295|H>>>21),H=P+(D^M^T)+F[7]+4139469664&4294967295,P=D+(H<<16&4294967295|H>>>16),H=T+(P^D^M)+F[10]+3200236656&4294967295,T=P+(H<<23&4294967295|H>>>9),H=M+(T^P^D)+F[13]+681279174&4294967295,M=T+(H<<4&4294967295|H>>>28),H=D+(M^T^P)+F[0]+3936430074&4294967295,D=M+(H<<11&4294967295|H>>>21),H=P+(D^M^T)+F[3]+3572445317&4294967295,P=D+(H<<16&4294967295|H>>>16),H=T+(P^D^M)+F[6]+76029189&4294967295,T=P+(H<<23&4294967295|H>>>9),H=M+(T^P^D)+F[9]+3654602809&4294967295,M=T+(H<<4&4294967295|H>>>28),H=D+(M^T^P)+F[12]+3873151461&4294967295,D=M+(H<<11&4294967295|H>>>21),H=P+(D^M^T)+F[15]+530742520&4294967295,P=D+(H<<16&4294967295|H>>>16),H=T+(P^D^M)+F[2]+3299628645&4294967295,T=P+(H<<23&4294967295|H>>>9),H=M+(P^(T|~D))+F[0]+4096336452&4294967295,M=T+(H<<6&4294967295|H>>>26),H=D+(T^(M|~P))+F[7]+1126891415&4294967295,D=M+(H<<10&4294967295|H>>>22),H=P+(M^(D|~T))+F[14]+2878612391&4294967295,P=D+(H<<15&4294967295|H>>>17),H=T+(D^(P|~M))+F[5]+4237533241&4294967295,T=P+(H<<21&4294967295|H>>>11),H=M+(P^(T|~D))+F[12]+1700485571&4294967295,M=T+(H<<6&4294967295|H>>>26),H=D+(T^(M|~P))+F[3]+2399980690&4294967295,D=M+(H<<10&4294967295|H>>>22),H=P+(M^(D|~T))+F[10]+4293915773&4294967295,P=D+(H<<15&4294967295|H>>>17),H=T+(D^(P|~M))+F[1]+2240044497&4294967295,T=P+(H<<21&4294967295|H>>>11),H=M+(P^(T|~D))+F[8]+1873313359&4294967295,M=T+(H<<6&4294967295|H>>>26),H=D+(T^(M|~P))+F[15]+4264355552&4294967295,D=M+(H<<10&4294967295|H>>>22),H=P+(M^(D|~T))+F[6]+2734768916&4294967295,P=D+(H<<15&4294967295|H>>>17),H=T+(D^(P|~M))+F[13]+1309151649&4294967295,T=P+(H<<21&4294967295|H>>>11),H=M+(P^(T|~D))+F[4]+4149444226&4294967295,M=T+(H<<6&4294967295|H>>>26),H=D+(T^(M|~P))+F[11]+3174756917&4294967295,D=M+(H<<10&4294967295|H>>>22),H=P+(M^(D|~T))+F[2]+718787259&4294967295,P=D+(H<<15&4294967295|H>>>17),H=T+(D^(P|~M))+F[9]+3951481745&4294967295,S.g[0]=S.g[0]+M&4294967295,S.g[1]=S.g[1]+(P+(H<<21&4294967295|H>>>11))&4294967295,S.g[2]=S.g[2]+P&4294967295,S.g[3]=S.g[3]+D&4294967295}r.prototype.u=function(S,M){M===void 0&&(M=S.length);for(var T=M-this.blockSize,F=this.B,P=this.h,D=0;D<M;){if(P==0)for(;D<=T;)i(this,S,D),D+=this.blockSize;if(typeof S=="string"){for(;D<M;)if(F[P++]=S.charCodeAt(D++),P==this.blockSize){i(this,F),P=0;break}}else for(;D<M;)if(F[P++]=S[D++],P==this.blockSize){i(this,F),P=0;break}}this.h=P,this.o+=M},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var M=1;M<S.length-8;++M)S[M]=0;var T=8*this.o;for(M=S.length-8;M<S.length;++M)S[M]=T&255,T/=256;for(this.u(S),S=Array(16),M=T=0;4>M;++M)for(var F=0;32>F;F+=8)S[T++]=this.g[M]>>>F&255;return S};function s(S,M){var T=o;return Object.prototype.hasOwnProperty.call(T,S)?T[S]:T[S]=M(S)}function a(S,M){this.h=M;for(var T=[],F=!0,P=S.length-1;0<=P;P--){var D=S[P]|0;F&&D==M||(T[P]=D,F=!1)}this.g=T}var o={};function l(S){return-128<=S&&128>S?s(S,function(M){return new a([M|0],0>M?-1:0)}):new a([S|0],0>S?-1:0)}function c(S){if(isNaN(S)||!isFinite(S))return A;if(0>S)return v(c(-S));for(var M=[],T=1,F=0;S>=T;F++)M[F]=S/T|0,T*=4294967296;return new a(M,0)}function u(S,M){if(S.length==0)throw Error("number format error: empty string");if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if(S.charAt(0)=="-")return v(u(S.substring(1),M));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var T=c(Math.pow(M,8)),F=A,P=0;P<S.length;P+=8){var D=Math.min(8,S.length-P),H=parseInt(S.substring(P,P+D),M);8>D?(D=c(Math.pow(M,D)),F=F.j(D).add(c(H))):(F=F.j(T),F=F.add(c(H)))}return F}var A=l(0),f=l(1),h=l(16777216);t=a.prototype,t.m=function(){if(y(this))return-v(this).m();for(var S=0,M=1,T=0;T<this.g.length;T++){var F=this.i(T);S+=(0<=F?F:4294967296+F)*M,M*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(p(this))return"0";if(y(this))return"-"+v(this).toString(S);for(var M=c(Math.pow(S,6)),T=this,F="";;){var P=B(T,M).g;T=m(T,P.j(M));var D=((0<T.g.length?T.g[0]:T.h)>>>0).toString(S);if(T=P,p(T))return D+F;for(;6>D.length;)D="0"+D;F=D+F}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function p(S){if(S.h!=0)return!1;for(var M=0;M<S.g.length;M++)if(S.g[M]!=0)return!1;return!0}function y(S){return S.h==-1}t.l=function(S){return S=m(this,S),y(S)?-1:p(S)?0:1};function v(S){for(var M=S.g.length,T=[],F=0;F<M;F++)T[F]=~S.g[F];return new a(T,~S.h).add(f)}t.abs=function(){return y(this)?v(this):this},t.add=function(S){for(var M=Math.max(this.g.length,S.g.length),T=[],F=0,P=0;P<=M;P++){var D=F+(this.i(P)&65535)+(S.i(P)&65535),H=(D>>>16)+(this.i(P)>>>16)+(S.i(P)>>>16);F=H>>>16,D&=65535,H&=65535,T[P]=H<<16|D}return new a(T,T[T.length-1]&-2147483648?-1:0)};function m(S,M){return S.add(v(M))}t.j=function(S){if(p(this)||p(S))return A;if(y(this))return y(S)?v(this).j(v(S)):v(v(this).j(S));if(y(S))return v(this.j(v(S)));if(0>this.l(h)&&0>S.l(h))return c(this.m()*S.m());for(var M=this.g.length+S.g.length,T=[],F=0;F<2*M;F++)T[F]=0;for(F=0;F<this.g.length;F++)for(var P=0;P<S.g.length;P++){var D=this.i(F)>>>16,H=this.i(F)&65535,X=S.i(P)>>>16,fe=S.i(P)&65535;T[2*F+2*P]+=H*fe,w(T,2*F+2*P),T[2*F+2*P+1]+=D*fe,w(T,2*F+2*P+1),T[2*F+2*P+1]+=H*X,w(T,2*F+2*P+1),T[2*F+2*P+2]+=D*X,w(T,2*F+2*P+2)}for(F=0;F<M;F++)T[F]=T[2*F+1]<<16|T[2*F];for(F=M;F<2*M;F++)T[F]=0;return new a(T,0)};function w(S,M){for(;(S[M]&65535)!=S[M];)S[M+1]+=S[M]>>>16,S[M]&=65535,M++}function _(S,M){this.g=S,this.h=M}function B(S,M){if(p(M))throw Error("division by zero");if(p(S))return new _(A,A);if(y(S))return M=B(v(S),M),new _(v(M.g),v(M.h));if(y(M))return M=B(S,v(M)),new _(v(M.g),M.h);if(30<S.g.length){if(y(S)||y(M))throw Error("slowDivide_ only works with positive integers.");for(var T=f,F=M;0>=F.l(S);)T=R(T),F=R(F);var P=L(T,1),D=L(F,1);for(F=L(F,2),T=L(T,2);!p(F);){var H=D.add(F);0>=H.l(S)&&(P=P.add(T),D=H),F=L(F,1),T=L(T,1)}return M=m(S,P.j(M)),new _(P,M)}for(P=A;0<=S.l(M);){for(T=Math.max(1,Math.floor(S.m()/M.m())),F=Math.ceil(Math.log(T)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),D=c(T),H=D.j(M);y(H)||0<H.l(S);)T-=F,D=c(T),H=D.j(M);p(D)&&(D=f),P=P.add(D),S=m(S,H)}return new _(P,S)}t.A=function(S){return B(this,S).h},t.and=function(S){for(var M=Math.max(this.g.length,S.g.length),T=[],F=0;F<M;F++)T[F]=this.i(F)&S.i(F);return new a(T,this.h&S.h)},t.or=function(S){for(var M=Math.max(this.g.length,S.g.length),T=[],F=0;F<M;F++)T[F]=this.i(F)|S.i(F);return new a(T,this.h|S.h)},t.xor=function(S){for(var M=Math.max(this.g.length,S.g.length),T=[],F=0;F<M;F++)T[F]=this.i(F)^S.i(F);return new a(T,this.h^S.h)};function R(S){for(var M=S.g.length+1,T=[],F=0;F<M;F++)T[F]=S.i(F)<<1|S.i(F-1)>>>31;return new a(T,S.h)}function L(S,M){var T=M>>5;M%=32;for(var F=S.g.length-T,P=[],D=0;D<F;D++)P[D]=0<M?S.i(D+T)>>>M|S.i(D+T+1)<<32-M:S.i(D+T);return new a(P,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,cre=r,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=c,a.fromString=u,pd=a}).apply(typeof c9<"u"?c9:typeof self<"u"?self:typeof window<"u"?window:{});var jE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ure,L1,Are,M2,XL,fre,hre,dre;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(b,Q,Z){return b==Array.prototype||b==Object.prototype||(b[Q]=Z.value),b};function n(b){b=[typeof globalThis=="object"&&globalThis,b,typeof window=="object"&&window,typeof self=="object"&&self,typeof jE=="object"&&jE];for(var Q=0;Q<b.length;++Q){var Z=b[Q];if(Z&&Z.Math==Math)return Z}throw Error("Cannot find global object")}var r=n(this);function i(b,Q){if(Q)e:{var Z=r;b=b.split(".");for(var de=0;de<b.length-1;de++){var Oe=b[de];if(!(Oe in Z))break e;Z=Z[Oe]}b=b[b.length-1],de=Z[b],Q=Q(de),Q!=de&&Q!=null&&e(Z,b,{configurable:!0,writable:!0,value:Q})}}function s(b,Q){b instanceof String&&(b+="");var Z=0,de=!1,Oe={next:function(){if(!de&&Z<b.length){var qe=Z++;return{value:Q(qe,b[qe]),done:!1}}return de=!0,{done:!0,value:void 0}}};return Oe[Symbol.iterator]=function(){return Oe},Oe}i("Array.prototype.values",function(b){return b||function(){return s(this,function(Q,Z){return Z})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(b){var Q=typeof b;return Q=Q!="object"?Q:b?Array.isArray(b)?"array":Q:"null",Q=="array"||Q=="object"&&typeof b.length=="number"}function c(b){var Q=typeof b;return Q=="object"&&b!=null||Q=="function"}function u(b,Q,Z){return b.call.apply(b.bind,arguments)}function A(b,Q,Z){if(!b)throw Error();if(2<arguments.length){var de=Array.prototype.slice.call(arguments,2);return function(){var Oe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Oe,de),b.apply(Q,Oe)}}return function(){return b.apply(Q,arguments)}}function f(b,Q,Z){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?u:A,f.apply(null,arguments)}function h(b,Q){var Z=Array.prototype.slice.call(arguments,1);return function(){var de=Z.slice();return de.push.apply(de,arguments),b.apply(this,de)}}function p(b,Q){function Z(){}Z.prototype=Q.prototype,b.aa=Q.prototype,b.prototype=new Z,b.prototype.constructor=b,b.Qb=function(de,Oe,qe){for(var gt=Array(arguments.length-2),pn=2;pn<arguments.length;pn++)gt[pn-2]=arguments[pn];return Q.prototype[Oe].apply(de,gt)}}function y(b){const Q=b.length;if(0<Q){const Z=Array(Q);for(let de=0;de<Q;de++)Z[de]=b[de];return Z}return[]}function v(b,Q){for(let Z=1;Z<arguments.length;Z++){const de=arguments[Z];if(l(de)){const Oe=b.length||0,qe=de.length||0;b.length=Oe+qe;for(let gt=0;gt<qe;gt++)b[Oe+gt]=de[gt]}else b.push(de)}}class m{constructor(Q,Z){this.i=Q,this.j=Z,this.h=0,this.g=null}get(){let Q;return 0<this.h?(this.h--,Q=this.g,this.g=Q.next,Q.next=null):Q=this.i(),Q}}function w(b){return/^[\s\xa0]*$/.test(b)}function _(){var b=o.navigator;return b&&(b=b.userAgent)?b:""}function B(b){return B[" "](b),b}B[" "]=function(){};var R=_().indexOf("Gecko")!=-1&&!(_().toLowerCase().indexOf("webkit")!=-1&&_().indexOf("Edge")==-1)&&!(_().indexOf("Trident")!=-1||_().indexOf("MSIE")!=-1)&&_().indexOf("Edge")==-1;function L(b,Q,Z){for(const de in b)Q.call(Z,b[de],de,b)}function S(b,Q){for(const Z in b)Q.call(void 0,b[Z],Z,b)}function M(b){const Q={};for(const Z in b)Q[Z]=b[Z];return Q}const T="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(b,Q){let Z,de;for(let Oe=1;Oe<arguments.length;Oe++){de=arguments[Oe];for(Z in de)b[Z]=de[Z];for(let qe=0;qe<T.length;qe++)Z=T[qe],Object.prototype.hasOwnProperty.call(de,Z)&&(b[Z]=de[Z])}}function P(b){var Q=1;b=b.split(":");const Z=[];for(;0<Q&&b.length;)Z.push(b.shift()),Q--;return b.length&&Z.push(b.join(":")),Z}function D(b){o.setTimeout(()=>{throw b},0)}function H(){var b=le;let Q=null;return b.g&&(Q=b.g,b.g=b.g.next,b.g||(b.h=null),Q.next=null),Q}class X{constructor(){this.h=this.g=null}add(Q,Z){const de=fe.get();de.set(Q,Z),this.h?this.h.next=de:this.g=de,this.h=de}}var fe=new m(()=>new ue,b=>b.reset());class ue{constructor(){this.next=this.g=this.h=null}set(Q,Z){this.h=Q,this.g=Z,this.next=null}reset(){this.next=this.g=this.h=null}}let me,J=!1,le=new X,ee=()=>{const b=o.Promise.resolve(void 0);me=()=>{b.then(re)}};var re=()=>{for(var b;b=H();){try{b.h.call(b.g)}catch(Z){D(Z)}var Q=fe;Q.j(b),100>Q.h&&(Q.h++,b.next=Q.g,Q.g=b)}J=!1};function k(){this.s=this.s,this.C=this.C}k.prototype.s=!1,k.prototype.ma=function(){this.s||(this.s=!0,this.N())},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function $(b,Q){this.type=b,this.g=this.target=Q,this.defaultPrevented=!1}$.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var b=!1,Q=Object.defineProperty({},"passive",{get:function(){b=!0}});try{const Z=()=>{};o.addEventListener("test",Z,Q),o.removeEventListener("test",Z,Q)}catch{}return b}();function G(b,Q){if($.call(this,b?b.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,b){var Z=this.type=b.type,de=b.changedTouches&&b.changedTouches.length?b.changedTouches[0]:null;if(this.target=b.target||b.srcElement,this.g=Q,Q=b.relatedTarget){if(R){e:{try{B(Q.nodeName);var Oe=!0;break e}catch{}Oe=!1}Oe||(Q=null)}}else Z=="mouseover"?Q=b.fromElement:Z=="mouseout"&&(Q=b.toElement);this.relatedTarget=Q,de?(this.clientX=de.clientX!==void 0?de.clientX:de.pageX,this.clientY=de.clientY!==void 0?de.clientY:de.pageY,this.screenX=de.screenX||0,this.screenY=de.screenY||0):(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0),this.button=b.button,this.key=b.key||"",this.ctrlKey=b.ctrlKey,this.altKey=b.altKey,this.shiftKey=b.shiftKey,this.metaKey=b.metaKey,this.pointerId=b.pointerId||0,this.pointerType=typeof b.pointerType=="string"?b.pointerType:q[b.pointerType]||"",this.state=b.state,this.i=b,b.defaultPrevented&&G.aa.h.call(this)}}p(G,$);var q={2:"touch",3:"pen",4:"mouse"};G.prototype.h=function(){G.aa.h.call(this);var b=this.i;b.preventDefault?b.preventDefault():b.returnValue=!1};var W="closure_listenable_"+(1e6*Math.random()|0),ge=0;function he(b,Q,Z,de,Oe){this.listener=b,this.proxy=null,this.src=Q,this.type=Z,this.capture=!!de,this.ha=Oe,this.key=++ge,this.da=this.fa=!1}function ve(b){b.da=!0,b.listener=null,b.proxy=null,b.src=null,b.ha=null}function Ee(b){this.src=b,this.g={},this.h=0}Ee.prototype.add=function(b,Q,Z,de,Oe){var qe=b.toString();b=this.g[qe],b||(b=this.g[qe]=[],this.h++);var gt=Te(b,Q,de,Oe);return-1<gt?(Q=b[gt],Z||(Q.fa=!1)):(Q=new he(Q,this.src,qe,!!de,Oe),Q.fa=Z,b.push(Q)),Q};function ie(b,Q){var Z=Q.type;if(Z in b.g){var de=b.g[Z],Oe=Array.prototype.indexOf.call(de,Q,void 0),qe;(qe=0<=Oe)&&Array.prototype.splice.call(de,Oe,1),qe&&(ve(Q),b.g[Z].length==0&&(delete b.g[Z],b.h--))}}function Te(b,Q,Z,de){for(var Oe=0;Oe<b.length;++Oe){var qe=b[Oe];if(!qe.da&&qe.listener==Q&&qe.capture==!!Z&&qe.ha==de)return Oe}return-1}var ye="closure_lm_"+(1e6*Math.random()|0),_e={};function se(b,Q,Z,de,Oe){if(Array.isArray(Q)){for(var qe=0;qe<Q.length;qe++)se(b,Q[qe],Z,de,Oe);return null}return Z=ft(Z),b&&b[W]?b.K(Q,Z,c(de)?!!de.capture:!1,Oe):ze(b,Q,Z,!1,de,Oe)}function ze(b,Q,Z,de,Oe,qe){if(!Q)throw Error("Invalid event type");var gt=c(Oe)?!!Oe.capture:!!Oe,pn=Ke(b);if(pn||(b[ye]=pn=new Ee(b)),Z=pn.add(Q,Z,de,gt,qe),Z.proxy)return Z;if(de=be(),Z.proxy=de,de.src=b,de.listener=Z,b.addEventListener)j||(Oe=gt),Oe===void 0&&(Oe=!1),b.addEventListener(Q.toString(),de,Oe);else if(b.attachEvent)b.attachEvent(Be(Q.toString()),de);else if(b.addListener&&b.removeListener)b.addListener(de);else throw Error("addEventListener and attachEvent are unavailable.");return Z}function be(){function b(Z){return Q.call(b.src,b.listener,Z)}const Q=ke;return b}function z(b,Q,Z,de,Oe){if(Array.isArray(Q))for(var qe=0;qe<Q.length;qe++)z(b,Q[qe],Z,de,Oe);else de=c(de)?!!de.capture:!!de,Z=ft(Z),b&&b[W]?(b=b.i,Q=String(Q).toString(),Q in b.g&&(qe=b.g[Q],Z=Te(qe,Z,de,Oe),-1<Z&&(ve(qe[Z]),Array.prototype.splice.call(qe,Z,1),qe.length==0&&(delete b.g[Q],b.h--)))):b&&(b=Ke(b))&&(Q=b.g[Q.toString()],b=-1,Q&&(b=Te(Q,Z,de,Oe)),(Z=-1<b?Q[b]:null)&&te(Z))}function te(b){if(typeof b!="number"&&b&&!b.da){var Q=b.src;if(Q&&Q[W])ie(Q.i,b);else{var Z=b.type,de=b.proxy;Q.removeEventListener?Q.removeEventListener(Z,de,b.capture):Q.detachEvent?Q.detachEvent(Be(Z),de):Q.addListener&&Q.removeListener&&Q.removeListener(de),(Z=Ke(Q))?(ie(Z,b),Z.h==0&&(Z.src=null,Q[ye]=null)):ve(b)}}}function Be(b){return b in _e?_e[b]:_e[b]="on"+b}function ke(b,Q){if(b.da)b=!0;else{Q=new G(Q,this);var Z=b.listener,de=b.ha||b.src;b.fa&&te(b),b=Z.call(de,Q)}return b}function Ke(b){return b=b[ye],b instanceof Ee?b:null}var je="__closure_events_fn_"+(1e9*Math.random()>>>0);function ft(b){return typeof b=="function"?b:(b[je]||(b[je]=function(Q){return b.handleEvent(Q)}),b[je])}function nt(){k.call(this),this.i=new Ee(this),this.M=this,this.F=null}p(nt,k),nt.prototype[W]=!0,nt.prototype.removeEventListener=function(b,Q,Z,de){z(this,b,Q,Z,de)};function ct(b,Q){var Z,de=b.F;if(de)for(Z=[];de;de=de.F)Z.push(de);if(b=b.M,de=Q.type||Q,typeof Q=="string")Q=new $(Q,b);else if(Q instanceof $)Q.target=Q.target||b;else{var Oe=Q;Q=new $(de,b),F(Q,Oe)}if(Oe=!0,Z)for(var qe=Z.length-1;0<=qe;qe--){var gt=Q.g=Z[qe];Oe=Tt(gt,de,!0,Q)&&Oe}if(gt=Q.g=b,Oe=Tt(gt,de,!0,Q)&&Oe,Oe=Tt(gt,de,!1,Q)&&Oe,Z)for(qe=0;qe<Z.length;qe++)gt=Q.g=Z[qe],Oe=Tt(gt,de,!1,Q)&&Oe}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var b=this.i,Q;for(Q in b.g){for(var Z=b.g[Q],de=0;de<Z.length;de++)ve(Z[de]);delete b.g[Q],b.h--}}this.F=null},nt.prototype.K=function(b,Q,Z,de){return this.i.add(String(b),Q,!1,Z,de)},nt.prototype.L=function(b,Q,Z,de){return this.i.add(String(b),Q,!0,Z,de)};function Tt(b,Q,Z,de){if(Q=b.i.g[String(Q)],!Q)return!0;Q=Q.concat();for(var Oe=!0,qe=0;qe<Q.length;++qe){var gt=Q[qe];if(gt&&!gt.da&&gt.capture==Z){var pn=gt.listener,jn=gt.ha||gt.src;gt.fa&&ie(b.i,gt),Oe=pn.call(jn,de)!==!1&&Oe}}return Oe&&!de.defaultPrevented}function bt(b,Q,Z){if(typeof b=="function")Z&&(b=f(b,Z));else if(b&&typeof b.handleEvent=="function")b=f(b.handleEvent,b);else throw Error("Invalid listener argument");return 2147483647<Number(Q)?-1:o.setTimeout(b,Q||0)}function Ze(b){b.g=bt(()=>{b.g=null,b.i&&(b.i=!1,Ze(b))},b.l);const Q=b.h;b.h=null,b.m.apply(null,Q)}class ht extends k{constructor(Q,Z){super(),this.m=Q,this.l=Z,this.h=null,this.i=!1,this.g=null}j(Q){this.h=arguments,this.g?this.i=!0:Ze(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Gt(b){k.call(this),this.h=b,this.g={}}p(Gt,k);var Nt=[];function Qt(b){L(b.g,function(Q,Z){this.g.hasOwnProperty(Z)&&te(Q)},b),b.g={}}Gt.prototype.N=function(){Gt.aa.N.call(this),Qt(this)},Gt.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ct=o.JSON.stringify,Pe=o.JSON.parse,ut=class{stringify(b){return o.JSON.stringify(b,void 0)}parse(b){return o.JSON.parse(b,void 0)}};function _t(){}_t.prototype.h=null;function Ft(b){return b.h||(b.h=b.i())}function lt(){}var Le={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Bt(){$.call(this,"d")}p(Bt,$);function Et(){$.call(this,"c")}p(Et,$);var xt={},Mt=null;function vn(){return Mt=Mt||new nt}xt.La="serverreachability";function ln(b){$.call(this,xt.La,b)}p(ln,$);function Tn(b){const Q=vn();ct(Q,new ln(Q))}xt.STAT_EVENT="statevent";function Gn(b,Q){$.call(this,xt.STAT_EVENT,b),this.stat=Q}p(Gn,$);function St(b){const Q=vn();ct(Q,new Gn(Q,b))}xt.Ma="timingevent";function Ar(b,Q){$.call(this,xt.Ma,b),this.size=Q}p(Ar,$);function Sr(b,Q){if(typeof b!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){b()},Q)}function Gr(){this.g=!0}Gr.prototype.xa=function(){this.g=!1};function Dr(b,Q,Z,de,Oe,qe){b.info(function(){if(b.g)if(qe)for(var gt="",pn=qe.split("&"),jn=0;jn<pn.length;jn++){var bn=pn[jn].split("=");if(1<bn.length){var ir=bn[0];bn=bn[1];var Un=ir.split("_");gt=2<=Un.length&&Un[1]=="type"?gt+(ir+"="+bn+"&"):gt+(ir+"=redacted&")}}else gt=null;else gt=qe;return"XMLHTTP REQ ("+de+") [attempt "+Oe+"]: "+Q+`
`+Z+`
`+gt})}function Cr(b,Q,Z,de,Oe,qe,gt){b.info(function(){return"XMLHTTP RESP ("+de+") [ attempt "+Oe+"]: "+Q+`
`+Z+`
`+qe+" "+gt})}function Br(b,Q,Z,de){b.info(function(){return"XMLHTTP TEXT ("+Q+"): "+za(b,Z)+(de?" "+de:"")})}function bo(b,Q){b.info(function(){return"TIMEOUT: "+Q})}Gr.prototype.info=function(){};function za(b,Q){if(!b.g)return Q;if(!Q)return null;try{var Z=JSON.parse(Q);if(Z){for(b=0;b<Z.length;b++)if(Array.isArray(Z[b])){var de=Z[b];if(!(2>de.length)){var Oe=de[1];if(Array.isArray(Oe)&&!(1>Oe.length)){var qe=Oe[0];if(qe!="noop"&&qe!="stop"&&qe!="close")for(var gt=1;gt<Oe.length;gt++)Oe[gt]=""}}}}return Ct(Z)}catch{return Q}}var $i={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ks={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Is;function Ps(){}p(Ps,_t),Ps.prototype.g=function(){return new XMLHttpRequest},Ps.prototype.i=function(){return{}},Is=new Ps;function xe(b,Q,Z,de){this.j=b,this.i=Q,this.l=Z,this.R=de||1,this.U=new Gt(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ge}function Ge(){this.i=null,this.g="",this.h=!1}var Ye={},et={};function Xe(b,Q,Z){b.L=1,b.v=Ko(Di(Q)),b.m=Z,b.P=!0,Dt(b,null)}function Dt(b,Q){b.F=Date.now(),nn(b),b.A=Di(b.v);var Z=b.A,de=b.R;Array.isArray(de)||(de=[String(de)]),dn(Z.i,"t",de),b.C=0,Z=b.j.J,b.h=new Ge,b.g=ae(b.j,Z?Q:null,!b.m),0<b.O&&(b.M=new ht(f(b.Y,b,b.g),b.O)),Q=b.U,Z=b.g,de=b.ca;var Oe="readystatechange";Array.isArray(Oe)||(Oe&&(Nt[0]=Oe.toString()),Oe=Nt);for(var qe=0;qe<Oe.length;qe++){var gt=se(Z,Oe[qe],de||Q.handleEvent,!1,Q.h||Q);if(!gt)break;Q.g[gt.key]=gt}Q=b.H?M(b.H):{},b.m?(b.u||(b.u="POST"),Q["Content-Type"]="application/x-www-form-urlencoded",b.g.ea(b.A,b.u,b.m,Q)):(b.u="GET",b.g.ea(b.A,b.u,null,Q)),Tn(),Dr(b.i,b.u,b.A,b.l,b.R,b.m)}xe.prototype.ca=function(b){b=b.target;const Q=this.M;Q&&yr(b)==3?Q.j():this.Y(b)},xe.prototype.Y=function(b){try{if(b==this.g)e:{const Un=yr(this.g);var Q=this.g.Ba();const ai=this.g.Z();if(!(3>Un)&&(Un!=3||this.g&&(this.h.h||this.g.oa()||Wc(this.g)))){this.J||Un!=4||Q==7||(Q==8||0>=ai?Tn(3):Tn(2)),an(this);var Z=this.g.Z();this.X=Z;t:if($t(this)){var de=Wc(this.g);b="";var Oe=de.length,qe=yr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tr(this),cn(this);var gt="";break t}this.h.i=new o.TextDecoder}for(Q=0;Q<Oe;Q++)this.h.h=!0,b+=this.h.i.decode(de[Q],{stream:!(qe&&Q==Oe-1)});de.length=0,this.h.g+=b,this.C=0,gt=this.h.g}else gt=this.g.oa();if(this.o=Z==200,Cr(this.i,this.u,this.A,this.l,this.R,Un,Z),this.o){if(this.T&&!this.K){t:{if(this.g){var pn,jn=this.g;if((pn=jn.g?jn.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!w(pn)){var bn=pn;break t}}bn=null}if(Z=bn)Br(this.i,this.l,Z,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Or(this,Z);else{this.o=!1,this.s=3,St(12),tr(this),cn(this);break e}}if(this.P){Z=!0;let Fn;for(;!this.J&&this.C<gt.length;)if(Fn=sn(this,gt),Fn==et){Un==4&&(this.s=4,St(14),Z=!1),Br(this.i,this.l,null,"[Incomplete Response]");break}else if(Fn==Ye){this.s=4,St(15),Br(this.i,this.l,gt,"[Invalid Chunk]"),Z=!1;break}else Br(this.i,this.l,Fn,null),Or(this,Fn);if($t(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Un!=4||gt.length!=0||this.h.h||(this.s=1,St(16),Z=!1),this.o=this.o&&Z,!Z)Br(this.i,this.l,gt,"[Invalid Chunked Response]"),tr(this),cn(this);else if(0<gt.length&&!this.W){this.W=!0;var ir=this.j;ir.g==this&&ir.ba&&!ir.M&&(ir.j.info("Great, no buffering proxy detected. Bytes received: "+gt.length),Ys(ir),ir.M=!0,St(11))}}else Br(this.i,this.l,gt,null),Or(this,gt);Un==4&&tr(this),this.o&&!this.J&&(Un==4?Cl(this.j,this):(this.o=!1,nn(this)))}else To(this.g),Z==400&&0<gt.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),tr(this),cn(this)}}}catch{}finally{}};function $t(b){return b.g?b.u=="GET"&&b.L!=2&&b.j.Ca:!1}function sn(b,Q){var Z=b.C,de=Q.indexOf(`
`,Z);return de==-1?et:(Z=Number(Q.substring(Z,de)),isNaN(Z)?Ye:(de+=1,de+Z>Q.length?et:(Q=Q.slice(de,de+Z),b.C=de+Z,Q)))}xe.prototype.cancel=function(){this.J=!0,tr(this)};function nn(b){b.S=Date.now()+b.I,hn(b,b.I)}function hn(b,Q){if(b.B!=null)throw Error("WatchDog timer not null");b.B=Sr(f(b.ba,b),Q)}function an(b){b.B&&(o.clearTimeout(b.B),b.B=null)}xe.prototype.ba=function(){this.B=null;const b=Date.now();0<=b-this.S?(bo(this.i,this.A),this.L!=2&&(Tn(),St(17)),tr(this),this.s=2,cn(this)):hn(this,this.S-b)};function cn(b){b.j.G==0||b.J||Cl(b.j,b)}function tr(b){an(b);var Q=b.M;Q&&typeof Q.ma=="function"&&Q.ma(),b.M=null,Qt(b.U),b.g&&(Q=b.g,b.g=null,Q.abort(),Q.ma())}function Or(b,Q){try{var Z=b.j;if(Z.G!=0&&(Z.g==b||ps(Z.h,b))){if(!b.K&&ps(Z.h,b)&&Z.G==3){try{var de=Z.Da.g.parse(Q)}catch{de=null}if(Array.isArray(de)&&de.length==3){var Oe=de;if(Oe[0]==0){e:if(!Z.u){if(Z.g)if(Z.g.F+3e3<b.F)ja(Z),Kc(Z);else break e;ic(Z),St(18)}}else Z.za=Oe[1],0<Z.za-Z.T&&37500>Oe[2]&&Z.F&&Z.v==0&&!Z.C&&(Z.C=Sr(f(Z.Za,Z),6e3));if(1>=kt(Z.h)&&Z.ca){try{Z.ca()}catch{}Z.ca=void 0}}else Ls(Z,11)}else if((b.K||Z.g==b)&&ja(Z),!w(Q))for(Oe=Z.Da.g.parse(Q),Q=0;Q<Oe.length;Q++){let bn=Oe[Q];if(Z.T=bn[0],bn=bn[1],Z.G==2)if(bn[0]=="c"){Z.K=bn[1],Z.ia=bn[2];const ir=bn[3];ir!=null&&(Z.la=ir,Z.j.info("VER="+Z.la));const Un=bn[4];Un!=null&&(Z.Aa=Un,Z.j.info("SVER="+Z.Aa));const ai=bn[5];ai!=null&&typeof ai=="number"&&0<ai&&(de=1.5*ai,Z.L=de,Z.j.info("backChannelRequestTimeoutMs_="+de)),de=Z;const Fn=b.g;if(Fn){const Ga=Fn.g?Fn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ga){var qe=de.h;qe.g||Ga.indexOf("spdy")==-1&&Ga.indexOf("quic")==-1&&Ga.indexOf("h2")==-1||(qe.j=qe.l,qe.g=new Set,qe.h&&(Jt(qe,qe.h),qe.h=null))}if(de.D){const ki=Fn.g?Fn.g.getResponseHeader("X-HTTP-Session-Id"):null;ki&&(de.ya=ki,vr(de.I,de.D,ki))}}Z.G=3,Z.l&&Z.l.ua(),Z.ba&&(Z.R=Date.now()-b.F,Z.j.info("Handshake RTT: "+Z.R+"ms")),de=Z;var gt=b;if(de.qa=U(de,de.J?de.ia:null,de.W),gt.K){wr(de.h,gt);var pn=gt,jn=de.L;jn&&(pn.I=jn),pn.B&&(an(pn),nn(pn)),de.g=gt}else rc(de);0<Z.i.length&&nc(Z)}else bn[0]!="stop"&&bn[0]!="close"||Ls(Z,7);else Z.G==3&&(bn[0]=="stop"||bn[0]=="close"?bn[0]=="stop"?Ls(Z,7):Mo(Z):bn[0]!="noop"&&Z.l&&Z.l.ta(bn),Z.v=0)}}Tn(4)}catch{}}var gr=class{constructor(b,Q){this.g=b,this.map=Q}};function Wr(b){this.l=b||10,o.PerformanceNavigationTiming?(b=o.performance.getEntriesByType("navigation"),b=0<b.length&&(b[0].nextHopProtocol=="hq"||b[0].nextHopProtocol=="h2")):b=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=b?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function un(b){return b.h?!0:b.g?b.g.size>=b.j:!1}function kt(b){return b.h?1:b.g?b.g.size:0}function ps(b,Q){return b.h?b.h==Q:b.g?b.g.has(Q):!1}function Jt(b,Q){b.g?b.g.add(Q):b.h=Q}function wr(b,Q){b.h&&b.h==Q?b.h=null:b.g&&b.g.has(Q)&&b.g.delete(Q)}Wr.prototype.cancel=function(){if(this.i=qs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const b of this.g.values())b.cancel();this.g.clear()}};function qs(b){if(b.h!=null)return b.i.concat(b.h.D);if(b.g!=null&&b.g.size!==0){let Q=b.i;for(const Z of b.g.values())Q=Q.concat(Z.D);return Q}return y(b.i)}function Ns(b){if(b.V&&typeof b.V=="function")return b.V();if(typeof Map<"u"&&b instanceof Map||typeof Set<"u"&&b instanceof Set)return Array.from(b.values());if(typeof b=="string")return b.split("");if(l(b)){for(var Q=[],Z=b.length,de=0;de<Z;de++)Q.push(b[de]);return Q}Q=[],Z=0;for(de in b)Q[Z++]=b[de];return Q}function Kr(b){if(b.na&&typeof b.na=="function")return b.na();if(!b.V||typeof b.V!="function"){if(typeof Map<"u"&&b instanceof Map)return Array.from(b.keys());if(!(typeof Set<"u"&&b instanceof Set)){if(l(b)||typeof b=="string"){var Q=[];b=b.length;for(var Z=0;Z<b;Z++)Q.push(Z);return Q}Q=[],Z=0;for(const de in b)Q[Z++]=de;return Q}}}function Rr(b,Q){if(b.forEach&&typeof b.forEach=="function")b.forEach(Q,void 0);else if(l(b)||typeof b=="string")Array.prototype.forEach.call(b,Q,void 0);else for(var Z=Kr(b),de=Ns(b),Oe=de.length,qe=0;qe<Oe;qe++)Q.call(void 0,de[qe],Z&&Z[qe],b)}var ii=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Eo(b,Q){if(b){b=b.split("&");for(var Z=0;Z<b.length;Z++){var de=b[Z].indexOf("="),Oe=null;if(0<=de){var qe=b[Z].substring(0,de);Oe=b[Z].substring(de+1)}else qe=b[Z];Q(qe,Oe?decodeURIComponent(Oe.replace(/\+/g," ")):"")}}}function Qn(b){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,b instanceof Qn){this.h=b.h,Ei(this,b.j),this.o=b.o,this.g=b.g,_l(this,b.s),this.l=b.l;var Q=b.i,Z=new ec;Z.i=Q.i,Q.g&&(Z.g=new Map(Q.g),Z.h=Q.h),MA(this,Z),this.m=b.m}else b&&(Q=String(b).match(ii))?(this.h=!1,Ei(this,Q[1]||"",!0),this.o=qo(Q[2]||""),this.g=qo(Q[3]||"",!0),_l(this,Q[4]),this.l=qo(Q[5]||"",!0),MA(this,Q[6]||"",!0),this.m=qo(Q[7]||"")):(this.h=!1,this.i=new ec(null,this.h))}Qn.prototype.toString=function(){var b=[],Q=this.j;Q&&b.push(xa(Q,Gf,!0),":");var Z=this.g;return(Z||Q=="file")&&(b.push("//"),(Q=this.o)&&b.push(xa(Q,Gf,!0),"@"),b.push(encodeURIComponent(String(Z)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),Z=this.s,Z!=null&&b.push(":",String(Z))),(Z=this.l)&&(this.g&&Z.charAt(0)!="/"&&b.push("/"),b.push(xa(Z,Z.charAt(0)=="/"?So:$d,!0))),(Z=this.i.toString())&&b.push("?",Z),(Z=this.m)&&b.push("#",xa(Z,$o)),b.join("")};function Di(b){return new Qn(b)}function Ei(b,Q,Z){b.j=Z?qo(Q,!0):Q,b.j&&(b.j=b.j.replace(/:$/,""))}function _l(b,Q){if(Q){if(Q=Number(Q),isNaN(Q)||0>Q)throw Error("Bad port number "+Q);b.s=Q}else b.s=null}function MA(b,Q,Z){Q instanceof ec?(b.i=Q,Xd(b.i,b.h)):(Z||(Q=xa(Q,Zl)),b.i=new ec(Q,b.h))}function vr(b,Q,Z){b.i.set(Q,Z)}function Ko(b){return vr(b,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),b}function qo(b,Q){return b?Q?decodeURI(b.replace(/%25/g,"%2525")):decodeURIComponent(b):""}function xa(b,Q,Z){return typeof b=="string"?(b=encodeURI(b).replace(Q,Ru),Z&&(b=b.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),b):null}function Ru(b){return b=b.charCodeAt(0),"%"+(b>>4&15).toString(16)+(b&15).toString(16)}var Gf=/[#\/\?@]/g,$d=/[#\?:]/g,So=/[#\?]/g,Zl=/[#\?@]/g,$o=/#/g;function ec(b,Q){this.h=this.g=null,this.i=b||null,this.j=!!Q}function Tr(b){b.g||(b.g=new Map,b.h=0,b.i&&Eo(b.i,function(Q,Z){b.add(decodeURIComponent(Q.replace(/\+/g," ")),Z)}))}t=ec.prototype,t.add=function(b,Q){Tr(this),this.i=null,b=xl(this,b);var Z=this.g.get(b);return Z||this.g.set(b,Z=[]),Z.push(Q),this.h+=1,this};function zn(b,Q){Tr(b),Q=xl(b,Q),b.g.has(Q)&&(b.i=null,b.h-=b.g.get(Q).length,b.g.delete(Q))}function Uu(b,Q){return Tr(b),Q=xl(b,Q),b.g.has(Q)}t.forEach=function(b,Q){Tr(this),this.g.forEach(function(Z,de){Z.forEach(function(Oe){b.call(Q,Oe,de,this)},this)},this)},t.na=function(){Tr(this);const b=Array.from(this.g.values()),Q=Array.from(this.g.keys()),Z=[];for(let de=0;de<Q.length;de++){const Oe=b[de];for(let qe=0;qe<Oe.length;qe++)Z.push(Q[de])}return Z},t.V=function(b){Tr(this);let Q=[];if(typeof b=="string")Uu(this,b)&&(Q=Q.concat(this.g.get(xl(this,b))));else{b=Array.from(this.g.values());for(let Z=0;Z<b.length;Z++)Q=Q.concat(b[Z])}return Q},t.set=function(b,Q){return Tr(this),this.i=null,b=xl(this,b),Uu(this,b)&&(this.h-=this.g.get(b).length),this.g.set(b,[Q]),this.h+=1,this},t.get=function(b,Q){return b?(b=this.V(b),0<b.length?String(b[0]):Q):Q};function dn(b,Q,Z){zn(b,Q),0<Z.length&&(b.i=null,b.g.set(xl(b,Q),y(Z)),b.h+=Z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const b=[],Q=Array.from(this.g.keys());for(var Z=0;Z<Q.length;Z++){var de=Q[Z];const qe=encodeURIComponent(String(de)),gt=this.V(de);for(de=0;de<gt.length;de++){var Oe=qe;gt[de]!==""&&(Oe+="="+encodeURIComponent(String(gt[de]))),b.push(Oe)}}return this.i=b.join("&")};function xl(b,Q){return Q=String(Q),b.j&&(Q=Q.toLowerCase()),Q}function Xd(b,Q){Q&&!b.j&&(Tr(b),b.i=null,b.g.forEach(function(Z,de){var Oe=de.toLowerCase();de!=Oe&&(zn(this,de),dn(this,Oe,Z))},b)),b.j=Q}function Xo(b,Q){const Z=new Gr;if(o.Image){const de=new Image;de.onload=h(ba,Z,"TestLoadImage: loaded",!0,Q,de),de.onerror=h(ba,Z,"TestLoadImage: error",!1,Q,de),de.onabort=h(ba,Z,"TestLoadImage: abort",!1,Q,de),de.ontimeout=h(ba,Z,"TestLoadImage: timeout",!1,Q,de),o.setTimeout(function(){de.ontimeout&&de.ontimeout()},1e4),de.src=b}else Q(!1)}function si(b,Q){const Z=new Gr,de=new AbortController,Oe=setTimeout(()=>{de.abort(),ba(Z,"TestPingServer: timeout",!1,Q)},1e4);fetch(b,{signal:de.signal}).then(qe=>{clearTimeout(Oe),qe.ok?ba(Z,"TestPingServer: ok",!0,Q):ba(Z,"TestPingServer: server error",!1,Q)}).catch(()=>{clearTimeout(Oe),ba(Z,"TestPingServer: error",!1,Q)})}function ba(b,Q,Z,de,Oe){try{Oe&&(Oe.onload=null,Oe.onerror=null,Oe.onabort=null,Oe.ontimeout=null),de(Z)}catch{}}function Du(){this.g=new ut}function zc(b,Q,Z){const de=Z||"";try{Rr(b,function(Oe,qe){let gt=Oe;c(Oe)&&(gt=Ct(Oe)),Q.push(de+qe+"="+encodeURIComponent(gt))})}catch(Oe){throw Q.push(de+"type="+encodeURIComponent("_badmap")),Oe}}function Ou(b){this.l=b.Ub||null,this.j=b.eb||!1}p(Ou,_t),Ou.prototype.g=function(){return new bl(this.l,this.j)},Ou.prototype.i=function(b){return function(){return b}}({});function bl(b,Q){nt.call(this),this.D=b,this.o=Q,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}p(bl,nt),t=bl.prototype,t.open=function(b,Q){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=b,this.A=Q,this.readyState=1,Co(this)},t.send=function(b){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const Q={headers:this.u,method:this.B,credentials:this.m,cache:void 0};b&&(Q.body=b),(this.D||o).fetch(new Request(this.A,Q)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,El(this)),this.readyState=0},t.Sa=function(b){if(this.g&&(this.l=b,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=b.headers,this.readyState=2,Co(this)),this.g&&(this.readyState=3,Co(this),this.g)))if(this.responseType==="arraybuffer")b.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in b){if(this.j=b.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ea(this)}else b.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ea(b){b.j.read().then(b.Pa.bind(b)).catch(b.ga.bind(b))}t.Pa=function(b){if(this.g){if(this.o&&b.value)this.response.push(b.value);else if(!this.o){var Q=b.value?b.value:new Uint8Array(0);(Q=this.v.decode(Q,{stream:!b.done}))&&(this.response=this.responseText+=Q)}b.done?El(this):Co(this),this.readyState==3&&Ea(this)}},t.Ra=function(b){this.g&&(this.response=this.responseText=b,El(this))},t.Qa=function(b){this.g&&(this.response=b,El(this))},t.ga=function(){this.g&&El(this)};function El(b){b.readyState=4,b.l=null,b.j=null,b.v=null,Co(b)}t.setRequestHeader=function(b,Q){this.u.append(b,Q)},t.getResponseHeader=function(b){return this.h&&this.h.get(b.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const b=[],Q=this.h.entries();for(var Z=Q.next();!Z.done;)Z=Z.value,b.push(Z[0]+": "+Z[1]),Z=Q.next();return b.join(`\r
`)};function Co(b){b.onreadystatechange&&b.onreadystatechange.call(b)}Object.defineProperty(bl.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(b){this.m=b?"include":"same-origin"}});function Oi(b){let Q="";return L(b,function(Z,de){Q+=de,Q+=":",Q+=Z,Q+=`\r
`}),Q}function Sa(b,Q,Z){e:{for(de in Z){var de=!1;break e}de=!0}de||(Z=Oi(Z),typeof b=="string"?Z!=null&&encodeURIComponent(String(Z)):vr(b,Q,Z))}function nr(b){nt.call(this),this.headers=new Map,this.o=b||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}p(nr,nt);var jc=/^https?$/i,Gc=["POST","PUT"];t=nr.prototype,t.Ha=function(b){this.J=b},t.ea=function(b,Q,Z,de){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+b);Q=Q?Q.toUpperCase():"GET",this.D=b,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Is.g(),this.v=this.o?Ft(this.o):Ft(Is),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(Q,String(b),!0),this.B=!1}catch(qe){IA(this,qe);return}if(b=Z||"",Z=new Map(this.headers),de)if(Object.getPrototypeOf(de)===Object.prototype)for(var Oe in de)Z.set(Oe,de[Oe]);else if(typeof de.keys=="function"&&typeof de.get=="function")for(const qe of de.keys())Z.set(qe,de.get(qe));else throw Error("Unknown input type for opt_headers: "+String(de));de=Array.from(Z.keys()).find(qe=>qe.toLowerCase()=="content-type"),Oe=o.FormData&&b instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Gc,Q,void 0))||de||Oe||Z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[qe,gt]of Z)this.g.setRequestHeader(qe,gt);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bo(this),this.u=!0,this.g.send(b),this.u=!1}catch(qe){IA(this,qe)}};function IA(b,Q){b.h=!1,b.g&&(b.j=!0,b.g.abort(),b.j=!1),b.l=Q,b.m=5,$s(b),Yo(b)}function $s(b){b.A||(b.A=!0,ct(b,"complete"),ct(b,"error"))}t.abort=function(b){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=b||7,ct(this,"complete"),ct(this,"abort"),Yo(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Yo(this,!0)),nr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?PA(this):this.bb())},t.bb=function(){PA(this)};function PA(b){if(b.h&&typeof a<"u"&&(!b.v[1]||yr(b)!=4||b.Z()!=2)){if(b.u&&yr(b)==4)bt(b.Ea,0,b);else if(ct(b,"readystatechange"),yr(b)==4){b.h=!1;try{const gt=b.Z();e:switch(gt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var Q=!0;break e;default:Q=!1}var Z;if(!(Z=Q)){var de;if(de=gt===0){var Oe=String(b.D).match(ii)[1]||null;!Oe&&o.self&&o.self.location&&(Oe=o.self.location.protocol.slice(0,-1)),de=!jc.test(Oe?Oe.toLowerCase():"")}Z=de}if(Z)ct(b,"complete"),ct(b,"success");else{b.m=6;try{var qe=2<yr(b)?b.g.statusText:""}catch{qe=""}b.l=qe+" ["+b.Z()+"]",$s(b)}}finally{Yo(b)}}}}function Yo(b,Q){if(b.g){Bo(b);const Z=b.g,de=b.v[0]?()=>{}:null;b.g=null,b.v=null,Q||ct(b,"ready");try{Z.onreadystatechange=de}catch{}}}function Bo(b){b.I&&(o.clearTimeout(b.I),b.I=null)}t.isActive=function(){return!!this.g};function yr(b){return b.g?b.g.readyState:0}t.Z=function(){try{return 2<yr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(b){if(this.g){var Q=this.g.responseText;return b&&Q.indexOf(b)==0&&(Q=Q.substring(b.length)),Pe(Q)}};function Wc(b){try{if(!b.g)return null;if("response"in b.g)return b.g.response;switch(b.H){case"":case"text":return b.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in b.g)return b.g.mozResponseArrayBuffer}return null}catch{return null}}function To(b){const Q={};b=(b.g&&2<=yr(b)&&b.g.getAllResponseHeaders()||"").split(`\r
`);for(let de=0;de<b.length;de++){if(w(b[de]))continue;var Z=P(b[de]);const Oe=Z[0];if(Z=Z[1],typeof Z!="string")continue;Z=Z.trim();const qe=Q[Oe]||[];Q[Oe]=qe,qe.push(Z)}S(Q,function(de){return de.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function gi(b,Q,Z){return Z&&Z.internalChannelParams&&Z.internalChannelParams[b]||Q}function tc(b){this.Aa=0,this.i=[],this.j=new Gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=gi("failFast",!1,b),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=gi("baseRetryDelayMs",5e3,b),this.cb=gi("retryDelaySeedMs",1e4,b),this.Wa=gi("forwardChannelMaxRetries",2,b),this.wa=gi("forwardChannelRequestTimeoutMs",2e4,b),this.pa=b&&b.xmlHttpFactory||void 0,this.Xa=b&&b.Tb||void 0,this.Ca=b&&b.useFetchStreams||!1,this.L=void 0,this.J=b&&b.supportsCrossDomainXhr||!1,this.K="",this.h=new Wr(b&&b.concurrentRequestLimit),this.Da=new Du,this.P=b&&b.fastHandshake||!1,this.O=b&&b.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=b&&b.Rb||!1,b&&b.xa&&this.j.xa(),b&&b.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&b&&b.detectBufferingProxy||!1,this.ja=void 0,b&&b.longPollingTimeout&&0<b.longPollingTimeout&&(this.ja=b.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=tc.prototype,t.la=8,t.G=1,t.connect=function(b,Q,Z,de){St(0),this.W=b,this.H=Q||{},Z&&de!==void 0&&(this.H.OSID=Z,this.H.OAID=de),this.F=this.X,this.I=U(this,null,this.W),nc(this)};function Mo(b){if(Sl(b),b.G==3){var Q=b.U++,Z=Di(b.I);if(vr(Z,"SID",b.K),vr(Z,"RID",Q),vr(Z,"TYPE","terminate"),Yi(b,Z),Q=new xe(b,b.j,Q),Q.L=2,Q.v=Ko(Di(Z)),Z=!1,o.navigator&&o.navigator.sendBeacon)try{Z=o.navigator.sendBeacon(Q.v.toString(),"")}catch{}!Z&&o.Image&&(new Image().src=Q.v,Z=!0),Z||(Q.g=ae(Q.j,null),Q.g.ea(Q.v)),Q.F=Date.now(),nn(Q)}qc(b)}function Kc(b){b.g&&(Ys(b),b.g.cancel(),b.g=null)}function Sl(b){Kc(b),b.u&&(o.clearTimeout(b.u),b.u=null),ja(b),b.h.cancel(),b.s&&(typeof b.s=="number"&&o.clearTimeout(b.s),b.s=null)}function nc(b){if(!un(b.h)&&!b.s){b.s=!0;var Q=b.Ga;me||ee(),J||(me(),J=!0),le.add(Q,b),b.B=0}}function Jo(b,Q){return kt(b.h)>=b.h.j-(b.s?1:0)?!1:b.s?(b.i=Q.D.concat(b.i),!0):b.G==1||b.G==2||b.B>=(b.Va?0:b.Wa)?!1:(b.s=Sr(f(b.Ga,b,Q),Bl(b,b.B)),b.B++,!0)}t.Ga=function(b){if(this.s)if(this.s=null,this.G==1){if(!b){this.U=Math.floor(1e5*Math.random()),b=this.U++;const Oe=new xe(this,this.j,b);let qe=this.o;if(this.S&&(qe?(qe=M(qe),F(qe,this.S)):qe=this.S),this.m!==null||this.O||(Oe.H=qe,qe=null),this.P)e:{for(var Q=0,Z=0;Z<this.i.length;Z++){t:{var de=this.i[Z];if("__data__"in de.map&&(de=de.map.__data__,typeof de=="string")){de=de.length;break t}de=void 0}if(de===void 0)break;if(Q+=de,4096<Q){Q=Z;break e}if(Q===4096||Z===this.i.length-1){Q=Z+1;break e}}Q=1e3}else Q=1e3;Q=Xs(this,Oe,Q),Z=Di(this.I),vr(Z,"RID",b),vr(Z,"CVER",22),this.D&&vr(Z,"X-HTTP-Session-Id",this.D),Yi(this,Z),qe&&(this.O?Q="headers="+encodeURIComponent(String(Oi(qe)))+"&"+Q:this.m&&Sa(Z,this.m,qe)),Jt(this.h,Oe),this.Ua&&vr(Z,"TYPE","init"),this.P?(vr(Z,"$req",Q),vr(Z,"SID","null"),Oe.T=!0,Xe(Oe,Z,null)):Xe(Oe,Z,Q),this.G=2}}else this.G==3&&(b?Xi(this,b):this.i.length==0||un(this.h)||Xi(this))};function Xi(b,Q){var Z;Q?Z=Q.l:Z=b.U++;const de=Di(b.I);vr(de,"SID",b.K),vr(de,"RID",Z),vr(de,"AID",b.T),Yi(b,de),b.m&&b.o&&Sa(de,b.m,b.o),Z=new xe(b,b.j,Z,b.B+1),b.m===null&&(Z.H=b.o),Q&&(b.i=Q.D.concat(b.i)),Q=Xs(b,Z,1e3),Z.I=Math.round(.5*b.wa)+Math.round(.5*b.wa*Math.random()),Jt(b.h,Z),Xe(Z,de,Q)}function Yi(b,Q){b.H&&L(b.H,function(Z,de){vr(Q,de,Z)}),b.l&&Rr({},function(Z,de){vr(Q,de,Z)})}function Xs(b,Q,Z){Z=Math.min(b.i.length,Z);var de=b.l?f(b.l.Na,b.l,b):null;e:{var Oe=b.i;let qe=-1;for(;;){const gt=["count="+Z];qe==-1?0<Z?(qe=Oe[0].g,gt.push("ofs="+qe)):qe=0:gt.push("ofs="+qe);let pn=!0;for(let jn=0;jn<Z;jn++){let bn=Oe[jn].g;const ir=Oe[jn].map;if(bn-=qe,0>bn)qe=Math.max(0,Oe[jn].g-100),pn=!1;else try{zc(ir,gt,"req"+bn+"_")}catch{de&&de(ir)}}if(pn){de=gt.join("&");break e}}}return b=b.i.splice(0,Z),Q.D=b,de}function rc(b){if(!b.g&&!b.u){b.Y=1;var Q=b.Fa;me||ee(),J||(me(),J=!0),le.add(Q,b),b.v=0}}function ic(b){return b.g||b.u||3<=b.v?!1:(b.Y++,b.u=Sr(f(b.Fa,b),Bl(b,b.v)),b.v++,!0)}t.Fa=function(){if(this.u=null,Io(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var b=2*this.R;this.j.info("BP detection timer enabled: "+b),this.A=Sr(f(this.ab,this),b)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),Kc(this),Io(this))};function Ys(b){b.A!=null&&(o.clearTimeout(b.A),b.A=null)}function Io(b){b.g=new xe(b,b.j,"rpc",b.Y),b.m===null&&(b.g.H=b.o),b.g.O=0;var Q=Di(b.qa);vr(Q,"RID","rpc"),vr(Q,"SID",b.K),vr(Q,"AID",b.T),vr(Q,"CI",b.F?"0":"1"),!b.F&&b.ja&&vr(Q,"TO",b.ja),vr(Q,"TYPE","xmlhttp"),Yi(b,Q),b.m&&b.o&&Sa(Q,b.m,b.o),b.L&&(b.g.I=b.L);var Z=b.g;b=b.ia,Z.L=1,Z.v=Ko(Di(Q)),Z.m=null,Z.P=!0,Dt(Z,b)}t.Za=function(){this.C!=null&&(this.C=null,Kc(this),ic(this),St(19))};function ja(b){b.C!=null&&(o.clearTimeout(b.C),b.C=null)}function Cl(b,Q){var Z=null;if(b.g==Q){ja(b),Ys(b),b.g=null;var de=2}else if(ps(b.h,Q))Z=Q.D,wr(b.h,Q),de=1;else return;if(b.G!=0){if(Q.o)if(de==1){Z=Q.m?Q.m.length:0,Q=Date.now()-Q.F;var Oe=b.B;de=vn(),ct(de,new Ar(de,Z)),nc(b)}else rc(b);else if(Oe=Q.s,Oe==3||Oe==0&&0<Q.X||!(de==1&&Jo(b,Q)||de==2&&ic(b)))switch(Z&&0<Z.length&&(Q=b.h,Q.i=Q.i.concat(Z)),Oe){case 1:Ls(b,5);break;case 4:Ls(b,10);break;case 3:Ls(b,6);break;default:Ls(b,2)}}}function Bl(b,Q){let Z=b.Ta+Math.floor(Math.random()*b.cb);return b.isActive()||(Z*=2),Z*Q}function Ls(b,Q){if(b.j.info("Error code "+Q),Q==2){var Z=f(b.fb,b),de=b.Xa;const Oe=!de;de=new Qn(de||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ei(de,"https"),Ko(de),Oe?Xo(de.toString(),Z):si(de.toString(),Z)}else St(2);b.G=0,b.l&&b.l.sa(Q),qc(b),Sl(b)}t.fb=function(b){b?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function qc(b){if(b.G=0,b.ka=[],b.l){const Q=qs(b.h);(Q.length!=0||b.i.length!=0)&&(v(b.ka,Q),v(b.ka,b.i),b.h.i.length=0,y(b.i),b.i.length=0),b.l.ra()}}function U(b,Q,Z){var de=Z instanceof Qn?Di(Z):new Qn(Z);if(de.g!="")Q&&(de.g=Q+"."+de.g),_l(de,de.s);else{var Oe=o.location;de=Oe.protocol,Q=Q?Q+"."+Oe.hostname:Oe.hostname,Oe=+Oe.port;var qe=new Qn(null);de&&Ei(qe,de),Q&&(qe.g=Q),Oe&&_l(qe,Oe),Z&&(qe.l=Z),de=qe}return Z=b.D,Q=b.ya,Z&&Q&&vr(de,Z,Q),vr(de,"VER",b.la),Yi(b,de),de}function ae(b,Q,Z){if(Q&&!b.J)throw Error("Can't create secondary domain capable XhrIo object.");return Q=b.Ca&&!b.pa?new nr(new Ou({eb:Z})):new nr(b.pa),Q.Ha(b.J),Q}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Me(){}t=Me.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Fe(){}Fe.prototype.g=function(b,Q){return new Qe(b,Q)};function Qe(b,Q){nt.call(this),this.g=new tc(Q),this.l=b,this.h=Q&&Q.messageUrlParams||null,b=Q&&Q.messageHeaders||null,Q&&Q.clientProtocolHeaderRequired&&(b?b["X-Client-Protocol"]="webchannel":b={"X-Client-Protocol":"webchannel"}),this.g.o=b,b=Q&&Q.initMessageHeaders||null,Q&&Q.messageContentType&&(b?b["X-WebChannel-Content-Type"]=Q.messageContentType:b={"X-WebChannel-Content-Type":Q.messageContentType}),Q&&Q.va&&(b?b["X-WebChannel-Client-Profile"]=Q.va:b={"X-WebChannel-Client-Profile":Q.va}),this.g.S=b,(b=Q&&Q.Sb)&&!w(b)&&(this.g.m=b),this.v=Q&&Q.supportsCrossDomainXhr||!1,this.u=Q&&Q.sendRawJson||!1,(Q=Q&&Q.httpSessionIdParam)&&!w(Q)&&(this.g.D=Q,b=this.h,b!==null&&Q in b&&(b=this.h,Q in b&&delete b[Q])),this.j=new Lt(this)}p(Qe,nt),Qe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Qe.prototype.close=function(){Mo(this.g)},Qe.prototype.o=function(b){var Q=this.g;if(typeof b=="string"){var Z={};Z.__data__=b,b=Z}else this.u&&(Z={},Z.__data__=Ct(b),b=Z);Q.i.push(new gr(Q.Ya++,b)),Q.G==3&&nc(Q)},Qe.prototype.N=function(){this.g.l=null,delete this.j,Mo(this.g),delete this.g,Qe.aa.N.call(this)};function it(b){Bt.call(this),b.__headers__&&(this.headers=b.__headers__,this.statusCode=b.__status__,delete b.__headers__,delete b.__status__);var Q=b.__sm__;if(Q){e:{for(const Z in Q){b=Z;break e}b=void 0}(this.i=b)&&(b=this.i,Q=Q!==null&&b in Q?Q[b]:void 0),this.data=Q}else this.data=b}p(it,Bt);function vt(){Et.call(this),this.status=1}p(vt,Et);function Lt(b){this.g=b}p(Lt,Me),Lt.prototype.ua=function(){ct(this.g,"a")},Lt.prototype.ta=function(b){ct(this.g,new it(b))},Lt.prototype.sa=function(b){ct(this.g,new vt)},Lt.prototype.ra=function(){ct(this.g,"b")},Fe.prototype.createWebChannel=Fe.prototype.g,Qe.prototype.send=Qe.prototype.o,Qe.prototype.open=Qe.prototype.m,Qe.prototype.close=Qe.prototype.close,dre=function(){return new Fe},hre=function(){return vn()},fre=xt,XL={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$i.NO_ERROR=0,$i.TIMEOUT=8,$i.HTTP_ERROR=6,M2=$i,Ks.COMPLETE="complete",Are=Ks,lt.EventType=Le,Le.OPEN="a",Le.CLOSE="b",Le.ERROR="c",Le.MESSAGE="d",nt.prototype.listen=nt.prototype.K,L1=lt,nr.prototype.listenOnce=nr.prototype.L,nr.prototype.getLastError=nr.prototype.Ka,nr.prototype.getLastErrorCode=nr.prototype.Ba,nr.prototype.getStatus=nr.prototype.Z,nr.prototype.getResponseJson=nr.prototype.Oa,nr.prototype.getResponseText=nr.prototype.oa,nr.prototype.send=nr.prototype.ea,nr.prototype.setWithCredentials=nr.prototype.Ha,ure=nr}).apply(typeof jE<"u"?jE:typeof self<"u"?self:typeof window<"u"?window:{});const u9="@firebase/firestore",A9="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}co.UNAUTHENTICATED=new co(null),co.GOOGLE_CREDENTIALS=new co("google-credentials-uid"),co.FIRST_PARTY=new co("first-party-uid"),co.MOCK_USER=new co("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ay="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=new OD("@firebase/firestore");function m0(){return km.logLevel}function qt(t,...e){if(km.logLevel<=Yn.DEBUG){const n=e.map(HD);km.debug(`Firestore (${Ay}): ${t}`,...n)}}function Rf(t,...e){if(km.logLevel<=Yn.ERROR){const n=e.map(HD);km.error(`Firestore (${Ay}): ${t}`,...n)}}function Rv(t,...e){if(km.logLevel<=Yn.WARN){const n=e.map(HD);km.warn(`Firestore (${Ay}): ${t}`,...n)}}function HD(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,pre(t,r,n)}function pre(t,e,n){let r=`FIRESTORE (${Ay}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Rf(r),new Error(r)}function Er(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||pre(e,i,r)}function Pn(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class jt extends BA{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mre{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class EOe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(co.UNAUTHENTICATED))}shutdown(){}}class SOe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class COe{constructor(e){this.t=e,this.currentUser=co.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Er(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new md;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new md,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{qt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(qt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new md)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(qt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Er(typeof r.accessToken=="string",31837,{l:r}),new mre(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Er(e===null||typeof e=="string",2055,{h:e}),new co(e)}}class BOe{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=co.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class TOe{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new BOe(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(co.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f9{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class MOe{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mc(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Er(this.o===void 0,3512);const r=s=>{s.error!=null&&qt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,qt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{qt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):qt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new f9(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Er(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new f9(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IOe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VD{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=IOe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Zn(t,e){return t<e?-1:t>e?1:0}function YL(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return hP(i)===hP(s)?Zn(i,s):hP(i)?1:-1}return Zn(t.length,e.length)}const POe=55296,NOe=57343;function hP(t){const e=t.charCodeAt(0);return e>=POe&&e<=NOe}function Uv(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h9="__name__";class Xu{constructor(e,n,r){n===void 0?n=0:n>e.length&&xn(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&xn(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Xu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Xu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Xu.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Zn(e.length,n.length)}static compareSegments(e,n){const r=Xu.isNumericId(e),i=Xu.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Xu.extractNumericId(e).compare(Xu.extractNumericId(n)):YL(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return pd.fromString(e.substring(4,e.length-2))}}class ni extends Xu{construct(e,n,r){return new ni(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new jt(mt.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ni(n)}static emptyPath(){return new ni([])}}const LOe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Da extends Xu{construct(e,n,r){return new Da(e,n,r)}static isValidIdentifier(e){return LOe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Da.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===h9}static keyField(){return new Da([h9])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new jt(mt.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new jt(mt.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new jt(mt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(r+=o,i++):(s(),i++)}if(s(),a)throw new jt(mt.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Da(n)}static emptyPath(){return new Da([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fn{constructor(e){this.path=e}static fromPath(e){return new fn(ni.fromString(e))}static fromName(e){return new fn(ni.fromString(e).popFirst(5))}static empty(){return new fn(ni.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ni.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ni.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new fn(new ni(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gre(t,e,n){if(!n)throw new jt(mt.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function FOe(t,e,n,r){if(e===!0&&r===!0)throw new jt(mt.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function d9(t){if(!fn.isDocumentKey(t))throw new jt(mt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function p9(t){if(fn.isDocumentKey(t))throw new jt(mt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function vre(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function YT(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":xn(12329,{type:typeof t})}function _f(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new jt(mt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=YT(t);throw new jt(mt.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bs(t,e){const n={typeString:t};return e&&(n.value=e),n}function dx(t,e){if(!vre(t))throw new jt(mt.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const a=t[r];if(i&&typeof a!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new jt(mt.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9=-62135596800,g9=1e6;class di{static now(){return di.fromMillis(Date.now())}static fromDate(e){return di.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*g9);return new di(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new jt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new jt(mt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<m9)throw new jt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new jt(mt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/g9}_compareTo(e){return this.seconds===e.seconds?Zn(this.nanoseconds,e.nanoseconds):Zn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:di._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(dx(e,di._jsonSchema))return new di(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-m9;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}di._jsonSchemaVersion="firestore/timestamp/1.0",di._jsonSchema={type:Bs("string",di._jsonSchemaVersion),seconds:Bs("number"),nanoseconds:Bs("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{static fromTimestamp(e){return new Bn(e)}static min(){return new Bn(new di(0,0))}static max(){return new Bn(new di(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_=-1;function ROe(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Bn.fromTimestamp(r===1e9?new di(n+1,0):new di(n,r));return new Id(i,fn.empty(),e)}function UOe(t){return new Id(t.readTime,t.key,w_)}class Id{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Id(Bn.min(),fn.empty(),w_)}static max(){return new Id(Bn.max(),fn.empty(),w_)}}function DOe(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=fn.comparator(t.documentKey,e.documentKey),n!==0?n:Zn(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OOe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class kOe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fy(t){if(t.code!==mt.FAILED_PRECONDITION||t.message!==OOe)throw t;qt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&xn(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new yt((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof yt?n:yt.resolve(n)}catch(n){return yt.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):yt.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):yt.reject(n)}static resolve(e){return new yt((n,r)=>{n(e)})}static reject(e){return new yt((n,r)=>{r(e)})}static waitFor(e){return new yt((n,r)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&n()},l=>r(l))}),a=!0,s===i&&n()})}static or(e){let n=yt.resolve(!1);for(const r of e)n=n.next(i=>i?yt.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new yt((r,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(u=>{a[c]=u,++o,o===s&&r(a)},u=>i(u))}})}static doWhile(e,n){return new yt((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}function QOe(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function hy(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}JT.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zD=-1;function ZT(t){return t==null}function xC(t){return t===0&&1/t==-1/0}function HOe(t){return typeof t=="number"&&Number.isInteger(t)&&!xC(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yre="";function VOe(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=v9(e)),e=zOe(t.get(n),e);return v9(e)}function zOe(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case yre:n+="";break;default:n+=s}}return n}function v9(t){return t+yre+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y9(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Wd(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function wre(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n){this.comparator=e,this.root=n||Ua.EMPTY}insert(e,n){return new Ri(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ua.BLACK,null,null))}remove(e){return new Ri(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ua.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new GE(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new GE(this.root,e,this.comparator,!1)}getReverseIterator(){return new GE(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new GE(this.root,e,this.comparator,!0)}}class GE{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ua{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Ua.RED,this.left=i??Ua.EMPTY,this.right=s??Ua.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Ua(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ua.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Ua.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ua.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ua.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw xn(43730,{key:this.key,value:this.value});if(this.right.isRed())throw xn(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw xn(27949);return e+(this.isRed()?0:1)}}Ua.EMPTY=null,Ua.RED=!0,Ua.BLACK=!1;Ua.EMPTY=new class{constructor(){this.size=0}get key(){throw xn(57766)}get value(){throw xn(16141)}get color(){throw xn(16727)}get left(){throw xn(29726)}get right(){throw xn(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new Ua(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vs{constructor(e){this.comparator=e,this.data=new Ri(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new w9(this.data.getIterator())}getIteratorFrom(e){return new w9(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Vs)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Vs(this.comparator);return n.data=e,n}}class w9{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e){this.fields=e,e.sort(Da.comparator)}static empty(){return new zl([])}unionWith(e){let n=new Vs(Da.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zl(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Uv(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _re extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new _re("Invalid base64 string: "+s):s}}(e);return new Ha(n)}static fromUint8Array(e){const n=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new Ha(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ha.EMPTY_BYTE_STRING=new Ha("");const jOe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Pd(t){if(Er(!!t,39018),typeof t=="string"){let e=0;const n=jOe.exec(t);if(Er(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rs(t.seconds),nanos:rs(t.nanos)}}function rs(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nd(t){return typeof t=="string"?Ha.fromBase64String(t):Ha.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xre="server_timestamp",bre="__type__",Ere="__previous_value__",Sre="__local_write_time__";function jD(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[bre])==null?void 0:r.stringValue)===xre}function eM(t){const e=t.mapValue.fields[Ere];return jD(e)?eM(e):e}function __(t){const e=Pd(t.mapValue.fields[Sre].timestampValue);return new di(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GOe{constructor(e,n,r,i,s,a,o,l,c,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=u}}const bC="(default)";class x_{constructor(e,n){this.projectId=e,this.database=n||bC}static empty(){return new x_("","")}get isDefaultDatabase(){return this.database===bC}isEqual(e){return e instanceof x_&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cre="__type__",WOe="__max__",WE={mapValue:{}},Bre="__vector__",EC="value";function Ld(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?jD(t)?4:qOe(t)?9007199254740991:KOe(t)?10:11:xn(28295,{value:t})}function wA(t,e){if(t===e)return!0;const n=Ld(t);if(n!==Ld(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return __(t).isEqual(__(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Pd(i.timestampValue),o=Pd(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Nd(i.bytesValue).isEqual(Nd(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return rs(i.geoPointValue.latitude)===rs(s.geoPointValue.latitude)&&rs(i.geoPointValue.longitude)===rs(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return rs(i.integerValue)===rs(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=rs(i.doubleValue),o=rs(s.doubleValue);return a===o?xC(a)===xC(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return Uv(t.arrayValue.values||[],e.arrayValue.values||[],wA);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(y9(a)!==y9(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!wA(a[l],o[l])))return!1;return!0}(t,e);default:return xn(52216,{left:t})}}function b_(t,e){return(t.values||[]).find(n=>wA(n,e))!==void 0}function Dv(t,e){if(t===e)return 0;const n=Ld(t),r=Ld(e);if(n!==r)return Zn(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Zn(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=rs(s.integerValue||s.doubleValue),l=rs(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return _9(t.timestampValue,e.timestampValue);case 4:return _9(__(t),__(e));case 5:return YL(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Nd(s),l=Nd(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let c=0;c<o.length&&c<l.length;c++){const u=Zn(o[c],l[c]);if(u!==0)return u}return Zn(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=Zn(rs(s.latitude),rs(a.latitude));return o!==0?o:Zn(rs(s.longitude),rs(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return x9(t.arrayValue,e.arrayValue);case 10:return function(s,a){var f,h,p,y;const o=s.fields||{},l=a.fields||{},c=(f=o[EC])==null?void 0:f.arrayValue,u=(h=l[EC])==null?void 0:h.arrayValue,A=Zn(((p=c==null?void 0:c.values)==null?void 0:p.length)||0,((y=u==null?void 0:u.values)==null?void 0:y.length)||0);return A!==0?A:x9(c,u)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===WE.mapValue&&a===WE.mapValue)return 0;if(s===WE.mapValue)return 1;if(a===WE.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),c=a.fields||{},u=Object.keys(c);l.sort(),u.sort();for(let A=0;A<l.length&&A<u.length;++A){const f=YL(l[A],u[A]);if(f!==0)return f;const h=Dv(o[l[A]],c[u[A]]);if(h!==0)return h}return Zn(l.length,u.length)}(t.mapValue,e.mapValue);default:throw xn(23264,{he:n})}}function _9(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Zn(t,e);const n=Pd(t),r=Pd(e),i=Zn(n.seconds,r.seconds);return i!==0?i:Zn(n.nanos,r.nanos)}function x9(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Dv(n[i],r[i]);if(s)return s}return Zn(n.length,r.length)}function Ov(t){return JL(t)}function JL(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Pd(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Nd(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return fn.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=JL(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const a of r)s?s=!1:i+=",",i+=`${a}:${JL(n.fields[a])}`;return i+"}"}(t.mapValue):xn(61005,{value:t})}function I2(t){switch(Ld(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=eM(t);return e?16+I2(e):16;case 5:return 2*t.stringValue.length;case 6:return Nd(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+I2(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Wd(r.fields,(s,a)=>{i+=s.length+I2(a)}),i}(t.mapValue);default:throw xn(13486,{value:t})}}function b9(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ZL(t){return!!t&&"integerValue"in t}function GD(t){return!!t&&"arrayValue"in t}function E9(t){return!!t&&"nullValue"in t}function S9(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function P2(t){return!!t&&"mapValue"in t}function KOe(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[Cre])==null?void 0:r.stringValue)===Bre}function Aw(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Wd(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Aw(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Aw(t.arrayValue.values[n]);return e}return{...t}}function qOe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===WOe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e){this.value=e}static empty(){return new dl({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!P2(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Aw(n)}setAll(e){let n=Da.emptyPath(),r={},i=[];e.forEach((a,o)=>{if(!n.isImmediateParentOf(o)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=o.popLast()}a?r[o.lastSegment()]=Aw(a):i.push(o.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());P2(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wA(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];P2(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Wd(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new dl(Aw(this.value))}}function Tre(t){const e=[];return Wd(t.fields,(n,r)=>{const i=new Da([n]);if(P2(r)){const s=Tre(r.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new zl(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(e,n,r,i,s,a,o){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new fo(e,0,Bn.min(),Bn.min(),Bn.min(),dl.empty(),0)}static newFoundDocument(e,n,r,i){return new fo(e,1,n,Bn.min(),r,i,0)}static newNoDocument(e,n){return new fo(e,2,n,Bn.min(),Bn.min(),dl.empty(),0)}static newUnknownDocument(e,n){return new fo(e,3,n,Bn.min(),Bn.min(),dl.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Bn.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=dl.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=dl.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bn.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof fo&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new fo(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(e,n){this.position=e,this.inclusive=n}}function C9(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?r=fn.comparator(fn.fromName(a.referenceValue),n.key):r=Dv(a,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function B9(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wA(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E_{constructor(e,n="asc"){this.field=e,this.dir=n}}function $Oe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mre{}class Cs extends Mre{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new YOe(e,n,r):n==="array-contains"?new eke(e,r):n==="in"?new tke(e,r):n==="not-in"?new nke(e,r):n==="array-contains-any"?new rke(e,r):new Cs(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new JOe(e,r):new ZOe(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Dv(n,this.value)):n!==null&&Ld(this.value)===Ld(n)&&this.matchesComparison(Dv(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return xn(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Bu extends Mre{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new Bu(e,n)}matches(e){return Ire(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ire(t){return t.op==="and"}function Pre(t){return XOe(t)&&Ire(t)}function XOe(t){for(const e of t.filters)if(e instanceof Bu)return!1;return!0}function eF(t){if(t instanceof Cs)return t.field.canonicalString()+t.op.toString()+Ov(t.value);if(Pre(t))return t.filters.map(e=>eF(e)).join(",");{const e=t.filters.map(n=>eF(n)).join(",");return`${t.op}(${e})`}}function Nre(t,e){return t instanceof Cs?function(r,i){return i instanceof Cs&&r.op===i.op&&r.field.isEqual(i.field)&&wA(r.value,i.value)}(t,e):t instanceof Bu?function(r,i){return i instanceof Bu&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,a,o)=>s&&Nre(a,i.filters[o]),!0):!1}(t,e):void xn(19439)}function Lre(t){return t instanceof Cs?function(n){return`${n.field.canonicalString()} ${n.op} ${Ov(n.value)}`}(t):t instanceof Bu?function(n){return n.op.toString()+" {"+n.getFilters().map(Lre).join(" ,")+"}"}(t):"Filter"}class YOe extends Cs{constructor(e,n,r){super(e,n,r),this.key=fn.fromName(r.referenceValue)}matches(e){const n=fn.comparator(e.key,this.key);return this.matchesComparison(n)}}class JOe extends Cs{constructor(e,n){super(e,"in",n),this.keys=Fre("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ZOe extends Cs{constructor(e,n){super(e,"not-in",n),this.keys=Fre("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Fre(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>fn.fromName(r.referenceValue))}class eke extends Cs{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return GD(n)&&b_(n.arrayValue,this.value)}}class tke extends Cs{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&b_(this.value.arrayValue,n)}}class nke extends Cs{constructor(e,n){super(e,"not-in",n)}matches(e){if(b_(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!b_(this.value.arrayValue,n)}}class rke extends Cs{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!GD(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>b_(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ike{constructor(e,n=null,r=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function T9(t,e=null,n=[],r=[],i=null,s=null,a=null){return new ike(t,e,n,r,i,s,a)}function WD(t){const e=Pn(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>eF(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),ZT(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ov(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ov(r)).join(",")),e.Te=n}return e.Te}function KD(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!$Oe(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Nre(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!B9(t.startAt,e.startAt)&&B9(t.endAt,e.endAt)}function tF(t){return fn.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n=null,r=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ske(t,e,n,r,i,s,a,o){return new dy(t,e,n,r,i,s,a,o)}function qD(t){return new dy(t)}function M9(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Rre(t){return t.collectionGroup!==null}function fw(t){const e=Pn(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new Vs(Da.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(o=o.add(c.field))})}),o})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new E_(s,r))}),n.has(Da.keyField().canonicalString())||e.Ie.push(new E_(Da.keyField(),r))}return e.Ie}function uA(t){const e=Pn(t);return e.Ee||(e.Ee=ake(e,fw(t))),e.Ee}function ake(t,e){if(t.limitType==="F")return T9(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new E_(i.field,s)});const n=t.endAt?new SC(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new SC(t.startAt.position,t.startAt.inclusive):null;return T9(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function nF(t,e){const n=t.filters.concat([e]);return new dy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function rF(t,e,n){return new dy(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function tM(t,e){return KD(uA(t),uA(e))&&t.limitType===e.limitType}function Ure(t){return`${WD(uA(t))}|lt:${t.limitType}`}function g0(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Lre(i)).join(", ")}]`),ZT(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ov(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ov(i)).join(",")),`Target(${r})`}(uA(t))}; limitType=${t.limitType})`}function nM(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):fn.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of fw(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(a,o,l){const c=C9(a,o,l);return a.inclusive?c<=0:c<0}(r.startAt,fw(r),i)||r.endAt&&!function(a,o,l){const c=C9(a,o,l);return a.inclusive?c>=0:c>0}(r.endAt,fw(r),i))}(t,e)}function oke(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Dre(t){return(e,n)=>{let r=!1;for(const i of fw(t)){const s=lke(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function lke(t,e,n){const r=t.field.isKeyField()?fn.comparator(e.key,n.key):function(s,a,o){const l=a.data.field(s),c=o.data.field(s);return l!==null&&c!==null?Dv(l,c):xn(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return xn(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cg{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Wd(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return wre(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cke=new Ri(fn.comparator);function Uf(){return cke}const Ore=new Ri(fn.comparator);function F1(...t){let e=Ore;for(const n of t)e=e.insert(n.key,n);return e}function kre(t){let e=Ore;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function rm(){return hw()}function Qre(){return hw()}function hw(){return new cg(t=>t.toString(),(t,e)=>t.isEqual(e))}const uke=new Ri(fn.comparator),Ake=new Vs(fn.comparator);function er(...t){let e=Ake;for(const n of t)e=e.add(n);return e}const fke=new Vs(Zn);function hke(){return fke}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $D(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:xC(e)?"-0":e}}function Hre(t){return{integerValue:""+t}}function Vre(t,e){return HOe(e)?Hre(e):$D(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rM{constructor(){this._=void 0}}function dke(t,e,n){return t instanceof S_?function(i,s){const a={fields:{[bre]:{stringValue:xre},[Sre]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&jD(s)&&(s=eM(s)),s&&(a.fields[Ere]=s),{mapValue:a}}(n,e):t instanceof kv?jre(t,e):t instanceof C_?Gre(t,e):function(i,s){const a=zre(i,s),o=I9(a)+I9(i.Ae);return ZL(a)&&ZL(i.Ae)?Hre(o):$D(i.serializer,o)}(t,e)}function pke(t,e,n){return t instanceof kv?jre(t,e):t instanceof C_?Gre(t,e):n}function zre(t,e){return t instanceof B_?function(r){return ZL(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class S_ extends rM{}class kv extends rM{constructor(e){super(),this.elements=e}}function jre(t,e){const n=Wre(e);for(const r of t.elements)n.some(i=>wA(i,r))||n.push(r);return{arrayValue:{values:n}}}class C_ extends rM{constructor(e){super(),this.elements=e}}function Gre(t,e){let n=Wre(e);for(const r of t.elements)n=n.filter(i=>!wA(i,r));return{arrayValue:{values:n}}}class B_ extends rM{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function I9(t){return rs(t.integerValue||t.doubleValue)}function Wre(t){return GD(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e,n){this.field=e,this.transform=n}}function mke(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof kv&&i instanceof kv||r instanceof C_&&i instanceof C_?Uv(r.elements,i.elements,wA):r instanceof B_&&i instanceof B_?wA(r.Ae,i.Ae):r instanceof S_&&i instanceof S_}(t.transform,e.transform)}class gke{constructor(e,n){this.version=e,this.transformResults=n}}class AA{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new AA}static exists(e){return new AA(void 0,e)}static updateTime(e){return new AA(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function N2(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class iM{}function Kre(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $re(t.key,AA.none()):new px(t.key,t.data,AA.none());{const n=t.data,r=dl.empty();let i=new Vs(Da.comparator);for(let s of e.fields)if(!i.has(s)){let a=n.field(s);a===null&&s.length>1&&(s=s.popLast(),a=n.field(s)),a===null?r.delete(s):r.set(s,a),i=i.add(s)}return new Kd(t.key,r,new zl(i.toArray()),AA.none())}}function vke(t,e,n){t instanceof px?function(i,s,a){const o=i.value.clone(),l=N9(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Kd?function(i,s,a){if(!N2(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=N9(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(qre(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,n)}function dw(t,e,n,r){return t instanceof px?function(s,a,o,l){if(!N2(s.precondition,a))return o;const c=s.value.clone(),u=L9(s.fieldTransforms,l,a);return c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Kd?function(s,a,o,l){if(!N2(s.precondition,a))return o;const c=L9(s.fieldTransforms,l,a),u=a.data;return u.setAll(qre(s)),u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(A=>A.field))}(t,e,n,r):function(s,a,o){return N2(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,n)}function yke(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=zre(r.transform,i||null);s!=null&&(n===null&&(n=dl.empty()),n.set(r.field,s))}return n||null}function P9(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Uv(r,i,(s,a)=>mke(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class px extends iM{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Kd extends iM{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function qre(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function N9(t,e,n){const r=new Map;Er(t.length===n.length,32656,{Re:n.length,Ve:t.length});for(let i=0;i<n.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);r.set(s.field,pke(a,o,n[i]))}return r}function L9(t,e,n){const r=new Map;for(const i of t){const s=i.transform,a=n.data.field(i.field);r.set(i.field,dke(s,a,e))}return r}class $re extends iM{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class wke extends iM{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ke{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&vke(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=dw(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=dw(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=Qre();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=n.has(i.key)?null:o;const l=Kre(a,o);l!==null&&r.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Bn.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),er())}isEqual(e){return this.batchId===e.batchId&&Uv(this.mutations,e.mutations,(n,r)=>P9(n,r))&&Uv(this.baseMutations,e.baseMutations,(n,r)=>P9(n,r))}}class YD{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Er(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let i=function(){return uke}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,r[a].version);return new YD(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xke{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bke{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _s,or;function Eke(t){switch(t){case mt.OK:return xn(64938);case mt.CANCELLED:case mt.UNKNOWN:case mt.DEADLINE_EXCEEDED:case mt.RESOURCE_EXHAUSTED:case mt.INTERNAL:case mt.UNAVAILABLE:case mt.UNAUTHENTICATED:return!1;case mt.INVALID_ARGUMENT:case mt.NOT_FOUND:case mt.ALREADY_EXISTS:case mt.PERMISSION_DENIED:case mt.FAILED_PRECONDITION:case mt.ABORTED:case mt.OUT_OF_RANGE:case mt.UNIMPLEMENTED:case mt.DATA_LOSS:return!0;default:return xn(15467,{code:t})}}function Xre(t){if(t===void 0)return Rf("GRPC error has no .code"),mt.UNKNOWN;switch(t){case _s.OK:return mt.OK;case _s.CANCELLED:return mt.CANCELLED;case _s.UNKNOWN:return mt.UNKNOWN;case _s.DEADLINE_EXCEEDED:return mt.DEADLINE_EXCEEDED;case _s.RESOURCE_EXHAUSTED:return mt.RESOURCE_EXHAUSTED;case _s.INTERNAL:return mt.INTERNAL;case _s.UNAVAILABLE:return mt.UNAVAILABLE;case _s.UNAUTHENTICATED:return mt.UNAUTHENTICATED;case _s.INVALID_ARGUMENT:return mt.INVALID_ARGUMENT;case _s.NOT_FOUND:return mt.NOT_FOUND;case _s.ALREADY_EXISTS:return mt.ALREADY_EXISTS;case _s.PERMISSION_DENIED:return mt.PERMISSION_DENIED;case _s.FAILED_PRECONDITION:return mt.FAILED_PRECONDITION;case _s.ABORTED:return mt.ABORTED;case _s.OUT_OF_RANGE:return mt.OUT_OF_RANGE;case _s.UNIMPLEMENTED:return mt.UNIMPLEMENTED;case _s.DATA_LOSS:return mt.DATA_LOSS;default:return xn(39323,{code:t})}}(or=_s||(_s={}))[or.OK=0]="OK",or[or.CANCELLED=1]="CANCELLED",or[or.UNKNOWN=2]="UNKNOWN",or[or.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",or[or.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",or[or.NOT_FOUND=5]="NOT_FOUND",or[or.ALREADY_EXISTS=6]="ALREADY_EXISTS",or[or.PERMISSION_DENIED=7]="PERMISSION_DENIED",or[or.UNAUTHENTICATED=16]="UNAUTHENTICATED",or[or.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",or[or.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",or[or.ABORTED=10]="ABORTED",or[or.OUT_OF_RANGE=11]="OUT_OF_RANGE",or[or.UNIMPLEMENTED=12]="UNIMPLEMENTED",or[or.INTERNAL=13]="INTERNAL",or[or.UNAVAILABLE=14]="UNAVAILABLE",or[or.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ske(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cke=new pd([4294967295,4294967295],0);function F9(t){const e=Ske().encode(t),n=new cre;return n.update(e),new Uint8Array(n.digest())}function R9(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new pd([n,r],0),new pd([i,s],0)]}class JD{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new R1(`Invalid padding: ${n}`);if(r<0)throw new R1(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new R1(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new R1(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=pd.fromNumber(this.ge)}ye(e,n,r){let i=e.add(n.multiply(pd.fromNumber(r)));return i.compare(Cke)===1&&(i=new pd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=F9(e),[r,i]=R9(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);if(!this.we(a))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new JD(s,i,n);return r.forEach(o=>a.insert(o)),a}insert(e){if(this.ge===0)return;const n=F9(e),[r,i]=R9(n);for(let s=0;s<this.hashCount;s++){const a=this.ye(r,i,s);this.Se(a)}}Se(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class R1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sM{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,mx.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new sM(Bn.min(),i,new Ri(Zn),Uf(),er())}}class mx{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new mx(r,n,er(),er(),er())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L2{constructor(e,n,r,i){this.be=e,this.removedTargetIds=n,this.key=r,this.De=i}}class Yre{constructor(e,n){this.targetId=e,this.Ce=n}}class Jre{constructor(e,n,r=Ha.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class U9{constructor(){this.ve=0,this.Fe=D9(),this.Me=Ha.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=er(),n=er(),r=er();return this.Fe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:xn(38017,{changeType:s})}}),new mx(this.Me,this.xe,e,n,r)}qe(){this.Oe=!1,this.Fe=D9()}Qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Er(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Bke{constructor(e){this.Ge=e,this.ze=new Map,this.je=Uf(),this.Je=KE(),this.He=KE(),this.Ye=new Ri(Zn)}Ze(e){for(const n of e.be)e.De&&e.De.isFoundDocument()?this.Xe(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:xn(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,i)=>{this.rt(i)&&n(i)})}st(e){const n=e.targetId,r=e.Ce.count,i=this.ot(n);if(i){const s=i.target;if(tF(s))if(r===0){const a=new fn(s.path);this.et(n,a,fo.newNoDocument(a,Bn.min()))}else Er(r===1,20013,{expectedCount:r});else{const a=this._t(n);if(a!==r){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(n,c)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let a,o;try{a=Nd(r).toUint8Array()}catch(l){if(l instanceof _re)return Rv("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new JD(a,i,s)}catch(l){return Rv(l instanceof R1?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(n,s,null),i++)}),i}Tt(e){const n=new Map;this.ze.forEach((s,a)=>{const o=this.ot(a);if(o){if(s.current&&tF(o.target)){const l=new fn(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,fo.newNoDocument(l,e))}s.Be&&(n.set(a,s.ke()),s.qe())}});let r=er();this.He.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const c=this.ot(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(r=r.add(s))}),this.je.forEach((s,a)=>a.setReadTime(e));const i=new sM(e,n,this.Ye,this.je,r);return this.je=Uf(),this.Je=KE(),this.He=KE(),this.Ye=new Ri(Zn),i}Xe(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).Qe(n.key,r),this.je=this.je.insert(n.key,n),this.Je=this.Je.insert(n.key,this.It(n.key).add(e)),this.He=this.He.insert(n.key,this.dt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,n)?i.Qe(n,1):i.$e(n),this.He=this.He.insert(n,this.dt(n).delete(e)),this.He=this.He.insert(n,this.dt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let n=this.ze.get(e);return n||(n=new U9,this.ze.set(e,n)),n}dt(e){let n=this.He.get(e);return n||(n=new Vs(Zn),this.He=this.He.insert(e,n)),n}It(e){let n=this.Je.get(e);return n||(n=new Vs(Zn),this.Je=this.Je.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||qt("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new U9),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function KE(){return new Ri(fn.comparator)}function D9(){return new Ri(fn.comparator)}const Tke={asc:"ASCENDING",desc:"DESCENDING"},Mke={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ike={and:"AND",or:"OR"};class Pke{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function iF(t,e){return t.useProto3Json||ZT(e)?e:{value:e}}function CC(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Zre(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Nke(t,e){return CC(t,e.toTimestamp())}function fA(t){return Er(!!t,49232),Bn.fromTimestamp(function(n){const r=Pd(n);return new di(r.seconds,r.nanos)}(t))}function ZD(t,e){return sF(t,e).canonicalString()}function sF(t,e){const n=function(i){return new ni(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function eie(t){const e=ni.fromString(t);return Er(sie(e),10190,{key:e.toString()}),e}function aF(t,e){return ZD(t.databaseId,e.path)}function dP(t,e){const n=eie(e);if(n.get(1)!==t.databaseId.projectId)throw new jt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new jt(mt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new fn(nie(n))}function tie(t,e){return ZD(t.databaseId,e)}function Lke(t){const e=eie(t);return e.length===4?ni.emptyPath():nie(e)}function oF(t){return new ni(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function nie(t){return Er(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function O9(t,e,n){return{name:aF(t,e),fields:n.value.mapValue.fields}}function Fke(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:xn(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,u){return c.useProto3Json?(Er(u===void 0||typeof u=="string",58123),Ha.fromBase64String(u||"")):(Er(u===void 0||u instanceof Buffer||u instanceof Uint8Array,16193),Ha.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(c){const u=c.code===void 0?mt.UNKNOWN:Xre(c.code);return new jt(u,c.message||"")}(a);n=new Jre(r,i,s,o||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dP(t,r.document.name),s=fA(r.document.updateTime),a=r.document.createTime?fA(r.document.createTime):Bn.min(),o=new dl({mapValue:{fields:r.document.fields}}),l=fo.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new L2(c,u,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dP(t,r.document),s=r.readTime?fA(r.readTime):Bn.min(),a=fo.newNoDocument(i,s),o=r.removedTargetIds||[];n=new L2([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dP(t,r.document),s=r.removedTargetIds||[];n=new L2([],s,i,null)}else{if(!("filter"in e))return xn(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,a=new bke(i,s),o=r.targetId;n=new Yre(o,a)}}return n}function Rke(t,e){let n;if(e instanceof px)n={update:O9(t,e.key,e.value)};else if(e instanceof $re)n={delete:aF(t,e.key)};else if(e instanceof Kd)n={update:O9(t,e.key,e.data),updateMask:jke(e.fieldMask)};else{if(!(e instanceof wke))return xn(16599,{Vt:e.type});n={verify:aF(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,a){const o=a.transform;if(o instanceof S_)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof kv)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof C_)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof B_)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw xn(20930,{transform:a.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:Nke(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:xn(27497)}(t,e.precondition)),n}function Uke(t,e){return t&&t.length>0?(Er(e!==void 0,14353),t.map(n=>function(i,s){let a=i.updateTime?fA(i.updateTime):fA(s);return a.isEqual(Bn.min())&&(a=fA(s)),new gke(a,i.transformResults||[])}(n,e))):[]}function Dke(t,e){return{documents:[tie(t,e.path)]}}function Oke(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=tie(t,i);const s=function(c){if(c.length!==0)return iie(Bu.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const a=function(c){if(c.length!==0)return c.map(u=>function(f){return{field:v0(f.field),direction:Hke(f.dir)}}(u))}(e.orderBy);a&&(n.structuredQuery.orderBy=a);const o=iF(t,e.limit);return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{ft:n,parent:i}}function kke(t){let e=Lke(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Er(r===1,65062);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let s=[];n.where&&(s=function(A){const f=rie(A);return f instanceof Bu&&Pre(f)?f.getFilters():[f]}(n.where));let a=[];n.orderBy&&(a=function(A){return A.map(f=>function(p){return new E_(y0(p.field),function(v){switch(v){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(f))}(n.orderBy));let o=null;n.limit&&(o=function(A){let f;return f=typeof A=="object"?A.value:A,ZT(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(A){const f=!!A.before,h=A.values||[];return new SC(h,f)}(n.startAt));let c=null;return n.endAt&&(c=function(A){const f=!A.before,h=A.values||[];return new SC(h,f)}(n.endAt)),ske(e,i,a,s,o,"F",l,c)}function Qke(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xn(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function rie(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=y0(n.unaryFilter.field);return Cs.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=y0(n.unaryFilter.field);return Cs.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=y0(n.unaryFilter.field);return Cs.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=y0(n.unaryFilter.field);return Cs.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return xn(61313);default:return xn(60726)}}(t):t.fieldFilter!==void 0?function(n){return Cs.create(y0(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return xn(58110);default:return xn(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Bu.create(n.compositeFilter.filters.map(r=>rie(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return xn(1026)}}(n.compositeFilter.op))}(t):xn(30097,{filter:t})}function Hke(t){return Tke[t]}function Vke(t){return Mke[t]}function zke(t){return Ike[t]}function v0(t){return{fieldPath:t.canonicalString()}}function y0(t){return Da.fromServerFormat(t.fieldPath)}function iie(t){return t instanceof Cs?function(n){if(n.op==="=="){if(S9(n.value))return{unaryFilter:{field:v0(n.field),op:"IS_NAN"}};if(E9(n.value))return{unaryFilter:{field:v0(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(S9(n.value))return{unaryFilter:{field:v0(n.field),op:"IS_NOT_NAN"}};if(E9(n.value))return{unaryFilter:{field:v0(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:v0(n.field),op:Vke(n.op),value:n.value}}}(t):t instanceof Bu?function(n){const r=n.getFilters().map(i=>iie(i));return r.length===1?r[0]:{compositeFilter:{op:zke(n.op),filters:r}}}(t):xn(54877,{filter:t})}function jke(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function sie(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh{constructor(e,n,r,i,s=Bn.min(),a=Bn.min(),o=Ha.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new qh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new qh(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new qh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new qh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gke{constructor(e){this.yt=e}}function Wke(t){const e=kke({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rF(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kke{constructor(){this.Cn=new qke}addToCollectionParentIndex(e,n){return this.Cn.add(n),yt.resolve()}getCollectionParents(e,n){return yt.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return yt.resolve()}deleteFieldIndex(e,n){return yt.resolve()}deleteAllFieldIndexes(e){return yt.resolve()}createTargetIndexes(e,n){return yt.resolve()}getDocumentsMatchingTarget(e,n){return yt.resolve(null)}getIndexType(e,n){return yt.resolve(0)}getFieldIndexes(e,n){return yt.resolve([])}getNextCollectionGroupToUpdate(e){return yt.resolve(null)}getMinOffset(e,n){return yt.resolve(Id.min())}getMinOffsetFromCollectionGroup(e,n){return yt.resolve(Id.min())}updateCollectionGroup(e,n,r){return yt.resolve()}updateIndexEntries(e,n){return yt.resolve()}}class qke{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Vs(ni.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Vs(ni.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},aie=41943040;class cl{static withCacheSize(e){return new cl(e,cl.DEFAULT_COLLECTION_PERCENTILE,cl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cl.DEFAULT_COLLECTION_PERCENTILE=10,cl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cl.DEFAULT=new cl(aie,cl.DEFAULT_COLLECTION_PERCENTILE,cl.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cl.DISABLED=new cl(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qv{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Qv(0)}static cr(){return new Qv(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q9="LruGarbageCollector",$ke=1048576;function H9([t,e],[n,r]){const i=Zn(t,n);return i===0?Zn(e,r):i}class Xke{constructor(e){this.Ir=e,this.buffer=new Vs(H9),this.Er=0}dr(){return++this.Er}Ar(e){const n=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();H9(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Yke{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){qt(Q9,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){hy(n)?qt(Q9,"Ignoring IndexedDB error during garbage collection: ",n):await fy(n)}await this.Vr(3e5)})}}class Jke{constructor(e,n){this.mr=e,this.params=n}calculateTargetCount(e,n){return this.mr.gr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return yt.resolve(JT.ce);const r=new Xke(n);return this.mr.forEachTarget(e,i=>r.Ar(i.sequenceNumber)).next(()=>this.mr.pr(e,i=>r.Ar(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.mr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.mr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(qt("LruGarbageCollector","Garbage collection skipped; disabled"),yt.resolve(k9)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(qt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),k9):this.yr(e,n))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,n){let r,i,s,a,o,l,c;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(A=>(A>this.params.maximumSequenceNumbersToCollect?(qt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${A}`),i=this.params.maximumSequenceNumbersToCollect):i=A,a=Date.now(),this.nthSequenceNumber(e,i))).next(A=>(r=A,o=Date.now(),this.removeTargets(e,r,n))).next(A=>(s=A,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(A=>(c=Date.now(),m0()<=Yn.DEBUG&&qt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-u}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${A} documents in `+(c-l)+`ms
Total Duration: ${c-u}ms`),yt.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:A})))}}function Zke(t,e){return new Jke(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e6e{constructor(){this.changes=new cg(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,fo.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?yt.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t6e{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n6e{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&dw(r.mutation,i,zl.empty(),di.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,er()).next(()=>r))}getLocalViewOfDocuments(e,n,r=er()){const i=rm();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let a=F1();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,n){const r=rm();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,er()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{n.set(a,o)})})}computeViews(e,n,r,i){let s=Uf();const a=hw(),o=function(){return hw()}();return n.forEach((l,c)=>{const u=r.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Kd)?s=s.insert(c.key,c):u!==void 0?(a.set(c.key,u.mutation.getFieldMask()),dw(u.mutation,c,u.mutation.getFieldMask(),di.now())):a.set(c.key,zl.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,u)=>a.set(c,u)),n.forEach((c,u)=>o.set(c,new t6e(u,a.get(c)??null))),o))}recalculateAndSaveOverlays(e,n){const r=hw();let i=new Ri((a,o)=>a-o),s=er();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(a=>{for(const o of a)o.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let u=r.get(l)||zl.empty();u=o.applyToLocalView(c,u),r.set(l,u);const A=(i.get(o.batchId)||er()).add(l);i=i.insert(o.batchId,A)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),c=l.key,u=l.value,A=Qre();u.forEach(f=>{if(!s.has(f)){const h=Kre(n.get(f),r.get(f));h!==null&&A.set(f,h),s=s.add(f)}}),a.push(this.documentOverlayCache.saveOverlays(e,c,A))}return yt.waitFor(a)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(a){return fn.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Rre(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):yt.resolve(rm());let o=w_,l=s;return a.next(c=>yt.forEach(c,(u,A)=>(o<A.largestBatchId&&(o=A.largestBatchId),s.get(u)?yt.resolve():this.remoteDocumentCache.getEntry(e,u).next(f=>{l=l.insert(u,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,er())).next(u=>({batchId:o,changes:kre(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new fn(n)).next(r=>{let i=F1();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let a=F1();return this.indexManager.getCollectionParents(e,s).next(o=>yt.forEach(o,l=>{const c=function(A,f){return new dy(f,null,A.explicitOrderBy.slice(),A.filters.slice(),A.limit,A.limitType,A.startAt,A.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(u=>{u.forEach((A,f)=>{a=a.insert(A,f)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(a=>{s.forEach((l,c)=>{const u=c.getKey();a.get(u)===null&&(a=a.insert(u,fo.newInvalidDocument(u)))});let o=F1();return a.forEach((l,c)=>{const u=s.get(l);u!==void 0&&dw(u.mutation,c,zl.empty(),di.now()),nM(n,c)&&(o=o.insert(l,c))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r6e{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,n){return yt.resolve(this.Lr.get(n))}saveBundleMetadata(e,n){return this.Lr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:fA(i.createTime)}}(n)),yt.resolve()}getNamedQuery(e,n){return yt.resolve(this.kr.get(n))}saveNamedQuery(e,n){return this.kr.set(n.name,function(i){return{name:i.name,query:Wke(i.bundledQuery),readTime:fA(i.readTime)}}(n)),yt.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i6e{constructor(){this.overlays=new Ri(fn.comparator),this.qr=new Map}getOverlay(e,n){return yt.resolve(this.overlays.get(n))}getOverlays(e,n){const r=rm();return yt.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.St(e,n,s)}),yt.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.qr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.qr.delete(r)),yt.resolve()}getOverlaysForCollection(e,n,r){const i=rm(),s=n.length+1,a=new fn(n.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return yt.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ri((c,u)=>c-u);const a=this.overlays.getIterator();for(;a.hasNext();){const c=a.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let u=s.get(c.largestBatchId);u===null&&(u=rm(),s=s.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const o=rm(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,u)=>o.set(c,u)),!(o.size()>=i)););return yt.resolve(o)}St(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(r.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(r.key,new xke(n,r));let s=this.qr.get(n);s===void 0&&(s=er(),this.qr.set(n,s)),this.qr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s6e{constructor(){this.sessionToken=Ha.EMPTY_BYTE_STRING}getSessionToken(e){return yt.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,yt.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eO{constructor(){this.Qr=new Vs(fa.$r),this.Ur=new Vs(fa.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,n){const r=new fa(e,n);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Gr(new fa(e,n))}zr(e,n){e.forEach(r=>this.removeReference(r,n))}jr(e){const n=new fn(new ni([])),r=new fa(n,e),i=new fa(n,e+1),s=[];return this.Ur.forEachInRange([r,i],a=>{this.Gr(a),s.push(a.key)}),s}Jr(){this.Qr.forEach(e=>this.Gr(e))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const n=new fn(new ni([])),r=new fa(n,e),i=new fa(n,e+1);let s=er();return this.Ur.forEachInRange([r,i],a=>{s=s.add(a.key)}),s}containsKey(e){const n=new fa(e,0),r=this.Qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class fa{constructor(e,n){this.key=e,this.Yr=n}static $r(e,n){return fn.comparator(e.key,n.key)||Zn(e.Yr,n.Yr)}static Kr(e,n){return Zn(e.Yr,n.Yr)||fn.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a6e{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.tr=1,this.Zr=new Vs(fa.$r)}checkEmpty(e){return yt.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new _ke(s,n,r,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new fa(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return yt.resolve(a)}lookupMutationBatch(e,n){return yt.resolve(this.Xr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.ei(r),s=i<0?0:i;return yt.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return yt.resolve(this.mutationQueue.length===0?zD:this.tr-1)}getAllMutationBatches(e){return yt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new fa(n,0),i=new fa(n,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([r,i],a=>{const o=this.Xr(a.Yr);s.push(o)}),yt.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Vs(Zn);return n.forEach(i=>{const s=new fa(i,0),a=new fa(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],o=>{r=r.add(o.Yr)})}),yt.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;fn.isDocumentKey(s)||(s=s.child(""));const a=new fa(new fn(s),0);let o=new Vs(Zn);return this.Zr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(o=o.add(l.Yr)),!0)},a),yt.resolve(this.ti(o))}ti(e){const n=[];return e.forEach(r=>{const i=this.Xr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Er(this.ni(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return yt.forEach(n.mutations,i=>{const s=new fa(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Zr=r})}ir(e){}containsKey(e,n){const r=new fa(n,0),i=this.Zr.firstAfterOrEqual(r);return yt.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,yt.resolve()}ni(e,n){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const n=this.ei(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o6e{constructor(e){this.ri=e,this.docs=function(){return new Ri(fn.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,a=this.ri(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return yt.resolve(r?r.document.mutableCopy():fo.newInvalidDocument(n))}getEntries(e,n){let r=Uf();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():fo.newInvalidDocument(i))}),yt.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Uf();const a=n.path,o=new fn(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:c,value:{document:u}}=l.getNext();if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||DOe(UOe(u),r)<=0||(i.has(u.key)||nM(n,u))&&(s=s.insert(u.key,u.mutableCopy()))}return yt.resolve(s)}getAllFromCollectionGroup(e,n,r,i){xn(9500)}ii(e,n){return yt.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new l6e(this)}getSize(e){return yt.resolve(this.size)}}class l6e extends e6e{constructor(e){super(),this.Nr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(r)}),yt.waitFor(n)}getFromCache(e,n){return this.Nr.getEntry(e,n)}getAllFromCache(e,n){return this.Nr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c6e{constructor(e){this.persistence=e,this.si=new cg(n=>WD(n),KD),this.lastRemoteSnapshotVersion=Bn.min(),this.highestTargetId=0,this.oi=0,this._i=new eO,this.targetCount=0,this.ai=Qv.ur()}forEachTarget(e,n){return this.si.forEach((r,i)=>n(i)),yt.resolve()}getLastRemoteSnapshotVersion(e){return yt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return yt.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),yt.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.oi&&(this.oi=n),yt.resolve()}Pr(e){this.si.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ai=new Qv(n),this.highestTargetId=n),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,n){return this.Pr(n),this.targetCount+=1,yt.resolve()}updateTargetData(e,n){return this.Pr(n),yt.resolve()}removeTargetData(e,n){return this.si.delete(n.target),this._i.jr(n.targetId),this.targetCount-=1,yt.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.si.forEach((a,o)=>{o.sequenceNumber<=n&&r.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),yt.waitFor(s).next(()=>i)}getTargetCount(e){return yt.resolve(this.targetCount)}getTargetData(e,n){const r=this.si.get(n)||null;return yt.resolve(r)}addMatchingKeys(e,n,r){return this._i.Wr(n,r),yt.resolve()}removeMatchingKeys(e,n,r){this._i.zr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),yt.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this._i.jr(n),yt.resolve()}getMatchingKeysForTargetId(e,n){const r=this._i.Hr(n);return yt.resolve(r)}containsKey(e,n){return yt.resolve(this._i.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oie{constructor(e,n){this.ui={},this.overlays={},this.ci=new JT(0),this.li=!1,this.li=!0,this.hi=new s6e,this.referenceDelegate=e(this),this.Pi=new c6e(this),this.indexManager=new Kke,this.remoteDocumentCache=function(i){return new o6e(i)}(r=>this.referenceDelegate.Ti(r)),this.serializer=new Gke(n),this.Ii=new r6e(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new i6e,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ui[e.toKey()];return r||(r=new a6e(n,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,n,r){qt("MemoryPersistence","Starting transaction:",e);const i=new u6e(this.ci.next());return this.referenceDelegate.Ei(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ai(e,n){return yt.or(Object.values(this.ui).map(r=>()=>r.containsKey(e,n)))}}class u6e extends kOe{constructor(e){super(),this.currentSequenceNumber=e}}class tO{constructor(e){this.persistence=e,this.Ri=new eO,this.Vi=null}static mi(e){return new tO(e)}get fi(){if(this.Vi)return this.Vi;throw xn(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.fi.delete(r.toString()),yt.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.fi.add(r.toString()),yt.resolve()}markPotentiallyOrphaned(e,n){return this.fi.add(n.toString()),yt.resolve()}removeTarget(e,n){this.Ri.jr(n.targetId).forEach(i=>this.fi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.fi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ei(){this.Vi=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return yt.forEach(this.fi,r=>{const i=fn.fromPath(r);return this.gi(e,i).next(s=>{s||n.removeEntry(i,Bn.min())})}).next(()=>(this.Vi=null,n.apply(e)))}updateLimboDocument(e,n){return this.gi(e,n).next(r=>{r?this.fi.delete(n.toString()):this.fi.add(n.toString())})}Ti(e){return 0}gi(e,n){return yt.or([()=>yt.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ai(e,n)])}}class BC{constructor(e,n){this.persistence=e,this.pi=new cg(r=>VOe(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=Zke(this,n)}static mi(e,n){return new BC(e,n)}Ei(){}di(e){return yt.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}gr(e){const n=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}wr(e){let n=0;return this.pr(e,r=>{n++}).next(()=>n)}pr(e,n){return yt.forEach(this.pi,(r,i)=>this.br(e,r,i).next(s=>s?yt.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,a=>this.br(e,a,n).next(o=>{o||(r++,s.removeEntry(a,Bn.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.pi.set(n,e.currentSequenceNumber),yt.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),yt.resolve()}removeReference(e,n,r){return this.pi.set(r,e.currentSequenceNumber),yt.resolve()}updateLimboDocument(e,n){return this.pi.set(n,e.currentSequenceNumber),yt.resolve()}Ti(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=I2(e.data.value)),n}br(e,n,r){return yt.or([()=>this.persistence.Ai(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.pi.get(n);return yt.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Es=r,this.ds=i}static As(e,n){let r=er(),i=er();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new nO(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A6e{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f6e{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return iDe()?8:QOe(wo())>0?6:4}()}initialize(e,n){this.ps=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ys(e,n).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.ws(e,n,i,r).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new A6e;return this.Ss(e,n,a).next(o=>{if(s.result=o,this.Vs)return this.bs(e,n,a,o.size)})}).next(()=>s.result)}bs(e,n,r,i){return r.documentReadCount<this.fs?(m0()<=Yn.DEBUG&&qt("QueryEngine","SDK will not create cache indexes for query:",g0(n),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),yt.resolve()):(m0()<=Yn.DEBUG&&qt("QueryEngine","Query:",g0(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.gs*i?(m0()<=Yn.DEBUG&&qt("QueryEngine","The SDK decides to create cache indexes for query:",g0(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,uA(n))):yt.resolve())}ys(e,n){if(M9(n))return yt.resolve(null);let r=uA(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=rF(n,null,"F"),r=uA(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const a=er(...s);return this.ps.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.Ds(n,o);return this.Cs(n,c,a,l.readTime)?this.ys(e,rF(n,null,"F")):this.vs(e,c,n,l)}))})))}ws(e,n,r,i){return M9(n)||i.isEqual(Bn.min())?yt.resolve(null):this.ps.getDocuments(e,r).next(s=>{const a=this.Ds(n,s);return this.Cs(n,a,r,i)?yt.resolve(null):(m0()<=Yn.DEBUG&&qt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),g0(n)),this.vs(e,a,n,ROe(i,w_)).next(o=>o))})}Ds(e,n){let r=new Vs(Dre(e));return n.forEach((i,s)=>{nM(e,s)&&(r=r.add(s))}),r}Cs(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,n,r){return m0()<=Yn.DEBUG&&qt("QueryEngine","Using full collection scan to execute query:",g0(n)),this.ps.getDocumentsMatchingQuery(e,n,Id.min(),r)}vs(e,n,r,i){return this.ps.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rO="LocalStore",h6e=3e8;class d6e{constructor(e,n,r,i){this.persistence=e,this.Fs=n,this.serializer=i,this.Ms=new Ri(Zn),this.xs=new cg(s=>WD(s),KD),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new n6e(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ms))}}function p6e(t,e,n,r){return new d6e(t,e,n,r)}async function lie(t,e){const n=Pn(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Bs(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const a=[],o=[];let l=er();for(const c of i){a.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}for(const c of s){o.push(c.batchId);for(const u of c.mutations)l=l.add(u.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Ls:c,removedBatchIds:a,addedBatchIds:o}))})})}function m6e(t,e){const n=Pn(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Ns.newChangeBuffer({trackRemovals:!0});return function(o,l,c,u){const A=c.batch,f=A.keys();let h=yt.resolve();return f.forEach(p=>{h=h.next(()=>u.getEntry(l,p)).next(y=>{const v=c.docVersions.get(p);Er(v!==null,48541),y.version.compareTo(v)<0&&(A.applyToRemoteDocument(y,c),y.isValidDocument()&&(y.setReadTime(c.commitVersion),u.addEntry(y)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(l,A))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let l=er();for(let c=0;c<o.mutationResults.length;++c)o.mutationResults[c].transformResults.length>0&&(l=l.add(o.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function cie(t){const e=Pn(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Pi.getLastRemoteSnapshotVersion(n))}function g6e(t,e){const n=Pn(t),r=e.snapshotVersion;let i=n.Ms;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=n.Ns.newChangeBuffer({trackRemovals:!0});i=n.Ms;const o=[];e.targetChanges.forEach((u,A)=>{const f=i.get(A);if(!f)return;o.push(n.Pi.removeMatchingKeys(s,u.removedDocuments,A).next(()=>n.Pi.addMatchingKeys(s,u.addedDocuments,A)));let h=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(A)!==null?h=h.withResumeToken(Ha.EMPTY_BYTE_STRING,Bn.min()).withLastLimboFreeSnapshotVersion(Bn.min()):u.resumeToken.approximateByteSize()>0&&(h=h.withResumeToken(u.resumeToken,r)),i=i.insert(A,h),function(y,v,m){return y.resumeToken.approximateByteSize()===0||v.snapshotVersion.toMicroseconds()-y.snapshotVersion.toMicroseconds()>=h6e?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,h,u)&&o.push(n.Pi.updateTargetData(s,h))});let l=Uf(),c=er();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(s,u))}),o.push(v6e(s,a,e.documentUpdates).next(u=>{l=u.ks,c=u.qs})),!r.isEqual(Bn.min())){const u=n.Pi.getLastRemoteSnapshotVersion(s).next(A=>n.Pi.setTargetsMetadata(s,s.currentSequenceNumber,r));o.push(u)}return yt.waitFor(o).next(()=>a.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Ms=i,s))}function v6e(t,e,n){let r=er(),i=er();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let a=Uf();return n.forEach((o,l)=>{const c=s.get(o);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Bn.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):qt(rO,"Ignoring outdated watch update for ",o,". Current version:",c.version," Watch version:",l.version)}),{ks:a,qs:i}})}function y6e(t,e){const n=Pn(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=zD),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function w6e(t,e){const n=Pn(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Pi.getTargetData(r,e).next(s=>s?(i=s,yt.resolve(i)):n.Pi.allocateTargetId(r).next(a=>(i=new qh(e,a,"TargetPurposeListen",r.currentSequenceNumber),n.Pi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ms.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ms=n.Ms.insert(r.targetId,r),n.xs.set(e,r.targetId)),r})}async function lF(t,e,n){const r=Pn(t),i=r.Ms.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,a=>r.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!hy(a))throw a;qt(rO,`Failed to update sequence numbers for target ${e}: ${a}`)}r.Ms=r.Ms.remove(e),r.xs.delete(i.target)}function V9(t,e,n){const r=Pn(t);let i=Bn.min(),s=er();return r.persistence.runTransaction("Execute query","readwrite",a=>function(l,c,u){const A=Pn(l),f=A.xs.get(u);return f!==void 0?yt.resolve(A.Ms.get(f)):A.Pi.getTargetData(c,u)}(r,a,uA(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>r.Fs.getDocumentsMatchingQuery(a,e,n?i:Bn.min(),n?s:er())).next(o=>(_6e(r,oke(e),o),{documents:o,Qs:s})))}function _6e(t,e,n){let r=t.Os.get(e)||Bn.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Os.set(e,r)}class z9{constructor(){this.activeTargetIds=hke()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class x6e{constructor(){this.Mo=new z9,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,n,r){this.xo[e]=n}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new z9,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b6e{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j9="ConnectivityMonitor";class G9{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){qt(j9,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){qt(j9,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qE=null;function cF(){return qE===null?qE=function(){return 268435456+Math.round(2147483648*Math.random())}():qE++,"0x"+qE.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pP="RestConnection",E6e={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class S6e{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=n+"://"+e.host,this.Ko=`projects/${r}/databases/${i}`,this.Wo=this.databaseId.database===bC?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Go(e,n,r,i,s){const a=cF(),o=this.zo(e,n.toUriEncodedString());qt(pP,`Sending RPC '${e}' ${a}:`,o,r);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:c}=new URL(o),u=og(c);return this.Jo(e,o,l,r,u).then(A=>(qt(pP,`Received RPC '${e}' ${a}: `,A),A),A=>{throw Rv(pP,`RPC '${e}' ${a} failed with error: `,A,"url: ",o,"request:",r),A})}Ho(e,n,r,i,s,a){return this.Go(e,n,r,i,s)}jo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ay}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}zo(e,n){const r=E6e[e];return`${this.Uo}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C6e{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="WebChannelConnection";class B6e extends S6e{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,r,i,s){const a=cF();return new Promise((o,l)=>{const c=new ure;c.setWithCredentials(!0),c.listenOnce(Are.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case M2.NO_ERROR:const A=c.getResponseJson();qt(ao,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(A)),o(A);break;case M2.TIMEOUT:qt(ao,`RPC '${e}' ${a} timed out`),l(new jt(mt.DEADLINE_EXCEEDED,"Request time out"));break;case M2.HTTP_ERROR:const f=c.getStatus();if(qt(ao,`RPC '${e}' ${a} failed with status:`,f,"response text:",c.getResponseText()),f>0){let h=c.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const y=function(m){const w=m.toLowerCase().replace(/_/g,"-");return Object.values(mt).indexOf(w)>=0?w:mt.UNKNOWN}(p.status);l(new jt(y,p.message))}else l(new jt(mt.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new jt(mt.UNAVAILABLE,"Connection failed."));break;default:xn(9055,{l_:e,streamId:a,h_:c.getLastErrorCode(),P_:c.getLastError()})}}finally{qt(ao,`RPC '${e}' ${a} completed.`)}});const u=JSON.stringify(i);qt(ao,`RPC '${e}' ${a} sending request:`,i),c.send(n,"POST",u,r,15)})}T_(e,n,r){const i=cF(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=dre(),o=hre(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const u=s.join("");qt(ao,`Creating RPC '${e}' stream ${i}: ${u}`,l);const A=a.createWebChannel(u,l);this.I_(A);let f=!1,h=!1;const p=new C6e({Yo:v=>{h?qt(ao,`Not sending because RPC '${e}' stream ${i} is closed:`,v):(f||(qt(ao,`Opening RPC '${e}' stream ${i} transport.`),A.open(),f=!0),qt(ao,`RPC '${e}' stream ${i} sending:`,v),A.send(v))},Zo:()=>A.close()}),y=(v,m,w)=>{v.listen(m,_=>{try{w(_)}catch(B){setTimeout(()=>{throw B},0)}})};return y(A,L1.EventType.OPEN,()=>{h||(qt(ao,`RPC '${e}' stream ${i} transport opened.`),p.o_())}),y(A,L1.EventType.CLOSE,()=>{h||(h=!0,qt(ao,`RPC '${e}' stream ${i} transport closed`),p.a_(),this.E_(A))}),y(A,L1.EventType.ERROR,v=>{h||(h=!0,Rv(ao,`RPC '${e}' stream ${i} transport errored. Name:`,v.name,"Message:",v.message),p.a_(new jt(mt.UNAVAILABLE,"The operation could not be completed")))}),y(A,L1.EventType.MESSAGE,v=>{var m;if(!h){const w=v.data[0];Er(!!w,16349);const _=w,B=(_==null?void 0:_.error)||((m=_[0])==null?void 0:m.error);if(B){qt(ao,`RPC '${e}' stream ${i} received error:`,B);const R=B.status;let L=function(T){const F=_s[T];if(F!==void 0)return Xre(F)}(R),S=B.message;L===void 0&&(L=mt.INTERNAL,S="Unknown error status: "+R+" with message "+B.message),h=!0,p.a_(new jt(L,S)),A.close()}else qt(ao,`RPC '${e}' stream ${i} received:`,w),p.u_(w)}}),y(o,fre.STAT_EVENT,v=>{v.stat===XL.PROXY?qt(ao,`RPC '${e}' stream ${i} detected buffering proxy`):v.stat===XL.NOPROXY&&qt(ao,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.__()},0),p}terminate(){this.c_.forEach(e=>e.close()),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter(n=>n===e)}}function mP(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aM(t){return new Pke(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uie{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&qt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="PersistentStream";class Aie{constructor(e,n,r,i,s,a,o,l){this.Mi=e,this.S_=r,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uie(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===mt.RESOURCE_EXHAUSTED?(Rf(n.toString()),Rf("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===mt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(n)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.D_===n&&this.G_(r,i)},r=>{e(()=>{const i=new jt(mt.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(i)})})}G_(e,n){const r=this.W_(this.D_);this.stream=this.j_(e,n),this.stream.Xo(()=>{r(()=>this.listener.Xo())}),this.stream.t_(()=>{r(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(i=>{r(()=>this.z_(i))}),this.stream.onMessage(i=>{r(()=>++this.F_==1?this.J_(i):this.onNext(i))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return qt(W9,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return n=>{this.Mi.enqueueAndForget(()=>this.D_===e?n():(qt(W9,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class T6e extends Aie{constructor(e,n,r,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}j_(e,n){return this.connection.T_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Fke(this.serializer,e),r=function(s){if(!("targetChange"in s))return Bn.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Bn.min():a.readTime?fA(a.readTime):Bn.min()}(e);return this.listener.H_(n,r)}Y_(e){const n={};n.database=oF(this.serializer),n.addTarget=function(s,a){let o;const l=a.target;if(o=tF(l)?{documents:Dke(s,l)}:{query:Oke(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=Zre(s,a.resumeToken);const c=iF(s,a.expectedCount);c!==null&&(o.expectedCount=c)}else if(a.snapshotVersion.compareTo(Bn.min())>0){o.readTime=CC(s,a.snapshotVersion.toTimestamp());const c=iF(s,a.expectedCount);c!==null&&(o.expectedCount=c)}return o}(this.serializer,e);const r=Qke(this.serializer,e);r&&(n.labels=r),this.q_(n)}Z_(e){const n={};n.database=oF(this.serializer),n.removeTarget=e,this.q_(n)}}class M6e extends Aie{constructor(e,n,r,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}J_(e){return Er(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Er(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Er(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Uke(e.writeResults,e.commitTime),r=fA(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=oF(this.serializer),this.q_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Rke(this.serializer,r))};this.q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I6e{}class P6e extends I6e{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new jt(mt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,n,r,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Go(e,sF(n,r),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new jt(mt.UNKNOWN,s.toString())})}Ho(e,n,r,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Ho(e,sF(n,r),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===mt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new jt(mt.UNKNOWN,a.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class N6e{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Rf(n),this.aa=!1):qt("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm="RemoteStore";class L6e{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo(a=>{r.enqueueAndForget(async()=>{ug(this)&&(qt(Qm,"Restarting streams for network reachability change."),await async function(l){const c=Pn(l);c.Ea.add(4),await gx(c),c.Ra.set("Unknown"),c.Ea.delete(4),await oM(c)}(this))})}),this.Ra=new N6e(r,i)}}async function oM(t){if(ug(t))for(const e of t.da)await e(!0)}async function gx(t){for(const e of t.da)await e(!1)}function fie(t,e){const n=Pn(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),oO(n)?aO(n):py(n).O_()&&sO(n,e))}function iO(t,e){const n=Pn(t),r=py(n);n.Ia.delete(e),r.O_()&&hie(n,e),n.Ia.size===0&&(r.O_()?r.L_():ug(n)&&n.Ra.set("Unknown"))}function sO(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bn.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}py(t).Y_(e)}function hie(t,e){t.Va.Ue(e),py(t).Z_(e)}function aO(t){t.Va=new Bke({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),py(t).start(),t.Ra.ua()}function oO(t){return ug(t)&&!py(t).x_()&&t.Ia.size>0}function ug(t){return Pn(t).Ea.size===0}function die(t){t.Va=void 0}async function F6e(t){t.Ra.set("Online")}async function R6e(t){t.Ia.forEach((e,n)=>{sO(t,e)})}async function U6e(t,e){die(t),oO(t)?(t.Ra.ha(e),aO(t)):t.Ra.set("Unknown")}async function D6e(t,e,n){if(t.Ra.set("Online"),e instanceof Jre&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))}(t,e)}catch(r){qt(Qm,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await TC(t,r)}else if(e instanceof L2?t.Va.Ze(e):e instanceof Yre?t.Va.st(e):t.Va.tt(e),!n.isEqual(Bn.min()))try{const r=await cie(t.localStore);n.compareTo(r)>=0&&await function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const u=s.Ia.get(c);u&&s.Ia.set(c,u.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,c)=>{const u=s.Ia.get(l);if(!u)return;s.Ia.set(l,u.withResumeToken(Ha.EMPTY_BYTE_STRING,u.snapshotVersion)),hie(s,l);const A=new qh(u.target,l,c,u.sequenceNumber);sO(s,A)}),s.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(r){qt(Qm,"Failed to raise snapshot:",r),await TC(t,r)}}async function TC(t,e,n){if(!hy(e))throw e;t.Ea.add(1),await gx(t),t.Ra.set("Offline"),n||(n=()=>cie(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{qt(Qm,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await oM(t)})}function pie(t,e){return e().catch(n=>TC(t,n,e))}async function lM(t){const e=Pn(t),n=Fd(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:zD;for(;O6e(e);)try{const i=await y6e(e.localStore,r);if(i===null){e.Ta.length===0&&n.L_();break}r=i.batchId,k6e(e,i)}catch(i){await TC(e,i)}mie(e)&&gie(e)}function O6e(t){return ug(t)&&t.Ta.length<10}function k6e(t,e){t.Ta.push(e);const n=Fd(t);n.O_()&&n.X_&&n.ea(e.mutations)}function mie(t){return ug(t)&&!Fd(t).x_()&&t.Ta.length>0}function gie(t){Fd(t).start()}async function Q6e(t){Fd(t).ra()}async function H6e(t){const e=Fd(t);for(const n of t.Ta)e.ea(n.mutations)}async function V6e(t,e,n){const r=t.Ta.shift(),i=YD.from(r,e,n);await pie(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await lM(t)}async function z6e(t,e){e&&Fd(t).X_&&await async function(r,i){if(function(a){return Eke(a)&&a!==mt.ABORTED}(i.code)){const s=r.Ta.shift();Fd(r).B_(),await pie(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await lM(r)}}(t,e),mie(t)&&gie(t)}async function K9(t,e){const n=Pn(t);n.asyncQueue.verifyOperationInProgress(),qt(Qm,"RemoteStore received new credentials");const r=ug(n);n.Ea.add(3),await gx(n),r&&n.Ra.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await oM(n)}async function j6e(t,e){const n=Pn(t);e?(n.Ea.delete(2),await oM(n)):e||(n.Ea.add(2),await gx(n),n.Ra.set("Unknown"))}function py(t){return t.ma||(t.ma=function(n,r,i){const s=Pn(n);return s.sa(),new T6e(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:F6e.bind(null,t),t_:R6e.bind(null,t),r_:U6e.bind(null,t),H_:D6e.bind(null,t)}),t.da.push(async e=>{e?(t.ma.B_(),oO(t)?aO(t):t.Ra.set("Unknown")):(await t.ma.stop(),die(t))})),t.ma}function Fd(t){return t.fa||(t.fa=function(n,r,i){const s=Pn(n);return s.sa(),new M6e(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Q6e.bind(null,t),r_:z6e.bind(null,t),ta:H6e.bind(null,t),na:V6e.bind(null,t)}),t.da.push(async e=>{e?(t.fa.B_(),await lM(t)):(await t.fa.stop(),t.Ta.length>0&&(qt(Qm,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lO{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new md,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const a=Date.now()+r,o=new lO(e,n,a,i,s);return o.start(r),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new jt(mt.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cO(t,e){if(Rf("AsyncQueue",`${e}: ${t}`),hy(t))return new jt(mt.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class av{static emptySet(e){return new av(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||fn.comparator(n.key,r.key):(n,r)=>fn.comparator(n.key,r.key),this.keyedMap=F1(),this.sortedSet=new Ri(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof av)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new av;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(){this.ga=new Ri(fn.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):xn(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class Hv{constructor(e,n,r,i,s,a,o,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const a=[];return n.forEach(o=>{a.push({type:0,doc:o})}),new Hv(e,n,av.emptySet(n),a,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&tM(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G6e{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(e=>e.Da())}}class W6e{constructor(){this.queries=$9(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const i=Pn(n),s=i.queries;i.queries=$9(),s.forEach((a,o)=>{for(const l of o.Sa)l.onError(r)})})(this,new jt(mt.ABORTED,"Firestore shutting down"))}}function $9(){return new cg(t=>Ure(t),tM)}async function vie(t,e){const n=Pn(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.ba()&&e.Da()&&(r=2):(s=new G6e,r=e.Da()?0:1);try{switch(r){case 0:s.wa=await n.onListen(i,!0);break;case 1:s.wa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(a){const o=cO(a,`Initialization of query '${g0(e.query)}' failed`);return void e.onError(o)}n.queries.set(i,s),s.Sa.push(e),e.va(n.onlineState),s.wa&&e.Fa(s.wa)&&uO(n)}async function yie(t,e){const n=Pn(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function K6e(t,e){const n=Pn(t);let r=!1;for(const i of e){const s=i.query,a=n.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(r=!0);a.wa=i}}r&&uO(n)}function q6e(t,e,n){const r=Pn(t),i=r.queries.get(e);if(i)for(const s of i.Sa)s.onError(n);r.queries.delete(e)}function uO(t){t.Ca.forEach(e=>{e.next()})}var uF,X9;(X9=uF||(uF={})).Ma="default",X9.Cache="cache";class wie{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Hv(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=Hv.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==uF.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ie{constructor(e){this.key=e}}class xie{constructor(e){this.key=e}}class $6e{constructor(e,n){this.query=e,this.Ya=n,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=er(),this.mutatedKeys=er(),this.eu=Dre(e),this.tu=new av(this.eu)}get nu(){return this.Ya}ru(e,n){const r=n?n.iu:new q9,i=n?n.tu:this.tu;let s=n?n.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,A)=>{const f=i.get(u),h=nM(this.query,A)?A:null,p=!!f&&this.mutatedKeys.has(f.key),y=!!h&&(h.hasLocalMutations||this.mutatedKeys.has(h.key)&&h.hasCommittedMutations);let v=!1;f&&h?f.data.isEqual(h.data)?p!==y&&(r.track({type:3,doc:h}),v=!0):this.su(f,h)||(r.track({type:2,doc:h}),v=!0,(l&&this.eu(h,l)>0||c&&this.eu(h,c)<0)&&(o=!0)):!f&&h?(r.track({type:0,doc:h}),v=!0):f&&!h&&(r.track({type:1,doc:f}),v=!0,(l||c)&&(o=!0)),v&&(h?(a=a.add(h),s=y?s.add(u):s.delete(u)):(a=a.delete(u),s=s.delete(u)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const u=this.query.limitType==="F"?a.last():a.first();a=a.delete(u.key),s=s.delete(u.key),r.track({type:1,doc:u})}return{tu:a,iu:r,Cs:o,mutatedKeys:s}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort((u,A)=>function(h,p){const y=v=>{switch(v){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xn(20277,{Rt:v})}};return y(h)-y(p)}(u.type,A.type)||this.eu(u.doc,A.doc)),this.ou(r),i=i??!1;const o=n&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,c=l!==this.Za;return this.Za=l,a.length!==0||c?{snapshot:new Hv(this.query,e.tu,s,a,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new q9,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Ya=this.Ya.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ya=this.Ya.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=er(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))});const n=[];return e.forEach(r=>{this.Xa.has(r)||n.push(new xie(r))}),this.Xa.forEach(r=>{e.has(r)||n.push(new _ie(r))}),n}cu(e){this.Ya=e.Qs,this.Xa=er();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return Hv.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const AO="SyncEngine";class X6e{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Y6e{constructor(e){this.key=e,this.hu=!1}}class J6e{constructor(e,n,r,i,s,a){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new cg(o=>Ure(o),tM),this.Iu=new Map,this.Eu=new Set,this.du=new Ri(fn.comparator),this.Au=new Map,this.Ru=new eO,this.Vu={},this.mu=new Map,this.fu=Qv.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Z6e(t,e,n=!0){const r=Tie(t);let i;const s=r.Tu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await bie(r,e,n,!0),i}async function eQe(t,e){const n=Tie(t);await bie(n,e,!0,!1)}async function bie(t,e,n,r){const i=await w6e(t.localStore,uA(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await tQe(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&n&&fie(t.remoteStore,i),o}async function tQe(t,e,n,r,i){t.pu=(A,f,h)=>async function(y,v,m,w){let _=v.view.ru(m);_.Cs&&(_=await V9(y.localStore,v.query,!1).then(({documents:S})=>v.view.ru(S,_)));const B=w&&w.targetChanges.get(v.targetId),R=w&&w.targetMismatches.get(v.targetId)!=null,L=v.view.applyChanges(_,y.isPrimaryClient,B,R);return J9(y,v.targetId,L.au),L.snapshot}(t,A,f,h);const s=await V9(t.localStore,e,!0),a=new $6e(e,s.Qs),o=a.ru(s.documents),l=mx.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=a.applyChanges(o,t.isPrimaryClient,l);J9(t,n,c.au);const u=new X6e(e,n,a);return t.Tu.set(e,u),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),c.snapshot}async function nQe(t,e,n){const r=Pn(t),i=r.Tu.get(e),s=r.Iu.get(i.targetId);if(s.length>1)return r.Iu.set(i.targetId,s.filter(a=>!tM(a,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await lF(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&iO(r.remoteStore,i.targetId),AF(r,i.targetId)}).catch(fy)):(AF(r,i.targetId),await lF(r.localStore,i.targetId,!0))}async function rQe(t,e){const n=Pn(t),r=n.Tu.get(e),i=n.Iu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),iO(n.remoteStore,r.targetId))}async function iQe(t,e,n){const r=AQe(t);try{const i=await function(a,o){const l=Pn(a),c=di.now(),u=o.reduce((h,p)=>h.add(p.key),er());let A,f;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let p=Uf(),y=er();return l.Ns.getEntries(h,u).next(v=>{p=v,p.forEach((m,w)=>{w.isValidDocument()||(y=y.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,p)).next(v=>{A=v;const m=[];for(const w of o){const _=yke(w,A.get(w.key).overlayedDocument);_!=null&&m.push(new Kd(w.key,_,Tre(_.value.mapValue),AA.exists(!0)))}return l.mutationQueue.addMutationBatch(h,c,m,o)}).next(v=>{f=v;const m=v.applyToLocalDocumentSet(A,y);return l.documentOverlayCache.saveOverlays(h,v.batchId,m)})}).then(()=>({batchId:f.batchId,changes:kre(A)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let c=a.Vu[a.currentUser.toKey()];c||(c=new Ri(Zn)),c=c.insert(o,l),a.Vu[a.currentUser.toKey()]=c}(r,i.batchId,n),await vx(r,i.changes),await lM(r.remoteStore)}catch(i){const s=cO(i,"Failed to persist write");n.reject(s)}}async function Eie(t,e){const n=Pn(t);try{const r=await g6e(n.localStore,e);e.targetChanges.forEach((i,s)=>{const a=n.Au.get(s);a&&(Er(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Er(a.hu,14607):i.removedDocuments.size>0&&(Er(a.hu,42227),a.hu=!1))}),await vx(n,r,e)}catch(r){await fy(r)}}function Y9(t,e,n){const r=Pn(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Tu.forEach((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Pn(a);l.onlineState=o;let c=!1;l.queries.forEach((u,A)=>{for(const f of A.Sa)f.va(o)&&(c=!0)}),c&&uO(l)}(r.eventManager,e),i.length&&r.Pu.H_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function sQe(t,e,n){const r=Pn(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Au.get(e),s=i&&i.key;if(s){let a=new Ri(fn.comparator);a=a.insert(s,fo.newNoDocument(s,Bn.min()));const o=er().add(s),l=new sM(Bn.min(),new Map,new Ri(Zn),a,o);await Eie(r,l),r.du=r.du.remove(s),r.Au.delete(e),fO(r)}else await lF(r.localStore,e,!1).then(()=>AF(r,e,n)).catch(fy)}async function aQe(t,e){const n=Pn(t),r=e.batch.batchId;try{const i=await m6e(n.localStore,e);Cie(n,r,null),Sie(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await vx(n,i)}catch(i){await fy(i)}}async function oQe(t,e,n){const r=Pn(t);try{const i=await function(a,o){const l=Pn(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let u;return l.mutationQueue.lookupMutationBatch(c,o).next(A=>(Er(A!==null,37113),u=A.keys(),l.mutationQueue.removeMutationBatch(c,A))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,u,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,u)).next(()=>l.localDocuments.getDocuments(c,u))})}(r.localStore,e);Cie(r,e,n),Sie(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await vx(r,i)}catch(i){await fy(i)}}function Sie(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function Cie(t,e,n){const r=Pn(t);let i=r.Vu[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Vu[r.currentUser.toKey()]=i}}function AF(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach(r=>{t.Ru.containsKey(r)||Bie(t,r)})}function Bie(t,e){t.Eu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(iO(t.remoteStore,n),t.du=t.du.remove(e),t.Au.delete(n),fO(t))}function J9(t,e,n){for(const r of n)r instanceof _ie?(t.Ru.addReference(r.key,e),lQe(t,r)):r instanceof xie?(qt(AO,"Document no longer in limbo: "+r.key),t.Ru.removeReference(r.key,e),t.Ru.containsKey(r.key)||Bie(t,r.key)):xn(19791,{wu:r})}function lQe(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Eu.has(r)||(qt(AO,"New document in limbo: "+n),t.Eu.add(r),fO(t))}function fO(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new fn(ni.fromString(e)),r=t.fu.next();t.Au.set(r,new Y6e(n)),t.du=t.du.insert(n,r),fie(t.remoteStore,new qh(uA(qD(n.path)),r,"TargetPurposeLimboResolution",JT.ce))}}async function vx(t,e,n){const r=Pn(t),i=[],s=[],a=[];r.Tu.isEmpty()||(r.Tu.forEach((o,l)=>{a.push(r.pu(l,e,n).then(c=>{var u;if((c||n)&&r.isPrimaryClient){const A=c?!c.fromCache:(u=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:u.current;r.sharedClientState.updateQueryState(l.targetId,A?"current":"not-current")}if(c){i.push(c);const A=nO.As(l.targetId,c);s.push(A)}}))}),await Promise.all(a),r.Pu.H_(i),await async function(l,c){const u=Pn(l);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>yt.forEach(c,f=>yt.forEach(f.Es,h=>u.persistence.referenceDelegate.addReference(A,f.targetId,h)).next(()=>yt.forEach(f.ds,h=>u.persistence.referenceDelegate.removeReference(A,f.targetId,h)))))}catch(A){if(!hy(A))throw A;qt(rO,"Failed to update sequence numbers: "+A)}for(const A of c){const f=A.targetId;if(!A.fromCache){const h=u.Ms.get(f),p=h.snapshotVersion,y=h.withLastLimboFreeSnapshotVersion(p);u.Ms=u.Ms.insert(f,y)}}}(r.localStore,s))}async function cQe(t,e){const n=Pn(t);if(!n.currentUser.isEqual(e)){qt(AO,"User change. New user:",e.toKey());const r=await lie(n.localStore,e);n.currentUser=e,function(s,a){s.mu.forEach(o=>{o.forEach(l=>{l.reject(new jt(mt.CANCELLED,a))})}),s.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await vx(n,r.Ls)}}function uQe(t,e){const n=Pn(t),r=n.Au.get(e);if(r&&r.hu)return er().add(r.key);{let i=er();const s=n.Iu.get(e);if(!s)return i;for(const a of s){const o=n.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function Tie(t){const e=Pn(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Eie.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uQe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=sQe.bind(null,e),e.Pu.H_=K6e.bind(null,e.eventManager),e.Pu.yu=q6e.bind(null,e.eventManager),e}function AQe(t){const e=Pn(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=aQe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=oQe.bind(null,e),e}class MC{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=aM(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return p6e(this.persistence,new f6e,e.initialUser,this.serializer)}Cu(e){return new oie(tO.mi,this.serializer)}Du(e){return new x6e}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}MC.provider={build:()=>new MC};class fQe extends MC{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Er(this.persistence.referenceDelegate instanceof BC,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Yke(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?cl.withCacheSize(this.cacheSizeBytes):cl.DEFAULT;return new oie(r=>BC.mi(r,n),this.serializer)}}class fF{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Y9(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cQe.bind(null,this.syncEngine),await j6e(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new W6e}()}createDatastore(e){const n=aM(e.databaseInfo.databaseId),r=function(s){return new B6e(s)}(e.databaseInfo);return function(s,a,o,l){return new P6e(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,a,o){return new L6e(r,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,n=>Y9(this.syncEngine,n,0),function(){return G9.v()?new G9:new b6e}())}createSyncEngine(e,n){return function(i,s,a,o,l,c,u){const A=new J6e(i,s,a,o,l,c);return u&&(A.gu=!0),A}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=Pn(i);qt(Qm,"RemoteStore shutting down."),s.Ea.add(5),await gx(s),s.Aa.shutdown(),s.Ra.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}fF.provider={build:()=>new fF};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mie{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Rf("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rd="FirestoreClient";class hQe{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=co.UNAUTHENTICATED,this.clientId=VD.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async a=>{qt(Rd,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(r,a=>(qt(Rd,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new md;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=cO(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function gP(t,e){t.asyncQueue.verifyOperationInProgress(),qt(Rd,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await lie(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Z9(t,e){t.asyncQueue.verifyOperationInProgress();const n=await dQe(t);qt(Rd,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>K9(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>K9(e.remoteStore,i)),t._onlineComponents=e}async function dQe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){qt(Rd,"Using user provided OfflineComponentProvider");try{await gP(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===mt.FAILED_PRECONDITION||i.code===mt.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Rv("Error using user provided cache. Falling back to memory cache: "+n),await gP(t,new MC)}}else qt(Rd,"Using default OfflineComponentProvider"),await gP(t,new fQe(void 0));return t._offlineComponents}async function Iie(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(qt(Rd,"Using user provided OnlineComponentProvider"),await Z9(t,t._uninitializedComponentsProvider._online)):(qt(Rd,"Using default OnlineComponentProvider"),await Z9(t,new fF))),t._onlineComponents}function pQe(t){return Iie(t).then(e=>e.syncEngine)}async function hF(t){const e=await Iie(t),n=e.eventManager;return n.onListen=Z6e.bind(null,e.syncEngine),n.onUnlisten=nQe.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=eQe.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=rQe.bind(null,e.syncEngine),n}function mQe(t,e,n={}){const r=new md;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,c){const u=new Mie({next:f=>{u.Nu(),a.enqueueAndForget(()=>yie(s,A)),f.fromCache&&l.source==="server"?c.reject(new jt(mt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),A=new wie(o,u,{includeMetadataChanges:!0,qa:!0});return vie(s,A)}(await hF(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pie(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ej=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nie="firestore.googleapis.com",tj=!0;class nj{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new jt(mt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Nie,this.ssl=tj}else this.host=e.host,this.ssl=e.ssl??tj;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=aie;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<$ke)throw new jt(mt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}FOe("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Pie(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new jt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new jt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new jt(mt.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cM{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new nj({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new jt(mt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new jt(mt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new nj(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new EOe;switch(r.type){case"firstParty":return new TOe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new jt(mt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ej.get(n);r&&(qt("ComponentProvider","Removing Datastore"),ej.delete(n),r.terminate())}(this),Promise.resolve()}}function gQe(t,e,n,r={}){var c;t=_f(t,cM);const i=og(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${n}`;i&&(UD(`https://${o}`),DD("Firestore",!0)),s.host!==Nie&&s.host!==o&&Rv("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:r};if(!Td(l,a)&&(t._setSettings(l),r.mockUserToken)){let u,A;if(typeof r.mockUserToken=="string")u=r.mockUserToken,A=co.MOCK_USER;else{u=rre(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new jt(mt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");A=new co(f)}t._authCredentials=new SOe(new mre(u,A))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new qd(this.firestore,e,this._query)}}class Ts{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ts(this.firestore,e,this._key)}toJSON(){return{type:Ts._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(dx(n,Ts._jsonSchema))return new Ts(e,r||null,new fn(ni.fromString(n.referencePath)))}}Ts._jsonSchemaVersion="firestore/documentReference/1.0",Ts._jsonSchema={type:Bs("string",Ts._jsonSchemaVersion),referencePath:Bs("string")};class gd extends qd{constructor(e,n,r){super(e,n,qD(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ts(this.firestore,null,new fn(e))}withConverter(e){return new gd(this.firestore,e,this._path)}}function my(t,e,...n){if(t=Gs(t),gre("collection","path",e),t instanceof cM){const r=ni.fromString(e,...n);return p9(r),new gd(t,null,r)}{if(!(t instanceof Ts||t instanceof gd))throw new jt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ni.fromString(e,...n));return p9(r),new gd(t.firestore,null,r)}}function Vv(t,e,...n){if(t=Gs(t),arguments.length===1&&(e=VD.newId()),gre("doc","path",e),t instanceof cM){const r=ni.fromString(e,...n);return d9(r),new Ts(t,null,new fn(r))}{if(!(t instanceof Ts||t instanceof gd))throw new jt(mt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(ni.fromString(e,...n));return d9(r),new Ts(t.firestore,t instanceof gd?t.converter:null,new fn(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rj="AsyncQueue";class ij{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uie(this,"async_queue_retry"),this._c=()=>{const r=mP();r&&qt(rj,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=mP();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=mP();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new md;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!hy(e))throw e;qt(rj,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Rf("INTERNAL UNHANDLED ERROR: ",sj(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=lO.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&xn(47125,{Pc:sj(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function sj(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aj(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class zv extends cM{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new ij,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new ij(e),this._firestoreClient=void 0,await e}}}function vQe(t,e){const n=typeof t=="object"?t:QD(),r=typeof t=="string"?t:bC,i=XT(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=ere("firestore");s&&gQe(i,...s)}return i}function hO(t){if(t._terminated)throw new jt(mt.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||yQe(t),t._firestoreClient}function yQe(t){var r,i,s;const e=t._freezeSettings(),n=function(o,l,c,u){return new GOe(o,l,c,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,Pie(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)}(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new hQe(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ic(Ha.fromBase64String(e))}catch(n){throw new jt(mt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ic(Ha.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ic._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(dx(e,Ic._jsonSchema))return Ic.fromBase64String(e.bytes)}}Ic._jsonSchemaVersion="firestore/bytes/1.0",Ic._jsonSchema={type:Bs("string",Ic._jsonSchemaVersion),bytes:Bs("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uM{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new jt(mt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Da(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new jt(mt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new jt(mt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Zn(this._lat,e._lat)||Zn(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:hA._jsonSchemaVersion}}static fromJSON(e){if(dx(e,hA._jsonSchema))return new hA(e.latitude,e.longitude)}}hA._jsonSchemaVersion="firestore/geoPoint/1.0",hA._jsonSchema={type:Bs("string",hA._jsonSchemaVersion),latitude:Bs("number"),longitude:Bs("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:dA._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(dx(e,dA._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new dA(e.vectorValues);throw new jt(mt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}dA._jsonSchemaVersion="firestore/vectorValue/1.0",dA._jsonSchema={type:Bs("string",dA._jsonSchemaVersion),vectorValues:Bs("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wQe=/^__.*__$/;class _Qe{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Kd(e,this.data,this.fieldMask,n,this.fieldTransforms):new px(e,this.data,n,this.fieldTransforms)}}class Lie{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Kd(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function Fie(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xn(40011,{Ac:t})}}class AM{constructor(e,n,r,i,s,a){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new AM({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.gc(e),r}yc(e){var i;const n=(i=this.path)==null?void 0:i.child(e),r=this.Vc({path:n,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return IC(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(Fie(this.Ac)&&wQe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class xQe{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||aM(e)}Cc(e,n,r,i=!1){return new AM({Ac:e,methodName:n,Dc:r,path:Da.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dO(t){const e=t._freezeSettings(),n=aM(t._databaseId);return new xQe(t._databaseId,!!e.ignoreUndefinedProperties,n)}function bQe(t,e,n,r,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,n,i);vO("Data must be an object, but it was:",a,r);const o=Rie(r,a);let l,c;if(s.merge)l=new zl(a.fieldMask),c=a.fieldTransforms;else if(s.mergeFields){const u=[];for(const A of s.mergeFields){const f=dF(e,A,n);if(!a.contains(f))throw new jt(mt.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);Die(u,f)||u.push(f)}l=new zl(u),c=a.fieldTransforms.filter(A=>l.covers(A.field))}else l=null,c=a.fieldTransforms;return new _Qe(new dl(o),l,c)}class fM extends gy{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof fM}}function EQe(t,e,n){return new AM({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class pO extends gy{_toFieldTransform(e){return new XD(e.path,new S_)}isEqual(e){return e instanceof pO}}class mO extends gy{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=EQe(this,e,!0),r=this.vc.map(s=>vy(s,n)),i=new kv(r);return new XD(e.path,i)}isEqual(e){return e instanceof mO&&Td(this.vc,e.vc)}}class gO extends gy{constructor(e,n){super(e),this.Fc=n}_toFieldTransform(e){const n=new B_(e.serializer,Vre(e.serializer,this.Fc));return new XD(e.path,n)}isEqual(e){return e instanceof gO&&this.Fc===e.Fc}}function SQe(t,e,n,r){const i=t.Cc(1,e,n);vO("Data must be an object, but it was:",i,r);const s=[],a=dl.empty();Wd(r,(l,c)=>{const u=yO(e,l,n);c=Gs(c);const A=i.yc(u);if(c instanceof fM)s.push(u);else{const f=vy(c,A);f!=null&&(s.push(u),a.set(u,f))}});const o=new zl(s);return new Lie(a,o,i.fieldTransforms)}function CQe(t,e,n,r,i,s){const a=t.Cc(1,e,n),o=[dF(e,r,n)],l=[i];if(s.length%2!=0)throw new jt(mt.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)o.push(dF(e,s[f])),l.push(s[f+1]);const c=[],u=dl.empty();for(let f=o.length-1;f>=0;--f)if(!Die(c,o[f])){const h=o[f];let p=l[f];p=Gs(p);const y=a.yc(h);if(p instanceof fM)c.push(h);else{const v=vy(p,y);v!=null&&(c.push(h),u.set(h,v))}}const A=new zl(c);return new Lie(u,A,a.fieldTransforms)}function BQe(t,e,n,r=!1){return vy(n,t.Cc(r?4:3,e))}function vy(t,e){if(Uie(t=Gs(t)))return vO("Unsupported field value:",e,t),Rie(t,e);if(t instanceof gy)return function(r,i){if(!Fie(i.Ac))throw i.Sc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return function(r,i){const s=[];let a=0;for(const o of r){let l=vy(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Gs(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Vre(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=di.fromDate(r);return{timestampValue:CC(i.serializer,s)}}if(r instanceof di){const s=new di(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:CC(i.serializer,s)}}if(r instanceof hA)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ic)return{bytesValue:Zre(i.serializer,r._byteString)};if(r instanceof Ts){const s=i.databaseId,a=r.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:ZD(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof dA)return function(a,o){return{mapValue:{fields:{[Cre]:{stringValue:Bre},[EC]:{arrayValue:{values:a.toArray().map(c=>{if(typeof c!="number")throw o.Sc("VectorValues must only contain numeric values.");return $D(o.serializer,c)})}}}}}}(r,i);throw i.Sc(`Unsupported field value: ${YT(r)}`)}(t,e)}function Rie(t,e){const n={};return wre(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Wd(t,(r,i)=>{const s=vy(i,e.mc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Uie(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof di||t instanceof hA||t instanceof Ic||t instanceof Ts||t instanceof gy||t instanceof dA)}function vO(t,e,n){if(!Uie(n)||!vre(n)){const r=YT(n);throw r==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+r)}}function dF(t,e,n){if((e=Gs(e))instanceof uM)return e._internalPath;if(typeof e=="string")return yO(t,e);throw IC("Field path arguments must be of type string or ",t,!1,void 0,n)}const TQe=new RegExp("[~\\*/\\[\\]]");function yO(t,e,n){if(e.search(TQe)>=0)throw IC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new uM(...e.split("."))._internalPath}catch{throw IC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function IC(t,e,n,r,i){const s=r&&!r.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${r}`),a&&(l+=` in document ${i}`),l+=")"),new jt(mt.INVALID_ARGUMENT,o+t+l)}function Die(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oie{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ts(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new MQe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(hM("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class MQe extends Oie{data(){return super.data()}}function hM(t,e){return typeof e=="string"?yO(t,e):e instanceof uM?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kie(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new jt(mt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class wO{}class Qie extends wO{}function _O(t,e,...n){let r=[];e instanceof wO&&r.push(e),r=r.concat(n),function(s){const a=s.filter(l=>l instanceof xO).length,o=s.filter(l=>l instanceof dM).length;if(a>1||a>0&&o>0)throw new jt(mt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class dM extends Qie{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new dM(e,n,r)}_apply(e){const n=this._parse(e);return Vie(e._query,n),new qd(e.firestore,e.converter,nF(e._query,n))}_parse(e){const n=dO(e.firestore);return function(s,a,o,l,c,u,A){let f;if(c.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new jt(mt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){lj(A,u);const p=[];for(const y of A)p.push(oj(l,s,y));f={arrayValue:{values:p}}}else f=oj(l,s,A)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||lj(A,u),f=BQe(o,a,A,u==="in"||u==="not-in");return Cs.create(c,u,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Hie(t,e,n){const r=e,i=hM("where",t);return dM._create(i,r,n)}class xO extends wO{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xO(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Bu.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)Vie(a,l),a=nF(a,l)}(e._query,n),new qd(e.firestore,e.converter,nF(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class bO extends Qie{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new bO(e,n)}_apply(e){const n=function(i,s,a){if(i.startAt!==null)throw new jt(mt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new jt(mt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new E_(s,a)}(e._query,this._field,this._direction);return new qd(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new dy(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function IQe(t,e="asc"){const n=e,r=hM("orderBy",t);return bO._create(r,n)}function oj(t,e,n){if(typeof(n=Gs(n))=="string"){if(n==="")throw new jt(mt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Rre(e)&&n.indexOf("/")!==-1)throw new jt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(ni.fromString(n));if(!fn.isDocumentKey(r))throw new jt(mt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return b9(t,new fn(r))}if(n instanceof Ts)return b9(t,n._key);throw new jt(mt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${YT(n)}.`)}function lj(t,e){if(!Array.isArray(t)||t.length===0)throw new jt(mt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Vie(t,e){const n=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new jt(mt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new jt(mt.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class PQe{convertValue(e,n="none"){switch(Ld(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rs(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Nd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw xn(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Wd(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var r,i,s;const n=(s=(i=(r=e.fields)==null?void 0:r[EC].arrayValue)==null?void 0:i.values)==null?void 0:s.map(a=>rs(a.doubleValue));return new dA(n)}convertGeoPoint(e){return new hA(rs(e.latitude),rs(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=eM(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(__(e));default:return null}}convertTimestamp(e){const n=Pd(e);return new di(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=ni.fromString(e);Er(sie(r),9688,{name:e});const i=new x_(r.get(1),r.get(3)),s=new fn(r.popFirst(5));return i.isEqual(n)||Rf(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NQe(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class U1{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class wm extends Oie{constructor(e,n,r,i,s,a){super(e,n,r,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new F2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(hM("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new jt(mt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=wm._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}wm._jsonSchemaVersion="firestore/documentSnapshot/1.0",wm._jsonSchema={type:Bs("string",wm._jsonSchemaVersion),bundleSource:Bs("string","DocumentSnapshot"),bundleName:Bs("string"),bundle:Bs("string")};class F2 extends wm{data(e={}){return super.data(e)}}class _m{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new U1(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new F2(this._firestore,this._userDataWriter,r.key,r,new U1(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new jt(mt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new F2(i._firestore,i._userDataWriter,o.doc.key,o.doc,new U1(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new F2(i._firestore,i._userDataWriter,o.doc.key,o.doc,new U1(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,u=-1;return o.type!==0&&(c=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),u=a.indexOf(o.doc.key)),{type:LQe(o.type),doc:l,oldIndex:c,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new jt(mt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=_m._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=VD.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function LQe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xn(61501,{type:t})}}_m._jsonSchemaVersion="firestore/querySnapshot/1.0",_m._jsonSchema={type:Bs("string",_m._jsonSchemaVersion),bundleSource:Bs("string","QuerySnapshot"),bundleName:Bs("string"),bundle:Bs("string")};class EO extends PQe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ic(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ts(this.firestore,null,n)}}function FQe(t){t=_f(t,qd);const e=_f(t.firestore,zv),n=hO(e),r=new EO(e);return kie(t._query),mQe(n,t._query).then(i=>new _m(e,r,t,i))}function pM(t,e,n,...r){t=_f(t,Ts);const i=_f(t.firestore,zv),s=dO(i);let a;return a=typeof(e=Gs(e))=="string"||e instanceof uM?CQe(s,"updateDoc",t._key,e,n,r):SQe(s,"updateDoc",t._key,e),jie(i,[a.toMutation(t._key,AA.exists(!0))])}function zie(t,e){const n=_f(t.firestore,zv),r=Vv(t),i=NQe(t.converter,e);return jie(n,[bQe(dO(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,AA.exists(!1))]).then(()=>r)}function mM(t,...e){var l,c,u;t=Gs(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||aj(e[r])||(n=e[r++]);const i={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(aj(e[r])){const A=e[r];e[r]=(l=A.next)==null?void 0:l.bind(A),e[r+1]=(c=A.error)==null?void 0:c.bind(A),e[r+2]=(u=A.complete)==null?void 0:u.bind(A)}let s,a,o;if(t instanceof Ts)a=_f(t.firestore,zv),o=qD(t._key.path),s={next:A=>{e[r]&&e[r](RQe(a,t,A))},error:e[r+1],complete:e[r+2]};else{const A=_f(t,qd);a=_f(A.firestore,zv),o=A._query;const f=new EO(a);s={next:h=>{e[r]&&e[r](new _m(a,f,A,h))},error:e[r+1],complete:e[r+2]},kie(t._query)}return function(f,h,p,y){const v=new Mie(y),m=new wie(h,v,p);return f.asyncQueue.enqueueAndForget(async()=>vie(await hF(f),m)),()=>{v.Nu(),f.asyncQueue.enqueueAndForget(async()=>yie(await hF(f),m))}}(hO(a),o,i,s)}function jie(t,e){return function(r,i){const s=new md;return r.asyncQueue.enqueueAndForget(async()=>iQe(await pQe(r),i,s)),s.promise}(hO(t),e)}function RQe(t,e,n){const r=n.docs.get(e._key),i=new EO(t);return new wm(t,i,e._key,r,new U1(n.hasPendingWrites,n.fromCache),e.converter)}function Gie(){return new pO("serverTimestamp")}function PC(...t){return new mO("arrayUnion",t)}function cj(t){return new gO("increment",t)}(function(e,n=!0){(function(i){Ay=i})(lg),Om(new Md("firestore",(r,{instanceIdentifier:i,options:s})=>{const a=r.getProvider("app").getImmediate(),o=new zv(new COe(r.getProvider("auth-internal")),new MOe(a,r.getProvider("app-check-internal")),function(c,u){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new jt(mt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new x_(c.options.projectId,u)}(a,i),a);return s={useFetchStreams:n,...s},o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),cA(u9,A9,e),cA(u9,A9,"esm2020")})();function Wie(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UQe=Wie,Kie=new fx("auth","Firebase",Wie());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NC=new OD("@firebase/auth");function DQe(t,...e){NC.logLevel<=Yn.WARN&&NC.warn(`Auth (${lg}): ${t}`,...e)}function R2(t,...e){NC.logLevel<=Yn.ERROR&&NC.error(`Auth (${lg}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _A(t,...e){throw CO(t,...e)}function _u(t,...e){return CO(t,...e)}function SO(t,e,n){const r={...UQe(),[e]:n};return new fx("auth","Firebase",r).create(e,{appName:t.name})}function xm(t){return SO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function OQe(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&_A(t,"argument-error"),SO(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function CO(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Kie.create(t,...e)}function En(t,e,...n){if(!t)throw CO(e,...n)}function ff(t){const e="INTERNAL ASSERTION FAILED: "+t;throw R2(e),new Error(e)}function Df(t,e){t||ff(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pF(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function kQe(){return uj()==="http:"||uj()==="https:"}function uj(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QQe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kQe()||tDe()||"connection"in navigator)?navigator.onLine:!0}function HQe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yx{constructor(e,n){this.shortDelay=e,this.longDelay=n,Df(n>e,"Short delay should be less than long delay!"),this.isMobile=JUe()||nDe()}get(){return QQe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BO(t,e){Df(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qie{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ff("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ff("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ff("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VQe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],jQe=new yx(3e4,6e4);function TO(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function yy(t,e,n,r,i={}){return $ie(t,i,async()=>{let s={},a={};r&&(e==="GET"?a=r:s={body:JSON.stringify(r)});const o=hx({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return eDe()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&og(t.emulatorConfig.host)&&(c.credentials="include"),qie.fetch()(await Xie(t,t.config.apiHost,n,o),c)})}async function $ie(t,e,n){t._canInitEmulator=!1;const r={...VQe,...e};try{const i=new WQe(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw $E(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,c]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw $E(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw $E(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw $E(t,"user-disabled",a);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw SO(t,u,c);_A(t,u)}}catch(i){if(i instanceof BA)throw i;_A(t,"network-request-failed",{message:String(i)})}}async function GQe(t,e,n,r,i={}){const s=await yy(t,e,n,r,i);return"mfaPendingCredential"in s&&_A(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function Xie(t,e,n,r){const i=`${e}${n}?${r}`,s=t,a=s.config.emulator?BO(t.config,i):`${t.config.apiScheme}://${i}`;return zQe.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}class WQe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(_u(this.auth,"network-request-failed")),jQe.get())})}}function $E(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=_u(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KQe(t,e){return yy(t,"POST","/v1/accounts:delete",e)}async function LC(t,e){return yy(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qQe(t,e=!1){const n=Gs(t),r=await n.getIdToken(e),i=MO(r);En(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pw(vP(i.auth_time)),issuedAtTime:pw(vP(i.iat)),expirationTime:pw(vP(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function vP(t){return Number(t)*1e3}function MO(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return R2("JWT malformed, contained fewer than 3 sections"),null;try{const i=Jne(n);return i?JSON.parse(i):(R2("Failed to decode base64 JWT payload"),null)}catch(i){return R2("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Aj(t){const e=MO(t);return En(e,"internal-error"),En(typeof e.exp<"u","internal-error"),En(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T_(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof BA&&$Qe(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function $Qe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XQe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mF{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pw(this.lastLoginAt),this.creationTime=pw(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FC(t){var A;const e=t.auth,n=await t.getIdToken(),r=await T_(t,LC(e,{idToken:n}));En(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(A=i.providerUserInfo)!=null&&A.length?Yie(i.providerUserInfo):[],a=JQe(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),c=o?l:!1,u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new mF(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,u)}async function YQe(t){const e=Gs(t);await FC(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function JQe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Yie(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZQe(t,e){const n=await $ie(t,{},async()=>{const r=hx({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await Xie(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:r};return t.emulatorConfig&&og(t.emulatorConfig.host)&&(l.credentials="include"),qie.fetch()(a,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eHe(t,e){return yy(t,"POST","/v2/accounts:revokeToken",TO(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){En(e.idToken,"internal-error"),En(typeof e.idToken<"u","internal-error"),En(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Aj(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){En(e.length!==0,"internal-error");const n=Aj(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(En(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await ZQe(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,a=new ov;return r&&(En(typeof r=="string","internal-error",{appName:e}),a.refreshToken=r),i&&(En(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(En(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ov,this.toJSON())}_performRefresh(){return ff("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bh(t,e){En(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class mu{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new XQe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new mF(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await T_(this,this.stsTokenManager.getToken(this.auth,e));return En(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return qQe(this,e)}reload(){return YQe(this)}_assign(e){this!==e&&(En(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new mu({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){En(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await FC(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mc(this.auth.app))return Promise.reject(xm(this.auth));const e=await this.getIdToken();return await T_(this,KQe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,a=n.photoURL??void 0,o=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,u=n.lastLoginAt??void 0,{uid:A,emailVerified:f,isAnonymous:h,providerData:p,stsTokenManager:y}=n;En(A&&y,e,"internal-error");const v=ov.fromJSON(this.name,y);En(typeof A=="string",e,"internal-error"),bh(r,e.name),bh(i,e.name),En(typeof f=="boolean",e,"internal-error"),En(typeof h=="boolean",e,"internal-error"),bh(s,e.name),bh(a,e.name),bh(o,e.name),bh(l,e.name),bh(c,e.name),bh(u,e.name);const m=new mu({uid:A,auth:e,email:i,emailVerified:f,displayName:r,isAnonymous:h,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:v,createdAt:c,lastLoginAt:u});return p&&Array.isArray(p)&&(m.providerData=p.map(w=>({...w}))),l&&(m._redirectEventId=l),m}static async _fromIdTokenResponse(e,n,r=!1){const i=new ov;i.updateFromServerResponse(n);const s=new mu({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await FC(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];En(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?Yie(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new ov;o.updateFromIdToken(r);const l=new mu({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new mF(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fj=new Map;function hf(t){Df(t instanceof Function,"Expected a class definition");let e=fj.get(t);return e?(Df(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,fj.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jie{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Jie.type="NONE";const hj=Jie;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(t,e,n){return`firebase:${t}:${e}:${n}`}class lv{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=U2(this.userKey,i.apiKey,s),this.fullPersistenceKey=U2("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await LC(this.auth,{idToken:e}).catch(()=>{});return n?mu._fromGetAccountInfoResponse(this.auth,n,e):null}return mu._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new lv(hf(hj),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||hf(hj);const a=U2(r,e.config.apiKey,e.name);let o=null;for(const c of n)try{const u=await c._get(a);if(u){let A;if(typeof u=="string"){const f=await LC(e,{idToken:u}).catch(()=>{});if(!f)break;A=await mu._fromGetAccountInfoResponse(e,f,u)}else A=mu._fromJSON(e,u);c!==s&&(o=A),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new lv(s,e,r):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(a)}catch{}})),new lv(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dj(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(nse(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Zie(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ise(e))return"Blackberry";if(sse(e))return"Webos";if(ese(e))return"Safari";if((e.includes("chrome/")||tse(e))&&!e.includes("edge/"))return"Chrome";if(rse(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Zie(t=wo()){return/firefox\//i.test(t)}function ese(t=wo()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function tse(t=wo()){return/crios\//i.test(t)}function nse(t=wo()){return/iemobile/i.test(t)}function rse(t=wo()){return/android/i.test(t)}function ise(t=wo()){return/blackberry/i.test(t)}function sse(t=wo()){return/webos/i.test(t)}function IO(t=wo()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function tHe(t=wo()){var e;return IO(t)&&!!((e=window.navigator)!=null&&e.standalone)}function nHe(){return rDe()&&document.documentMode===10}function ase(t=wo()){return IO(t)||rse(t)||sse(t)||ise(t)||/windows phone/i.test(t)||nse(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ose(t,e=[]){let n;switch(t){case"Browser":n=dj(wo());break;case"Worker":n=`${dj(wo())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${lg}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rHe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iHe(t,e={}){return yy(t,"GET","/v2/passwordPolicy",TO(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sHe=6;class aHe{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??sHe,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oHe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pj(this),this.idTokenSubscription=new pj(this),this.beforeStateQueue=new rHe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kie,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=hf(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await lv.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await LC(this,{idToken:e}),r=await mu._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Mc(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(a){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return En(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await FC(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=HQe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mc(this.app))return Promise.reject(xm(this));const n=e?Gs(e):null;return n&&En(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&En(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mc(this.app)?Promise.reject(xm(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mc(this.app)?Promise.reject(xm(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(hf(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await iHe(this),n=new aHe(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new fx("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await eHe(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&hf(e)||this._popupRedirectResolver;En(n,this,"argument-error"),this.redirectPersistenceManager=await lv.create(this,[hf(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(En(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{a=!0,l()}}else{const l=e.addObserver(n);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return En(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=ose(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Mc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&DQe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function gM(t){return Gs(t)}class pj{constructor(e){this.auth=e,this.observer=null,this.addObserver=ADe(n=>this.observer=n)}get next(){return En(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let PO={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lHe(t){PO=t}function cHe(t){return PO.loadJS(t)}function uHe(){return PO.gapiScript}function AHe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fHe(t,e){const n=XT(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Td(s,e??{}))return i;_A(i,"already-initialized")}return n.initialize({options:e})}function hHe(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(hf);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function dHe(t,e,n){const r=gM(t);En(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=lse(e),{host:a,port:o}=pHe(e),l=o===null?"":`:${o}`,c={url:`${s}//${a}${l}/`},u=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){En(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),En(Td(c,r.config.emulator)&&Td(u,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,og(a)?(UD(`${s}//${a}${l}`),DD("Auth",!0)):mHe()}function lse(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pHe(t){const e=lse(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:mj(r.substr(s.length+1))}}else{const[s,a]=r.split(":");return{host:s,port:mj(a)}}}function mj(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mHe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cse{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ff("not implemented")}_getIdTokenResponse(e){return ff("not implemented")}_linkToIdToken(e,n){return ff("not implemented")}_getReauthenticationResolver(e){return ff("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cv(t,e){return GQe(t,"POST","/v1/accounts:signInWithIdp",TO(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gHe="http://localhost";class Hm extends cse{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Hm(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):_A("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const a=new Hm(r,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const n=this.buildRequest();return cv(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,cv(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,cv(e,n)}buildRequest(){const e={requestUri:gHe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=hx(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx extends NO{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh extends wx{constructor(){super("facebook.com")}static credential(e){return Hm._fromParams({providerId:Oh.PROVIDER_ID,signInMethod:Oh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oh.credentialFromTaggedObject(e)}static credentialFromError(e){return Oh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oh.credential(e.oauthAccessToken)}catch{return null}}}Oh.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oh.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rf extends wx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Hm._fromParams({providerId:rf.PROVIDER_ID,signInMethod:rf.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return rf.credentialFromTaggedObject(e)}static credentialFromError(e){return rf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return rf.credential(n,r)}catch{return null}}}rf.GOOGLE_SIGN_IN_METHOD="google.com";rf.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh extends wx{constructor(){super("github.com")}static credential(e){return Hm._fromParams({providerId:kh.PROVIDER_ID,signInMethod:kh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kh.credentialFromTaggedObject(e)}static credentialFromError(e){return kh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kh.credential(e.oauthAccessToken)}catch{return null}}}kh.GITHUB_SIGN_IN_METHOD="github.com";kh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends wx{constructor(){super("twitter.com")}static credential(e,n){return Hm._fromParams({providerId:Qh.PROVIDER_ID,signInMethod:Qh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Qh.credentialFromTaggedObject(e)}static credentialFromError(e){return Qh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Qh.credential(n,r)}catch{return null}}}Qh.TWITTER_SIGN_IN_METHOD="twitter.com";Qh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jv{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await mu._fromIdTokenResponse(e,r,i),a=gj(r);return new jv({user:s,providerId:a,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=gj(r);return new jv({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function gj(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC extends BA{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,RC.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new RC(e,n,r,i)}}function use(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?RC._fromErrorAndOperation(t,s,e,r):s})}async function vHe(t,e,n=!1){const r=await T_(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return jv._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yHe(t,e,n=!1){const{auth:r}=t;if(Mc(r.app))return Promise.reject(xm(r));const i="reauthenticate";try{const s=await T_(t,use(r,i,e,t),n);En(s.idToken,r,"internal-error");const a=MO(s.idToken);En(a,r,"internal-error");const{sub:o}=a;return En(t.uid===o,r,"user-mismatch"),jv._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&_A(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wHe(t,e,n=!1){if(Mc(t.app))return Promise.reject(xm(t));const r="signIn",i=await use(t,r,e),s=await jv._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function _He(t,e,n,r){return Gs(t).onIdTokenChanged(e,n,r)}function xHe(t,e,n){return Gs(t).beforeAuthStateChanged(e,n)}function bHe(t,e,n,r){return Gs(t).onAuthStateChanged(e,n,r)}function EHe(t){return Gs(t).signOut()}const UC="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(UC,"1"),this.storage.removeItem(UC),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SHe=1e3,CHe=10;class fse extends Ase{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ase(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(r);!n&&this.localCache[r]===a||this.notifyListeners(r,a)},s=this.storage.getItem(r);nHe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,CHe):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},SHe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}fse.type="LOCAL";const BHe=fse;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hse extends Ase{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hse.type="SESSION";const dse=hse;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function THe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vM{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new vM(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const o=Array.from(a).map(async c=>c(n.origin,s)),l=await THe(o);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vM.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MHe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const c=LO("",20);i.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:i,onMessage(A){const f=A;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(u),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(f.data.response);break;default:clearTimeout(u),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(){return window}function IHe(t){pA().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pse(){return typeof pA().WorkerGlobalScope<"u"&&typeof pA().importScripts=="function"}async function PHe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function NHe(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function LHe(){return pse()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mse="firebaseLocalStorageDb",FHe=1,DC="firebaseLocalStorage",gse="fbase_key";class _x{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function yM(t,e){return t.transaction([DC],e?"readwrite":"readonly").objectStore(DC)}function RHe(){const t=indexedDB.deleteDatabase(mse);return new _x(t).toPromise()}function gF(){const t=indexedDB.open(mse,FHe);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(DC,{keyPath:gse})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(DC)?e(r):(r.close(),await RHe(),e(await gF()))})})}async function vj(t,e,n){const r=yM(t,!0).put({[gse]:e,value:n});return new _x(r).toPromise()}async function UHe(t,e){const n=yM(t,!1).get(e),r=await new _x(n).toPromise();return r===void 0?null:r.value}function yj(t,e){const n=yM(t,!0).delete(e);return new _x(n).toPromise()}const DHe=800,OHe=3;class vse{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gF(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>OHe)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pse()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vM._getInstance(LHe()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await PHe(),!this.activeServiceWorker)return;this.sender=new MHe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||NHe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gF();return await vj(e,UC,"1"),await yj(e,UC),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>vj(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>UHe(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yj(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=yM(i,!1).getAll();return new _x(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DHe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}vse.type="LOCAL";const kHe=vse;new yx(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yse(t,e){return e?hf(e):(En(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FO extends cse{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return cv(e,this._buildIdpRequest())}_linkToIdToken(e,n){return cv(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return cv(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function QHe(t){return wHe(t.auth,new FO(t),t.bypassAuthState)}function HHe(t){const{auth:e,user:n}=t;return En(n,e,"internal-error"),yHe(n,new FO(t),t.bypassAuthState)}async function VHe(t){const{auth:e,user:n}=t;return En(n,e,"internal-error"),vHe(n,new FO(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wse{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return QHe;case"linkViaPopup":case"linkViaRedirect":return VHe;case"reauthViaPopup":case"reauthViaRedirect":return HHe;default:_A(this.auth,"internal-error")}}resolve(e){Df(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Df(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zHe=new yx(2e3,1e4);async function jHe(t,e,n){if(Mc(t.app))return Promise.reject(_u(t,"operation-not-supported-in-this-environment"));const r=gM(t);OQe(t,e,NO);const i=yse(r,n);return new im(r,"signInViaPopup",e,i).executeNotNull()}class im extends wse{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,im.currentPopupAction&&im.currentPopupAction.cancel(),im.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return En(e,this.auth,"internal-error"),e}async onExecution(){Df(this.filter.length===1,"Popup operations only handle one event");const e=LO();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(_u(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(_u(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,im.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_u(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,zHe.get())};e()}}im.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GHe="pendingRedirect",D2=new Map;class WHe extends wse{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=D2.get(this.auth._key());if(!e){try{const r=await KHe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}D2.set(this.auth._key(),e)}return this.bypassAuthState||D2.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function KHe(t,e){const n=XHe(e),r=$He(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function qHe(t,e){D2.set(t._key(),e)}function $He(t){return hf(t._redirectPersistence)}function XHe(t){return U2(GHe,t.config.apiKey,t.name)}async function YHe(t,e,n=!1){if(Mc(t.app))return Promise.reject(xm(t));const r=gM(t),i=yse(r,e),a=await new WHe(r,i,n).execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JHe=10*60*1e3;class ZHe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e8e(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_se(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(_u(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JHe&&this.cachedEventUids.clear(),this.cachedEventUids.has(wj(e))}saveEventToCache(e){this.cachedEventUids.add(wj(e)),this.lastProcessedEventTime=Date.now()}}function wj(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _se({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function e8e(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _se(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t8e(t,e={}){return yy(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n8e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r8e=/^https?/;async function i8e(t){if(t.config.emulator)return;const{authorizedDomains:e}=await t8e(t);for(const n of e)try{if(s8e(n))return}catch{}_A(t,"unauthorized-domain")}function s8e(t){const e=pF(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&a.hostname===r}if(!r8e.test(n))return!1;if(n8e.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a8e=new yx(3e4,6e4);function _j(){const t=pA().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function o8e(t){return new Promise((e,n)=>{var i,s,a;function r(){_j(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{_j(),n(_u(t,"network-request-failed"))},timeout:a8e.get()})}if((s=(i=pA().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=pA().gapi)!=null&&a.load)r();else{const o=AHe("iframefcb");return pA()[o]=()=>{gapi.load?r():n(_u(t,"network-request-failed"))},cHe(`${uHe()}?onload=${o}`).catch(l=>n(l))}}).catch(e=>{throw O2=null,e})}let O2=null;function l8e(t){return O2=O2||o8e(t),O2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8e=new yx(5e3,15e3),u8e="__/auth/iframe",A8e="emulator/auth/iframe",f8e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},h8e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d8e(t){const e=t.config;En(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?BO(e,A8e):`https://${t.config.authDomain}/${u8e}`,r={apiKey:e.apiKey,appName:t.name,v:lg},i=h8e.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${hx(r).slice(1)}`}async function p8e(t){const e=await l8e(t),n=pA().gapi;return En(n,t,"internal-error"),e.open({where:document.body,url:d8e(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:f8e,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const a=_u(t,"network-request-failed"),o=pA().setTimeout(()=>{s(a)},c8e.get());function l(){pA().clearTimeout(o),i(r)}r.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m8e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},g8e=500,v8e=600,y8e="_blank",w8e="http://localhost";class xj{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _8e(t,e,n,r=g8e,i=v8e){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l={...m8e,width:r.toString(),height:i.toString(),top:s,left:a},c=wo().toLowerCase();n&&(o=tse(c)?y8e:n),Zie(c)&&(e=e||w8e,l.scrollbars="yes");const u=Object.entries(l).reduce((f,[h,p])=>`${f}${h}=${p},`,"");if(tHe(c)&&o!=="_self")return x8e(e||"",o),new xj(null);const A=window.open(e||"",o,u);En(A,t,"popup-blocked");try{A.focus()}catch{}return new xj(A)}function x8e(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8e="__/auth/handler",E8e="emulator/auth/handler",S8e=encodeURIComponent("fac");async function bj(t,e,n,r,i,s){En(t.config.authDomain,t,"auth-domain-config-required"),En(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:lg,eventId:i};if(e instanceof NO){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",uDe(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,A]of Object.entries({}))a[u]=A}if(e instanceof wx){const u=e.getScopes().filter(A=>A!=="");u.length>0&&(a.scopes=u.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const u of Object.keys(o))o[u]===void 0&&delete o[u];const l=await t._getAppCheckToken(),c=l?`#${S8e}=${encodeURIComponent(l)}`:"";return`${C8e(t)}?${hx(o).slice(1)}${c}`}function C8e({config:t}){return t.emulator?BO(t,E8e):`https://${t.authDomain}/${b8e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="webStorageSupport";class B8e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dse,this._completeRedirectFn=YHe,this._overrideRedirectResult=qHe}async _openPopup(e,n,r,i){var a;Df((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await bj(e,n,r,pF(),i);return _8e(e,s,LO())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await bj(e,n,r,pF(),i);return IHe(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Df(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await p8e(e),r=new ZHe(e);return n.register("authEvent",i=>(En(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(yP,{type:yP},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[yP];s!==void 0&&n(!!s),_A(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=i8e(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return ase()||ese()||IO()}}const T8e=B8e;var Ej="@firebase/auth",Sj="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M8e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){En(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I8e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function P8e(t){Om(new Md("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;En(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ose(t)},c=new oHe(r,i,s,l);return hHe(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Om(new Md("auth-internal",e=>{const n=gM(e.getProvider("auth").getImmediate());return(r=>new M8e(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),cA(Ej,Sj,I8e(t)),cA(Ej,Sj,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N8e=5*60,L8e=nre("authIdTokenMaxAge")||N8e;let Cj=null;const F8e=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>L8e)return;const i=n==null?void 0:n.token;Cj!==i&&(Cj=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function R8e(t=QD()){const e=XT(t,"auth");if(e.isInitialized())return e.getImmediate();const n=fHe(t,{popupRedirectResolver:T8e,persistence:[kHe,BHe,dse]}),r=nre("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const a=F8e(s.toString());xHe(n,a,()=>a(n.currentUser)),_He(n,o=>a(o))}}const i=Zne("auth");return i&&dHe(n,`http://${i}`),n}function U8e(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}lHe({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=_u("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",U8e().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});P8e("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xse="firebasestorage.googleapis.com",D8e="storageBucket",O8e=2*60*1e3,k8e=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA extends BA{constructor(e,n,r=0){super(wP(e),`Firebase Storage: ${n} (${wP(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,TA.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return wP(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var xA;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(xA||(xA={}));function wP(t){return"storage/"+t}function Q8e(){const t="An unknown error occurred, please check the error payload for server response.";return new TA(xA.UNKNOWN,t)}function H8e(){return new TA(xA.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function V8e(){return new TA(xA.CANCELED,"User canceled the upload/download.")}function z8e(t){return new TA(xA.INVALID_URL,"Invalid URL '"+t+"'.")}function j8e(t){return new TA(xA.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Bj(t){return new TA(xA.INVALID_ARGUMENT,t)}function bse(){return new TA(xA.APP_DELETED,"The Firebase app was deleted.")}function G8e(t){return new TA(xA.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=gu.makeFromUrl(e,n)}catch{return new gu(e,"")}if(r.path==="")return r;throw j8e(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(B){B.path.charAt(B.path.length-1)==="/"&&(B.path_=B.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function c(B){B.path_=decodeURIComponent(B.path)}const u="v[A-Za-z0-9_]+",A=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",h=new RegExp(`^https?://${A}/${u}/b/${i}/o${f}`,"i"),p={bucket:1,path:3},y=n===xse?"(?:storage.googleapis.com|storage.cloud.google.com)":n,v="([^?#]*)",m=new RegExp(`^https?://${y}/${i}/${v}`,"i"),_=[{regex:o,indices:l,postModify:s},{regex:h,indices:p,postModify:c},{regex:m,indices:{bucket:1,path:2},postModify:c}];for(let B=0;B<_.length;B++){const R=_[B],L=R.regex.exec(e);if(L){const S=L[R.indices.bucket];let M=L[R.indices.path];M||(M=""),r=new gu(S,M),R.postModify(r);break}}if(r==null)throw z8e(e);return r}}class W8e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K8e(t,e,n){let r=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let c=!1;function u(...v){c||(c=!0,e.apply(null,v))}function A(v){i=setTimeout(()=>{i=null,t(h,l())},v)}function f(){s&&clearTimeout(s)}function h(v,...m){if(c){f();return}if(v){f(),u.call(null,v,...m);return}if(l()||a){f(),u.call(null,v,...m);return}r<64&&(r*=2);let _;o===1?(o=2,_=0):_=(r+Math.random())*1e3,A(_)}let p=!1;function y(v){p||(p=!0,f(),!c&&(i!==null?(v||(o=2),clearTimeout(i),A(0)):v||(o=1)))}return A(0),s=setTimeout(()=>{a=!0,y(!0)},n),y}function q8e(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $8e(t){return t!==void 0}function Tj(t,e,n,r){if(r<e)throw Bj(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Bj(`Invalid value for '${t}'. Expected ${n} or less.`)}function X8e(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var OC;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(OC||(OC={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y8e(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J8e{constructor(e,n,r,i,s,a,o,l,c,u,A,f=!0,h=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=u,this.connectionFactory_=A,this.retry=f,this.isUsingEmulator=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,y)=>{this.resolve_=p,this.reject_=y,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new XE(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,c=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===OC.NO_ERROR,l=s.getStatus();if(!o||Y8e(l,this.additionalRetryCodes_)&&this.retry){const u=s.getErrorCode()===OC.ABORT;r(!1,new XE(!1,null,u));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new XE(c,s))})},n=(r,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());$8e(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=Q8e();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?bse():V8e();a(l)}else{const l=H8e();a(l)}};this.canceled_?n(!1,new XE(!1,null,!0)):this.backoffId_=K8e(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&q8e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class XE{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Z8e(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function eVe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function tVe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function nVe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function rVe(t,e,n,r,i,s,a=!0,o=!1){const l=X8e(t.urlParams),c=t.url+l,u=Object.assign({},t.headers);return tVe(u,e),Z8e(u,n),eVe(u,s),nVe(u,r),new J8e(c,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iVe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function sVe(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(e,n){this._service=e,n instanceof gu?this._location=n:this._location=gu.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new kC(e,n)}get root(){const e=new gu(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return sVe(this._location.path)}get storage(){return this._service}get parent(){const e=iVe(this._location.path);if(e===null)return null;const n=new gu(this._location.bucket,e);return new kC(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw G8e(e)}}function Mj(t,e){const n=e==null?void 0:e[D8e];return n==null?null:gu.makeFromBucketSpec(n,t)}function aVe(t,e,n,r={}){t.host=`${e}:${n}`;const i=og(e);i&&(UD(`https://${t.host}/b`),DD("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:rre(s,t.app.options.projectId))}class oVe{constructor(e,n,r,i,s,a=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=xse,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=O8e,this._maxUploadRetryTime=k8e,this._requests=new Set,i!=null?this._bucket=gu.makeFromBucketSpec(i,this._host):this._bucket=Mj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=gu.makeFromBucketSpec(this._url,e):this._bucket=Mj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Tj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Tj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Mc(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kC(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new W8e(bse());{const a=rVe(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const Ij="@firebase/storage",Pj="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ese="storage";function lVe(t=QD(),e){t=Gs(t);const r=XT(t,Ese).getImmediate({identifier:e}),i=ere("storage");return i&&cVe(r,...i),r}function cVe(t,e,n,r={}){aVe(t,e,n,r)}function uVe(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new oVe(n,r,i,e,lg)}function AVe(){Om(new Md(Ese,uVe,"PUBLIC").setMultipleInstances(!0)),cA(Ij,Pj,""),cA(Ij,Pj,"esm2020")}AVe();const fVe={apiKey:"demo-api-key",authDomain:"packpalgo-demo.firebaseapp.com",projectId:"packpalgo-demo",storageBucket:"packpalgo-demo.appspot.com",messagingSenderId:"123456789",appId:"1:123456789:web:demo123456789"},RO=are(fVe),Tu=vQe(RO),bm=R8e(RO);lVe(RO);const hVe=new rf;/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function dVe(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{c(r.next(u))}catch(A){a(A)}}function l(u){try{c(r.throw(u))}catch(A){a(A)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((r=r.apply(t,[])).next())})}function pVe(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var G0=function(){return G0=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},G0.apply(this,arguments)},Sse=function(t){return{loading:t==null,value:t}},mVe=function(){return function(t,e){switch(e.type){case"error":return G0(G0({},t),{error:e.error,loading:!1,value:void 0});case"reset":return Sse(e.defaultValue);case"value":return G0(G0({},t),{error:void 0,loading:!1,value:e.value});default:return t}}},gVe=function(t){var e=t?t():void 0,n=Y.useReducer(mVe(),Sse(e)),r=n[0],i=n[1],s=Y.useCallback(function(){var l=t?t():void 0;i({type:"reset",defaultValue:l})},[t]),a=Y.useCallback(function(l){i({type:"error",error:l})},[]),o=Y.useCallback(function(l){i({type:"value",value:l})},[]);return Y.useMemo(function(){return{error:r.error,loading:r.loading,reset:s,setError:a,setValue:o,value:r.value}},[r.error,r.loading,s,a,o,r.value])},xx=function(t,e){var n=gVe(function(){return t.currentUser}),r=n.error,i=n.loading,s=n.setError,a=n.setValue,o=n.value;return Y.useEffect(function(){var l=bHe(t,function(c){return dVe(void 0,void 0,void 0,function(){var u;return pVe(this,function(A){switch(A.label){case 0:return[3,4];case 1:return A.trys.push([1,3,,4]),[4,e.onUserChanged(c)];case 2:return A.sent(),[3,4];case 3:return u=A.sent(),s(u),[3,4];case 4:return a(c),[2]}})})},s);return function(){l()}},[t]),[o,i,r]};function vVe({isOpen:t,onClose:e}){const[n,r]=Y.useState(""),[i,s]=Y.useState([""]),[a,o]=Y.useState(""),[l,c]=Y.useState(""),[u,A]=Y.useState(!1),[f]=xx(bm),h=["","","","","","","","","",""],p=()=>{s([...i,""])},y=(_,B)=>{const R=[...i];R[_]=B,s(R)},v=_=>{if(i.length>1){const B=i.filter((R,L)=>L!==_);s(B)}},m=()=>Math.random().toString(36).substring(2,8).toUpperCase(),w=async()=>{if(!n.trim()){alert("Please enter a group name");return}if(!f){alert("Please sign in to create a group");return}const _=i.filter(L=>L.trim()!==""),B=[f.email,..._],R=[f.displayName||f.email,..._];A(!0);try{const L=m(),S={name:n.trim(),emoji:l,members:R,memberEmails:B,createdBy:f.uid,createdByEmail:f.email,createdAt:Gie(),inviteCode:L,budget:a?parseFloat(a):null,totalExpenses:0,totalAmount:0},M=await zie(my(Tu,"groups"),S);alert(`Group "${n}" created successfully!

Invite Code: ${L}

Share this code with others to let them join your group.`),r(""),s([""]),o(""),c(""),e()}catch(L){console.error("Error creating group:",L),alert("Error creating group. Please try again.")}finally{A(!1)}};return t?I.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},I.createElement("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto"},I.createElement("div",{className:"p-6"},I.createElement("div",{className:"flex justify-between items-center mb-6"},I.createElement("h2",{className:"text-2xl font-bold text-gray-800"},"Create New Group"),I.createElement("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl"},"")),I.createElement("div",{className:"mb-4"},I.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Group Name *"),I.createElement("input",{type:"text",value:n,onChange:_=>r(_.target.value),placeholder:"e.g., Goa Trip 2024",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent",maxLength:50})),I.createElement("div",{className:"mb-4"},I.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Group Icon"),I.createElement("div",{className:"flex flex-wrap gap-2"},h.map(_=>I.createElement("button",{key:_,onClick:()=>c(_),className:`text-2xl p-2 rounded-lg border-2 transition duration-200 ${l===_?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`},_)))),I.createElement("div",{className:"mb-4"},I.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Budget (Optional)"),I.createElement("div",{className:"relative"},I.createElement("span",{className:"absolute left-3 top-3 text-gray-500"},""),I.createElement("input",{type:"number",value:a,onChange:_=>o(_.target.value),placeholder:"10000",className:"w-full pl-8 pr-3 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})),I.createElement("p",{className:"text-xs text-gray-500 mt-1"},"Set a budget cap to track spending")),I.createElement("div",{className:"mb-6"},I.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Add Members (Optional)"),I.createElement("p",{className:"text-xs text-gray-500 mb-3"},"Add member emails or names. You can also invite them later using the invite code."),i.map((_,B)=>I.createElement("div",{key:B,className:"flex items-center mb-2"},I.createElement("input",{type:"text",value:_,onChange:R=>y(B,R.target.value),placeholder:"Email or name",className:"flex-1 p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}),i.length>1&&I.createElement("button",{onClick:()=>v(B),className:"ml-2 text-red-500 hover:text-red-700 p-2"},""))),I.createElement("button",{onClick:p,className:"text-indigo-500 hover:text-indigo-700 text-sm font-medium flex items-center mt-2"},I.createElement("span",{className:"mr-1"},"+")," Add Another Member")),I.createElement("div",{className:"flex space-x-3"},I.createElement("button",{onClick:e,className:"flex-1 py-3 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition duration-200"},"Cancel"),I.createElement("button",{onClick:w,disabled:u||!n.trim(),className:"flex-1 py-3 px-4 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 disabled:bg-gray-400 transition duration-200 flex items-center justify-center"},u?I.createElement("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Create Group"))))):null}function yVe({isOpen:t,onClose:e}){const[n,r]=Y.useState(""),[i,s]=Y.useState(!1),[a]=xx(bm),o=async()=>{if(!n.trim()){alert("Please enter an invite code");return}if(!a){alert("Please sign in to join a group");return}s(!0);try{const l=_O(my(Tu,"groups"),Hie("inviteCode","==",n.toUpperCase().trim())),c=await FQe(l);if(c.empty){alert("Invalid invite code. Please check and try again."),s(!1);return}const u=c.docs[0],A=u.data();if(A.memberEmails.includes(a.email)){alert("You are already a member of this group!"),s(!1);return}await pM(Vv(Tu,"groups",u.id),{memberEmails:PC(a.email),members:PC(a.displayName||a.email)}),alert(`Successfully joined "${A.name}"! `),r(""),e()}catch(l){console.error("Error joining group:",l),alert("Error joining group. Please try again.")}finally{s(!1)}};return t?I.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},I.createElement("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md"},I.createElement("div",{className:"p-6"},I.createElement("div",{className:"flex justify-between items-center mb-6"},I.createElement("h2",{className:"text-2xl font-bold text-gray-800"},"Join Group"),I.createElement("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl"},"")),I.createElement("div",{className:"text-center mb-6"},I.createElement("div",{className:"text-6xl mb-4"},""),I.createElement("p",{className:"text-gray-600"},"Enter the invite code shared by your group organizer to join their travel group.")),I.createElement("div",{className:"mb-6"},I.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Invite Code"),I.createElement("input",{type:"text",value:n,onChange:l=>r(l.target.value.toUpperCase()),placeholder:"Enter 6-character code",className:"w-full p-4 text-center text-xl font-mono border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent tracking-widest",maxLength:6,style:{letterSpacing:"0.3em"}}),I.createElement("p",{className:"text-xs text-gray-500 mt-2 text-center"},"Code format: ABC123 (6 characters)")),I.createElement("div",{className:"flex space-x-3"},I.createElement("button",{onClick:e,className:"flex-1 py-3 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition duration-200"},"Cancel"),I.createElement("button",{onClick:o,disabled:i||!n.trim()||n.length!==6,className:"flex-1 py-3 px-4 bg-green-500 text-white rounded-lg hover:bg-green-600 disabled:bg-gray-400 transition duration-200 flex items-center justify-center"},i?I.createElement("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Join Group")),I.createElement("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg"},I.createElement("p",{className:"text-sm text-blue-800"},I.createElement("strong",null,"Don't have an invite code?"),I.createElement("br",null),"Ask the group creator to share their 6-character invite code with you, or create your own group instead."))))):null}function Cse({children:t}){const[e,n,r]=xx(bm),[i,s]=Y.useState(!1),a=async()=>{s(!0);try{await jHe(bm,hVe)}catch(l){console.error("Error signing in:",l),alert("Error signing in. Please try again.")}finally{s(!1)}},o=async()=>{try{await EHe(bm)}catch(l){console.error("Error signing out:",l)}};return n?I.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center"},I.createElement("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-500"})):e?I.createElement("div",{className:"relative"},I.createElement("div",{className:"absolute top-4 right-4 z-50"},I.createElement("div",{className:"bg-white rounded-lg shadow-lg p-3 flex items-center space-x-3"},e.photoURL&&I.createElement("img",{src:e.photoURL,alt:e.displayName,className:"w-8 h-8 rounded-full"}),I.createElement("div",{className:"text-sm"},I.createElement("div",{className:"font-medium text-gray-800"},e.displayName),I.createElement("div",{className:"text-gray-500"},e.email)),I.createElement("button",{onClick:o,className:"text-gray-500 hover:text-gray-700 ml-2",title:"Sign out"},""))),t):I.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center p-4"},I.createElement("div",{className:"bg-white rounded-xl shadow-2xl p-8 w-full max-w-md text-center"},I.createElement("div",{className:"text-6xl mb-6"},""),I.createElement("h1",{className:"text-3xl font-bold text-gray-800 mb-4"},"Welcome to GoSplit"),I.createElement("p",{className:"text-gray-600 mb-8"},"Split travel expenses with your friends and family. Sign in with Google to get started."),I.createElement("button",{onClick:a,disabled:i,className:"w-full bg-indigo-500 hover:bg-indigo-600 disabled:bg-gray-400 text-white px-6 py-3 rounded-lg transition duration-200 flex items-center justify-center space-x-3"},i?I.createElement("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):I.createElement(I.Fragment,null,I.createElement("svg",{className:"w-5 h-5",viewBox:"0 0 24 24"},I.createElement("path",{fill:"currentColor",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),I.createElement("path",{fill:"currentColor",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),I.createElement("path",{fill:"currentColor",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),I.createElement("path",{fill:"currentColor",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})),I.createElement("span",null,"Sign in with Google"))),I.createElement("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg"},I.createElement("p",{className:"text-sm text-blue-800"},I.createElement("strong",null,"Why sign in?"),I.createElement("br",null)," Create and join travel groups",I.createElement("br",null)," Track expenses in real-time",I.createElement("br",null)," Split bills automatically",I.createElement("br",null)," Settle up with friends"))))}function wVe(){const[t,e]=Y.useState([]),[n,r]=Y.useState(!1),[i,s]=Y.useState(!1),[a,o]=Y.useState(!0),[l]=xx(bm),c=Gm();Y.useEffect(()=>{if(!l)return;const A=_O(my(Tu,"groups"),Hie("memberEmails","array-contains",l.email)),f=mM(A,h=>{const p=h.docs.map(y=>({id:y.id,...y.data()}));e(p),o(!1)});return()=>f()},[l]);const u=A=>{c(`/gosplit/group/${A}`)};return l?a?I.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center"},I.createElement("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-500"})):I.createElement(Cse,null,I.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4"},I.createElement("div",{className:"max-w-4xl mx-auto"},I.createElement("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6"},I.createElement("div",{className:"flex justify-between items-center mb-4"},I.createElement("div",null,I.createElement("h1",{className:"text-3xl font-bold text-gray-800"},"GoSplit"),I.createElement("p",{className:"text-gray-600"},"Split expenses with your travel groups")),I.createElement("div",{className:"flex space-x-3"},I.createElement("button",{onClick:()=>s(!0),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition duration-200 flex items-center space-x-2"},I.createElement("span",null,""),I.createElement("span",null,"Join Group")),I.createElement("button",{onClick:()=>r(!0),className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg transition duration-200 flex items-center space-x-2"},I.createElement("span",null,""),I.createElement("span",null,"Create Group"))))),t.length===0?I.createElement("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center"},I.createElement("div",{className:"text-6xl mb-4"},""),I.createElement("h3",{className:"text-xl font-semibold text-gray-800 mb-2"},"No Groups Yet"),I.createElement("p",{className:"text-gray-600 mb-6"},"Create your first travel group or join an existing one to start splitting expenses!"),I.createElement("div",{className:"flex justify-center space-x-4"},I.createElement("button",{onClick:()=>r(!0),className:"bg-indigo-500 hover:bg-indigo-600 text-white px-6 py-3 rounded-lg transition duration-200"},"Create First Group"),I.createElement("button",{onClick:()=>s(!0),className:"bg-green-500 hover:bg-green-600 text-white px-6 py-3 rounded-lg transition duration-200"},"Join a Group"))):I.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},t.map(A=>{var f,h,p,y;return I.createElement("div",{key:A.id,onClick:()=>u(A.id),className:"bg-white rounded-xl shadow-lg p-6 cursor-pointer hover:shadow-xl transition duration-200 transform hover:-translate-y-1"},I.createElement("div",{className:"flex items-center justify-between mb-4"},I.createElement("h3",{className:"text-xl font-semibold text-gray-800 truncate"},A.name),I.createElement("span",{className:"text-2xl"},A.emoji||"")),I.createElement("div",{className:"space-y-2 mb-4"},I.createElement("div",{className:"flex items-center text-sm text-gray-600"},I.createElement("span",{className:"mr-2"},""),I.createElement("span",null,((f=A.members)==null?void 0:f.length)||0," members")),I.createElement("div",{className:"flex items-center text-sm text-gray-600"},I.createElement("span",{className:"mr-2"},""),I.createElement("span",null,A.totalExpenses||0," expenses")),A.budget&&I.createElement("div",{className:"flex items-center text-sm text-gray-600"},I.createElement("span",{className:"mr-2"},""),I.createElement("span",null,"Budget: ",A.budget))),I.createElement("div",{className:"flex items-center justify-between"},I.createElement("div",{className:"text-xs text-gray-500"},"Created ",((y=(p=(h=A.createdAt)==null?void 0:h.toDate)==null?void 0:p.call(h))==null?void 0:y.toLocaleDateString())||"Recently"),I.createElement("div",{className:"text-indigo-500 font-medium"},"View Details ")))})),n&&I.createElement(vVe,{isOpen:n,onClose:()=>r(!1)}),i&&I.createElement(yVe,{isOpen:i,onClose:()=>s(!1)})))):I.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center"},I.createElement("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center"},I.createElement("h2",{className:"text-2xl font-bold text-gray-800 mb-4"},"Please Sign In"),I.createElement("p",{className:"text-gray-600"},"You need to sign in to access GoSplit")))}function _Ve({isOpen:t,onClose:e,groupId:n,members:r}){const[i,s]=Y.useState({description:"",amount:"",payer:"",category:"Food",date:new Date().toISOString().split("T")[0],notes:""}),[a,o]=Y.useState("equal"),[l,c]=Y.useState({}),[u,A]=Y.useState({}),[f,h]=Y.useState(!1),p=[{value:"Food",emoji:"",color:"bg-orange-100 text-orange-800"},{value:"Transport",emoji:"",color:"bg-blue-100 text-blue-800"},{value:"Accommodation",emoji:"",color:"bg-green-100 text-green-800"},{value:"Activities",emoji:"",color:"bg-purple-100 text-purple-800"},{value:"Shopping",emoji:"",color:"bg-pink-100 text-pink-800"},{value:"Entertainment",emoji:"",color:"bg-yellow-100 text-yellow-800"},{value:"Medical",emoji:"",color:"bg-red-100 text-red-800"},{value:"Other",emoji:"",color:"bg-gray-100 text-gray-800"}];I.useEffect(()=>{if(a==="custom"){const S={};r.forEach(M=>{S[M]=""}),c(S)}else if(a==="shares"){const S={};r.forEach(M=>{S[M]="1"}),A(S)}},[a,r]);const y=(S,M)=>{s(T=>({...T,[S]:M}))},v=(S,M)=>{c(T=>({...T,[S]:M}))},m=(S,M)=>{A(T=>({...T,[S]:M}))},w=()=>{const S=parseFloat(i.amount);if(!S||S<=0)return{};switch(a){case"equal":const M=S/r.length,T={};return r.forEach(H=>{T[H]=M}),T;case"shares":const F=Object.values(u).reduce((H,X)=>H+parseFloat(X||0),0);if(F===0)return{};const P={};return r.forEach(H=>{const X=parseFloat(u[H]||0);P[H]=S*X/F}),P;case"custom":const D={};return r.forEach(H=>{D[H]=parseFloat(l[H]||0)}),D;default:return{}}},_=()=>{const S=parseFloat(i.amount),M=w(),T=Object.values(M).reduce((P,D)=>P+D,0);return a==="custom"&&Math.abs(S-T)>.01?`Total splits (${T.toFixed(2)}) must equal the expense amount (${S.toFixed(2)})`:Object.values(M).some(P=>P<0)?"Split amounts cannot be negative":null},B=async()=>{if(!i.description.trim()){alert("Please enter a description");return}if(!i.amount||parseFloat(i.amount)<=0){alert("Please enter a valid amount");return}if(!i.payer){alert("Please select who paid");return}const S=_();if(S){alert(S);return}h(!0);try{const M=parseFloat(i.amount),T=w(),F={description:i.description.trim(),amount:M,payer:i.payer,category:i.category,date:new Date(i.date),notes:i.notes.trim(),splitType:a,splits:T,createdAt:Gie(),groupId:n};await zie(my(Tu,"groups",n,"expenses"),F),await pM(Vv(Tu,"groups",n),{totalExpenses:cj(1),totalAmount:cj(M)}),s({description:"",amount:"",payer:"",category:"Food",date:new Date().toISOString().split("T")[0],notes:""}),o("equal"),c({}),A({}),e(),alert("Expense added successfully! ")}catch(M){console.error("Error adding expense:",M),alert("Error adding expense. Please try again.")}finally{h(!1)}};if(!t)return null;const R=w(),L=_();return I.createElement("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4"},I.createElement("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto"},I.createElement("div",{className:"p-6"},I.createElement("div",{className:"flex justify-between items-center mb-6"},I.createElement("h2",{className:"text-2xl font-bold text-gray-800"},"Add New Expense"),I.createElement("button",{onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl"},"")),I.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6"},I.createElement("div",{className:"md:col-span-2"},I.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Description *"),I.createElement("input",{type:"text",value:i.description,onChange:S=>y("description",S.target.value),placeholder:"e.g., Dinner at beach restaurant",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})),I.createElement("div",null,I.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Amount () *"),I.createElement("input",{type:"number",step:"0.01",value:i.amount,onChange:S=>y("amount",S.target.value),placeholder:"0.00",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})),I.createElement("div",null,I.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Paid by *"),I.createElement("select",{value:i.payer,onChange:S=>y("payer",S.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},I.createElement("option",{value:""},"Select payer"),r.map((S,M)=>I.createElement("option",{key:M,value:S},S)))),I.createElement("div",null,I.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Category"),I.createElement("div",{className:"grid grid-cols-4 gap-2"},p.map(S=>I.createElement("button",{key:S.value,onClick:()=>y("category",S.value),className:`p-2 rounded-lg border-2 transition duration-200 text-xs ${i.category===S.value?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"}`},I.createElement("div",{className:"text-lg mb-1"},S.emoji),I.createElement("div",null,S.value))))),I.createElement("div",null,I.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Date"),I.createElement("input",{type:"date",value:i.date,onChange:S=>y("date",S.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"}))),I.createElement("div",{className:"mb-6"},I.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-3"},"How to split?"),I.createElement("div",{className:"flex space-x-3 mb-4"},[{key:"equal",label:"Split Equally",icon:""},{key:"shares",label:"By Shares",icon:""},{key:"custom",label:"Custom Amounts",icon:""}].map(S=>I.createElement("button",{key:S.key,onClick:()=>o(S.key),className:`flex-1 p-3 rounded-lg border-2 transition duration-200 ${a===S.key?"border-indigo-500 bg-indigo-50 text-indigo-700":"border-gray-200 hover:border-gray-300"}`},I.createElement("div",{className:"text-lg mb-1"},S.icon),I.createElement("div",{className:"text-sm"},S.label)))),i.amount&&parseFloat(i.amount)>0&&I.createElement("div",{className:"bg-gray-50 rounded-lg p-4"},I.createElement("h4",{className:"font-medium text-gray-800 mb-3"},"Split breakdown:"),a==="equal"&&I.createElement("div",{className:"space-y-2"},r.map(S=>I.createElement("div",{key:S,className:"flex justify-between items-center"},I.createElement("span",{className:"text-gray-700"},S),I.createElement("span",{className:"font-medium"},"",(parseFloat(i.amount)/r.length).toFixed(2))))),a==="shares"&&I.createElement("div",{className:"space-y-3"},r.map(S=>I.createElement("div",{key:S,className:"flex items-center justify-between"},I.createElement("span",{className:"text-gray-700 flex-1"},S),I.createElement("div",{className:"flex items-center space-x-2"},I.createElement("input",{type:"number",min:"0",step:"0.1",value:u[S]||"",onChange:M=>m(S,M.target.value),className:"w-20 p-2 border border-gray-300 rounded text-center",placeholder:"1"}),I.createElement("span",{className:"text-gray-500"},"shares"),I.createElement("span",{className:"font-medium w-20 text-right"},"",R[S]?R[S].toFixed(2):"0.00"))))),a==="custom"&&I.createElement("div",{className:"space-y-3"},r.map(S=>I.createElement("div",{key:S,className:"flex items-center justify-between"},I.createElement("span",{className:"text-gray-700 flex-1"},S),I.createElement("div",{className:"flex items-center space-x-2"},I.createElement("span",{className:"text-gray-500"},""),I.createElement("input",{type:"number",min:"0",step:"0.01",value:l[S]||"",onChange:M=>v(S,M.target.value),className:"w-24 p-2 border border-gray-300 rounded text-right",placeholder:"0.00"})))),I.createElement("div",{className:"border-t pt-2 mt-2"},I.createElement("div",{className:"flex justify-between items-center"},I.createElement("span",{className:"font-medium"},"Total:"),I.createElement("span",{className:`font-medium ${L?"text-red-600":"text-green-600"}`},"",Object.values(R).reduce((S,M)=>S+M,0).toFixed(2))))),L&&I.createElement("div",{className:"mt-3 p-3 bg-red-50 border border-red-200 rounded-lg"},I.createElement("p",{className:"text-red-700 text-sm"},L)))),I.createElement("div",{className:"mb-6"},I.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Notes (Optional)"),I.createElement("textarea",{value:i.notes,onChange:S=>y("notes",S.target.value),placeholder:"Additional details...",rows:3,className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})),I.createElement("div",{className:"flex space-x-3"},I.createElement("button",{onClick:e,className:"flex-1 py-3 px-4 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition duration-200"},"Cancel"),I.createElement("button",{onClick:B,disabled:f||L||!i.description.trim()||!i.amount||!i.payer,className:"flex-1 py-3 px-4 bg-indigo-500 text-white rounded-lg hover:bg-indigo-600 disabled:bg-gray-400 transition duration-200 flex items-center justify-center"},f?I.createElement("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}):"Add Expense")))))}function xVe({groupId:t}){const[e,n]=Y.useState([]),[r,i]=Y.useState([]),[s,a]=Y.useState(!0),[o,l]=Y.useState({category:"all",payer:"all",dateRange:"all"}),c=[{value:"all",label:"All Categories",emoji:""},{value:"Food",label:"Food",emoji:""},{value:"Transport",label:"Transport",emoji:""},{value:"Accommodation",label:"Accommodation",emoji:""},{value:"Activities",label:"Activities",emoji:""},{value:"Shopping",label:"Shopping",emoji:""},{value:"Entertainment",label:"Entertainment",emoji:""},{value:"Medical",label:"Medical",emoji:""},{value:"Other",label:"Other",emoji:""}];Y.useEffect(()=>{if(!t)return;const v=_O(my(Tu,"groups",t,"expenses"),IQe("date","desc")),m=mM(v,w=>{const _=w.docs.map(B=>{var R,L;return{id:B.id,...B.data(),date:((L=(R=B.data().date)==null?void 0:R.toDate)==null?void 0:L.call(R))||new Date(B.data().date)}});n(_),a(!1)});return()=>m()},[t]),Y.useEffect(()=>{let v=e;if(o.category!=="all"&&(v=v.filter(m=>m.category===o.category)),o.payer!=="all"&&(v=v.filter(m=>m.payer===o.payer)),o.dateRange!=="all"){const m=new Date,w=new Date;switch(o.dateRange){case"today":w.setHours(0,0,0,0),v=v.filter(_=>_.date>=w);break;case"week":w.setDate(m.getDate()-7),v=v.filter(_=>_.date>=w);break;case"month":w.setMonth(m.getMonth()-1),v=v.filter(_=>_.date>=w);break}}i(v)},[e,o]);const u=(v,m)=>{l(w=>({...w,[v]:m}))},A=v=>v?new Intl.DateTimeFormat("en-IN",{day:"numeric",month:"short",year:"numeric"}).format(v):"Unknown date",f=v=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(v),h=v=>{const m=c.find(w=>w.value===v);return m?m.emoji:""},p=v=>{switch(v){case"equal":return"";case"shares":return"";case"custom":return"";default:return""}},y=[...new Set(e.map(v=>v.payer))];return s?I.createElement("div",{className:"flex items-center justify-center py-8"},I.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})):I.createElement("div",null,I.createElement("div",{className:"mb-6 space-y-4"},I.createElement("h3",{className:"text-lg font-semibold text-gray-800"},"Filter Expenses"),I.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},I.createElement("div",null,I.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Category"),I.createElement("select",{value:o.category,onChange:v=>u("category",v.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},c.map(v=>I.createElement("option",{key:v.value,value:v.value},v.emoji," ",v.label)))),I.createElement("div",null,I.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Paid by"),I.createElement("select",{value:o.payer,onChange:v=>u("payer",v.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},I.createElement("option",{value:"all"},"All Members"),y.map(v=>I.createElement("option",{key:v,value:v},v)))),I.createElement("div",null,I.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Date Range"),I.createElement("select",{value:o.dateRange,onChange:v=>u("dateRange",v.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"},I.createElement("option",{value:"all"},"All Time"),I.createElement("option",{value:"today"},"Today"),I.createElement("option",{value:"week"},"Last 7 Days"),I.createElement("option",{value:"month"},"Last Month")))),I.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-4"},I.createElement("div",{className:"bg-gray-50 rounded-lg p-3 text-center"},I.createElement("div",{className:"text-2xl font-bold text-gray-800"},r.length),I.createElement("div",{className:"text-sm text-gray-600"},"Expenses")),I.createElement("div",{className:"bg-gray-50 rounded-lg p-3 text-center"},I.createElement("div",{className:"text-2xl font-bold text-green-600"},f(r.reduce((v,m)=>v+m.amount,0))),I.createElement("div",{className:"text-sm text-gray-600"},"Total Amount")),I.createElement("div",{className:"bg-gray-50 rounded-lg p-3 text-center"},I.createElement("div",{className:"text-2xl font-bold text-blue-600"},f(r.reduce((v,m)=>v+m.amount,0)/Math.max(r.length,1))),I.createElement("div",{className:"text-sm text-gray-600"},"Avg. Expense")),I.createElement("div",{className:"bg-gray-50 rounded-lg p-3 text-center"},I.createElement("div",{className:"text-2xl font-bold text-purple-600"},new Set(r.map(v=>v.category)).size),I.createElement("div",{className:"text-sm text-gray-600"},"Categories")))),r.length===0?I.createElement("div",{className:"text-center py-8"},I.createElement("div",{className:"text-6xl mb-4"},""),I.createElement("h3",{className:"text-xl font-semibold text-gray-800 mb-2"},"No Expenses Found"),I.createElement("p",{className:"text-gray-600"},e.length===0?"No expenses have been added yet. Add your first expense to get started!":"No expenses match your current filters. Try adjusting your filter criteria.")):I.createElement("div",{className:"space-y-4"},r.map(v=>I.createElement("div",{key:v.id,className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition duration-200"},I.createElement("div",{className:"flex items-start justify-between"},I.createElement("div",{className:"flex items-start space-x-3 flex-1"},I.createElement("div",{className:"text-2xl"},h(v.category)),I.createElement("div",{className:"flex-1"},I.createElement("div",{className:"flex items-center justify-between mb-2"},I.createElement("h4",{className:"text-lg font-semibold text-gray-800"},v.description),I.createElement("div",{className:"text-right"},I.createElement("div",{className:"text-xl font-bold text-green-600"},f(v.amount)),I.createElement("div",{className:"text-sm text-gray-500"},p(v.splitType)," ",v.splitType," split"))),I.createElement("div",{className:"flex items-center space-x-4 text-sm text-gray-600 mb-3"},I.createElement("span",{className:"flex items-center"},I.createElement("span",{className:"mr-1"},""),"Paid by ",I.createElement("strong",{className:"ml-1"},v.payer)),I.createElement("span",{className:"flex items-center"},I.createElement("span",{className:"mr-1"},""),A(v.date)),I.createElement("span",{className:"px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-800"},v.category)),v.notes&&I.createElement("div",{className:"text-sm text-gray-600 mb-3 italic"},'"',v.notes,'"'),I.createElement("div",{className:"bg-gray-50 rounded-lg p-3"},I.createElement("h5",{className:"text-sm font-medium text-gray-700 mb-2"},"Split Details:"),I.createElement("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2"},Object.entries(v.splits||{}).map(([m,w])=>I.createElement("div",{key:m,className:"flex justify-between items-center text-sm"},I.createElement("span",{className:"text-gray-700"},m),I.createElement("span",{className:"font-medium text-gray-800"},f(w)))))))))))))}function bVe({groupId:t,group:e}){const[n,r]=Y.useState([]),[i,s]=Y.useState(!0);Y.useEffect(()=>{if(!t)return;const A=mM(my(Tu,"groups",t,"expenses"),f=>{const h=f.docs.map(p=>({id:p.id,...p.data()}));r(h),s(!1)});return()=>A()},[t]);const a=()=>{const A={};return e.members.forEach(f=>{A[f]=0}),n.forEach(f=>{const{payer:h,amount:p,splits:y}=f;A[h]+=p,Object.entries(y||{}).forEach(([v,m])=>{A[v]-=m})}),A},o=A=>{const f=[],h=[];Object.entries(A).forEach(([m,w])=>{w>.01?f.push({member:m,amount:w}):w<-.01&&h.push({member:m,amount:Math.abs(w)})}),f.sort((m,w)=>w.amount-m.amount),h.sort((m,w)=>w.amount-m.amount);const p=[];let y=0,v=0;for(;y<f.length&&v<h.length;){const m=f[y],w=h[v],_=Math.min(m.amount,w.amount);p.push({from:w.member,to:m.member,amount:_}),m.amount-=_,w.amount-=_,m.amount<.01&&y++,w.amount<.01&&v++}return p},l=A=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(A),c=a(),u=o(c);return i?I.createElement("div",{className:"flex items-center justify-center py-8"},I.createElement("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-500"})):I.createElement("div",{className:"space-y-6"},I.createElement("div",null,I.createElement("h3",{className:"text-lg font-semibold text-gray-800 mb-4"},"Individual Balances"),I.createElement("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4"},Object.entries(c).map(([A,f])=>I.createElement("div",{key:A,className:`p-4 rounded-lg border-2 ${Math.abs(f)<.01?"border-gray-200 bg-gray-50":f>0?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`},I.createElement("div",{className:"flex items-center justify-between"},I.createElement("div",{className:"flex items-center space-x-2"},I.createElement("span",{className:"text-lg"},Math.abs(f)<.01?"":f>0?"":""),I.createElement("span",{className:"font-medium text-gray-800"},A)),I.createElement("div",{className:"text-right"},I.createElement("div",{className:`text-lg font-bold ${Math.abs(f)<.01?"text-gray-600":f>0?"text-green-600":"text-red-600"}`},l(Math.abs(f))),I.createElement("div",{className:"text-sm text-gray-500"},Math.abs(f)<.01?"All settled up":f>0?"To receive":"To pay"))))))),u.length>0&&I.createElement("div",null,I.createElement("h3",{className:"text-lg font-semibold text-gray-800 mb-4"},"Suggested Settlements"),I.createElement("div",{className:"space-y-3"},u.map((A,f)=>I.createElement("div",{key:f,className:"bg-white border border-gray-200 rounded-lg p-4"},I.createElement("div",{className:"flex items-center justify-between"},I.createElement("div",{className:"flex items-center space-x-3"},I.createElement("span",{className:"text-2xl"},""),I.createElement("div",null,I.createElement("div",{className:"text-gray-800"},I.createElement("strong",null,A.from)," pays ",I.createElement("strong",null,A.to)),I.createElement("div",{className:"text-sm text-gray-500"},"Settle up payment"))),I.createElement("div",{className:"text-right"},I.createElement("div",{className:"text-xl font-bold text-indigo-600"},l(A.amount)),I.createElement("div",{className:"flex space-x-2 mt-2"},I.createElement("button",{className:"px-3 py-1 bg-green-100 text-green-700 rounded text-sm hover:bg-green-200 transition duration-200"},"UPI"),I.createElement("button",{className:"px-3 py-1 bg-blue-100 text-blue-700 rounded text-sm hover:bg-blue-200 transition duration-200"},"Paytm"),I.createElement("button",{className:"px-3 py-1 bg-purple-100 text-purple-700 rounded text-sm hover:bg-purple-200 transition duration-200"},"GPay")))))))),I.createElement("div",{className:"bg-gray-50 rounded-lg p-4"},I.createElement("h4",{className:"font-medium text-gray-800 mb-3"},"Summary"),I.createElement("div",{className:"grid grid-cols-3 gap-4 text-center"},I.createElement("div",null,I.createElement("div",{className:"text-2xl font-bold text-gray-800"},n.length),I.createElement("div",{className:"text-sm text-gray-600"},"Total Expenses")),I.createElement("div",null,I.createElement("div",{className:"text-2xl font-bold text-green-600"},l(n.reduce((A,f)=>A+f.amount,0))),I.createElement("div",{className:"text-sm text-gray-600"},"Total Spent")),I.createElement("div",null,I.createElement("div",{className:"text-2xl font-bold text-blue-600"},l(n.reduce((A,f)=>A+f.amount,0)/e.members.length)),I.createElement("div",{className:"text-sm text-gray-600"},"Per Person")))),u.length===0&&n.length>0&&I.createElement("div",{className:"text-center py-6"},I.createElement("div",{className:"text-6xl mb-4"},""),I.createElement("h3",{className:"text-xl font-semibold text-gray-800 mb-2"},"All Settled Up!"),I.createElement("p",{className:"text-gray-600"},"Everyone's balances are even. No settlements needed.")))}function EVe({group:t}){var f,h,p;const[e,n]=Y.useState(!1),[r,i]=Y.useState(!1),[s,a]=Y.useState(t.budget||""),o=()=>{navigator.clipboard.writeText(t.inviteCode),alert("Invite code copied to clipboard! ")},l=()=>{if(navigator.share)navigator.share({title:`Join ${t.name} on GoSplit`,text:`I've created a travel group "${t.name}" on GoSplit. Join using invite code: ${t.inviteCode}`,url:window.location.href});else{const y=`Join "${t.name}" on GoSplit!

Invite Code: ${t.inviteCode}

Link: ${window.location.href}`;navigator.clipboard.writeText(y),alert("Share text copied to clipboard! ")}},c=async()=>{try{const y=parseFloat(s)||null;await pM(Vv(Tu,"groups",t.id),{budget:y}),i(!1),alert("Budget updated successfully! ")}catch(y){console.error("Error updating budget:",y),alert("Error updating budget. Please try again.")}},u=y=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR"}).format(y),A=y=>y?new Intl.DateTimeFormat("en-IN",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"}).format(y.toDate?y.toDate():new Date(y)):"Unknown";return I.createElement("div",{className:"space-y-6"},I.createElement("div",{className:"bg-white border border-gray-200 rounded-lg p-6"},I.createElement("div",{className:"flex items-center space-x-4 mb-6"},I.createElement("span",{className:"text-4xl"},t.emoji),I.createElement("div",null,I.createElement("h2",{className:"text-2xl font-bold text-gray-800"},t.name),I.createElement("p",{className:"text-gray-600"},"Created ",A(t.createdAt)))),I.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4"},I.createElement("div",{className:"bg-gray-50 rounded-lg p-4 text-center"},I.createElement("div",{className:"text-2xl font-bold text-indigo-600"},t.members.length),I.createElement("div",{className:"text-sm text-gray-600"},"Members")),I.createElement("div",{className:"bg-gray-50 rounded-lg p-4 text-center"},I.createElement("div",{className:"text-2xl font-bold text-green-600"},t.totalExpenses||0),I.createElement("div",{className:"text-sm text-gray-600"},"Expenses")),I.createElement("div",{className:"bg-gray-50 rounded-lg p-4 text-center"},I.createElement("div",{className:"text-2xl font-bold text-blue-600"},u(t.totalAmount||0)),I.createElement("div",{className:"text-sm text-gray-600"},"Total Spent")))),I.createElement("div",{className:"bg-white border border-gray-200 rounded-lg p-6"},I.createElement("div",{className:"flex items-center justify-between mb-4"},I.createElement("h3",{className:"text-lg font-semibold text-gray-800"},"Budget Management"),I.createElement("button",{onClick:()=>i(!r),className:"text-indigo-600 hover:text-indigo-800 font-medium"},r?"Cancel":t.budget?"Edit":"Set Budget")),r?I.createElement("div",{className:"space-y-4"},I.createElement("div",null,I.createElement("label",{className:"block text-sm font-medium text-gray-700 mb-2"},"Budget Amount ()"),I.createElement("input",{type:"number",value:s,onChange:y=>a(y.target.value),placeholder:"Enter budget amount",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-transparent"})),I.createElement("div",{className:"flex space-x-3"},I.createElement("button",{onClick:c,className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg transition duration-200"},"Save Budget"),I.createElement("button",{onClick:()=>i(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-700 px-4 py-2 rounded-lg transition duration-200"},"Cancel"))):I.createElement("div",null,t.budget?I.createElement("div",null,I.createElement("div",{className:"flex items-center justify-between mb-3"},I.createElement("span",{className:"text-gray-700"},"Budget:"),I.createElement("span",{className:"text-xl font-bold text-gray-800"},u(t.budget))),I.createElement("div",{className:"w-full bg-gray-200 rounded-full h-4"},I.createElement("div",{className:`h-4 rounded-full transition-all duration-300 ${(t.totalAmount||0)/t.budget>.9?"bg-red-500":(t.totalAmount||0)/t.budget>.7?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min((t.totalAmount||0)/t.budget*100,100)}%`}})),I.createElement("div",{className:"flex justify-between text-sm text-gray-600 mt-2"},I.createElement("span",null,"Spent: ",u(t.totalAmount||0)),I.createElement("span",null,"Remaining: ",u(Math.max(t.budget-(t.totalAmount||0),0)))),I.createElement("div",{className:"text-center text-sm text-gray-500 mt-1"},((t.totalAmount||0)/t.budget*100).toFixed(1),"% used")):I.createElement("div",{className:"text-center py-4"},I.createElement("div",{className:"text-4xl mb-2"},""),I.createElement("p",{className:"text-gray-600"},"No budget set for this group"),I.createElement("p",{className:"text-sm text-gray-500"},"Set a budget to track your spending")))),I.createElement("div",{className:"bg-white border border-gray-200 rounded-lg p-6"},I.createElement("h3",{className:"text-lg font-semibold text-gray-800 mb-4"},"Group Members"),I.createElement("div",{className:"space-y-3"},t.members.map((y,v)=>I.createElement("div",{key:v,className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg"},I.createElement("div",{className:"flex items-center space-x-3"},I.createElement("div",{className:"w-10 h-10 bg-indigo-500 rounded-full flex items-center justify-center text-white font-bold"},y.charAt(0).toUpperCase()),I.createElement("div",null,I.createElement("div",{className:"font-medium text-gray-800"},y),I.createElement("div",{className:"text-sm text-gray-500"},t.memberEmails[v]||"Member",t.createdByEmail===t.memberEmails[v]&&I.createElement("span",{className:"ml-2 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs rounded-full"},"Creator")))))))),I.createElement("div",{className:"bg-white border border-gray-200 rounded-lg p-6"},I.createElement("h3",{className:"text-lg font-semibold text-gray-800 mb-4"},"Invite More Members"),I.createElement("div",{className:"space-y-4"},I.createElement("div",{className:"bg-gray-50 rounded-lg p-4"},I.createElement("div",{className:"flex items-center justify-between mb-2"},I.createElement("span",{className:"font-medium text-gray-700"},"Invite Code:"),I.createElement("button",{onClick:()=>n(!e),className:"text-indigo-600 hover:text-indigo-800 text-sm"},e?"Hide":"Show")),e&&I.createElement("div",{className:"flex items-center space-x-3"},I.createElement("code",{className:"flex-1 bg-white p-3 rounded border font-mono text-lg tracking-widest text-center"},t.inviteCode),I.createElement("button",{onClick:o,className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-3 rounded transition duration-200"}," Copy"))),I.createElement("div",{className:"flex space-x-3"},I.createElement("button",{onClick:l,className:"flex-1 bg-green-500 hover:bg-green-600 text-white px-4 py-3 rounded-lg transition duration-200 flex items-center justify-center space-x-2"},I.createElement("span",null,""),I.createElement("span",null,"Share Group")),I.createElement("button",{onClick:o,className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white px-4 py-3 rounded-lg transition duration-200 flex items-center justify-center space-x-2"},I.createElement("span",null,""),I.createElement("span",null,"Copy Code")))),I.createElement("div",{className:"mt-4 p-4 bg-blue-50 rounded-lg"},I.createElement("p",{className:"text-sm text-blue-800"},I.createElement("strong",null,"How to invite:"),I.createElement("br",null),'Share the invite code or group link with friends. They can join by entering the code in the "Join Group" section.'))),I.createElement("div",{className:"bg-white border border-gray-200 rounded-lg p-6"},I.createElement("h3",{className:"text-lg font-semibold text-gray-800 mb-4"},"Group Statistics"),I.createElement("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4"},I.createElement("div",{className:"text-center"},I.createElement("div",{className:"text-2xl font-bold text-purple-600"},u((t.totalAmount||0)/t.members.length)),I.createElement("div",{className:"text-sm text-gray-600"},"Per Person")),I.createElement("div",{className:"text-center"},I.createElement("div",{className:"text-2xl font-bold text-orange-600"},u((t.totalAmount||0)/Math.max(t.totalExpenses||1,1))),I.createElement("div",{className:"text-sm text-gray-600"},"Avg Expense")),I.createElement("div",{className:"text-center"},I.createElement("div",{className:"text-2xl font-bold text-teal-600"},Math.ceil((Date.now()-(((p=(h=(f=t.createdAt)==null?void 0:f.toDate)==null?void 0:h.call(f))==null?void 0:p.getTime())||Date.now()))/(1e3*60*60*24))),I.createElement("div",{className:"text-sm text-gray-600"},"Days Active")),I.createElement("div",{className:"text-center"},I.createElement("div",{className:"text-2xl font-bold text-pink-600"},t.budget?`${((t.totalAmount||0)/t.budget*100).toFixed(0)}%`:""),I.createElement("div",{className:"text-sm text-gray-600"},"Budget Used")))))}function SVe(){const{groupId:t}=Nle(),e=Gm(),[n]=xx(bm),[r,i]=Y.useState(null),[s,a]=Y.useState(!0),[o,l]=Y.useState(!1),[c,u]=Y.useState("expenses");Y.useEffect(()=>{if(!t)return;const p=mM(Vv(Tu,"groups",t),y=>{y.exists()?i({id:y.id,...y.data()}):e("/gosplit"),a(!1)});return()=>p()},[t,e]);const A=async()=>{if(!r||!n)return;const p=prompt("Enter email address to invite:");if(!p||!p.includes("@")){alert("Please enter a valid email address");return}if(r.memberEmails.includes(p)){alert("This person is already a member of the group");return}try{await pM(Vv(Tu,"groups",t),{memberEmails:PC(p),members:PC(p)}),alert(`Invitation sent to ${p}! They can also join using invite code: ${r.inviteCode}`)}catch(y){console.error("Error inviting member:",y),alert("Error sending invitation. Please try again.")}},f=()=>{navigator.clipboard.writeText(r.inviteCode),alert("Invite code copied to clipboard!")};return s?I.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center"},I.createElement("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-500"})):r?n&&r.memberEmails.includes(n.email)?I.createElement(Cse,null,I.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-4"},I.createElement("div",{className:"max-w-6xl mx-auto"},I.createElement("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6"},I.createElement("div",{className:"flex items-center justify-between mb-4"},I.createElement("div",{className:"flex items-center space-x-4"},I.createElement("button",{onClick:()=>e("/gosplit"),className:"text-gray-500 hover:text-gray-700 text-2xl"},""),I.createElement("div",{className:"flex items-center space-x-3"},I.createElement("span",{className:"text-3xl"},r.emoji),I.createElement("div",null,I.createElement("h1",{className:"text-2xl font-bold text-gray-800"},r.name),I.createElement("p",{className:"text-gray-600"},r.members.length," members")))),I.createElement("div",{className:"flex space-x-3"},I.createElement("button",{onClick:f,className:"bg-gray-100 hover:bg-gray-200 text-gray-700 px-4 py-2 rounded-lg transition duration-200 flex items-center space-x-2"},I.createElement("span",null,""),I.createElement("span",null,"Copy Code")),I.createElement("button",{onClick:A,className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition duration-200 flex items-center space-x-2"},I.createElement("span",null,""),I.createElement("span",null,"Invite")),I.createElement("button",{onClick:()=>l(!0),className:"bg-indigo-500 hover:bg-indigo-600 text-white px-4 py-2 rounded-lg transition duration-200 flex items-center space-x-2"},I.createElement("span",null,""),I.createElement("span",null,"Add Expense")))),r.budget&&I.createElement("div",{className:"bg-gray-50 rounded-lg p-4"},I.createElement("div",{className:"flex justify-between items-center mb-2"},I.createElement("span",{className:"text-sm font-medium text-gray-700"},"Budget Usage"),I.createElement("span",{className:"text-sm text-gray-600"},"",r.totalAmount||0," / ",r.budget)),I.createElement("div",{className:"w-full bg-gray-200 rounded-full h-3"},I.createElement("div",{className:`h-3 rounded-full transition-all duration-300 ${(r.totalAmount||0)/r.budget>.9?"bg-red-500":(r.totalAmount||0)/r.budget>.7?"bg-yellow-500":"bg-green-500"}`,style:{width:`${Math.min((r.totalAmount||0)/r.budget*100,100)}%`}})),I.createElement("div",{className:"text-xs text-gray-500 mt-1"},((r.totalAmount||0)/r.budget*100).toFixed(1),"% used"))),I.createElement("div",{className:"bg-white rounded-xl shadow-lg mb-6"},I.createElement("div",{className:"flex border-b"},[{key:"expenses",label:"Expenses",icon:""},{key:"balances",label:"Balances",icon:""},{key:"info",label:"Group Info",icon:""}].map(p=>I.createElement("button",{key:p.key,onClick:()=>u(p.key),className:`flex-1 py-4 px-6 text-center transition duration-200 ${c===p.key?"bg-indigo-50 text-indigo-600 border-b-2 border-indigo-500":"text-gray-600 hover:text-gray-800 hover:bg-gray-50"}`},I.createElement("span",{className:"mr-2"},p.icon),p.label))),I.createElement("div",{className:"p-6"},c==="expenses"&&I.createElement(xVe,{groupId:t}),c==="balances"&&I.createElement(bVe,{groupId:t,group:r}),c==="info"&&I.createElement(EVe,{group:r}))),o&&I.createElement(_Ve,{isOpen:o,onClose:()=>l(!1),groupId:t,members:r.members})))):I.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center"},I.createElement("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center"},I.createElement("h2",{className:"text-2xl font-bold text-gray-800 mb-4"},"Access Denied"),I.createElement("p",{className:"text-gray-600 mb-4"},"You are not a member of this group."),I.createElement("button",{onClick:()=>e("/gosplit"),className:"bg-indigo-500 hover:bg-indigo-600 text-white px-6 py-2 rounded-lg"},"Back to Groups"))):I.createElement("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center"},I.createElement("div",{className:"bg-white p-8 rounded-xl shadow-lg text-center"},I.createElement("h2",{className:"text-2xl font-bold text-gray-800 mb-4"},"Group Not Found"),I.createElement("p",{className:"text-gray-600 mb-4"},"The group you're looking for doesn't exist."),I.createElement("button",{onClick:()=>e("/gosplit"),className:"bg-indigo-500 hover:bg-indigo-600 text-white px-6 py-2 rounded-lg"},"Back to Groups")))}_P.createRoot(document.getElementById("root")).render(I.createElement(I.StrictMode,null,I.createElement(The,null,I.createElement(Yle,null,I.createElement(qle,null,I.createElement(Eh,{path:"/",element:I.createElement(c_e,null)}),I.createElement(Eh,{path:"/explore",element:I.createElement(f_e,null)}),I.createElement(Eh,{path:"/things-to-carry",element:I.createElement(VSe,null)}),I.createElement(Eh,{path:"/budget-calculator",element:I.createElement(PUe,null)}),I.createElement(Eh,{path:"/itinerary-planner",element:I.createElement(QUe,null)}),I.createElement(Eh,{path:"/gosplit",element:I.createElement(wVe,null)}),I.createElement(Eh,{path:"/gosplit/group/:groupId",element:I.createElement(SVe,null)}))))));export{Nr as _,BVe as c,Of as g};
